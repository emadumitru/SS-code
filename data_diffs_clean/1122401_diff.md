===
move-tree
---
ImportDeclaration [97725,97752]
    QualifiedName: java.io.IOException [97732,97751]
to
CompilationUnit [0,393262]
at 68
===
move-tree
---
ImportDeclaration [97979,98033]
    QualifiedName: org.apache.cassandra.config.DatabaseDescriptor [97986,98032]
to
CompilationUnit [0,393262]
at 73
===
move-tree
---
ImportDeclaration [91726,91753]
    QualifiedName: java.io.IOException [91733,91752]
to
CompilationUnit [0,393262]
at 80
===
move-tree
---
ImportDeclaration [91863,91917]
    QualifiedName: org.apache.cassandra.config.DatabaseDescriptor [91870,91916]
to
CompilationUnit [0,393262]
at 86
===
move-tree
---
ImportDeclaration [107561,107603]
    QualifiedName: org.apache.cassandra.config.Schema [107568,107602]
to
CompilationUnit [0,393262]
at 87
===
move-tree
---
ImportDeclaration [107872,107923]
    QualifiedName: org.apache.cassandra.service.StorageService [107879,107922]
to
CompilationUnit [0,393262]
at 97
===
move-tree
---
ImportDeclaration [98035,98077]
    QualifiedName: org.apache.cassandra.config.Schema [98042,98076]
to
CompilationUnit [0,393262]
at 103
===
move-tree
---
ImportDeclaration [98164,98226]
    QualifiedName: org.apache.cassandra.exceptions.ConfigurationException [98171,98225]
to
CompilationUnit [0,393262]
at 107
===
move-tree
---
ImportDeclaration [98503,98554]
    QualifiedName: org.apache.cassandra.service.StorageService [98510,98553]
to
CompilationUnit [0,393262]
at 107
===
move-tree
---
ImportDeclaration [128621,128670]
    QualifiedName: org.apache.cassandra.utils.ByteBufferUtil [128628,128669]
to
CompilationUnit [0,393262]
at 108
===
move-tree
---
ImportDeclaration [119690,119736]
    QualifiedName: org.apache.cassandra.utils.ObjectSizes [119697,119735]
to
CompilationUnit [0,393262]
at 113
===
move-tree
---
ImportDeclaration [119112,119140]
    QualifiedName: java.math.BigInteger [119119,119139]
to
CompilationUnit [0,393262]
at 117
===
move-tree
---
ImportDeclaration [128385,128412]
    QualifiedName: java.nio.ByteBuffer [128392,128411]
to
CompilationUnit [0,393262]
at 118
===
move-tree
---
ImportDeclaration [108202,108230]
    QualifiedName: java.math.BigInteger [108209,108229]
to
CompilationUnit [0,393262]
at 127
===
move-tree
---
ImportDeclaration [108232,108259]
    QualifiedName: java.nio.ByteBuffer [108239,108258]
to
CompilationUnit [0,393262]
at 127
===
move-tree
---
ImportDeclaration [107808,107870]
    QualifiedName: org.apache.cassandra.exceptions.ConfigurationException [107815,107869]
to
CompilationUnit [0,393262]
at 137
===
move-tree
---
ImportDeclaration [107925,107974]
    QualifiedName: org.apache.cassandra.utils.ByteBufferUtil [107932,107973]
to
CompilationUnit [0,393262]
at 137
===
move-tree
---
ImportDeclaration [108064,108110]
    QualifiedName: org.apache.cassandra.utils.ObjectSizes [108071,108109]
to
CompilationUnit [0,393262]
at 140
===
move-tree
---
ImportDeclaration [119142,119169]
    QualifiedName: java.nio.ByteBuffer [119149,119168]
to
CompilationUnit [0,393262]
at 144
===
move-tree
---
ImportDeclaration [119528,119590]
    QualifiedName: org.apache.cassandra.exceptions.ConfigurationException [119535,119589]
to
CompilationUnit [0,393262]
at 146
===
move-tree
---
ImportDeclaration [119592,119641]
    QualifiedName: org.apache.cassandra.utils.ByteBufferUtil [119599,119640]
to
CompilationUnit [0,393262]
at 148
===
move-tree
---
ImportDeclaration [119198,119224]
    QualifiedName: java.util.Iterator [119205,119223]
to
CompilationUnit [0,393262]
at 148
===
move-tree
---
ImportDeclaration [119226,119248]
    QualifiedName: java.util.List [119233,119247]
to
CompilationUnit [0,393262]
at 148
===
move-tree
---
ImportDeclaration [119250,119271]
    QualifiedName: java.util.Map [119257,119270]
to
CompilationUnit [0,393262]
at 148
===
move-tree
---
ImportDeclaration [128504,128566]
    QualifiedName: org.apache.cassandra.exceptions.ConfigurationException [128511,128565]
to
CompilationUnit [0,393262]
at 148
===
move-tree
---
ImportDeclaration [136023,136061]
    QualifiedName: org.apache.cassandra.dht.Token [136030,136060]
to
CompilationUnit [0,393262]
at 149
===
move-tree
---
ImportDeclaration [385819,385867]
    QualifiedName: org.apache.cassandra.db.ColumnSerializer [385826,385866]
to
CompilationUnit [0,393262]
at 348
===
move-tree
---
ImportDeclaration [385869,385909]
    QualifiedName: org.apache.cassandra.db.Mutation [385876,385908]
to
CompilationUnit [0,393262]
at 349
===
move-tree
---
ImportDeclaration [385911,385972]
    QualifiedName: org.apache.cassandra.io.util.FastByteArrayInputStream [385918,385971]
to
CompilationUnit [0,393262]
at 350
===
move-tree
---
ImportDeclaration [365599,365629]
    QualifiedName: junit.framework.Assert [365606,365628]
to
CompilationUnit [0,393262]
at 350
===
move-tree
---
ImportDeclaration [365747,365769]
    QualifiedName: org.junit.Test [365754,365768]
to
CompilationUnit [0,393262]
at 350
===
move-tree
---
ImportDeclaration [385660,385687]
    QualifiedName: java.io.IOException [385667,385686]
to
CompilationUnit [0,393262]
at 355
===
move-tree
---
ImportDeclaration [381252,381279]
    QualifiedName: java.io.IOException [381259,381278]
to
CompilationUnit [0,393262]
at 360
===
move-tree
---
ImportDeclaration [366147,366195]
    QualifiedName: org.apache.cassandra.db.ColumnSerializer [366154,366194]
to
CompilationUnit [0,393262]
at 363
===
move-tree
---
ImportDeclaration [366197,366237]
    QualifiedName: org.apache.cassandra.db.Mutation [366204,366236]
to
CompilationUnit [0,393262]
at 363
===
move-tree
---
ImportDeclaration [366239,366300]
    QualifiedName: org.apache.cassandra.io.util.FastByteArrayInputStream [366246,366299]
to
CompilationUnit [0,393262]
at 363
===
move-tree
---
ImportDeclaration [388659,388680]
    QualifiedName: java.util.Set [388666,388679]
to
CompilationUnit [0,393262]
at 369
===
insert-tree
---
ImportDeclaration [98517,98580]
    QualifiedName: org.apache.cassandra.dht.tokenallocator.TokenAllocation [98524,98579]
to
CompilationUnit [0,393262]
at 90
===
insert-tree
---
ImportDeclaration [98582,98644]
    QualifiedName: org.apache.cassandra.exceptions.ConfigurationException [98589,98643]
to
CompilationUnit [0,393262]
at 91
===
insert-tree
---
ImportDeclaration [122032,122051]
    QualifiedName: java.util [122039,122048]
to
CompilationUnit [0,393262]
at 127
===
insert-tree
---
ImportDeclaration [139385,139404]
    QualifiedName: java.util [139392,139401]
to
CompilationUnit [0,393262]
at 148
===
insert-tree
---
ImportDeclaration [139408,139454]
    QualifiedName: com.google.common.collect.HashMultimap [139415,139453]
to
CompilationUnit [0,393262]
at 149
===
insert-tree
---
ImportDeclaration [139456,139503]
    QualifiedName: com.google.common.collect.ImmutableList [139463,139502]
to
CompilationUnit [0,393262]
at 150
===
insert-tree
---
ImportDeclaration [139505,139543]
    QualifiedName: com.google.common.collect.Maps [139512,139542]
to
CompilationUnit [0,393262]
at 151
===
insert-tree
---
ImportDeclaration [139545,139587]
    QualifiedName: com.google.common.collect.Multimap [139552,139586]
to
CompilationUnit [0,393262]
at 152
===
insert-tree
---
ImportDeclaration [139591,139636]
    QualifiedName: org.apache.cassandra.dht.IPartitioner [139598,139635]
to
CompilationUnit [0,393262]
at 153
===
insert-tree
---
ImportDeclaration [139638,139676]
    QualifiedName: org.apache.cassandra.dht.Token [139645,139675]
to
CompilationUnit [0,393262]
at 154
===
insert-tree
---
ImportDeclaration [170888,170916]
    QualifiedName: java.net.InetAddress [170895,170915]
to
CompilationUnit [0,393262]
at 155
===
insert-tree
---
ImportDeclaration [170918,170946]
    QualifiedName: java.util.Collection [170925,170945]
to
CompilationUnit [0,393262]
at 156
===
insert-tree
---
ImportDeclaration [171023,171053]
    QualifiedName: java.util.NavigableMap [171030,171052]
to
CompilationUnit [0,393262]
at 160
===
insert-tree
---
ImportDeclaration [171055,171080]
    QualifiedName: java.util.TreeMap [171062,171079]
to
CompilationUnit [0,393262]
at 161
===
insert-tree
---
ImportDeclaration [171084,171123]
    QualifiedName: com.google.common.collect.Lists [171091,171122]
to
CompilationUnit [0,393262]
at 162
===
insert-tree
---
ImportDeclaration [171125,171163]
    QualifiedName: com.google.common.collect.Maps [171132,171162]
to
CompilationUnit [0,393262]
at 163
===
insert-tree
---
ImportDeclaration [171167,171233]
    QualifiedName: org.apache.commons.math.stat.descriptive.SummaryStatistics [171174,171232]
to
CompilationUnit [0,393262]
at 164
===
insert-tree
---
ImportDeclaration [171237,171261]
    QualifiedName: org.slf4j.Logger [171244,171260]
to
CompilationUnit [0,393262]
at 165
===
insert-tree
---
ImportDeclaration [171263,171294]
    QualifiedName: org.slf4j.LoggerFactory [171270,171293]
to
CompilationUnit [0,393262]
at 166
===
insert-tree
---
ImportDeclaration [171298,171343]
    QualifiedName: org.apache.cassandra.dht.IPartitioner [171305,171342]
to
CompilationUnit [0,393262]
at 167
===
insert-tree
---
ImportDeclaration [171345,171383]
    QualifiedName: org.apache.cassandra.dht.Token [171352,171382]
to
CompilationUnit [0,393262]
at 168
===
insert-tree
---
ImportDeclaration [171449,171513]
    QualifiedName: org.apache.cassandra.locator.AbstractReplicationStrategy [171456,171512]
to
CompilationUnit [0,393262]
at 170
===
insert-tree
---
ImportDeclaration [171515,171567]
    QualifiedName: org.apache.cassandra.locator.IEndpointSnitch [171522,171566]
to
CompilationUnit [0,393262]
at 171
===
insert-tree
---
ImportDeclaration [171569,171629]
    QualifiedName: org.apache.cassandra.locator.NetworkTopologyStrategy [171576,171628]
to
CompilationUnit [0,393262]
at 172
===
insert-tree
---
ImportDeclaration [171631,171682]
    QualifiedName: org.apache.cassandra.locator.SimpleStrategy [171638,171681]
to
CompilationUnit [0,393262]
at 173
===
insert-tree
---
ImportDeclaration [171684,171734]
    QualifiedName: org.apache.cassandra.locator.TokenMetadata [171691,171733]
to
CompilationUnit [0,393262]
at 174
===
insert-tree
---
ImportDeclaration [171736,171795]
    QualifiedName: org.apache.cassandra.locator.TokenMetadata.Topology [171743,171794]
to
CompilationUnit [0,393262]
at 175
===
insert-tree
---
ImportDeclaration [181954,181982]
    QualifiedName: java.util.Collection [181961,181981]
to
CompilationUnit [0,393262]
at 176
===
insert-tree
---
ImportDeclaration [183647,183685]
    QualifiedName: org.apache.cassandra.dht.Token [183654,183684]
to
CompilationUnit [0,393262]
at 192
===
insert-tree
---
ImportDeclaration [413365,413395]
    QualifiedName: junit.framework.Assert [413372,413394]
to
CompilationUnit [0,393262]
at 364
===
insert-tree
---
ImportDeclaration [413513,413535]
    QualifiedName: org.junit.Test [413520,413534]
to
CompilationUnit [0,393262]
at 368
===
insert-tree
---
ImportDeclaration [429835,429854]
    QualifiedName: java.util [429842,429851]
to
CompilationUnit [0,393262]
at 380
===
insert-tree
---
ImportDeclaration [429892,429935]
    QualifiedName: com.google.common.collect.Iterables [429899,429934]
to
CompilationUnit [0,393262]
at 382
===
insert-tree
---
ImportDeclaration [429937,429975]
    QualifiedName: com.google.common.collect.Maps [429944,429974]
to
CompilationUnit [0,393262]
at 383
===
insert-tree
---
ImportDeclaration [429977,430015]
    QualifiedName: com.google.common.collect.Sets [429984,430014]
to
CompilationUnit [0,393262]
at 384
===
insert-tree
---
ImportDeclaration [430019,430085]
    QualifiedName: org.apache.commons.math.stat.descriptive.SummaryStatistics [430026,430084]
to
CompilationUnit [0,393262]
at 385
===
insert-tree
---
ImportDeclaration [430115,430166]
    QualifiedName: org.apache.cassandra.dht.Murmur3Partitioner [430122,430165]
to
CompilationUnit [0,393262]
at 387
===
insert-tree
---
ImportDeclaration [430168,430206]
    QualifiedName: org.apache.cassandra.dht.Token [430175,430205]
to
CompilationUnit [0,393262]
at 388
===
insert-tree
---
ImportDeclaration [461099,461143]
    QualifiedName: org.junit.Assert.assertEquals [461113,461142]
to
CompilationUnit [0,393262]
at 402
===
insert-tree
---
ImportDeclaration [461145,461181]
    QualifiedName: org.junit.Assert.fail [461159,461180]
to
CompilationUnit [0,393262]
at 403
===
insert-tree
---
ImportDeclaration [461311,461333]
    QualifiedName: java.util.List [461318,461332]
to
CompilationUnit [0,393262]
at 408
===
insert-tree
---
ImportDeclaration [461383,461422]
    QualifiedName: com.google.common.collect.Lists [461390,461421]
to
CompilationUnit [0,393262]
at 411
===
insert-tree
---
ImportDeclaration [461426,461492]
    QualifiedName: org.apache.commons.math.stat.descriptive.SummaryStatistics [461433,461491]
to
CompilationUnit [0,393262]
at 412
===
insert-tree
---
ImportDeclaration [461496,461524]
    QualifiedName: org.junit.AfterClass [461503,461523]
to
CompilationUnit [0,393262]
at 413
===
insert-tree
---
ImportDeclaration [461857,461920]
    QualifiedName: org.apache.cassandra.dht.tokenallocator.TokenAllocation [461864,461919]
to
CompilationUnit [0,393262]
at 422
===
insert-tree
---
ImportDeclaration [462207,462253]
    QualifiedName: org.apache.cassandra.utils.FBUtilities [462214,462252]
to
CompilationUnit [0,393262]
at 428
===
insert-tree
---
TypeDeclaration [139680,168717]
    Javadoc [139680,140264]
        TagElement [139688,140259]
            TextElement: A Replication Aware allocator for tokens, that attempts to ensure an even distribution of ownership across [139688,139794]
            TextElement: the known cluster for the provided replication strategy. [139799,139855]
            TextElement: A unit is shorthand for a "unit of ownership" which translates roughly to a node, or a disk on the node, [139864,139968]
            TextElement: a CPU on the node, or some other relevant unit of ownership. These units should be the lowest rung over which [139973,140082]
            TextElement: ownership needs to be evenly distributed. At the moment only nodes as a whole are treated as units, but that [140087,140195]
            TextElement: will change with the introduction of token ranges per disk. [140200,140259]
    TYPE_DECLARATION_KIND: class [140266,140271]
    SimpleName: ReplicationAwareTokenAllocator [140272,140302]
    TypeParameter [140303,140307]
        SimpleName: Unit [140303,140307]
    ParameterizedType [140320,140340]
        SimpleType [140320,140334]
            SimpleName: TokenAllocator [140320,140334]
        SimpleType [140335,140339]
            SimpleName: Unit [140335,140339]
    FieldDeclaration [140349,140394]
        Modifier: final [140349,140354]
        ParameterizedType [140355,140380]
            SimpleType [140355,140367]
                SimpleName: NavigableMap [140355,140367]
            SimpleType [140368,140373]
                SimpleName: Token [140368,140373]
            SimpleType [140375,140379]
                SimpleName: Unit [140375,140379]
        VariableDeclarationFragment [140381,140393]
            SimpleName: sortedTokens [140381,140393]
    FieldDeclaration [140400,140441]
        Modifier: final [140400,140405]
        ParameterizedType [140406,140427]
            SimpleType [140406,140414]
                SimpleName: Multimap [140406,140414]
            SimpleType [140415,140419]
                SimpleName: Unit [140415,140419]
            SimpleType [140421,140426]
                SimpleName: Token [140421,140426]
        VariableDeclarationFragment [140428,140440]
            SimpleName: unitToTokens [140428,140440]
    FieldDeclaration [140447,140488]
        Modifier: final [140447,140452]
        ParameterizedType [140453,140478]
            SimpleType [140453,140472]
                SimpleName: ReplicationStrategy [140453,140472]
            SimpleType [140473,140477]
                SimpleName: Unit [140473,140477]
        VariableDeclarationFragment [140479,140487]
            SimpleName: strategy [140479,140487]
    FieldDeclaration [140494,140525]
        Modifier: final [140494,140499]
        SimpleType [140500,140512]
            SimpleName: IPartitioner [140500,140512]
        VariableDeclarationFragment [140513,140524]
            SimpleName: partitioner [140513,140524]
    FieldDeclaration [140531,140550]
        Modifier: final [140531,140536]
        PrimitiveType: int [140537,140540]
        VariableDeclarationFragment [140541,140549]
            SimpleName: replicas [140541,140549]
    MethodDeclaration [140558,141042]
        SimpleName: ReplicationAwareTokenAllocator [140558,140588]
        SingleVariableDeclaration [140589,140627]
            ParameterizedType [140589,140614]
                SimpleType [140589,140601]
                    SimpleName: NavigableMap [140589,140601]
                SimpleType [140602,140607]
                    SimpleName: Token [140602,140607]
                SimpleType [140609,140613]
                    SimpleName: Unit [140609,140613]
            SimpleName: sortedTokens [140615,140627]
        SingleVariableDeclaration [140629,140663]
            ParameterizedType [140629,140654]
                SimpleType [140629,140648]
                    SimpleName: ReplicationStrategy [140629,140648]
                SimpleType [140649,140653]
                    SimpleName: Unit [140649,140653]
            SimpleName: strategy [140655,140663]
        SingleVariableDeclaration [140665,140689]
            SimpleType [140665,140677]
                SimpleName: IPartitioner [140665,140677]
            SimpleName: partitioner [140678,140689]
        Block [140696,141042]
            ExpressionStatement [140707,140740]
                Assignment [140707,140739]
                    FieldAccess [140707,140724]
                        ThisExpression [140707,140711]
                        SimpleName: sortedTokens [140712,140724]
                    ASSIGNMENT_OPERATOR: = [140725,140726]
                    SimpleName: sortedTokens [140727,140739]
            ExpressionStatement [140750,140787]
                Assignment [140750,140786]
                    SimpleName: unitToTokens [140750,140762]
                    ASSIGNMENT_OPERATOR: = [140763,140764]
                    MethodInvocation [140765,140786]
                        METHOD_INVOCATION_RECEIVER [140765,140777]
                            SimpleName: HashMultimap [140765,140777]
                        SimpleName: create [140778,140784]
            EnhancedForStatement [140797,140913]
                SingleVariableDeclaration [140802,140827]
                    ParameterizedType [140802,140824]
                        SimpleType [140802,140811]
                            QualifiedName: Map.Entry [140802,140811]
                        SimpleType [140812,140817]
                            SimpleName: Token [140812,140817]
                        SimpleType [140819,140823]
                            SimpleName: Unit [140819,140823]
                    SimpleName: en [140825,140827]
                MethodInvocation [140830,140853]
                    METHOD_INVOCATION_RECEIVER [140830,140842]
                        SimpleName: sortedTokens [140830,140842]
                    SimpleName: entrySet [140843,140851]
                ExpressionStatement [140868,140913]
                    MethodInvocation [140868,140912]
                        METHOD_INVOCATION_RECEIVER [140868,140880]
                            SimpleName: unitToTokens [140868,140880]
                        SimpleName: put [140881,140884]
                        METHOD_INVOCATION_ARGUMENTS [140885,140911]
                            MethodInvocation [140885,140898]
                                METHOD_INVOCATION_RECEIVER [140885,140887]
                                    SimpleName: en [140885,140887]
                                SimpleName: getValue [140888,140896]
                            MethodInvocation [140900,140911]
                                METHOD_INVOCATION_RECEIVER [140900,140902]
                                    SimpleName: en [140900,140902]
                                SimpleName: getKey [140903,140909]
            ExpressionStatement [140923,140948]
                Assignment [140923,140947]
                    FieldAccess [140923,140936]
                        ThisExpression [140923,140927]
                        SimpleName: strategy [140928,140936]
                    ASSIGNMENT_OPERATOR: = [140937,140938]
                    SimpleName: strategy [140939,140947]
            ExpressionStatement [140958,140994]
                Assignment [140958,140993]
                    FieldAccess [140958,140971]
                        ThisExpression [140958,140962]
                        SimpleName: replicas [140963,140971]
                    ASSIGNMENT_OPERATOR: = [140972,140973]
                    MethodInvocation [140974,140993]
                        METHOD_INVOCATION_RECEIVER [140974,140982]
                            SimpleName: strategy [140974,140982]
                        SimpleName: replicas [140983,140991]
            ExpressionStatement [141004,141035]
                Assignment [141004,141034]
                    FieldAccess [141004,141020]
                        ThisExpression [141004,141008]
                        SimpleName: partitioner [141009,141020]
                    ASSIGNMENT_OPERATOR: = [141021,141022]
                    SimpleName: partitioner [141023,141034]
    MethodDeclaration [141050,145099]
        Modifier: public [141050,141056]
        ParameterizedType [141057,141074]
            SimpleType [141057,141067]
                SimpleName: Collection [141057,141067]
            SimpleType [141068,141073]
                SimpleName: Token [141068,141073]
        SimpleName: addUnit [141075,141082]
        SingleVariableDeclaration [141083,141095]
            SimpleType [141083,141087]
                SimpleName: Unit [141083,141087]
            SimpleName: newUnit [141088,141095]
        SingleVariableDeclaration [141097,141110]
            PrimitiveType: int [141097,141100]
            SimpleName: numTokens [141101,141110]
        Block [141117,145099]
            AssertStatement [141128,141170]
                PrefixExpression [141135,141169]
                    PREFIX_EXPRESSION_OPERATOR: ! [141135,141136]
                    MethodInvocation [141136,141169]
                        METHOD_INVOCATION_RECEIVER [141136,141148]
                            SimpleName: unitToTokens [141136,141148]
                        SimpleName: containsKey [141149,141160]
                        METHOD_INVOCATION_ARGUMENTS [141161,141168]
                            SimpleName: newUnit [141161,141168]
            IfStatement [141182,141349]
                InfixExpression [141186,141208]
                    MethodInvocation [141186,141197]
                        SimpleName: unitCount [141186,141195]
                    INFIX_EXPRESSION_OPERATOR: < [141198,141199]
                    SimpleName: replicas [141200,141208]
                ReturnStatement [141301,141349]
                    MethodInvocation [141308,141348]
                        SimpleName: generateRandomTokens [141308,141328]
                        METHOD_INVOCATION_ARGUMENTS [141329,141347]
                            SimpleName: newUnit [141329,141336]
                            SimpleName: numTokens [141338,141347]
            IfStatement [141359,141604]
                InfixExpression [141363,141394]
                    SimpleName: numTokens [141363,141372]
                    INFIX_EXPRESSION_OPERATOR: > [141373,141374]
                    MethodInvocation [141375,141394]
                        METHOD_INVOCATION_RECEIVER [141375,141387]
                            SimpleName: sortedTokens [141375,141387]
                        SimpleName: size [141388,141392]
                ReturnStatement [141556,141604]
                    MethodInvocation [141563,141603]
                        SimpleName: generateRandomTokens [141563,141583]
                        METHOD_INVOCATION_ARGUMENTS [141584,141602]
                            SimpleName: newUnit [141584,141591]
                            SimpleName: numTokens [141593,141602]
            VariableDeclarationStatement [141697,141757]
                PrimitiveType: double [141697,141703]
                VariableDeclarationFragment [141704,141756]
                    SimpleName: optTokenOwnership [141704,141721]
                    MethodInvocation [141724,141756]
                        SimpleName: optimalTokenOwnership [141724,141745]
                        METHOD_INVOCATION_ARGUMENTS [141746,141755]
                            SimpleName: numTokens [141746,141755]
            VariableDeclarationStatement [141767,141817]
                ParameterizedType [141767,141789]
                    SimpleType [141767,141770]
                        SimpleName: Map [141767,141770]
                    SimpleType [141771,141777]
                        SimpleName: Object [141771,141777]
                    SimpleType [141779,141788]
                        SimpleName: GroupInfo [141779,141788]
                VariableDeclarationFragment [141790,141816]
                    SimpleName: groups [141790,141796]
                    MethodInvocation [141799,141816]
                        METHOD_INVOCATION_RECEIVER [141799,141803]
                            SimpleName: Maps [141799,141803]
                        SimpleName: newHashMap [141804,141814]
            VariableDeclarationStatement [141827,141889]
                ParameterizedType [141827,141852]
                    SimpleType [141827,141830]
                        SimpleName: Map [141827,141830]
                    SimpleType [141831,141835]
                        SimpleName: Unit [141831,141835]
                    ParameterizedType [141837,141851]
                        SimpleType [141837,141845]
                            SimpleName: UnitInfo [141837,141845]
                        SimpleType [141846,141850]
                            SimpleName: Unit [141846,141850]
                VariableDeclarationFragment [141853,141888]
                    SimpleName: unitInfos [141853,141862]
                    MethodInvocation [141865,141888]
                        SimpleName: createUnitInfos [141865,141880]
                        METHOD_INVOCATION_ARGUMENTS [141881,141887]
                            SimpleName: groups [141881,141887]
            IfStatement [141899,142389]
                InfixExpression [141903,141927]
                    MethodInvocation [141903,141916]
                        METHOD_INVOCATION_RECEIVER [141903,141909]
                            SimpleName: groups [141903,141909]
                        SimpleName: size [141910,141914]
                    INFIX_EXPRESSION_OPERATOR: < [141917,141918]
                    SimpleName: replicas [141919,141927]
                Block [141938,142389]
                    ReturnStatement [142330,142378]
                        MethodInvocation [142337,142377]
                            SimpleName: generateRandomTokens [142337,142357]
                            METHOD_INVOCATION_ARGUMENTS [142358,142376]
                                SimpleName: newUnit [142358,142365]
                                SimpleName: numTokens [142367,142376]
            VariableDeclarationStatement [142530,142632]
                ParameterizedType [142530,142544]
                    SimpleType [142530,142538]
                        SimpleName: UnitInfo [142530,142538]
                    SimpleType [142539,142543]
                        SimpleName: Unit [142539,142543]
                VariableDeclarationFragment [142545,142631]
                    SimpleName: newUnitInfo [142545,142556]
                    ClassInstanceCreation [142559,142631]
                        ParameterizedType [142563,142573]
                            SimpleType [142563,142571]
                                SimpleName: UnitInfo [142563,142571]
                        SimpleName: newUnit [142574,142581]
                        InfixExpression [142583,142612]
                            SimpleName: numTokens [142583,142592]
                            INFIX_EXPRESSION_OPERATOR: * [142593,142594]
                            SimpleName: optTokenOwnership [142595,142612]
                        SimpleName: groups [142614,142620]
                        SimpleName: strategy [142622,142630]
            VariableDeclarationStatement [142691,142763]
                ParameterizedType [142691,142706]
                    SimpleType [142691,142700]
                        SimpleName: TokenInfo [142691,142700]
                    SimpleType [142701,142705]
                        SimpleName: Unit [142701,142705]
                VariableDeclarationFragment [142707,142762]
                    SimpleName: tokens [142707,142713]
                    MethodInvocation [142716,142762]
                        SimpleName: createTokenInfos [142716,142732]
                        METHOD_INVOCATION_ARGUMENTS [142733,142761]
                            SimpleName: unitInfos [142733,142742]
                            QualifiedName: newUnitInfo.group [142744,142761]
            ExpressionStatement [142773,142808]
                Assignment [142773,142807]
                    QualifiedName: newUnitInfo.tokenCount [142773,142795]
                    ASSIGNMENT_OPERATOR: = [142796,142797]
                    SimpleName: numTokens [142798,142807]
            VariableDeclarationStatement [143052,143142]
                ParameterizedType [143052,143071]
                    SimpleType [143052,143065]
                        SimpleName: CandidateInfo [143052,143065]
                    SimpleType [143066,143070]
                        SimpleName: Unit [143066,143070]
                VariableDeclarationFragment [143072,143141]
                    SimpleName: candidates [143072,143082]
                    MethodInvocation [143085,143141]
                        SimpleName: createCandidates [143085,143101]
                        METHOD_INVOCATION_ARGUMENTS [143102,143140]
                            SimpleName: tokens [143102,143108]
                            SimpleName: newUnitInfo [143110,143121]
                            SimpleName: optTokenOwnership [143123,143140]
            VariableDeclarationStatement [143248,143349]
                ParameterizedType [143248,143292]
                    SimpleType [143248,143261]
                        SimpleName: PriorityQueue [143248,143261]
                    ParameterizedType [143262,143291]
                        SimpleType [143262,143270]
                            SimpleName: Weighted [143262,143270]
                        ParameterizedType [143271,143290]
                            SimpleType [143271,143284]
                                SimpleName: CandidateInfo [143271,143284]
                            SimpleType [143285,143289]
                                SimpleName: Unit [143285,143289]
                VariableDeclarationFragment [143293,143348]
                    SimpleName: improvements [143293,143305]
                    ClassInstanceCreation [143308,143348]
                        ParameterizedType [143312,143327]
                            SimpleType [143312,143325]
                                SimpleName: PriorityQueue [143312,143325]
                        MethodInvocation [143328,143347]
                            METHOD_INVOCATION_RECEIVER [143328,143340]
                                SimpleName: sortedTokens [143328,143340]
                            SimpleName: size [143341,143345]
            VariableDeclarationStatement [143359,143402]
                ParameterizedType [143359,143378]
                    SimpleType [143359,143372]
                        SimpleName: CandidateInfo [143359,143372]
                    SimpleType [143373,143377]
                        SimpleName: Unit [143373,143377]
                VariableDeclarationFragment [143379,143401]
                    SimpleName: candidate [143379,143388]
                    SimpleName: candidates [143391,143401]
            DoStatement [143412,143669]
                Block [143424,143636]
                    VariableDeclarationStatement [143439,143520]
                        PrimitiveType: double [143439,143445]
                        VariableDeclarationFragment [143446,143519]
                            SimpleName: impr [143446,143450]
                            MethodInvocation [143453,143519]
                                SimpleName: evaluateImprovement [143453,143472]
                                METHOD_INVOCATION_ARGUMENTS [143473,143518]
                                    SimpleName: candidate [143473,143482]
                                    SimpleName: optTokenOwnership [143484,143501]
                                    InfixExpression [143503,143518]
                                        NumberLiteral: 1.0 [143503,143506]
                                        INFIX_EXPRESSION_OPERATOR: / [143507,143508]
                                        SimpleName: numTokens [143509,143518]
                    ExpressionStatement [143534,143584]
                        MethodInvocation [143534,143583]
                            METHOD_INVOCATION_RECEIVER [143534,143546]
                                SimpleName: improvements [143534,143546]
                            SimpleName: add [143547,143550]
                            METHOD_INVOCATION_ARGUMENTS [143551,143582]
                                ClassInstanceCreation [143551,143582]
                                    ParameterizedType [143555,143565]
                                        SimpleType [143555,143563]
                                            SimpleName: Weighted [143555,143563]
                                    SimpleName: impr [143566,143570]
                                    SimpleName: candidate [143572,143581]
                    ExpressionStatement [143598,143625]
                        Assignment [143598,143624]
                            SimpleName: candidate [143598,143607]
                            ASSIGNMENT_OPERATOR: = [143608,143609]
                            QualifiedName: candidate.next [143610,143624]
                InfixExpression [143644,143667]
                    SimpleName: candidate [143644,143653]
                    INFIX_EXPRESSION_OPERATOR: != [143654,143656]
                    SimpleName: candidates [143657,143667]
            VariableDeclarationStatement [143772,143832]
                ParameterizedType [143772,143791]
                    SimpleType [143772,143785]
                        SimpleName: CandidateInfo [143772,143785]
                    SimpleType [143786,143790]
                        SimpleName: Unit [143786,143790]
                VariableDeclarationFragment [143792,143831]
                    SimpleName: bestToken [143792,143801]
                    FieldAccess [143804,143831]
                        MethodInvocation [143804,143825]
                            METHOD_INVOCATION_RECEIVER [143804,143816]
                                SimpleName: improvements [143804,143816]
                            SimpleName: remove [143817,143823]
                        SimpleName: value [143826,143831]
            ForStatement [143842,145025]
                VariableDeclarationExpression [143847,143857]
                    PrimitiveType: int [143847,143850]
                    VariableDeclarationFragment [143851,143857]
                        SimpleName: vn [143851,143853]
                        NumberLiteral: 1 [143856,143857]
                PrefixExpression [143861,143865]
                    PREFIX_EXPRESSION_OPERATOR: ++ [143861,143863]
                    SimpleName: vn [143863,143865]
                Block [143876,145025]
                    ExpressionStatement [143891,143937]
                        Assignment [143891,143936]
                            SimpleName: candidates [143891,143901]
                            ASSIGNMENT_OPERATOR: = [143902,143903]
                            MethodInvocation [143904,143936]
                                METHOD_INVOCATION_RECEIVER [143904,143913]
                                    SimpleName: bestToken [143904,143913]
                                SimpleName: removeFrom [143914,143924]
                                METHOD_INVOCATION_ARGUMENTS [143925,143935]
                                    SimpleName: candidates [143925,143935]
                    ExpressionStatement [143951,143979]
                        MethodInvocation [143951,143978]
                            SimpleName: confirmCandidate [143951,143967]
                            METHOD_INVOCATION_ARGUMENTS [143968,143977]
                                SimpleName: bestToken [143968,143977]
                    IfStatement [143995,144039]
                        InfixExpression [143999,144014]
                            SimpleName: vn [143999,144001]
                            INFIX_EXPRESSION_OPERATOR: == [144002,144004]
                            SimpleName: numTokens [144005,144014]
                        BreakStatement [144033,144039]
                    WhileStatement [144055,145014]
                        BooleanLiteral: true [144062,144066]
                        Block [144081,145014]
                            ExpressionStatement [144384,144424]
                                Assignment [144384,144423]
                                    SimpleName: bestToken [144384,144393]
                                    ASSIGNMENT_OPERATOR: = [144394,144395]
                                    FieldAccess [144396,144423]
                                        MethodInvocation [144396,144417]
                                            METHOD_INVOCATION_RECEIVER [144396,144408]
                                                SimpleName: improvements [144396,144408]
                                            SimpleName: remove [144409,144415]
                                        SimpleName: value [144418,144423]
                            VariableDeclarationStatement [144442,144530]
                                PrimitiveType: double [144442,144448]
                                VariableDeclarationFragment [144449,144529]
                                    SimpleName: impr [144449,144453]
                                    MethodInvocation [144456,144529]
                                        SimpleName: evaluateImprovement [144456,144475]
                                        METHOD_INVOCATION_ARGUMENTS [144476,144528]
                                            SimpleName: bestToken [144476,144485]
                                            SimpleName: optTokenOwnership [144487,144504]
                                            InfixExpression [144506,144528]
                                                ParenthesizedExpression [144506,144516]
                                                    InfixExpression [144507,144515]
                                                        SimpleName: vn [144507,144509]
                                                        INFIX_EXPRESSION_OPERATOR: + [144510,144511]
                                                        NumberLiteral: 1.0 [144512,144515]
                                                INFIX_EXPRESSION_OPERATOR: / [144517,144518]
                                                SimpleName: numTokens [144519,144528]
                            VariableDeclarationStatement [144548,144605]
                                ParameterizedType [144548,144577]
                                    SimpleType [144548,144556]
                                        SimpleName: Weighted [144548,144556]
                                    ParameterizedType [144557,144576]
                                        SimpleType [144557,144570]
                                            SimpleName: CandidateInfo [144557,144570]
                                        SimpleType [144571,144575]
                                            SimpleName: Unit [144571,144575]
                                VariableDeclarationFragment [144578,144604]
                                    SimpleName: next [144578,144582]
                                    MethodInvocation [144585,144604]
                                        METHOD_INVOCATION_RECEIVER [144585,144597]
                                            SimpleName: improvements [144585,144597]
                                        SimpleName: peek [144598,144602]
                            IfStatement [144863,144931]
                                InfixExpression [144867,144902]
                                    InfixExpression [144867,144879]
                                        SimpleName: next [144867,144871]
                                        INFIX_EXPRESSION_OPERATOR: == [144872,144874]
                                        NullLiteral [144875,144879]
                                    INFIX_EXPRESSION_OPERATOR: || [144880,144882]
                                    InfixExpression [144883,144902]
                                        SimpleName: impr [144883,144887]
                                        INFIX_EXPRESSION_OPERATOR: >= [144888,144890]
                                        QualifiedName: next.weight [144891,144902]
                                BreakStatement [144925,144931]
                            ExpressionStatement [144949,144999]
                                MethodInvocation [144949,144998]
                                    METHOD_INVOCATION_RECEIVER [144949,144961]
                                        SimpleName: improvements [144949,144961]
                                    SimpleName: add [144962,144965]
                                    METHOD_INVOCATION_ARGUMENTS [144966,144997]
                                        ClassInstanceCreation [144966,144997]
                                            ParameterizedType [144970,144980]
                                                SimpleType [144970,144978]
                                                    SimpleName: Weighted [144970,144978]
                                            SimpleName: impr [144981,144985]
                                            SimpleName: bestToken [144987,144996]
            ReturnStatement [145037,145092]
                MethodInvocation [145044,145091]
                    METHOD_INVOCATION_RECEIVER [145044,145057]
                        SimpleName: ImmutableList [145044,145057]
                    SimpleName: copyOf [145058,145064]
                    METHOD_INVOCATION_ARGUMENTS [145065,145090]
                        MethodInvocation [145065,145090]
                            METHOD_INVOCATION_RECEIVER [145065,145077]
                                SimpleName: unitToTokens [145065,145077]
                            SimpleName: get [145078,145081]
                            METHOD_INVOCATION_ARGUMENTS [145082,145089]
                                SimpleName: newUnit [145082,145089]
    MethodDeclaration [145107,145616]
        Modifier: private [145107,145114]
        ParameterizedType [145115,145132]
            SimpleType [145115,145125]
                SimpleName: Collection [145115,145125]
            SimpleType [145126,145131]
                SimpleName: Token [145126,145131]
        SimpleName: generateRandomTokens [145133,145153]
        SingleVariableDeclaration [145154,145166]
            SimpleType [145154,145158]
                SimpleName: Unit [145154,145158]
            SimpleName: newUnit [145159,145166]
        SingleVariableDeclaration [145168,145181]
            PrimitiveType: int [145168,145171]
            SimpleName: numTokens [145172,145181]
        Block [145188,145616]
            VariableDeclarationStatement [145199,145244]
                ParameterizedType [145199,145209]
                    SimpleType [145199,145202]
                        SimpleName: Set [145199,145202]
                    SimpleType [145203,145208]
                        SimpleName: Token [145203,145208]
                VariableDeclarationFragment [145210,145243]
                    SimpleName: tokens [145210,145216]
                    ClassInstanceCreation [145219,145243]
                        ParameterizedType [145223,145232]
                            SimpleType [145223,145230]
                                SimpleName: HashSet [145223,145230]
                        SimpleName: numTokens [145233,145242]
            WhileStatement [145254,145585]
                InfixExpression [145261,145286]
                    MethodInvocation [145261,145274]
                        METHOD_INVOCATION_RECEIVER [145261,145267]
                            SimpleName: tokens [145261,145267]
                        SimpleName: size [145268,145272]
                    INFIX_EXPRESSION_OPERATOR: < [145275,145276]
                    SimpleName: numTokens [145277,145286]
                Block [145297,145585]
                    VariableDeclarationStatement [145312,145355]
                        SimpleType [145312,145317]
                            SimpleName: Token [145312,145317]
                        VariableDeclarationFragment [145318,145354]
                            SimpleName: token [145318,145323]
                            MethodInvocation [145326,145354]
                                METHOD_INVOCATION_RECEIVER [145326,145337]
                                    SimpleName: partitioner [145326,145337]
                                SimpleName: getRandomToken [145338,145352]
                    IfStatement [145369,145574]
                        PrefixExpression [145373,145405]
                            PREFIX_EXPRESSION_OPERATOR: ! [145373,145374]
                            MethodInvocation [145374,145405]
                                METHOD_INVOCATION_RECEIVER [145374,145386]
                                    SimpleName: sortedTokens [145374,145386]
                                SimpleName: containsKey [145387,145398]
                                METHOD_INVOCATION_ARGUMENTS [145399,145404]
                                    SimpleName: token [145399,145404]
                        Block [145420,145574]
                            ExpressionStatement [145439,145457]
                                MethodInvocation [145439,145456]
                                    METHOD_INVOCATION_RECEIVER [145439,145445]
                                        SimpleName: tokens [145439,145445]
                                    SimpleName: add [145446,145449]
                                    METHOD_INVOCATION_ARGUMENTS [145450,145455]
                                        SimpleName: token [145450,145455]
                            ExpressionStatement [145475,145508]
                                MethodInvocation [145475,145507]
                                    METHOD_INVOCATION_RECEIVER [145475,145487]
                                        SimpleName: sortedTokens [145475,145487]
                                    SimpleName: put [145488,145491]
                                    METHOD_INVOCATION_ARGUMENTS [145492,145506]
                                        SimpleName: token [145492,145497]
                                        SimpleName: newUnit [145499,145506]
                            ExpressionStatement [145526,145559]
                                MethodInvocation [145526,145558]
                                    METHOD_INVOCATION_RECEIVER [145526,145538]
                                        SimpleName: unitToTokens [145526,145538]
                                    SimpleName: put [145539,145542]
                                    METHOD_INVOCATION_ARGUMENTS [145543,145557]
                                        SimpleName: newUnit [145543,145550]
                                        SimpleName: token [145552,145557]
            ReturnStatement [145595,145609]
                SimpleName: tokens [145602,145608]
    MethodDeclaration [145624,146045]
        Modifier: private [145624,145631]
        ParameterizedType [145632,145657]
            SimpleType [145632,145635]
                SimpleName: Map [145632,145635]
            SimpleType [145636,145640]
                SimpleName: Unit [145636,145640]
            ParameterizedType [145642,145656]
                SimpleType [145642,145650]
                    SimpleName: UnitInfo [145642,145650]
                SimpleType [145651,145655]
                    SimpleName: Unit [145651,145655]
        SimpleName: createUnitInfos [145658,145673]
        SingleVariableDeclaration [145674,145703]
            ParameterizedType [145674,145696]
                SimpleType [145674,145677]
                    SimpleName: Map [145674,145677]
                SimpleType [145678,145684]
                    SimpleName: Object [145678,145684]
                SimpleType [145686,145695]
                    SimpleName: GroupInfo [145686,145695]
            SimpleName: groups [145697,145703]
        Block [145710,146045]
            VariableDeclarationStatement [145721,145771]
                ParameterizedType [145721,145746]
                    SimpleType [145721,145724]
                        SimpleName: Map [145721,145724]
                    SimpleType [145725,145729]
                        SimpleName: Unit [145725,145729]
                    ParameterizedType [145731,145745]
                        SimpleType [145731,145739]
                            SimpleName: UnitInfo [145731,145739]
                        SimpleType [145740,145744]
                            SimpleName: Unit [145740,145744]
                VariableDeclarationFragment [145747,145770]
                    SimpleName: map [145747,145750]
                    MethodInvocation [145753,145770]
                        METHOD_INVOCATION_RECEIVER [145753,145757]
                            SimpleName: Maps [145753,145757]
                        SimpleName: newHashMap [145758,145768]
            EnhancedForStatement [145781,146017]
                SingleVariableDeclaration [145786,145792]
                    SimpleType [145786,145790]
                        SimpleName: Unit [145786,145790]
                    SimpleName: n [145791,145792]
                MethodInvocation [145795,145816]
                    METHOD_INVOCATION_RECEIVER [145795,145807]
                        SimpleName: sortedTokens [145795,145807]
                    SimpleName: values [145808,145814]
                Block [145827,146017]
                    VariableDeclarationStatement [145842,145873]
                        ParameterizedType [145842,145856]
                            SimpleType [145842,145850]
                                SimpleName: UnitInfo [145842,145850]
                            SimpleType [145851,145855]
                                SimpleName: Unit [145851,145855]
                        VariableDeclarationFragment [145857,145872]
                            SimpleName: ni [145857,145859]
                            MethodInvocation [145862,145872]
                                METHOD_INVOCATION_RECEIVER [145862,145865]
                                    SimpleName: map [145862,145865]
                                SimpleName: get [145866,145869]
                                METHOD_INVOCATION_ARGUMENTS [145870,145871]
                                    SimpleName: n [145870,145871]
                    IfStatement [145887,145976]
                        InfixExpression [145891,145901]
                            SimpleName: ni [145891,145893]
                            INFIX_EXPRESSION_OPERATOR: == [145894,145896]
                            NullLiteral [145897,145901]
                        ExpressionStatement [145920,145976]
                            MethodInvocation [145920,145975]
                                METHOD_INVOCATION_RECEIVER [145920,145923]
                                    SimpleName: map [145920,145923]
                                SimpleName: put [145924,145927]
                                METHOD_INVOCATION_ARGUMENTS [145928,145974]
                                    SimpleName: n [145928,145929]
                                    Assignment [145931,145974]
                                        SimpleName: ni [145931,145933]
                                        ASSIGNMENT_OPERATOR: = [145934,145935]
                                        ClassInstanceCreation [145936,145974]
                                            ParameterizedType [145940,145950]
                                                SimpleType [145940,145948]
                                                    SimpleName: UnitInfo [145940,145948]
                                            SimpleName: n [145951,145952]
                                            NumberLiteral: 0 [145954,145955]
                                            SimpleName: groups [145957,145963]
                                            SimpleName: strategy [145965,145973]
                    ExpressionStatement [145990,146006]
                        PostfixExpression [145990,146005]
                            QualifiedName: ni.tokenCount [145990,146003]
                            POSTFIX_EXPRESSION_OPERATOR: ++ [146003,146005]
            ReturnStatement [146027,146038]
                SimpleName: map [146034,146037]
    MethodDeclaration [146053,146957]
        Javadoc [146053,146192]
            TagElement [146065,146183]
                TextElement: Construct the token ring as a CircularList of TokenInfo, [146065,146121]
                TextElement: and populate the ownership of the UnitInfo's provided [146130,146183]
        Modifier: private [146198,146205]
        ParameterizedType [146206,146221]
            SimpleType [146206,146215]
                SimpleName: TokenInfo [146206,146215]
            SimpleType [146216,146220]
                SimpleName: Unit [146216,146220]
        SimpleName: createTokenInfos [146222,146238]
        SingleVariableDeclaration [146239,146270]
            ParameterizedType [146239,146264]
                SimpleType [146239,146242]
                    SimpleName: Map [146239,146242]
                SimpleType [146243,146247]
                    SimpleName: Unit [146243,146247]
                ParameterizedType [146249,146263]
                    SimpleType [146249,146257]
                        SimpleName: UnitInfo [146249,146257]
                    SimpleType [146258,146262]
                        SimpleName: Unit [146258,146262]
            SimpleName: units [146265,146270]
        SingleVariableDeclaration [146272,146294]
            SimpleType [146272,146281]
                SimpleName: GroupInfo [146272,146281]
            SimpleName: newUnitGroup [146282,146294]
        Block [146301,146957]
            VariableDeclarationStatement [146348,146376]
                ParameterizedType [146348,146363]
                    SimpleType [146348,146357]
                        SimpleName: TokenInfo [146348,146357]
                    SimpleType [146358,146362]
                        SimpleName: Unit [146358,146362]
                VariableDeclarationFragment [146364,146375]
                    SimpleName: prev [146364,146368]
                    NullLiteral [146371,146375]
            VariableDeclarationStatement [146386,146415]
                ParameterizedType [146386,146401]
                    SimpleType [146386,146395]
                        SimpleName: TokenInfo [146386,146395]
                    SimpleType [146396,146400]
                        SimpleName: Unit [146396,146400]
                VariableDeclarationFragment [146402,146414]
                    SimpleName: first [146402,146407]
                    NullLiteral [146410,146414]
            EnhancedForStatement [146425,146731]
                SingleVariableDeclaration [146430,146455]
                    ParameterizedType [146430,146452]
                        SimpleType [146430,146439]
                            QualifiedName: Map.Entry [146430,146439]
                        SimpleType [146440,146445]
                            SimpleName: Token [146440,146445]
                        SimpleType [146447,146451]
                            SimpleName: Unit [146447,146451]
                    SimpleName: en [146453,146455]
                MethodInvocation [146458,146481]
                    METHOD_INVOCATION_RECEIVER [146458,146470]
                        SimpleName: sortedTokens [146458,146470]
                    SimpleName: entrySet [146471,146479]
                Block [146492,146731]
                    VariableDeclarationStatement [146507,146529]
                        SimpleType [146507,146512]
                            SimpleName: Token [146507,146512]
                        VariableDeclarationFragment [146513,146528]
                            SimpleName: t [146513,146514]
                            MethodInvocation [146517,146528]
                                METHOD_INVOCATION_RECEIVER [146517,146519]
                                    SimpleName: en [146517,146519]
                                SimpleName: getKey [146520,146526]
                    VariableDeclarationStatement [146543,146588]
                        ParameterizedType [146543,146557]
                            SimpleType [146543,146551]
                                SimpleName: UnitInfo [146543,146551]
                            SimpleType [146552,146556]
                                SimpleName: Unit [146552,146556]
                        VariableDeclarationFragment [146558,146587]
                            SimpleName: ni [146558,146560]
                            MethodInvocation [146563,146587]
                                METHOD_INVOCATION_RECEIVER [146563,146568]
                                    SimpleName: units [146563,146568]
                                SimpleName: get [146569,146572]
                                METHOD_INVOCATION_ARGUMENTS [146573,146586]
                                    MethodInvocation [146573,146586]
                                        METHOD_INVOCATION_RECEIVER [146573,146575]
                                            SimpleName: en [146573,146575]
                                        SimpleName: getValue [146576,146584]
                    VariableDeclarationStatement [146602,146646]
                        ParameterizedType [146602,146617]
                            SimpleType [146602,146611]
                                SimpleName: TokenInfo [146602,146611]
                            SimpleType [146612,146616]
                                SimpleName: Unit [146612,146616]
                        VariableDeclarationFragment [146618,146645]
                            SimpleName: ti [146618,146620]
                            ClassInstanceCreation [146623,146645]
                                ParameterizedType [146627,146638]
                                    SimpleType [146627,146636]
                                        SimpleName: TokenInfo [146627,146636]
                                SimpleName: t [146639,146640]
                                SimpleName: ni [146642,146644]
                    ExpressionStatement [146660,146696]
                        Assignment [146660,146695]
                            SimpleName: first [146660,146665]
                            ASSIGNMENT_OPERATOR: = [146666,146667]
                            MethodInvocation [146668,146695]
                                METHOD_INVOCATION_RECEIVER [146668,146670]
                                    SimpleName: ti [146668,146670]
                                SimpleName: insertAfter [146671,146682]
                                METHOD_INVOCATION_ARGUMENTS [146683,146694]
                                    SimpleName: first [146683,146688]
                                    SimpleName: prev [146690,146694]
                    ExpressionStatement [146710,146720]
                        Assignment [146710,146719]
                            SimpleName: prev [146710,146714]
                            ASSIGNMENT_OPERATOR: = [146715,146716]
                            SimpleName: ti [146717,146719]
            VariableDeclarationStatement [146743,146772]
                ParameterizedType [146743,146758]
                    SimpleType [146743,146752]
                        SimpleName: TokenInfo [146743,146752]
                    SimpleType [146753,146757]
                        SimpleName: Unit [146753,146757]
                VariableDeclarationFragment [146759,146771]
                    SimpleName: curr [146759,146763]
                    SimpleName: first [146766,146771]
            DoStatement [146782,146925]
                Block [146794,146902]
                    ExpressionStatement [146809,146860]
                        MethodInvocation [146809,146859]
                            SimpleName: populateTokenInfoAndAdjustUnit [146809,146839]
                            METHOD_INVOCATION_ARGUMENTS [146840,146858]
                                SimpleName: curr [146840,146844]
                                SimpleName: newUnitGroup [146846,146858]
                    ExpressionStatement [146874,146891]
                        Assignment [146874,146890]
                            SimpleName: curr [146874,146878]
                            ASSIGNMENT_OPERATOR: = [146879,146880]
                            QualifiedName: curr.next [146881,146890]
                InfixExpression [146910,146923]
                    SimpleName: curr [146910,146914]
                    INFIX_EXPRESSION_OPERATOR: != [146915,146917]
                    SimpleName: first [146918,146923]
            ReturnStatement [146937,146950]
                SimpleName: first [146944,146949]
    MethodDeclaration [146965,147713]
        Modifier: private [146965,146972]
        ParameterizedType [146973,146992]
            SimpleType [146973,146986]
                SimpleName: CandidateInfo [146973,146986]
            SimpleType [146987,146991]
                SimpleName: Unit [146987,146991]
        SimpleName: createCandidates [146993,147009]
        SingleVariableDeclaration [147010,147032]
            ParameterizedType [147010,147025]
                SimpleType [147010,147019]
                    SimpleName: TokenInfo [147010,147019]
                SimpleType [147020,147024]
                    SimpleName: Unit [147020,147024]
            SimpleName: tokens [147026,147032]
        SingleVariableDeclaration [147034,147060]
            ParameterizedType [147034,147048]
                SimpleType [147034,147042]
                    SimpleName: UnitInfo [147034,147042]
                SimpleType [147043,147047]
                    SimpleName: Unit [147043,147047]
            SimpleName: newUnitInfo [147049,147060]
        SingleVariableDeclaration [147062,147090]
            PrimitiveType: double [147062,147068]
            SimpleName: initialTokenOwnership [147069,147090]
        Block [147097,147713]
            VariableDeclarationStatement [147108,147138]
                ParameterizedType [147108,147123]
                    SimpleType [147108,147117]
                        SimpleName: TokenInfo [147108,147117]
                    SimpleType [147118,147122]
                        SimpleName: Unit [147118,147122]
                VariableDeclarationFragment [147124,147137]
                    SimpleName: curr [147124,147128]
                    SimpleName: tokens [147131,147137]
            VariableDeclarationStatement [147148,147181]
                ParameterizedType [147148,147167]
                    SimpleType [147148,147161]
                        SimpleName: CandidateInfo [147148,147161]
                    SimpleType [147162,147166]
                        SimpleName: Unit [147162,147166]
                VariableDeclarationFragment [147168,147180]
                    SimpleName: first [147168,147173]
                    NullLiteral [147176,147180]
            VariableDeclarationStatement [147191,147223]
                ParameterizedType [147191,147210]
                    SimpleType [147191,147204]
                        SimpleName: CandidateInfo [147191,147204]
                    SimpleType [147205,147209]
                        SimpleName: Unit [147205,147209]
                VariableDeclarationFragment [147211,147222]
                    SimpleName: prev [147211,147215]
                    NullLiteral [147218,147222]
            DoStatement [147233,147655]
                Block [147245,147631]
                    VariableDeclarationStatement [147260,147386]
                        ParameterizedType [147260,147279]
                            SimpleType [147260,147273]
                                SimpleName: CandidateInfo [147260,147273]
                            SimpleType [147274,147278]
                                SimpleName: Unit [147274,147278]
                        VariableDeclarationFragment [147280,147385]
                            SimpleName: candidate [147280,147289]
                            ClassInstanceCreation [147292,147385]
                                ParameterizedType [147296,147315]
                                    SimpleType [147296,147309]
                                        SimpleName: CandidateInfo [147296,147309]
                                    SimpleType [147310,147314]
                                        SimpleName: Unit [147310,147314]
                                MethodInvocation [147316,147365]
                                    METHOD_INVOCATION_RECEIVER [147316,147327]
                                        SimpleName: partitioner [147316,147327]
                                    SimpleName: midpoint [147328,147336]
                                    METHOD_INVOCATION_ARGUMENTS [147337,147364]
                                        QualifiedName: curr.prev.token [147337,147352]
                                        QualifiedName: curr.token [147354,147364]
                                SimpleName: curr [147367,147371]
                                SimpleName: newUnitInfo [147373,147384]
                    ExpressionStatement [147400,147443]
                        Assignment [147400,147442]
                            SimpleName: first [147400,147405]
                            ASSIGNMENT_OPERATOR: = [147406,147407]
                            MethodInvocation [147408,147442]
                                METHOD_INVOCATION_RECEIVER [147408,147417]
                                    SimpleName: candidate [147408,147417]
                                SimpleName: insertAfter [147418,147429]
                                METHOD_INVOCATION_ARGUMENTS [147430,147441]
                                    SimpleName: first [147430,147435]
                                    SimpleName: prev [147437,147441]
                    ExpressionStatement [147459,147513]
                        Assignment [147459,147512]
                            QualifiedName: candidate.replicatedOwnership [147459,147488]
                            ASSIGNMENT_OPERATOR: = [147489,147490]
                            SimpleName: initialTokenOwnership [147491,147512]
                    ExpressionStatement [147527,147556]
                        MethodInvocation [147527,147555]
                            SimpleName: populateCandidate [147527,147544]
                            METHOD_INVOCATION_ARGUMENTS [147545,147554]
                                SimpleName: candidate [147545,147554]
                    ExpressionStatement [147572,147589]
                        Assignment [147572,147588]
                            SimpleName: prev [147572,147576]
                            ASSIGNMENT_OPERATOR: = [147577,147578]
                            SimpleName: candidate [147579,147588]
                    ExpressionStatement [147603,147620]
                        Assignment [147603,147619]
                            SimpleName: curr [147603,147607]
                            ASSIGNMENT_OPERATOR: = [147608,147609]
                            QualifiedName: curr.next [147610,147619]
                InfixExpression [147639,147653]
                    SimpleName: curr [147639,147643]
                    INFIX_EXPRESSION_OPERATOR: != [147644,147646]
                    SimpleName: tokens [147647,147653]
            ExpressionStatement [147665,147683]
                Assignment [147665,147682]
                    QualifiedName: prev.next [147665,147674]
                    ASSIGNMENT_OPERATOR: = [147675,147676]
                    SimpleName: first [147677,147682]
            ReturnStatement [147693,147706]
                SimpleName: first [147700,147705]
    MethodDeclaration [147721,147916]
        Modifier: private [147721,147728]
        PrimitiveType: void [147729,147733]
        SimpleName: populateCandidate [147734,147751]
        SingleVariableDeclaration [147752,147781]
            ParameterizedType [147752,147771]
                SimpleType [147752,147765]
                    SimpleName: CandidateInfo [147752,147765]
                SimpleType [147766,147770]
                    SimpleName: Unit [147766,147770]
            SimpleName: candidate [147772,147781]
        Block [147788,147916]
            ExpressionStatement [147852,147909]
                MethodInvocation [147852,147908]
                    SimpleName: populateTokenInfo [147852,147869]
                    METHOD_INVOCATION_ARGUMENTS [147870,147907]
                        SimpleName: candidate [147870,147879]
                        QualifiedName: candidate.owningUnit.group [147881,147907]
    MethodDeclaration [147924,149879]
        Javadoc [147924,148069]
            TagElement [147936,148060]
                TextElement: Incorporates the selected candidate into the ring, adjusting ownership information and calculated token [147936,148039]
                TextElement: information. [148048,148060]
        Modifier: private [148075,148082]
        PrimitiveType: void [148083,148087]
        SimpleName: confirmCandidate [148088,148104]
        SingleVariableDeclaration [148105,148134]
            ParameterizedType [148105,148124]
                SimpleType [148105,148118]
                    SimpleName: CandidateInfo [148105,148118]
                SimpleType [148119,148123]
                    SimpleName: Unit [148119,148123]
            SimpleName: candidate [148125,148134]
        Block [148141,149879]
            VariableDeclarationStatement [148573,148619]
                ParameterizedType [148573,148587]
                    SimpleType [148573,148581]
                        SimpleName: UnitInfo [148573,148581]
                    SimpleType [148582,148586]
                        SimpleName: Unit [148582,148586]
                VariableDeclarationFragment [148588,148618]
                    SimpleName: newUnit [148588,148595]
                    QualifiedName: candidate.owningUnit [148598,148618]
            VariableDeclarationStatement [148629,148662]
                SimpleType [148629,148634]
                    SimpleName: Token [148629,148634]
                VariableDeclarationFragment [148635,148661]
                    SimpleName: newToken [148635,148643]
                    QualifiedName: candidate.token [148646,148661]
            ExpressionStatement [148672,148713]
                MethodInvocation [148672,148712]
                    METHOD_INVOCATION_RECEIVER [148672,148684]
                        SimpleName: sortedTokens [148672,148684]
                    SimpleName: put [148685,148688]
                    METHOD_INVOCATION_ARGUMENTS [148689,148711]
                        SimpleName: newToken [148689,148697]
                        QualifiedName: newUnit.unit [148699,148711]
            ExpressionStatement [148723,148764]
                MethodInvocation [148723,148763]
                    METHOD_INVOCATION_RECEIVER [148723,148735]
                        SimpleName: unitToTokens [148723,148735]
                    SimpleName: put [148736,148739]
                    METHOD_INVOCATION_ARGUMENTS [148740,148762]
                        QualifiedName: newUnit.unit [148740,148752]
                        SimpleName: newToken [148754,148762]
            VariableDeclarationStatement [148776,148822]
                ParameterizedType [148776,148791]
                    SimpleType [148776,148785]
                        SimpleName: TokenInfo [148776,148785]
                    SimpleType [148786,148790]
                        SimpleName: Unit [148786,148790]
                VariableDeclarationFragment [148792,148821]
                    SimpleName: prev [148792,148796]
                    MethodInvocation [148799,148821]
                        METHOD_INVOCATION_RECEIVER [148799,148808]
                            SimpleName: candidate [148799,148808]
                        SimpleName: prevInRing [148809,148819]
            VariableDeclarationStatement [148832,148898]
                ParameterizedType [148832,148847]
                    SimpleType [148832,148841]
                        SimpleName: TokenInfo [148832,148841]
                    SimpleType [148842,148846]
                        SimpleName: Unit [148842,148846]
                VariableDeclarationFragment [148848,148897]
                    SimpleName: newTokenInfo [148848,148860]
                    ClassInstanceCreation [148863,148897]
                        ParameterizedType [148867,148878]
                            SimpleType [148867,148876]
                                SimpleName: TokenInfo [148867,148876]
                        SimpleName: newToken [148879,148887]
                        SimpleName: newUnit [148889,148896]
            ExpressionStatement [148908,148973]
                Assignment [148908,148972]
                    QualifiedName: newTokenInfo.replicatedOwnership [148908,148940]
                    ASSIGNMENT_OPERATOR: = [148941,148942]
                    QualifiedName: candidate.replicatedOwnership [148943,148972]
            ExpressionStatement [148983,149020]
                MethodInvocation [148983,149019]
                    METHOD_INVOCATION_RECEIVER [148983,148995]
                        SimpleName: newTokenInfo [148983,148995]
                    SimpleName: insertAfter [148996,149007]
                    METHOD_INVOCATION_ARGUMENTS [149008,149018]
                        SimpleName: prev [149008,149012]
                        SimpleName: prev [149014,149018]
            ExpressionStatement [149137,149197]
                MethodInvocation [149137,149196]
                    SimpleName: populateTokenInfoAndAdjustUnit [149137,149167]
                    METHOD_INVOCATION_ARGUMENTS [149168,149195]
                        SimpleName: newTokenInfo [149168,149180]
                        QualifiedName: newUnit.group [149182,149195]
            VariableDeclarationStatement [149209,149274]
                SimpleType [149209,149227]
                    SimpleName: ReplicationVisitor [149209,149227]
                VariableDeclarationFragment [149228,149273]
                    SimpleName: replicationVisitor [149228,149246]
                    ClassInstanceCreation [149249,149273]
                        SimpleType [149253,149271]
                            SimpleName: ReplicationVisitor [149253,149271]
            AssertStatement [149284,149328]
                InfixExpression [149291,149327]
                    QualifiedName: newTokenInfo.next [149291,149308]
                    INFIX_EXPRESSION_OPERATOR: == [149309,149311]
                    QualifiedName: candidate.split [149312,149327]
            ForStatement [149338,149833]
                VariableDeclarationExpression [149343,149383]
                    ParameterizedType [149343,149358]
                        SimpleType [149343,149352]
                            SimpleName: TokenInfo [149343,149352]
                        SimpleType [149353,149357]
                            SimpleName: Unit [149353,149357]
                    VariableDeclarationFragment [149359,149383]
                        SimpleName: curr [149359,149363]
                        QualifiedName: newTokenInfo.next [149366,149383]
                PrefixExpression [149385,149417]
                    PREFIX_EXPRESSION_OPERATOR: ! [149385,149386]
                    MethodInvocation [149386,149417]
                        METHOD_INVOCATION_RECEIVER [149386,149404]
                            SimpleName: replicationVisitor [149386,149404]
                        SimpleName: visitedAll [149405,149415]
                Assignment [149419,149435]
                    SimpleName: curr [149419,149423]
                    ASSIGNMENT_OPERATOR: = [149424,149425]
                    QualifiedName: curr.next [149426,149435]
                Block [149446,149833]
                    ExpressionStatement [149520,149547]
                        Assignment [149520,149546]
                            SimpleName: candidate [149520,149529]
                            ASSIGNMENT_OPERATOR: = [149530,149531]
                            QualifiedName: candidate.next [149532,149546]
                    ExpressionStatement [149561,149590]
                        MethodInvocation [149561,149589]
                            SimpleName: populateCandidate [149561,149578]
                            METHOD_INVOCATION_ARGUMENTS [149579,149588]
                                SimpleName: candidate [149579,149588]
                    IfStatement [149606,149684]
                        PrefixExpression [149610,149656]
                            PREFIX_EXPRESSION_OPERATOR: ! [149610,149611]
                            MethodInvocation [149611,149656]
                                METHOD_INVOCATION_RECEIVER [149611,149629]
                                    SimpleName: replicationVisitor [149611,149629]
                                SimpleName: add [149630,149633]
                                METHOD_INVOCATION_ARGUMENTS [149634,149655]
                                    QualifiedName: curr.owningUnit.group [149634,149655]
                        ContinueStatement [149675,149684]
                    ExpressionStatement [149770,149822]
                        MethodInvocation [149770,149821]
                            SimpleName: populateTokenInfoAndAdjustUnit [149770,149800]
                            METHOD_INVOCATION_ARGUMENTS [149801,149820]
                                SimpleName: curr [149801,149805]
                                QualifiedName: newUnit.group [149807,149820]
            ExpressionStatement [149845,149872]
                MethodInvocation [149845,149871]
                    METHOD_INVOCATION_RECEIVER [149845,149863]
                        SimpleName: replicationVisitor [149845,149863]
                    SimpleName: clean [149864,149869]
    MethodDeclaration [149887,151866]
        Javadoc [149887,150123]
            TagElement [149899,150114]
                TextElement: Calculates the  [149899,149914]
                TagElement [149914,149938]
                    TextElement:  replicationStart [149920,149937]
                TextElement:  of a token, as well as  [149938,149962]
                TagElement [149962,149990]
                    TextElement:  replicationThreshold [149968,149989]
                TextElement:  which is chosen in a way [149990,150015]
                TextElement: that permits  [150024,150037]
                TagElement [150037,150072]
                    TextElement:  findUpdatedReplicationStart [150043,150071]
                TextElement:  to quickly identify changes in ownership. [150072,150114]
        Modifier: private [150129,150136]
        SimpleType [150137,150142]
            SimpleName: Token [150137,150142]
        SimpleName: populateTokenInfo [150143,150160]
        SingleVariableDeclaration [150161,150189]
            ParameterizedType [150161,150183]
                SimpleType [150161,150174]
                    SimpleName: BaseTokenInfo [150161,150174]
                SimpleType [150175,150179]
                    SimpleName: Unit [150175,150179]
                WildcardType [150181,150182]
            SimpleName: token [150184,150189]
        SingleVariableDeclaration [150191,150213]
            SimpleType [150191,150200]
                SimpleName: GroupInfo [150191,150200]
            SimpleName: newUnitGroup [150201,150213]
        Block [150220,151866]
            VariableDeclarationStatement [150231,150277]
                SimpleType [150231,150240]
                    SimpleName: GroupInfo [150231,150240]
                VariableDeclarationFragment [150241,150276]
                    SimpleName: tokenGroup [150241,150251]
                    QualifiedName: token.owningUnit.group [150254,150276]
            VariableDeclarationStatement [150287,150335]
                SimpleType [150287,150302]
                    SimpleName: PopulateVisitor [150287,150302]
                VariableDeclarationFragment [150303,150334]
                    SimpleName: visitor [150303,150310]
                    ClassInstanceCreation [150313,150334]
                        SimpleType [150317,150332]
                            SimpleName: PopulateVisitor [150317,150332]
            VariableDeclarationStatement [150452,150475]
                SimpleType [150452,150457]
                    SimpleName: Token [150452,150457]
                VariableDeclarationFragment [150458,150474]
                    SimpleName: replicationStart [150458,150474]
            VariableDeclarationStatement [150572,150613]
                SimpleType [150572,150577]
                    SimpleName: Token [150572,150577]
                VariableDeclarationFragment [150578,150612]
                    SimpleName: replicationThreshold [150578,150598]
                    QualifiedName: token.token [150601,150612]
            VariableDeclarationStatement [150623,150643]
                SimpleType [150623,150632]
                    SimpleName: GroupInfo [150623,150632]
                VariableDeclarationFragment [150633,150642]
                    SimpleName: currGroup [150633,150642]
            ForStatement [150653,151277]
                VariableDeclarationExpression [150658,150699]
                    ParameterizedType [150658,150673]
                        SimpleType [150658,150667]
                            SimpleName: TokenInfo [150658,150667]
                        SimpleType [150668,150672]
                            SimpleName: Unit [150668,150672]
                    VariableDeclarationFragment [150674,150699]
                        SimpleName: curr [150674,150678]
                        MethodInvocation [150681,150699]
                            METHOD_INVOCATION_RECEIVER [150681,150686]
                                SimpleName: token [150681,150686]
                            SimpleName: prevInRing [150687,150697]
                Assignment [150703,150719]
                    SimpleName: curr [150703,150707]
                    ASSIGNMENT_OPERATOR: = [150708,150709]
                    QualifiedName: curr.prev [150710,150719]
                Block [150730,151277]
                    ExpressionStatement [150745,150775]
                        Assignment [150745,150774]
                            SimpleName: replicationStart [150745,150761]
                            ASSIGNMENT_OPERATOR: = [150762,150763]
                            QualifiedName: curr.token [150764,150774]
                    ExpressionStatement [150789,150823]
                        Assignment [150789,150822]
                            SimpleName: currGroup [150789,150798]
                            ASSIGNMENT_OPERATOR: = [150799,150800]
                            QualifiedName: curr.owningUnit.group [150801,150822]
                    IfStatement [150837,150892]
                        PrefixExpression [150841,150864]
                            PREFIX_EXPRESSION_OPERATOR: ! [150841,150842]
                            MethodInvocation [150842,150864]
                                METHOD_INVOCATION_RECEIVER [150842,150849]
                                    SimpleName: visitor [150842,150849]
                                SimpleName: add [150850,150853]
                                METHOD_INVOCATION_ARGUMENTS [150854,150863]
                                    SimpleName: currGroup [150854,150863]
                        ContinueStatement [150883,150892]
                    IfStatement [150932,150981]
                        MethodInvocation [150936,150956]
                            METHOD_INVOCATION_RECEIVER [150936,150943]
                                SimpleName: visitor [150936,150943]
                            SimpleName: visitedAll [150944,150954]
                        BreakStatement [150975,150981]
                    ExpressionStatement [150997,151037]
                        Assignment [150997,151036]
                            SimpleName: replicationThreshold [150997,151017]
                            ASSIGNMENT_OPERATOR: = [151018,151019]
                            SimpleName: replicationStart [151020,151036]
                    IfStatement [151214,151266]
                        InfixExpression [151218,151241]
                            SimpleName: currGroup [151218,151227]
                            INFIX_EXPRESSION_OPERATOR: == [151228,151230]
                            SimpleName: tokenGroup [151231,151241]
                        BreakStatement [151260,151266]
            IfStatement [151287,151685]
                InfixExpression [151291,151317]
                    SimpleName: newUnitGroup [151291,151303]
                    INFIX_EXPRESSION_OPERATOR: == [151304,151306]
                    SimpleName: tokenGroup [151307,151317]
                ExpressionStatement [151426,151461]
                    Assignment [151426,151460]
                        SimpleName: replicationThreshold [151426,151446]
                        ASSIGNMENT_OPERATOR: = [151447,151448]
                        QualifiedName: token.token [151449,151460]
                IfStatement [151476,151685]
                    InfixExpression [151480,151535]
                        InfixExpression [151480,151505]
                            SimpleName: newUnitGroup [151480,151492]
                            INFIX_EXPRESSION_OPERATOR: != [151493,151495]
                            SimpleName: currGroup [151496,151505]
                        INFIX_EXPRESSION_OPERATOR: && [151506,151508]
                        MethodInvocation [151509,151535]
                            METHOD_INVOCATION_RECEIVER [151509,151516]
                                SimpleName: visitor [151509,151516]
                            SimpleName: seen [151517,151521]
                            METHOD_INVOCATION_ARGUMENTS [151522,151534]
                                SimpleName: newUnitGroup [151522,151534]
                    ExpressionStatement [151645,151685]
                        Assignment [151645,151684]
                            SimpleName: replicationThreshold [151645,151665]
                            ASSIGNMENT_OPERATOR: = [151666,151667]
                            SimpleName: replicationStart [151668,151684]
            ExpressionStatement [151695,151711]
                MethodInvocation [151695,151710]
                    METHOD_INVOCATION_RECEIVER [151695,151702]
                        SimpleName: visitor [151695,151702]
                    SimpleName: clean [151703,151708]
            ExpressionStatement [151723,151773]
                Assignment [151723,151772]
                    QualifiedName: token.replicationThreshold [151723,151749]
                    ASSIGNMENT_OPERATOR: = [151750,151751]
                    SimpleName: replicationThreshold [151752,151772]
            ExpressionStatement [151783,151825]
                Assignment [151783,151824]
                    QualifiedName: token.replicationStart [151783,151805]
                    ASSIGNMENT_OPERATOR: = [151806,151807]
                    SimpleName: replicationStart [151808,151824]
            ReturnStatement [151835,151859]
                SimpleName: replicationStart [151842,151858]
    MethodDeclaration [151874,152314]
        Modifier: private [151874,151881]
        PrimitiveType: void [151882,151886]
        SimpleName: populateTokenInfoAndAdjustUnit [151887,151917]
        SingleVariableDeclaration [151918,151942]
            ParameterizedType [151918,151933]
                SimpleType [151918,151927]
                    SimpleName: TokenInfo [151918,151927]
                SimpleType [151928,151932]
                    SimpleName: Unit [151928,151932]
            SimpleName: populate [151934,151942]
        SingleVariableDeclaration [151944,151966]
            SimpleType [151944,151953]
                SimpleName: GroupInfo [151944,151953]
            SimpleName: newUnitGroup [151954,151966]
        Block [151973,152314]
            VariableDeclarationStatement [151984,152051]
                SimpleType [151984,151989]
                    SimpleName: Token [151984,151989]
                VariableDeclarationFragment [151990,152050]
                    SimpleName: replicationStart [151990,152006]
                    MethodInvocation [152009,152050]
                        SimpleName: populateTokenInfo [152009,152026]
                        METHOD_INVOCATION_ARGUMENTS [152027,152049]
                            SimpleName: populate [152027,152035]
                            SimpleName: newUnitGroup [152037,152049]
            VariableDeclarationStatement [152061,152121]
                PrimitiveType: double [152061,152067]
                VariableDeclarationFragment [152068,152120]
                    SimpleName: newOwnership [152068,152080]
                    MethodInvocation [152083,152120]
                        METHOD_INVOCATION_RECEIVER [152083,152099]
                            SimpleName: replicationStart [152083,152099]
                        SimpleName: size [152100,152104]
                        METHOD_INVOCATION_ARGUMENTS [152105,152119]
                            QualifiedName: populate.token [152105,152119]
            VariableDeclarationStatement [152131,152182]
                PrimitiveType: double [152131,152137]
                VariableDeclarationFragment [152138,152181]
                    SimpleName: oldOwnership [152138,152150]
                    QualifiedName: populate.replicatedOwnership [152153,152181]
            ExpressionStatement [152192,152236]
                Assignment [152192,152235]
                    QualifiedName: populate.replicatedOwnership [152192,152220]
                    ASSIGNMENT_OPERATOR: = [152221,152222]
                    SimpleName: newOwnership [152223,152235]
            ExpressionStatement [152246,152307]
                Assignment [152246,152306]
                    QualifiedName: populate.owningUnit.ownership [152246,152275]
                    ASSIGNMENT_OPERATOR: += [152276,152278]
                    InfixExpression [152279,152306]
                        SimpleName: newOwnership [152279,152291]
                        INFIX_EXPRESSION_OPERATOR: - [152292,152293]
                        SimpleName: oldOwnership [152294,152306]
    MethodDeclaration [152322,154187]
        Javadoc [152322,152467]
            TagElement [152334,152458]
                TextElement: Evaluates the improvement in variance for both units and individual tokens when candidate is inserted into the [152334,152444]
                TextElement: ring. [152453,152458]
        Modifier: private [152473,152480]
        PrimitiveType: double [152481,152487]
        SimpleName: evaluateImprovement [152488,152507]
        SingleVariableDeclaration [152508,152537]
            ParameterizedType [152508,152527]
                SimpleType [152508,152521]
                    SimpleName: CandidateInfo [152508,152521]
                SimpleType [152522,152526]
                    SimpleName: Unit [152522,152526]
            SimpleName: candidate [152528,152537]
        SingleVariableDeclaration [152539,152563]
            PrimitiveType: double [152539,152545]
            SimpleName: optTokenOwnership [152546,152563]
        SingleVariableDeclaration [152565,152583]
            PrimitiveType: double [152565,152571]
            SimpleName: newUnitMult [152572,152583]
        Block [152590,154187]
            VariableDeclarationStatement [152601,152624]
                PrimitiveType: double [152601,152607]
                VariableDeclarationFragment [152608,152623]
                    SimpleName: tokenChange [152608,152619]
                    NumberLiteral: 0 [152622,152623]
            VariableDeclarationStatement [152636,152688]
                ParameterizedType [152636,152650]
                    SimpleType [152636,152644]
                        SimpleName: UnitInfo [152636,152644]
                    SimpleType [152645,152649]
                        SimpleName: Unit [152645,152649]
                VariableDeclarationFragment [152651,152687]
                    SimpleName: candidateUnit [152651,152664]
                    QualifiedName: candidate.owningUnit [152667,152687]
            VariableDeclarationStatement [152698,152735]
                SimpleType [152698,152703]
                    SimpleName: Token [152698,152703]
                VariableDeclarationFragment [152704,152734]
                    SimpleName: candidateEnd [152704,152716]
                    QualifiedName: candidate.token [152719,152734]
            VariableDeclarationStatement [152906,152991]
                ParameterizedType [152906,152933]
                    SimpleType [152906,152927]
                        SimpleName: UnitAdjustmentTracker [152906,152927]
                    SimpleType [152928,152932]
                        SimpleName: Unit [152928,152932]
                VariableDeclarationFragment [152934,152990]
                    SimpleName: unitTracker [152934,152945]
                    ClassInstanceCreation [152948,152990]
                        ParameterizedType [152952,152975]
                            SimpleType [152952,152973]
                                SimpleName: UnitAdjustmentTracker [152952,152973]
                        SimpleName: candidateUnit [152976,152989]
            ExpressionStatement [153079,153219]
                Assignment [153079,153218]
                    SimpleName: tokenChange [153079,153090]
                    ASSIGNMENT_OPERATOR: += [153091,153093]
                    MethodInvocation [153094,153218]
                        SimpleName: applyOwnershipAdjustment [153094,153118]
                        METHOD_INVOCATION_ARGUMENTS [153119,153217]
                            SimpleName: candidate [153119,153128]
                            SimpleName: candidateUnit [153130,153143]
                            QualifiedName: candidate.replicationStart [153145,153171]
                            SimpleName: candidateEnd [153173,153185]
                            SimpleName: optTokenOwnership [153187,153204]
                            SimpleName: unitTracker [153206,153217]
            VariableDeclarationStatement [153329,153394]
                SimpleType [153329,153347]
                    SimpleName: ReplicationVisitor [153329,153347]
                VariableDeclarationFragment [153348,153393]
                    SimpleName: replicationVisitor [153348,153366]
                    ClassInstanceCreation [153369,153393]
                        SimpleType [153373,153391]
                            SimpleName: ReplicationVisitor [153373,153391]
            ForStatement [153404,154002]
                VariableDeclarationExpression [153409,153447]
                    ParameterizedType [153409,153424]
                        SimpleType [153409,153418]
                            SimpleName: TokenInfo [153409,153418]
                        SimpleType [153419,153423]
                            SimpleName: Unit [153419,153423]
                    VariableDeclarationFragment [153425,153447]
                        SimpleName: curr [153425,153429]
                        QualifiedName: candidate.split [153432,153447]
                PrefixExpression [153449,153481]
                    PREFIX_EXPRESSION_OPERATOR: ! [153449,153450]
                    MethodInvocation [153450,153481]
                        METHOD_INVOCATION_RECEIVER [153450,153468]
                            SimpleName: replicationVisitor [153450,153468]
                        SimpleName: visitedAll [153469,153479]
                Assignment [153483,153499]
                    SimpleName: curr [153483,153487]
                    ASSIGNMENT_OPERATOR: = [153488,153489]
                    QualifiedName: curr.next [153490,153499]
                Block [153510,154002]
                    VariableDeclarationStatement [153525,153567]
                        ParameterizedType [153525,153539]
                            SimpleType [153525,153533]
                                SimpleName: UnitInfo [153525,153533]
                            SimpleType [153534,153538]
                                SimpleName: Unit [153534,153538]
                        VariableDeclarationFragment [153540,153566]
                            SimpleName: currUnit [153540,153548]
                            QualifiedName: curr.owningUnit [153551,153566]
                    IfStatement [153583,153654]
                        PrefixExpression [153587,153626]
                            PREFIX_EXPRESSION_OPERATOR: ! [153587,153588]
                            MethodInvocation [153588,153626]
                                METHOD_INVOCATION_RECEIVER [153588,153606]
                                    SimpleName: replicationVisitor [153588,153606]
                                SimpleName: add [153607,153610]
                                METHOD_INVOCATION_ARGUMENTS [153611,153625]
                                    QualifiedName: currUnit.group [153611,153625]
                        ContinueStatement [153645,153654]
                    VariableDeclarationStatement [153737,153771]
                        SimpleType [153737,153742]
                            SimpleName: Token [153737,153742]
                        VariableDeclarationFragment [153743,153770]
                            SimpleName: replicationEnd [153743,153757]
                            QualifiedName: curr.token [153760,153770]
                    VariableDeclarationStatement [153785,153855]
                        SimpleType [153785,153790]
                            SimpleName: Token [153785,153790]
                        VariableDeclarationFragment [153791,153854]
                            SimpleName: replicationStart [153791,153807]
                            MethodInvocation [153810,153854]
                                SimpleName: findUpdatedReplicationStart [153810,153837]
                                METHOD_INVOCATION_ARGUMENTS [153838,153853]
                                    SimpleName: curr [153838,153842]
                                    SimpleName: candidate [153844,153853]
                    ExpressionStatement [153869,153991]
                        Assignment [153869,153990]
                            SimpleName: tokenChange [153869,153880]
                            ASSIGNMENT_OPERATOR: += [153881,153883]
                            MethodInvocation [153884,153990]
                                SimpleName: applyOwnershipAdjustment [153884,153908]
                                METHOD_INVOCATION_ARGUMENTS [153909,153989]
                                    SimpleName: curr [153909,153913]
                                    SimpleName: currUnit [153915,153923]
                                    SimpleName: replicationStart [153925,153941]
                                    SimpleName: replicationEnd [153943,153957]
                                    SimpleName: optTokenOwnership [153959,153976]
                                    SimpleName: unitTracker [153978,153989]
            ExpressionStatement [154012,154039]
                MethodInvocation [154012,154038]
                    METHOD_INVOCATION_RECEIVER [154012,154030]
                        SimpleName: replicationVisitor [154012,154030]
                    SimpleName: clean [154031,154036]
            VariableDeclarationStatement [154051,154135]
                PrimitiveType: double [154051,154057]
                VariableDeclarationFragment [154058,154134]
                    SimpleName: nodeChange [154058,154068]
                    MethodInvocation [154071,154134]
                        METHOD_INVOCATION_RECEIVER [154071,154082]
                            SimpleName: unitTracker [154071,154082]
                        SimpleName: calculateUnitChange [154083,154102]
                        METHOD_INVOCATION_ARGUMENTS [154103,154133]
                            SimpleName: newUnitMult [154103,154114]
                            SimpleName: optTokenOwnership [154116,154133]
            ReturnStatement [154145,154180]
                PrefixExpression [154152,154179]
                    PREFIX_EXPRESSION_OPERATOR: - [154152,154153]
                    ParenthesizedExpression [154153,154179]
                        InfixExpression [154154,154178]
                            SimpleName: tokenChange [154154,154165]
                            INFIX_EXPRESSION_OPERATOR: + [154166,154167]
                            SimpleName: nodeChange [154168,154178]
    MethodDeclaration [154195,154547]
        Javadoc [154195,154342]
            TagElement [154207,154333]
                TextElement: Returns the start of the replication span for the token  [154207,154263]
                TagElement [154263,154275]
                    TextElement:  curr [154269,154274]
                TextElement:  when  [154275,154281]
                TagElement [154281,154298]
                    TextElement:  candidate [154287,154297]
                TextElement:  is inserted into the [154298,154319]
                TextElement: ring. [154328,154333]
        Modifier: private [154348,154355]
        SimpleType [154356,154361]
            SimpleName: Token [154356,154361]
        SimpleName: findUpdatedReplicationStart [154362,154389]
        SingleVariableDeclaration [154390,154410]
            ParameterizedType [154390,154405]
                SimpleType [154390,154399]
                    SimpleName: TokenInfo [154390,154399]
                SimpleType [154400,154404]
                    SimpleName: Unit [154400,154404]
            SimpleName: curr [154406,154410]
        SingleVariableDeclaration [154412,154441]
            ParameterizedType [154412,154431]
                SimpleType [154412,154425]
                    SimpleName: CandidateInfo [154412,154425]
                SimpleType [154426,154430]
                    SimpleName: Unit [154426,154430]
            SimpleName: candidate [154432,154441]
        Block [154448,154547]
            ReturnStatement [154459,154540]
                MethodInvocation [154466,154539]
                    SimpleName: furtherStartToken [154466,154483]
                    METHOD_INVOCATION_ARGUMENTS [154484,154538]
                        QualifiedName: curr.replicationThreshold [154484,154509]
                        QualifiedName: candidate.token [154511,154526]
                        QualifiedName: curr.token [154528,154538]
    MethodDeclaration [154555,155347]
        Javadoc [154555,154709]
            TagElement [154567,154700]
                TextElement: Applies the ownership adjustment for the given element, updating tracked unit ownership and returning the change [154567,154679]
                TextElement: of variance. [154688,154700]
        Modifier: private [154715,154722]
        PrimitiveType: double [154723,154729]
        SimpleName: applyOwnershipAdjustment [154730,154754]
        SingleVariableDeclaration [154755,154782]
            ParameterizedType [154755,154777]
                SimpleType [154755,154768]
                    SimpleName: BaseTokenInfo [154755,154768]
                SimpleType [154769,154773]
                    SimpleName: Unit [154769,154773]
                WildcardType [154775,154776]
            SimpleName: curr [154778,154782]
        SingleVariableDeclaration [154784,154807]
            ParameterizedType [154784,154798]
                SimpleType [154784,154792]
                    SimpleName: UnitInfo [154784,154792]
                SimpleType [154793,154797]
                    SimpleName: Unit [154793,154797]
            SimpleName: currUnit [154799,154807]
        SingleVariableDeclaration [154822,154844]
            SimpleType [154822,154827]
                SimpleName: Token [154822,154827]
            SimpleName: replicationStart [154828,154844]
        SingleVariableDeclaration [154846,154866]
            SimpleType [154846,154851]
                SimpleName: Token [154846,154851]
            SimpleName: replicationEnd [154852,154866]
        SingleVariableDeclaration [154881,154905]
            PrimitiveType: double [154881,154887]
            SimpleName: optTokenOwnership [154888,154905]
        SingleVariableDeclaration [154907,154946]
            ParameterizedType [154907,154934]
                SimpleType [154907,154928]
                    SimpleName: UnitAdjustmentTracker [154907,154928]
                SimpleType [154929,154933]
                    SimpleName: Unit [154929,154933]
            SimpleName: unitTracker [154935,154946]
        Block [154953,155347]
            VariableDeclarationStatement [154964,155011]
                PrimitiveType: double [154964,154970]
                VariableDeclarationFragment [154971,155010]
                    SimpleName: oldOwnership [154971,154983]
                    QualifiedName: curr.replicatedOwnership [154986,155010]
            VariableDeclarationStatement [155021,155081]
                PrimitiveType: double [155021,155027]
                VariableDeclarationFragment [155028,155080]
                    SimpleName: newOwnership [155028,155040]
                    MethodInvocation [155043,155080]
                        METHOD_INVOCATION_RECEIVER [155043,155059]
                            SimpleName: replicationStart [155043,155059]
                        SimpleName: size [155060,155064]
                        METHOD_INVOCATION_ARGUMENTS [155065,155079]
                            SimpleName: replicationEnd [155065,155079]
            VariableDeclarationStatement [155091,155131]
                PrimitiveType: double [155091,155097]
                VariableDeclarationFragment [155098,155130]
                    SimpleName: tokenCount [155098,155108]
                    QualifiedName: currUnit.tokenCount [155111,155130]
            AssertStatement [155141,155163]
                InfixExpression [155148,155162]
                    SimpleName: tokenCount [155148,155158]
                    INFIX_EXPRESSION_OPERATOR: > [155159,155160]
                    NumberLiteral: 0 [155161,155162]
            ExpressionStatement [155173,155228]
                MethodInvocation [155173,155227]
                    METHOD_INVOCATION_RECEIVER [155173,155184]
                        SimpleName: unitTracker [155173,155184]
                    SimpleName: add [155185,155188]
                    METHOD_INVOCATION_ARGUMENTS [155189,155226]
                        SimpleName: currUnit [155189,155197]
                        InfixExpression [155199,155226]
                            SimpleName: newOwnership [155199,155211]
                            INFIX_EXPRESSION_OPERATOR: - [155212,155213]
                            SimpleName: oldOwnership [155214,155226]
            ReturnStatement [155238,155340]
                InfixExpression [155245,155339]
                    ParenthesizedExpression [155245,155322]
                        InfixExpression [155246,155321]
                            MethodInvocation [155246,155282]
                                SimpleName: sq [155246,155248]
                                METHOD_INVOCATION_ARGUMENTS [155249,155281]
                                    InfixExpression [155249,155281]
                                        SimpleName: newOwnership [155249,155261]
                                        INFIX_EXPRESSION_OPERATOR: - [155262,155263]
                                        SimpleName: optTokenOwnership [155264,155281]
                            INFIX_EXPRESSION_OPERATOR: - [155283,155284]
                            MethodInvocation [155285,155321]
                                SimpleName: sq [155285,155287]
                                METHOD_INVOCATION_ARGUMENTS [155288,155320]
                                    InfixExpression [155288,155320]
                                        SimpleName: oldOwnership [155288,155300]
                                        INFIX_EXPRESSION_OPERATOR: - [155301,155302]
                                        SimpleName: optTokenOwnership [155303,155320]
                    INFIX_EXPRESSION_OPERATOR: / [155323,155324]
                    MethodInvocation [155325,155339]
                        SimpleName: sq [155325,155327]
                        METHOD_INVOCATION_ARGUMENTS [155328,155338]
                            SimpleName: tokenCount [155328,155338]
    TypeDeclaration [155355,157762]
        Javadoc [155355,155907]
            TagElement [155367,155898]
                TextElement: Tracker for unit ownership changes. The changes are tracked by a chain of UnitInfos where the adjustedOwnership [155367,155478]
                TextElement: field is being updated as we see changes in token ownership. [155487,155547]
                TextElement: The chain ends with an element that points to itself; this element must be specified as argument to the [155564,155667]
                TextElement: constructor as well as be the first unit with which 'add' is called; when calculating the variance change [155676,155781]
                TextElement: a separate multiplier is applied to it (used to permit more freedom in choosing the first tokens of a unit). [155790,155898]
        Modifier: private [155913,155920]
        Modifier: static [155921,155927]
        TYPE_DECLARATION_KIND: class [155928,155933]
        SimpleName: UnitAdjustmentTracker [155934,155955]
        TypeParameter [155956,155960]
            SimpleName: Unit [155956,155960]
        FieldDeclaration [155978,156004]
            ParameterizedType [155978,155992]
                SimpleType [155978,155986]
                    SimpleName: UnitInfo [155978,155986]
                SimpleType [155987,155991]
                    SimpleName: Unit [155987,155991]
            VariableDeclarationFragment [155993,156003]
                SimpleName: unitsChain [155993,156003]
        MethodDeclaration [156016,156118]
            SimpleName: UnitAdjustmentTracker [156016,156037]
            SingleVariableDeclaration [156038,156060]
                ParameterizedType [156038,156052]
                    SimpleType [156038,156046]
                        SimpleName: UnitInfo [156038,156046]
                    SimpleType [156047,156051]
                        SimpleName: Unit [156047,156051]
                SimpleName: newUnit [156053,156060]
            Block [156071,156118]
                ExpressionStatement [156086,156107]
                    Assignment [156086,156106]
                        SimpleName: unitsChain [156086,156096]
                        ASSIGNMENT_OPERATOR: = [156097,156098]
                        SimpleName: newUnit [156099,156106]
        MethodDeclaration [156130,156616]
            PrimitiveType: void [156130,156134]
            SimpleName: add [156135,156138]
            SingleVariableDeclaration [156139,156162]
                ParameterizedType [156139,156153]
                    SimpleType [156139,156147]
                        SimpleName: UnitInfo [156139,156147]
                    SimpleType [156148,156152]
                        SimpleName: Unit [156148,156152]
                SimpleName: currUnit [156154,156162]
            SingleVariableDeclaration [156164,156175]
                PrimitiveType: double [156164,156170]
                SimpleName: diff [156171,156175]
            Block [156186,156616]
                IfStatement [156201,156605]
                    InfixExpression [156205,156230]
                        QualifiedName: currUnit.prevUsed [156205,156222]
                        INFIX_EXPRESSION_OPERATOR: == [156223,156225]
                        NullLiteral [156226,156230]
                    Block [156245,156504]
                        AssertStatement [156264,156325]
                            InfixExpression [156271,156324]
                                InfixExpression [156271,156298]
                                    QualifiedName: unitsChain.prevUsed [156271,156290]
                                    INFIX_EXPRESSION_OPERATOR: != [156291,156293]
                                    NullLiteral [156294,156298]
                                INFIX_EXPRESSION_OPERATOR: || [156299,156301]
                                InfixExpression [156302,156324]
                                    SimpleName: currUnit [156302,156310]
                                    INFIX_EXPRESSION_OPERATOR: == [156311,156313]
                                    SimpleName: unitsChain [156314,156324]
                        ExpressionStatement [156345,156400]
                            Assignment [156345,156399]
                                QualifiedName: currUnit.adjustedOwnership [156345,156371]
                                ASSIGNMENT_OPERATOR: = [156372,156373]
                                InfixExpression [156374,156399]
                                    QualifiedName: currUnit.ownership [156374,156392]
                                    INFIX_EXPRESSION_OPERATOR: + [156393,156394]
                                    SimpleName: diff [156395,156399]
                        ExpressionStatement [156418,156449]
                            Assignment [156418,156448]
                                QualifiedName: currUnit.prevUsed [156418,156435]
                                ASSIGNMENT_OPERATOR: = [156436,156437]
                                SimpleName: unitsChain [156438,156448]
                        ExpressionStatement [156467,156489]
                            Assignment [156467,156488]
                                SimpleName: unitsChain [156467,156477]
                                ASSIGNMENT_OPERATOR: = [156478,156479]
                                SimpleName: currUnit [156480,156488]
                    Block [156536,156605]
                        ExpressionStatement [156555,156590]
                            Assignment [156555,156589]
                                QualifiedName: currUnit.adjustedOwnership [156555,156581]
                                ASSIGNMENT_OPERATOR: += [156582,156584]
                                SimpleName: diff [156585,156589]
        MethodDeclaration [156628,157755]
            PrimitiveType: double [156628,156634]
            SimpleName: calculateUnitChange [156635,156654]
            SingleVariableDeclaration [156655,156673]
                PrimitiveType: double [156655,156661]
                SimpleName: newUnitMult [156662,156673]
            SingleVariableDeclaration [156675,156699]
                PrimitiveType: double [156675,156681]
                SimpleName: optTokenOwnership [156682,156699]
            Block [156710,157755]
                VariableDeclarationStatement [156725,156747]
                    PrimitiveType: double [156725,156731]
                    VariableDeclarationFragment [156732,156746]
                        SimpleName: unitChange [156732,156742]
                        NumberLiteral: 0 [156745,156746]
                VariableDeclarationStatement [156761,156805]
                    ParameterizedType [156761,156775]
                        SimpleType [156761,156769]
                            SimpleName: UnitInfo [156761,156769]
                        SimpleType [156770,156774]
                            SimpleName: Unit [156770,156774]
                    VariableDeclarationFragment [156776,156804]
                        SimpleName: unitsChain [156776,156786]
                        FieldAccess [156789,156804]
                            ThisExpression [156789,156793]
                            SimpleName: unitsChain [156794,156804]
                WhileStatement [156935,157669]
                    BooleanLiteral: true [156942,156946]
                    Block [156961,157669]
                        VariableDeclarationStatement [156980,157031]
                            PrimitiveType: double [156980,156986]
                            VariableDeclarationFragment [156987,157030]
                                SimpleName: newOwnership [156987,156999]
                                QualifiedName: unitsChain.adjustedOwnership [157002,157030]
                        VariableDeclarationStatement [157049,157092]
                            PrimitiveType: double [157049,157055]
                            VariableDeclarationFragment [157056,157091]
                                SimpleName: oldOwnership [157056,157068]
                                QualifiedName: unitsChain.ownership [157071,157091]
                        VariableDeclarationStatement [157110,157152]
                            PrimitiveType: double [157110,157116]
                            VariableDeclarationFragment [157117,157151]
                                SimpleName: tokenCount [157117,157127]
                                QualifiedName: unitsChain.tokenCount [157130,157151]
                        VariableDeclarationStatement [157170,157288]
                            PrimitiveType: double [157170,157176]
                            VariableDeclarationFragment [157177,157287]
                                SimpleName: diff [157177,157181]
                                ParenthesizedExpression [157184,157287]
                                    InfixExpression [157185,157286]
                                        MethodInvocation [157185,157234]
                                            SimpleName: sq [157185,157187]
                                            METHOD_INVOCATION_ARGUMENTS [157188,157233]
                                                InfixExpression [157188,157233]
                                                    InfixExpression [157188,157213]
                                                        SimpleName: newOwnership [157188,157200]
                                                        INFIX_EXPRESSION_OPERATOR: / [157201,157202]
                                                        SimpleName: tokenCount [157203,157213]
                                                    INFIX_EXPRESSION_OPERATOR: - [157214,157215]
                                                    SimpleName: optTokenOwnership [157216,157233]
                                        INFIX_EXPRESSION_OPERATOR: - [157235,157236]
                                        MethodInvocation [157237,157286]
                                            SimpleName: sq [157237,157239]
                                            METHOD_INVOCATION_ARGUMENTS [157240,157285]
                                                InfixExpression [157240,157285]
                                                    InfixExpression [157240,157265]
                                                        SimpleName: oldOwnership [157240,157252]
                                                        INFIX_EXPRESSION_OPERATOR: / [157253,157254]
                                                        SimpleName: tokenCount [157255,157265]
                                                    INFIX_EXPRESSION_OPERATOR: - [157266,157267]
                                                    SimpleName: optTokenOwnership [157268,157285]
                        VariableDeclarationStatement [157306,157348]
                            ParameterizedType [157306,157320]
                                SimpleType [157306,157314]
                                    SimpleName: UnitInfo [157306,157314]
                                SimpleType [157315,157319]
                                    SimpleName: Unit [157315,157319]
                            VariableDeclarationFragment [157321,157347]
                                SimpleName: prev [157321,157325]
                                QualifiedName: unitsChain.prevUsed [157328,157347]
                        ExpressionStatement [157366,157393]
                            Assignment [157366,157392]
                                QualifiedName: unitsChain.prevUsed [157366,157385]
                                ASSIGNMENT_OPERATOR: = [157386,157387]
                                NullLiteral [157388,157392]
                        IfStatement [157411,157618]
                            InfixExpression [157415,157433]
                                SimpleName: unitsChain [157415,157425]
                                INFIX_EXPRESSION_OPERATOR: != [157426,157428]
                                SimpleName: prev [157429,157433]
                            ExpressionStatement [157456,157475]
                                Assignment [157456,157474]
                                    SimpleName: unitChange [157456,157466]
                                    ASSIGNMENT_OPERATOR: += [157467,157469]
                                    SimpleName: diff [157470,157474]
                            Block [157515,157618]
                                ExpressionStatement [157538,157571]
                                    Assignment [157538,157570]
                                        SimpleName: unitChange [157538,157548]
                                        ASSIGNMENT_OPERATOR: += [157549,157551]
                                        InfixExpression [157552,157570]
                                            SimpleName: diff [157552,157556]
                                            INFIX_EXPRESSION_OPERATOR: * [157557,157558]
                                            SimpleName: newUnitMult [157559,157570]
                                BreakStatement [157593,157599]
                        ExpressionStatement [157636,157654]
                            Assignment [157636,157653]
                                SimpleName: unitsChain [157636,157646]
                                ASSIGNMENT_OPERATOR: = [157647,157648]
                                SimpleName: prev [157649,157653]
                ExpressionStatement [157683,157712]
                    Assignment [157683,157711]
                        FieldAccess [157683,157698]
                            ThisExpression [157683,157687]
                            SimpleName: unitsChain [157688,157698]
                        ASSIGNMENT_OPERATOR: = [157699,157700]
                        SimpleName: unitsChain [157701,157711]
                ReturnStatement [157726,157744]
                    SimpleName: unitChange [157733,157743]
    TypeDeclaration [157772,159060]
        Javadoc [157772,157853]
            TagElement [157784,157844]
                TextElement: Helper class for marking/unmarking visited a chain of groups [157784,157844]
        Modifier: private [157859,157866]
        Modifier: abstract [157867,157875]
        TYPE_DECLARATION_KIND: class [157876,157881]
        SimpleName: GroupVisitor [157882,157894]
        FieldDeclaration [157911,157955]
            SimpleType [157911,157920]
                SimpleName: GroupInfo [157911,157920]
            VariableDeclarationFragment [157921,157954]
                SimpleName: groupChain [157921,157931]
                QualifiedName: GroupInfo.TERMINATOR [157934,157954]
        FieldDeclaration [157965,157978]
            PrimitiveType: int [157965,157968]
            VariableDeclarationFragment [157969,157977]
                SimpleName: seen [157969,157973]
                NumberLiteral: 0 [157976,157977]
        MethodDeclaration [157990,158035]
            Modifier: abstract [157990,157998]
            SimpleType [157999,158008]
                SimpleName: GroupInfo [157999,158008]
            SimpleName: prevSeen [158009,158017]
            SingleVariableDeclaration [158018,158033]
                SimpleType [158018,158027]
                    SimpleName: GroupInfo [158018,158027]
                SimpleName: group [158028,158033]
        MethodDeclaration [158045,158108]
            Modifier: abstract [158045,158053]
            PrimitiveType: void [158054,158058]
            SimpleName: setPrevSeen [158059,158070]
            SingleVariableDeclaration [158071,158086]
                SimpleType [158071,158080]
                    SimpleName: GroupInfo [158071,158080]
                SimpleName: group [158081,158086]
            SingleVariableDeclaration [158088,158106]
                SimpleType [158088,158097]
                    SimpleName: GroupInfo [158088,158097]
                SimpleName: prevSeen [158098,158106]
        MethodDeclaration [158189,158437]
            PrimitiveType: boolean [158189,158196]
            SimpleName: add [158197,158200]
            SingleVariableDeclaration [158201,158216]
                SimpleType [158201,158210]
                    SimpleName: GroupInfo [158201,158210]
                SimpleName: group [158211,158216]
            Block [158227,158437]
                IfStatement [158242,158301]
                    InfixExpression [158246,158269]
                        MethodInvocation [158246,158261]
                            SimpleName: prevSeen [158246,158254]
                            METHOD_INVOCATION_ARGUMENTS [158255,158260]
                                SimpleName: group [158255,158260]
                        INFIX_EXPRESSION_OPERATOR: != [158262,158264]
                        NullLiteral [158265,158269]
                    ReturnStatement [158288,158301]
                        BooleanLiteral: false [158295,158300]
                ExpressionStatement [158315,158322]
                    PrefixExpression [158315,158321]
                        PREFIX_EXPRESSION_OPERATOR: ++ [158315,158317]
                        SimpleName: seen [158317,158321]
                ExpressionStatement [158336,158367]
                    MethodInvocation [158336,158366]
                        SimpleName: setPrevSeen [158336,158347]
                        METHOD_INVOCATION_ARGUMENTS [158348,158365]
                            SimpleName: group [158348,158353]
                            SimpleName: groupChain [158355,158365]
                ExpressionStatement [158381,158400]
                    Assignment [158381,158399]
                        SimpleName: groupChain [158381,158391]
                        ASSIGNMENT_OPERATOR: = [158392,158393]
                        SimpleName: group [158394,158399]
                ReturnStatement [158414,158426]
                    BooleanLiteral: true [158421,158425]
        MethodDeclaration [158449,158529]
            PrimitiveType: boolean [158449,158456]
            SimpleName: visitedAll [158457,158467]
            Block [158479,158529]
                ReturnStatement [158494,158518]
                    InfixExpression [158501,158517]
                        SimpleName: seen [158501,158505]
                        INFIX_EXPRESSION_OPERATOR: >= [158506,158508]
                        SimpleName: replicas [158509,158517]
        MethodDeclaration [158541,158637]
            PrimitiveType: boolean [158541,158548]
            SimpleName: seen [158549,158553]
            SingleVariableDeclaration [158554,158569]
                SimpleType [158554,158563]
                    SimpleName: GroupInfo [158554,158563]
                SimpleName: group [158564,158569]
            Block [158580,158637]
                ReturnStatement [158595,158626]
                    InfixExpression [158602,158625]
                        MethodInvocation [158602,158617]
                            SimpleName: prevSeen [158602,158610]
                            METHOD_INVOCATION_ARGUMENTS [158611,158616]
                                SimpleName: group [158611,158616]
                        INFIX_EXPRESSION_OPERATOR: != [158618,158620]
                        NullLiteral [158621,158625]
        MethodDeclaration [158687,159053]
            PrimitiveType: void [158687,158691]
            SimpleName: clean [158692,158697]
            Block [158709,159053]
                VariableDeclarationStatement [158724,158763]
                    SimpleType [158724,158733]
                        SimpleName: GroupInfo [158724,158733]
                    VariableDeclarationFragment [158734,158762]
                        SimpleName: groupChain [158734,158744]
                        FieldAccess [158747,158762]
                            ThisExpression [158747,158751]
                            SimpleName: groupChain [158752,158762]
                WhileStatement [158777,158989]
                    InfixExpression [158784,158818]
                        SimpleName: groupChain [158784,158794]
                        INFIX_EXPRESSION_OPERATOR: != [158795,158797]
                        QualifiedName: GroupInfo.TERMINATOR [158798,158818]
                    Block [158833,158989]
                        VariableDeclarationStatement [158852,158890]
                            SimpleType [158852,158861]
                                SimpleName: GroupInfo [158852,158861]
                            VariableDeclarationFragment [158862,158889]
                                SimpleName: prev [158862,158866]
                                MethodInvocation [158869,158889]
                                    SimpleName: prevSeen [158869,158877]
                                    METHOD_INVOCATION_ARGUMENTS [158878,158888]
                                        SimpleName: groupChain [158878,158888]
                        ExpressionStatement [158908,158938]
                            MethodInvocation [158908,158937]
                                SimpleName: setPrevSeen [158908,158919]
                                METHOD_INVOCATION_ARGUMENTS [158920,158936]
                                    SimpleName: groupChain [158920,158930]
                                    NullLiteral [158932,158936]
                        ExpressionStatement [158956,158974]
                            Assignment [158956,158973]
                                SimpleName: groupChain [158956,158966]
                                ASSIGNMENT_OPERATOR: = [158967,158968]
                                SimpleName: prev [158969,158973]
                ExpressionStatement [159003,159042]
                    Assignment [159003,159041]
                        FieldAccess [159003,159018]
                            ThisExpression [159003,159007]
                            SimpleName: groupChain [159008,159018]
                        ASSIGNMENT_OPERATOR: = [159019,159020]
                        QualifiedName: GroupInfo.TERMINATOR [159021,159041]
    TypeDeclaration [159068,159365]
        Modifier: private [159068,159075]
        TYPE_DECLARATION_KIND: class [159076,159081]
        SimpleName: ReplicationVisitor [159082,159100]
        SimpleType [159109,159121]
            SimpleName: GroupVisitor [159109,159121]
        MethodDeclaration [159138,159231]
            SimpleType [159138,159147]
                SimpleName: GroupInfo [159138,159147]
            SimpleName: prevSeen [159148,159156]
            SingleVariableDeclaration [159157,159172]
                SimpleType [159157,159166]
                    SimpleName: GroupInfo [159157,159166]
                SimpleName: group [159167,159172]
            Block [159183,159231]
                ReturnStatement [159198,159220]
                    QualifiedName: group.prevSeen [159205,159219]
        MethodDeclaration [159243,159358]
            PrimitiveType: void [159243,159247]
            SimpleName: setPrevSeen [159248,159259]
            SingleVariableDeclaration [159260,159275]
                SimpleType [159260,159269]
                    SimpleName: GroupInfo [159260,159269]
                SimpleName: group [159270,159275]
            SingleVariableDeclaration [159277,159295]
                SimpleType [159277,159286]
                    SimpleName: GroupInfo [159277,159286]
                SimpleName: prevSeen [159287,159295]
            Block [159306,159358]
                ExpressionStatement [159321,159347]
                    Assignment [159321,159346]
                        QualifiedName: group.prevSeen [159321,159335]
                        ASSIGNMENT_OPERATOR: = [159336,159337]
                        SimpleName: prevSeen [159338,159346]
    TypeDeclaration [159373,159675]
        Modifier: private [159373,159380]
        TYPE_DECLARATION_KIND: class [159381,159386]
        SimpleName: PopulateVisitor [159387,159402]
        SimpleType [159411,159423]
            SimpleName: GroupVisitor [159411,159423]
        MethodDeclaration [159440,159537]
            SimpleType [159440,159449]
                SimpleName: GroupInfo [159440,159449]
            SimpleName: prevSeen [159450,159458]
            SingleVariableDeclaration [159459,159474]
                SimpleType [159459,159468]
                    SimpleName: GroupInfo [159459,159468]
                SimpleName: group [159469,159474]
            Block [159485,159537]
                ReturnStatement [159500,159526]
                    QualifiedName: group.prevPopulate [159507,159525]
        MethodDeclaration [159549,159668]
            PrimitiveType: void [159549,159553]
            SimpleName: setPrevSeen [159554,159565]
            SingleVariableDeclaration [159566,159581]
                SimpleType [159566,159575]
                    SimpleName: GroupInfo [159566,159575]
                SimpleName: group [159576,159581]
            SingleVariableDeclaration [159583,159601]
                SimpleType [159583,159592]
                    SimpleName: GroupInfo [159583,159592]
                SimpleName: prevSeen [159593,159601]
            Block [159612,159668]
                ExpressionStatement [159627,159657]
                    Assignment [159627,159656]
                        QualifiedName: group.prevPopulate [159627,159645]
                        ASSIGNMENT_OPERATOR: = [159646,159647]
                        SimpleName: prevSeen [159648,159656]
    MethodDeclaration [159683,159902]
        Modifier: private [159683,159690]
        ParameterizedType [159691,159713]
            SimpleType [159691,159700]
                QualifiedName: Map.Entry [159691,159700]
            SimpleType [159701,159706]
                SimpleName: Token [159701,159706]
            SimpleType [159708,159712]
                SimpleName: Unit [159708,159712]
        SimpleName: mapEntryFor [159714,159725]
        SingleVariableDeclaration [159726,159733]
            SimpleType [159726,159731]
                SimpleName: Token [159726,159731]
            SimpleName: t [159732,159733]
        Block [159740,159902]
            VariableDeclarationStatement [159751,159806]
                ParameterizedType [159751,159773]
                    SimpleType [159751,159760]
                        QualifiedName: Map.Entry [159751,159760]
                    SimpleType [159761,159766]
                        SimpleName: Token [159761,159766]
                    SimpleType [159768,159772]
                        SimpleName: Unit [159768,159772]
                VariableDeclarationFragment [159774,159805]
                    SimpleName: en [159774,159776]
                    MethodInvocation [159779,159805]
                        METHOD_INVOCATION_RECEIVER [159779,159791]
                            SimpleName: sortedTokens [159779,159791]
                        SimpleName: floorEntry [159792,159802]
                        METHOD_INVOCATION_ARGUMENTS [159803,159804]
                            SimpleName: t [159803,159804]
            IfStatement [159816,159875]
                InfixExpression [159820,159830]
                    SimpleName: en [159820,159822]
                    INFIX_EXPRESSION_OPERATOR: == [159823,159825]
                    NullLiteral [159826,159830]
                ExpressionStatement [159845,159875]
                    Assignment [159845,159874]
                        SimpleName: en [159845,159847]
                        ASSIGNMENT_OPERATOR: = [159848,159849]
                        MethodInvocation [159850,159874]
                            METHOD_INVOCATION_RECEIVER [159850,159862]
                                SimpleName: sortedTokens [159850,159862]
                            SimpleName: lastEntry [159863,159872]
            ReturnStatement [159885,159895]
                SimpleName: en [159892,159894]
    MethodDeclaration [159910,159988]
        SimpleType [159910,159914]
            SimpleName: Unit [159910,159914]
        SimpleName: unitFor [159915,159922]
        SingleVariableDeclaration [159923,159930]
            SimpleType [159923,159928]
                SimpleName: Token [159923,159928]
            SimpleName: t [159929,159930]
        Block [159937,159988]
            ReturnStatement [159948,159981]
                MethodInvocation [159955,159980]
                    METHOD_INVOCATION_RECEIVER [159955,159969]
                        MethodInvocation [159955,159969]
                            SimpleName: mapEntryFor [159955,159966]
                            METHOD_INVOCATION_ARGUMENTS [159967,159968]
                                SimpleName: t [159967,159968]
                    SimpleName: getValue [159970,159978]
    MethodDeclaration [159996,160133]
        Modifier: private [159996,160003]
        PrimitiveType: double [160004,160010]
        SimpleName: optimalTokenOwnership [160011,160032]
        SingleVariableDeclaration [160033,160048]
            PrimitiveType: int [160033,160036]
            SimpleName: tokensToAdd [160037,160048]
        Block [160055,160133]
            ReturnStatement [160066,160126]
                InfixExpression [160073,160125]
                    InfixExpression [160073,160087]
                        NumberLiteral: 1.0 [160073,160076]
                        INFIX_EXPRESSION_OPERATOR: * [160077,160078]
                        SimpleName: replicas [160079,160087]
                    INFIX_EXPRESSION_OPERATOR: / [160088,160089]
                    ParenthesizedExpression [160090,160125]
                        InfixExpression [160091,160124]
                            MethodInvocation [160091,160110]
                                METHOD_INVOCATION_RECEIVER [160091,160103]
                                    SimpleName: sortedTokens [160091,160103]
                                SimpleName: size [160104,160108]
                            INFIX_EXPRESSION_OPERATOR: + [160111,160112]
                            SimpleName: tokensToAdd [160113,160124]
    MethodDeclaration [160141,160687]
        Javadoc [160141,160415]
            TagElement [160153,160406]
                TextElement: Selects from  [160153,160166]
                TagElement [160166,160176]
                    TextElement:  t1 [160172,160175]
                TextElement: ,  [160176,160178]
                TagElement [160178,160188]
                    TextElement:  t2 [160184,160187]
                TextElement:  the token that forms a bigger range with  [160188,160230]
                TagElement [160230,160245]
                    TextElement:  towards [160236,160244]
                TextElement:  as the upper bound, [160245,160265]
                TextElement: taking into account wrapping. [160274,160303]
                TextElement: Unlike Token.size(), equality is taken to mean "same as" rather than covering the whole range. [160312,160406]
        Modifier: private [160421,160428]
        Modifier: static [160429,160435]
        SimpleType [160436,160441]
            SimpleName: Token [160436,160441]
        SimpleName: furtherStartToken [160442,160459]
        SingleVariableDeclaration [160460,160468]
            SimpleType [160460,160465]
                SimpleName: Token [160460,160465]
            SimpleName: t1 [160466,160468]
        SingleVariableDeclaration [160470,160478]
            SimpleType [160470,160475]
                SimpleName: Token [160470,160475]
            SimpleName: t2 [160476,160478]
        SingleVariableDeclaration [160480,160493]
            SimpleType [160480,160485]
                SimpleName: Token [160480,160485]
            SimpleName: towards [160486,160493]
        Block [160500,160687]
            IfStatement [160511,160558]
                MethodInvocation [160515,160533]
                    METHOD_INVOCATION_RECEIVER [160515,160517]
                        SimpleName: t1 [160515,160517]
                    SimpleName: equals [160518,160524]
                    METHOD_INVOCATION_ARGUMENTS [160525,160532]
                        SimpleName: towards [160525,160532]
                ReturnStatement [160548,160558]
                    SimpleName: t2 [160555,160557]
            IfStatement [160568,160615]
                MethodInvocation [160572,160590]
                    METHOD_INVOCATION_RECEIVER [160572,160574]
                        SimpleName: t2 [160572,160574]
                    SimpleName: equals [160575,160581]
                    METHOD_INVOCATION_ARGUMENTS [160582,160589]
                        SimpleName: towards [160582,160589]
                ReturnStatement [160605,160615]
                    SimpleName: t1 [160612,160614]
            ReturnStatement [160627,160680]
                ConditionalExpression [160634,160679]
                    InfixExpression [160634,160669]
                        MethodInvocation [160634,160650]
                            METHOD_INVOCATION_RECEIVER [160634,160636]
                                SimpleName: t1 [160634,160636]
                            SimpleName: size [160637,160641]
                            METHOD_INVOCATION_ARGUMENTS [160642,160649]
                                SimpleName: towards [160642,160649]
                        INFIX_EXPRESSION_OPERATOR: > [160651,160652]
                        MethodInvocation [160653,160669]
                            METHOD_INVOCATION_RECEIVER [160653,160655]
                                SimpleName: t2 [160653,160655]
                            SimpleName: size [160656,160660]
                            METHOD_INVOCATION_ARGUMENTS [160661,160668]
                                SimpleName: towards [160661,160668]
                    SimpleName: t1 [160672,160674]
                    SimpleName: t2 [160677,160679]
    MethodDeclaration [160695,160766]
        Modifier: private [160695,160702]
        Modifier: static [160703,160709]
        PrimitiveType: double [160710,160716]
        SimpleName: sq [160717,160719]
        SingleVariableDeclaration [160720,160728]
            PrimitiveType: double [160720,160726]
            SimpleName: d [160727,160728]
        Block [160735,160766]
            ReturnStatement [160746,160759]
                InfixExpression [160753,160758]
                    SimpleName: d [160753,160754]
                    INFIX_EXPRESSION_OPERATOR: * [160755,160756]
                    SimpleName: d [160757,160758]
    MethodDeclaration [160776,161030]
        Javadoc [160776,160874]
            TagElement [160788,160865]
                TextElement: For testing, remove the given unit preserving correct state of the allocator. [160788,160865]
        PrimitiveType: void [160880,160884]
        SimpleName: removeUnit [160885,160895]
        SingleVariableDeclaration [160896,160902]
            SimpleType [160896,160900]
                SimpleName: Unit [160896,160900]
            SimpleName: n [160901,160902]
        Block [160909,161030]
            VariableDeclarationStatement [160920,160973]
                ParameterizedType [160920,160937]
                    SimpleType [160920,160930]
                        SimpleName: Collection [160920,160930]
                    SimpleType [160931,160936]
                        SimpleName: Token [160931,160936]
                VariableDeclarationFragment [160938,160972]
                    SimpleName: tokens [160938,160944]
                    MethodInvocation [160947,160972]
                        METHOD_INVOCATION_RECEIVER [160947,160959]
                            SimpleName: unitToTokens [160947,160959]
                        SimpleName: removeAll [160960,160969]
                        METHOD_INVOCATION_ARGUMENTS [160970,160971]
                            SimpleName: n [160970,160971]
            ExpressionStatement [160983,161023]
                MethodInvocation [160983,161022]
                    METHOD_INVOCATION_RECEIVER [160983,161004]
                        MethodInvocation [160983,161004]
                            METHOD_INVOCATION_RECEIVER [160983,160995]
                                SimpleName: sortedTokens [160983,160995]
                            SimpleName: keySet [160996,161002]
                    SimpleName: removeAll [161005,161014]
                    METHOD_INVOCATION_ARGUMENTS [161015,161021]
                        SimpleName: tokens [161015,161021]
    MethodDeclaration [161038,161112]
        PrimitiveType: int [161038,161041]
        SimpleName: unitCount [161042,161051]
        Block [161059,161112]
            ReturnStatement [161070,161105]
                MethodInvocation [161077,161104]
                    METHOD_INVOCATION_RECEIVER [161077,161097]
                        MethodInvocation [161077,161097]
                            METHOD_INVOCATION_RECEIVER [161077,161089]
                                SimpleName: unitToTokens [161077,161089]
                            SimpleName: asMap [161090,161095]
                    SimpleName: size [161098,161102]
    MethodDeclaration [161120,161202]
        Modifier: public [161120,161126]
        SimpleType [161127,161133]
            SimpleName: String [161127,161133]
        SimpleName: toString [161134,161142]
        Block [161150,161202]
            ReturnStatement [161161,161195]
                MethodInvocation [161168,161194]
                    METHOD_INVOCATION_RECEIVER [161168,161178]
                        MethodInvocation [161168,161178]
                            SimpleName: getClass [161168,161176]
                    SimpleName: getSimpleName [161179,161192]
    MethodDeclaration [161282,161648]
        Modifier: private [161282,161289]
        Modifier: static [161290,161296]
        TypeParameter [161298,161302]
            SimpleName: Unit [161298,161302]
        SimpleType [161304,161313]
            SimpleName: GroupInfo [161304,161313]
        SimpleName: getGroup [161314,161322]
        SingleVariableDeclaration [161323,161332]
            SimpleType [161323,161327]
                SimpleName: Unit [161323,161327]
            SimpleName: unit [161328,161332]
        SingleVariableDeclaration [161334,161365]
            ParameterizedType [161334,161356]
                SimpleType [161334,161337]
                    SimpleName: Map [161334,161337]
                SimpleType [161338,161344]
                    SimpleName: Object [161338,161344]
                SimpleType [161346,161355]
                    SimpleName: GroupInfo [161346,161355]
            SimpleName: groupMap [161357,161365]
        SingleVariableDeclaration [161367,161401]
            ParameterizedType [161367,161392]
                SimpleType [161367,161386]
                    SimpleName: ReplicationStrategy [161367,161386]
                SimpleType [161387,161391]
                    SimpleName: Unit [161387,161391]
            SimpleName: strategy [161393,161401]
        Block [161408,161648]
            VariableDeclarationStatement [161419,161463]
                SimpleType [161419,161425]
                    SimpleName: Object [161419,161425]
                VariableDeclarationFragment [161426,161462]
                    SimpleName: groupClass [161426,161436]
                    MethodInvocation [161439,161462]
                        METHOD_INVOCATION_RECEIVER [161439,161447]
                            SimpleName: strategy [161439,161447]
                        SimpleName: getGroup [161448,161456]
                        METHOD_INVOCATION_ARGUMENTS [161457,161461]
                            SimpleName: unit [161457,161461]
            VariableDeclarationStatement [161473,161516]
                SimpleType [161473,161482]
                    SimpleName: GroupInfo [161473,161482]
                VariableDeclarationFragment [161483,161515]
                    SimpleName: group [161483,161488]
                    MethodInvocation [161491,161515]
                        METHOD_INVOCATION_RECEIVER [161491,161499]
                            SimpleName: groupMap [161491,161499]
                        SimpleName: get [161500,161503]
                        METHOD_INVOCATION_ARGUMENTS [161504,161514]
                            SimpleName: groupClass [161504,161514]
            IfStatement [161526,161618]
                InfixExpression [161530,161543]
                    SimpleName: group [161530,161535]
                    INFIX_EXPRESSION_OPERATOR: == [161536,161538]
                    NullLiteral [161539,161543]
                ExpressionStatement [161558,161618]
                    MethodInvocation [161558,161617]
                        METHOD_INVOCATION_RECEIVER [161558,161566]
                            SimpleName: groupMap [161558,161566]
                        SimpleName: put [161567,161570]
                        METHOD_INVOCATION_ARGUMENTS [161571,161616]
                            SimpleName: groupClass [161571,161581]
                            Assignment [161583,161616]
                                SimpleName: group [161583,161588]
                                ASSIGNMENT_OPERATOR: = [161589,161590]
                                ClassInstanceCreation [161591,161616]
                                    SimpleType [161595,161604]
                                        SimpleName: GroupInfo [161595,161604]
                                    SimpleName: groupClass [161605,161615]
            ReturnStatement [161628,161641]
                SimpleName: group [161635,161640]
    TypeDeclaration [161656,162672]
        Javadoc [161656,161739]
            TagElement [161668,161730]
                TextElement: Unique group object that one or more UnitInfo objects link to. [161668,161730]
        Modifier: private [161745,161752]
        Modifier: static [161753,161759]
        TYPE_DECLARATION_KIND: class [161760,161765]
        SimpleName: GroupInfo [161766,161775]
        FieldDeclaration [161792,161911]
            Javadoc [161792,161882]
                TagElement [161808,161869]
                    TextElement: Group identifier given by ReplicationStrategy.getGroup(Unit). [161808,161869]
            Modifier: final [161892,161897]
            SimpleType [161898,161904]
                SimpleName: Object [161898,161904]
            VariableDeclarationFragment [161905,161910]
                SimpleName: group [161905,161910]
        FieldDeclaration [161923,162175]
            Javadoc [161923,162139]
                TagElement [161939,162126]
                    TextElement: Seen marker. When non-null, the group is already seen in replication walks. [161939,162014]
                    TextElement: Also points to previous seen group to enable walking the seen groups and clearing the seen markers. [162027,162126]
            SimpleType [162149,162158]
                SimpleName: GroupInfo [162149,162158]
            VariableDeclarationFragment [162159,162174]
                SimpleName: prevSeen [162159,162167]
                NullLiteral [162170,162174]
        FieldDeclaration [162185,162298]
            Javadoc [162185,162258]
                TagElement [162201,162245]
                    TextElement: Same marker/chain used by populateTokenInfo. [162201,162245]
            SimpleType [162268,162277]
                SimpleName: GroupInfo [162268,162277]
            VariableDeclarationFragment [162278,162297]
                SimpleName: prevPopulate [162278,162290]
                NullLiteral [162293,162297]
        FieldDeclaration [162310,162440]
            Javadoc [162310,162380]
                TagElement [162326,162367]
                    TextElement: Value used as terminator for seen chains. [162326,162367]
            Modifier: static [162390,162396]
            SimpleType [162397,162406]
                SimpleName: GroupInfo [162397,162406]
            VariableDeclarationFragment [162407,162439]
                SimpleName: TERMINATOR [162407,162417]
                ClassInstanceCreation [162420,162439]
                    SimpleType [162424,162433]
                        SimpleName: GroupInfo [162424,162433]
                    NullLiteral [162434,162438]
        MethodDeclaration [162452,162537]
            Modifier: public [162452,162458]
            SimpleName: GroupInfo [162459,162468]
            SingleVariableDeclaration [162469,162481]
                SimpleType [162469,162475]
                    SimpleName: Object [162469,162475]
                SimpleName: group [162476,162481]
            Block [162492,162537]
                ExpressionStatement [162507,162526]
                    Assignment [162507,162525]
                        FieldAccess [162507,162517]
                            ThisExpression [162507,162511]
                            SimpleName: group [162512,162517]
                        ASSIGNMENT_OPERATOR: = [162518,162519]
                        SimpleName: group [162520,162525]
        MethodDeclaration [162549,162665]
            Modifier: public [162549,162555]
            SimpleType [162556,162562]
                SimpleName: String [162556,162562]
            SimpleName: toString [162563,162571]
            Block [162583,162665]
                ReturnStatement [162598,162654]
                    InfixExpression [162605,162653]
                        MethodInvocation [162605,162621]
                            METHOD_INVOCATION_RECEIVER [162605,162610]
                                SimpleName: group [162605,162610]
                            SimpleName: toString [162611,162619]
                        INFIX_EXPRESSION_OPERATOR: + [162622,162623]
                        ParenthesizedExpression [162624,162653]
                            ConditionalExpression [162625,162652]
                                InfixExpression [162625,162641]
                                    SimpleName: prevSeen [162625,162633]
                                    INFIX_EXPRESSION_OPERATOR: != [162634,162636]
                                    NullLiteral [162637,162641]
                                StringLiteral: "*" [162644,162647]
                                StringLiteral: "" [162650,162652]
    TypeDeclaration [162680,164073]
        Javadoc [162680,162828]
            TagElement [162692,162819]
                TextElement: Unit information created and used by ReplicationAwareTokenDistributor. Contained vnodes all point to the same [162692,162801]
                TextElement: instance. [162810,162819]
        Modifier: static [162834,162840]
        TYPE_DECLARATION_KIND: class [162841,162846]
        SimpleName: UnitInfo [162847,162855]
        TypeParameter [162856,162860]
            SimpleName: Unit [162856,162860]
        FieldDeclaration [162878,162894]
            Modifier: final [162878,162883]
            SimpleType [162884,162888]
                SimpleName: Unit [162884,162888]
            VariableDeclarationFragment [162889,162893]
                SimpleName: unit [162889,162893]
        FieldDeclaration [162904,162926]
            Modifier: final [162904,162909]
            SimpleType [162910,162919]
                SimpleName: GroupInfo [162910,162919]
            VariableDeclarationFragment [162920,162925]
                SimpleName: group [162920,162925]
        FieldDeclaration [162936,162953]
            PrimitiveType: double [162936,162942]
            VariableDeclarationFragment [162943,162952]
                SimpleName: ownership [162943,162952]
        FieldDeclaration [162963,162978]
            PrimitiveType: int [162963,162966]
            VariableDeclarationFragment [162967,162977]
                SimpleName: tokenCount [162967,162977]
        FieldDeclaration [162990,163154]
            Javadoc [162990,163120]
                TagElement [163006,163107]
                    TextElement: During evaluateImprovement this is used to form a chain of units affected by the candidate insertion. [163006,163107]
            ParameterizedType [163130,163144]
                SimpleType [163130,163138]
                    SimpleName: UnitInfo [163130,163138]
                SimpleType [163139,163143]
                    SimpleName: Unit [163139,163143]
            VariableDeclarationFragment [163145,163153]
                SimpleName: prevUsed [163145,163153]
        FieldDeclaration [163164,163310]
            Javadoc [163164,163275]
                TagElement [163180,163262]
                    TextElement: During evaluateImprovement this holds the ownership after the candidate insertion. [163180,163262]
            PrimitiveType: double [163285,163291]
            VariableDeclarationFragment [163292,163309]
                SimpleName: adjustedOwnership [163292,163309]
        MethodDeclaration [163322,163486]
            Modifier: private [163322,163329]
            SimpleName: UnitInfo [163330,163338]
            SingleVariableDeclaration [163339,163348]
                SimpleType [163339,163343]
                    SimpleName: Unit [163339,163343]
                SimpleName: unit [163344,163348]
            SingleVariableDeclaration [163350,163365]
                SimpleType [163350,163359]
                    SimpleName: GroupInfo [163350,163359]
                SimpleName: group [163360,163365]
            Block [163376,163486]
                ExpressionStatement [163391,163408]
                    Assignment [163391,163407]
                        FieldAccess [163391,163400]
                            ThisExpression [163391,163395]
                            SimpleName: unit [163396,163400]
                        ASSIGNMENT_OPERATOR: = [163401,163402]
                        SimpleName: unit [163403,163407]
                ExpressionStatement [163422,163441]
                    Assignment [163422,163440]
                        FieldAccess [163422,163432]
                            ThisExpression [163422,163426]
                            SimpleName: group [163427,163432]
                        ASSIGNMENT_OPERATOR: = [163433,163434]
                        SimpleName: group [163435,163440]
                ExpressionStatement [163455,163475]
                    Assignment [163455,163474]
                        FieldAccess [163455,163470]
                            ThisExpression [163455,163459]
                            SimpleName: tokenCount [163460,163470]
                        ASSIGNMENT_OPERATOR: = [163471,163472]
                        NumberLiteral: 0 [163473,163474]
        MethodDeclaration [163498,163735]
            Modifier: public [163498,163504]
            SimpleName: UnitInfo [163505,163513]
            SingleVariableDeclaration [163514,163523]
                SimpleType [163514,163518]
                    SimpleName: Unit [163514,163518]
                SimpleName: unit [163519,163523]
            SingleVariableDeclaration [163525,163541]
                PrimitiveType: double [163525,163531]
                SimpleName: ownership [163532,163541]
            SingleVariableDeclaration [163543,163574]
                ParameterizedType [163543,163565]
                    SimpleType [163543,163546]
                        SimpleName: Map [163543,163546]
                    SimpleType [163547,163553]
                        SimpleName: Object [163547,163553]
                    SimpleType [163555,163564]
                        SimpleName: GroupInfo [163555,163564]
                SimpleName: groupMap [163566,163574]
            SingleVariableDeclaration [163576,163610]
                ParameterizedType [163576,163601]
                    SimpleType [163576,163595]
                        SimpleName: ReplicationStrategy [163576,163595]
                    SimpleType [163596,163600]
                        SimpleName: Unit [163596,163600]
                SimpleName: strategy [163602,163610]
            Block [163621,163735]
                ConstructorInvocation [163636,163683]
                    SimpleName: unit [163641,163645]
                    MethodInvocation [163647,163681]
                        SimpleName: getGroup [163647,163655]
                        METHOD_INVOCATION_ARGUMENTS [163656,163680]
                            SimpleName: unit [163656,163660]
                            SimpleName: groupMap [163662,163670]
                            SimpleName: strategy [163672,163680]
                ExpressionStatement [163697,163724]
                    Assignment [163697,163723]
                        FieldAccess [163697,163711]
                            ThisExpression [163697,163701]
                            SimpleName: ownership [163702,163711]
                        ASSIGNMENT_OPERATOR: = [163712,163713]
                        SimpleName: ownership [163714,163723]
        MethodDeclaration [163747,164066]
            Modifier: public [163747,163753]
            SimpleType [163754,163760]
                SimpleName: String [163754,163760]
            SimpleName: toString [163761,163769]
            Block [163781,164066]
                ReturnStatement [163796,164055]
                    MethodInvocation [163803,164054]
                        METHOD_INVOCATION_RECEIVER [163803,163809]
                            SimpleName: String [163803,163809]
                        SimpleName: format [163810,163816]
                        METHOD_INVOCATION_ARGUMENTS [163817,164053]
                            StringLiteral: "%s%s(%.2e)%s" [163817,163831]
                            SimpleName: unit [163854,163858]
                            ConditionalExpression [163860,163942]
                                InfixExpression [163860,163879]
                                    SimpleName: unit [163860,163864]
                                    INFIX_EXPRESSION_OPERATOR: == [163865,163867]
                                    QualifiedName: group.group [163868,163879]
                                ParenthesizedExpression [163882,163917]
                                    ConditionalExpression [163883,163916]
                                        InfixExpression [163883,163905]
                                            QualifiedName: group.prevSeen [163883,163897]
                                            INFIX_EXPRESSION_OPERATOR: != [163898,163900]
                                            NullLiteral [163901,163905]
                                        StringLiteral: "*" [163908,163911]
                                        StringLiteral: "" [163914,163916]
                                InfixExpression [163920,163942]
                                    StringLiteral: ":" [163920,163923]
                                    INFIX_EXPRESSION_OPERATOR: + [163924,163925]
                                    MethodInvocation [163926,163942]
                                        METHOD_INVOCATION_RECEIVER [163926,163931]
                                            SimpleName: group [163926,163931]
                                        SimpleName: toString [163932,163940]
                            SimpleName: ownership [163965,163974]
                            ConditionalExpression [163976,164053]
                                InfixExpression [163976,163992]
                                    SimpleName: prevUsed [163976,163984]
                                    INFIX_EXPRESSION_OPERATOR: != [163985,163987]
                                    NullLiteral [163988,163992]
                                ParenthesizedExpression [163995,164048]
                                    ConditionalExpression [163996,164047]
                                        InfixExpression [163996,164012]
                                            SimpleName: prevUsed [163996,164004]
                                            INFIX_EXPRESSION_OPERATOR: == [164005,164007]
                                            ThisExpression [164008,164012]
                                        StringLiteral: "#" [164015,164018]
                                        InfixExpression [164021,164047]
                                            StringLiteral: "->" [164021,164025]
                                            INFIX_EXPRESSION_OPERATOR: + [164026,164027]
                                            MethodInvocation [164028,164047]
                                                METHOD_INVOCATION_RECEIVER [164028,164036]
                                                    SimpleName: prevUsed [164028,164036]
                                                SimpleName: toString [164037,164045]
                                StringLiteral: "" [164051,164053]
    TypeDeclaration [164081,165179]
        Modifier: private [164081,164088]
        Modifier: static [164089,164095]
        TYPE_DECLARATION_KIND: class [164096,164101]
        SimpleName: CircularList [164102,164114]
        TypeParameter [164115,164140]
            SimpleName: T [164115,164116]
            ParameterizedType [164125,164140]
                SimpleType [164125,164137]
                    SimpleName: CircularList [164125,164137]
                SimpleType [164138,164139]
                    SimpleName: T [164138,164139]
        FieldDeclaration [164158,164165]
            SimpleType [164158,164159]
                SimpleName: T [164158,164159]
            VariableDeclarationFragment [164160,164164]
                SimpleName: prev [164160,164164]
        FieldDeclaration [164175,164182]
            SimpleType [164175,164176]
                SimpleName: T [164175,164176]
            VariableDeclarationFragment [164177,164181]
                SimpleName: next [164177,164181]
        MethodDeclaration [164194,164808]
            Javadoc [164194,164372]
                TagElement [164210,164359]
                    TextElement: Inserts this after unit in the circular list which starts at head. Returns the new head of the list, which [164210,164316]
                    TextElement: only changes if head was null. [164329,164359]
            SingleMemberAnnotation [164382,164412]
                SimpleName: SuppressWarnings [164383,164399]
                StringLiteral: "unchecked" [164400,164411]
            SimpleType [164422,164423]
                SimpleName: T [164422,164423]
            SimpleName: insertAfter [164424,164435]
            SingleVariableDeclaration [164436,164442]
                SimpleType [164436,164437]
                    SimpleName: T [164436,164437]
                SimpleName: head [164438,164442]
            SingleVariableDeclaration [164444,164450]
                SimpleType [164444,164445]
                    SimpleName: T [164444,164445]
                SimpleName: unit [164446,164450]
            Block [164461,164808]
                IfStatement [164476,164571]
                    InfixExpression [164480,164492]
                        SimpleName: head [164480,164484]
                        INFIX_EXPRESSION_OPERATOR: == [164485,164487]
                        NullLiteral [164488,164492]
                    Block [164507,164571]
                        ReturnStatement [164526,164556]
                            Assignment [164533,164555]
                                SimpleName: prev [164533,164537]
                                ASSIGNMENT_OPERATOR: = [164538,164539]
                                Assignment [164540,164555]
                                    SimpleName: next [164540,164544]
                                    ASSIGNMENT_OPERATOR: = [164545,164546]
                                    CastExpression [164547,164555]
                                        SimpleType [164548,164549]
                                            SimpleName: T [164548,164549]
                                        ThisExpression [164551,164555]
                AssertStatement [164585,164605]
                    InfixExpression [164592,164604]
                        SimpleName: unit [164592,164596]
                        INFIX_EXPRESSION_OPERATOR: != [164597,164599]
                        NullLiteral [164600,164604]
                AssertStatement [164619,164644]
                    InfixExpression [164626,164643]
                        QualifiedName: unit.next [164626,164635]
                        INFIX_EXPRESSION_OPERATOR: != [164636,164638]
                        NullLiteral [164639,164643]
                ExpressionStatement [164658,164670]
                    Assignment [164658,164669]
                        SimpleName: prev [164658,164662]
                        ASSIGNMENT_OPERATOR: = [164663,164664]
                        SimpleName: unit [164665,164669]
                ExpressionStatement [164684,164701]
                    Assignment [164684,164700]
                        SimpleName: next [164684,164688]
                        ASSIGNMENT_OPERATOR: = [164689,164690]
                        QualifiedName: unit.next [164691,164700]
                ExpressionStatement [164715,164736]
                    Assignment [164715,164735]
                        QualifiedName: prev.next [164715,164724]
                        ASSIGNMENT_OPERATOR: = [164725,164726]
                        CastExpression [164727,164735]
                            SimpleType [164728,164729]
                                SimpleName: T [164728,164729]
                            ThisExpression [164731,164735]
                ExpressionStatement [164750,164771]
                    Assignment [164750,164770]
                        QualifiedName: next.prev [164750,164759]
                        ASSIGNMENT_OPERATOR: = [164760,164761]
                        CastExpression [164762,164770]
                            SimpleType [164763,164764]
                                SimpleName: T [164763,164764]
                            ThisExpression [164766,164770]
                ReturnStatement [164785,164797]
                    SimpleName: head [164792,164796]
        MethodDeclaration [164820,165172]
            Javadoc [164820,164986]
                TagElement [164836,164973]
                    TextElement: Removes this from the list that starts at head. Returns the new head of the list, which only changes if the [164836,164943]
                    TextElement: head was removed. [164956,164973]
            SimpleType [164996,164997]
                SimpleName: T [164996,164997]
            SimpleName: removeFrom [164998,165008]
            SingleVariableDeclaration [165009,165015]
                SimpleType [165009,165010]
                    SimpleName: T [165009,165010]
                SimpleName: head [165011,165015]
            Block [165026,165172]
                ExpressionStatement [165041,165058]
                    Assignment [165041,165057]
                        QualifiedName: next.prev [165041,165050]
                        ASSIGNMENT_OPERATOR: = [165051,165052]
                        SimpleName: prev [165053,165057]
                ExpressionStatement [165072,165089]
                    Assignment [165072,165088]
                        QualifiedName: prev.next [165072,165081]
                        ASSIGNMENT_OPERATOR: = [165082,165083]
                        SimpleName: next [165084,165088]
                ReturnStatement [165103,165161]
                    ConditionalExpression [165110,165160]
                        InfixExpression [165110,165122]
                            ThisExpression [165110,165114]
                            INFIX_EXPRESSION_OPERATOR: == [165115,165117]
                            SimpleName: head [165118,165122]
                        ParenthesizedExpression [165125,165153]
                            ConditionalExpression [165126,165152]
                                InfixExpression [165126,165138]
                                    ThisExpression [165126,165130]
                                    INFIX_EXPRESSION_OPERATOR: == [165131,165133]
                                    SimpleName: next [165134,165138]
                                NullLiteral [165141,165145]
                                SimpleName: next [165148,165152]
                        SimpleName: head [165156,165160]
    TypeDeclaration [165187,166780]
        Modifier: private [165187,165194]
        Modifier: static [165195,165201]
        TYPE_DECLARATION_KIND: class [165202,165207]
        SimpleName: BaseTokenInfo [165208,165221]
        TypeParameter [165222,165226]
            SimpleName: Unit [165222,165226]
        TypeParameter [165228,165260]
            SimpleName: T [165228,165229]
            ParameterizedType [165238,165260]
                SimpleType [165238,165251]
                    SimpleName: BaseTokenInfo [165238,165251]
                SimpleType [165252,165256]
                    SimpleName: Unit [165252,165256]
                SimpleType [165258,165259]
                    SimpleName: T [165258,165259]
        ParameterizedType [165270,165285]
            SimpleType [165270,165282]
                SimpleName: CircularList [165270,165282]
            SimpleType [165283,165284]
                SimpleName: T [165283,165284]
        FieldDeclaration [165302,165320]
            Modifier: final [165302,165307]
            SimpleType [165308,165313]
                SimpleName: Token [165308,165313]
            VariableDeclarationFragment [165314,165319]
                SimpleName: token [165314,165319]
        FieldDeclaration [165330,165362]
            Modifier: final [165330,165335]
            ParameterizedType [165336,165350]
                SimpleType [165336,165344]
                    SimpleName: UnitInfo [165336,165344]
                SimpleType [165345,165349]
                    SimpleName: Unit [165345,165349]
            VariableDeclarationFragment [165351,165361]
                SimpleName: owningUnit [165351,165361]
        FieldDeclaration [165374,165657]
            Javadoc [165374,165624]
                TagElement [165390,165611]
                    TextElement: Start of the replication span for the vnode, i.e. the first token of the RF'th group seen before the token. [165390,165497]
                    TextElement: The replicated ownership of the unit is the range between  [165510,165568]
                    TagElement [165568,165592]
                        TextElement:  replicationStart [165574,165591]
                    TextElement:  and  [165592,165597]
                    TagElement [165597,165610]
                        TextElement:  token [165603,165609]
                    TextElement: . [165610,165611]
            SimpleType [165634,165639]
                SimpleName: Token [165634,165639]
            VariableDeclarationFragment [165640,165656]
                SimpleName: replicationStart [165640,165656]
        FieldDeclaration [165667,166081]
            Javadoc [165667,166044]
                TagElement [165683,166031]
                    TextElement: The closest position that the new candidate can take to become the new replication start. If candidate is [165683,165788]
                    TextElement: closer, the start moves to this position. Used to determine replicationStart after insertion of new token. [165801,165907]
                    TextElement: Usually the RF minus one boundary, i.e. the first token of the RF-1'th group seen before the token. [165932,166031]
            SimpleType [166054,166059]
                SimpleName: Token [166054,166059]
            VariableDeclarationFragment [166060,166080]
                SimpleName: replicationThreshold [166060,166080]
        FieldDeclaration [166091,166247]
            Javadoc [166091,166206]
                TagElement [166107,166193]
                    TextElement: Current replicated ownership. This number is reflected in the owning unit's ownership. [166107,166193]
            PrimitiveType: double [166216,166222]
            VariableDeclarationFragment [166223,166246]
                SimpleName: replicatedOwnership [166223,166242]
                NumberLiteral: 0 [166245,166246]
        MethodDeclaration [166259,166417]
            Modifier: public [166259,166265]
            SimpleName: BaseTokenInfo [166266,166279]
            SingleVariableDeclaration [166280,166291]
                SimpleType [166280,166285]
                    SimpleName: Token [166280,166285]
                SimpleName: token [166286,166291]
            SingleVariableDeclaration [166293,166318]
                ParameterizedType [166293,166307]
                    SimpleType [166293,166301]
                        SimpleName: UnitInfo [166293,166301]
                    SimpleType [166302,166306]
                        SimpleName: Unit [166302,166306]
                SimpleName: owningUnit [166308,166318]
            Block [166329,166417]
                ExpressionStatement [166344,166363]
                    Assignment [166344,166362]
                        FieldAccess [166344,166354]
                            ThisExpression [166344,166348]
                            SimpleName: token [166349,166354]
                        ASSIGNMENT_OPERATOR: = [166355,166356]
                        SimpleName: token [166357,166362]
                ExpressionStatement [166377,166406]
                    Assignment [166377,166405]
                        FieldAccess [166377,166392]
                            ThisExpression [166377,166381]
                            SimpleName: owningUnit [166382,166392]
                        ASSIGNMENT_OPERATOR: = [166393,166394]
                        SimpleName: owningUnit [166395,166405]
        MethodDeclaration [166429,166539]
            Modifier: public [166429,166435]
            SimpleType [166436,166442]
                SimpleName: String [166436,166442]
            SimpleName: toString [166443,166451]
            Block [166463,166539]
                ReturnStatement [166478,166528]
                    MethodInvocation [166485,166527]
                        METHOD_INVOCATION_RECEIVER [166485,166491]
                            SimpleName: String [166485,166491]
                        SimpleName: format [166492,166498]
                        METHOD_INVOCATION_ARGUMENTS [166499,166526]
                            StringLiteral: "%s(%s)" [166499,166507]
                            SimpleName: token [166509,166514]
                            SimpleName: owningUnit [166516,166526]
        MethodDeclaration [166551,166773]
            Javadoc [166551,166687]
                TagElement [166567,166674]
                    TextElement: Previous unit in the token ring. For existing tokens this is prev, [166567,166633]
                    TextElement: for candidates it's "split". [166646,166674]
            ParameterizedType [166697,166712]
                SimpleType [166697,166706]
                    SimpleName: TokenInfo [166697,166706]
                SimpleType [166707,166711]
                    SimpleName: Unit [166707,166711]
            SimpleName: prevInRing [166713,166723]
            Block [166735,166773]
                ReturnStatement [166750,166762]
                    NullLiteral [166757,166761]
    TypeDeclaration [166788,167164]
        Javadoc [166788,166848]
            TagElement [166800,166839]
                TextElement: TokenInfo about existing tokens/vnodes. [166800,166839]
        Modifier: private [166854,166861]
        Modifier: static [166862,166868]
        TYPE_DECLARATION_KIND: class [166869,166874]
        SimpleName: TokenInfo [166875,166884]
        TypeParameter [166885,166889]
            SimpleName: Unit [166885,166889]
        ParameterizedType [166899,166935]
            SimpleType [166899,166912]
                SimpleName: BaseTokenInfo [166899,166912]
            SimpleType [166913,166917]
                SimpleName: Unit [166913,166917]
            ParameterizedType [166919,166934]
                SimpleType [166919,166928]
                    SimpleName: TokenInfo [166919,166928]
                SimpleType [166929,166933]
                    SimpleName: Unit [166929,166933]
        MethodDeclaration [166952,167069]
            Modifier: public [166952,166958]
            SimpleName: TokenInfo [166959,166968]
            SingleVariableDeclaration [166969,166980]
                SimpleType [166969,166974]
                    SimpleName: Token [166969,166974]
                SimpleName: token [166975,166980]
            SingleVariableDeclaration [166982,167007]
                ParameterizedType [166982,166996]
                    SimpleType [166982,166990]
                        SimpleName: UnitInfo [166982,166990]
                    SimpleType [166991,166995]
                        SimpleName: Unit [166991,166995]
                SimpleName: owningUnit [166997,167007]
            Block [167018,167069]
                SuperConstructorInvocation [167033,167058]
                    SimpleName: token [167039,167044]
                    SimpleName: owningUnit [167046,167056]
        MethodDeclaration [167081,167157]
            ParameterizedType [167081,167096]
                SimpleType [167081,167090]
                    SimpleName: TokenInfo [167081,167090]
                SimpleType [167091,167095]
                    SimpleName: Unit [167091,167095]
            SimpleName: prevInRing [167097,167107]
            Block [167119,167157]
                ReturnStatement [167134,167146]
                    SimpleName: prev [167141,167145]
    TypeDeclaration [167172,167730]
        Javadoc [167172,167237]
            TagElement [167184,167228]
                TextElement: TokenInfo about candidate new tokens/vnodes. [167184,167228]
        Modifier: private [167243,167250]
        Modifier: static [167251,167257]
        TYPE_DECLARATION_KIND: class [167258,167263]
        SimpleName: CandidateInfo [167264,167277]
        TypeParameter [167278,167282]
            SimpleName: Unit [167278,167282]
        ParameterizedType [167292,167332]
            SimpleType [167292,167305]
                SimpleName: BaseTokenInfo [167292,167305]
            SimpleType [167306,167310]
                SimpleName: Unit [167306,167310]
            ParameterizedType [167312,167331]
                SimpleType [167312,167325]
                    SimpleName: CandidateInfo [167312,167325]
                SimpleType [167326,167330]
                    SimpleName: Unit [167326,167330]
        FieldDeclaration [167412,167440]
            Modifier: final [167412,167417]
            ParameterizedType [167418,167433]
                SimpleType [167418,167427]
                    SimpleName: TokenInfo [167418,167427]
                SimpleType [167428,167432]
                    SimpleName: Unit [167428,167432]
            VariableDeclarationFragment [167434,167439]
                SimpleName: split [167434,167439]
        MethodDeclaration [167452,167629]
            Modifier: public [167452,167458]
            SimpleName: CandidateInfo [167459,167472]
            SingleVariableDeclaration [167473,167484]
                SimpleType [167473,167478]
                    SimpleName: Token [167473,167478]
                SimpleName: token [167479,167484]
            SingleVariableDeclaration [167486,167507]
                ParameterizedType [167486,167501]
                    SimpleType [167486,167495]
                        SimpleName: TokenInfo [167486,167495]
                    SimpleType [167496,167500]
                        SimpleName: Unit [167496,167500]
                SimpleName: split [167502,167507]
            SingleVariableDeclaration [167509,167534]
                ParameterizedType [167509,167523]
                    SimpleType [167509,167517]
                        SimpleName: UnitInfo [167509,167517]
                    SimpleType [167518,167522]
                        SimpleName: Unit [167518,167522]
                SimpleName: owningUnit [167524,167534]
            Block [167545,167629]
                SuperConstructorInvocation [167560,167585]
                    SimpleName: token [167566,167571]
                    SimpleName: owningUnit [167573,167583]
                ExpressionStatement [167599,167618]
                    Assignment [167599,167617]
                        FieldAccess [167599,167609]
                            ThisExpression [167599,167603]
                            SimpleName: split [167604,167609]
                        ASSIGNMENT_OPERATOR: = [167610,167611]
                        SimpleName: split [167612,167617]
        MethodDeclaration [167641,167723]
            ParameterizedType [167641,167656]
                SimpleType [167641,167650]
                    SimpleName: TokenInfo [167641,167650]
                SimpleType [167651,167655]
                    SimpleName: Unit [167651,167655]
            SimpleName: prevInRing [167657,167667]
            Block [167679,167723]
                ReturnStatement [167694,167712]
                    QualifiedName: split.prev [167701,167711]
    MethodDeclaration [167738,168126]
        Modifier: static [167738,167744]
        PrimitiveType: void [167745,167749]
        SimpleName: dumpTokens [167750,167760]
        SingleVariableDeclaration [167761,167772]
            SimpleType [167761,167767]
                SimpleName: String [167761,167767]
            SimpleName: lead [167768,167772]
        SingleVariableDeclaration [167774,167800]
            ParameterizedType [167774,167793]
                SimpleType [167774,167787]
                    SimpleName: BaseTokenInfo [167774,167787]
                WildcardType [167788,167789]
                WildcardType [167791,167792]
            SimpleName: tokens [167794,167800]
        Block [167807,168126]
            VariableDeclarationStatement [167818,167853]
                ParameterizedType [167818,167837]
                    SimpleType [167818,167831]
                        SimpleName: BaseTokenInfo [167818,167831]
                    WildcardType [167832,167833]
                    WildcardType [167835,167836]
                VariableDeclarationFragment [167838,167852]
                    SimpleName: token [167838,167843]
                    SimpleName: tokens [167846,167852]
            DoStatement [167863,168119]
                Block [167875,168077]
                    ExpressionStatement [167890,168033]
                        MethodInvocation [167890,168032]
                            METHOD_INVOCATION_RECEIVER [167890,167900]
                                QualifiedName: System.out [167890,167900]
                            SimpleName: format [167901,167907]
                            METHOD_INVOCATION_ARGUMENTS [167908,168031]
                                StringLiteral: "%s%s: rs %s rt %s size %.2e\n" [167908,167939]
                                SimpleName: lead [167941,167945]
                                SimpleName: token [167947,167952]
                                QualifiedName: token.replicationStart [167954,167976]
                                QualifiedName: token.replicationThreshold [167978,168004]
                                QualifiedName: token.replicatedOwnership [168006,168031]
                    ExpressionStatement [168047,168066]
                        Assignment [168047,168065]
                            SimpleName: token [168047,168052]
                            ASSIGNMENT_OPERATOR: = [168053,168054]
                            QualifiedName: token.next [168055,168065]
                InfixExpression [168085,168117]
                    InfixExpression [168085,168098]
                        SimpleName: token [168085,168090]
                        INFIX_EXPRESSION_OPERATOR: != [168091,168093]
                        NullLiteral [168094,168098]
                    INFIX_EXPRESSION_OPERATOR: && [168099,168101]
                    InfixExpression [168102,168117]
                        SimpleName: token [168102,168107]
                        INFIX_EXPRESSION_OPERATOR: != [168108,168110]
                        SimpleName: tokens [168111,168117]
    TypeDeclaration [168134,168714]
        Modifier: static [168134,168140]
        TYPE_DECLARATION_KIND: class [168141,168146]
        SimpleName: Weighted [168147,168155]
        TypeParameter [168156,168157]
            SimpleName: T [168156,168157]
        ParameterizedType [168170,168193]
            SimpleType [168170,168180]
                SimpleName: Comparable [168170,168180]
            ParameterizedType [168181,168192]
                SimpleType [168181,168189]
                    SimpleName: Weighted [168181,168189]
                SimpleType [168190,168191]
                    SimpleName: T [168190,168191]
        FieldDeclaration [168210,168230]
            Modifier: final [168210,168215]
            PrimitiveType: double [168216,168222]
            VariableDeclarationFragment [168223,168229]
                SimpleName: weight [168223,168229]
        FieldDeclaration [168240,168254]
            Modifier: final [168240,168245]
            SimpleType [168246,168247]
                SimpleName: T [168246,168247]
            VariableDeclarationFragment [168248,168253]
                SimpleName: value [168248,168253]
        MethodDeclaration [168266,168395]
            Modifier: public [168266,168272]
            SimpleName: Weighted [168273,168281]
            SingleVariableDeclaration [168282,168295]
                PrimitiveType: double [168282,168288]
                SimpleName: weight [168289,168295]
            SingleVariableDeclaration [168297,168304]
                SimpleType [168297,168298]
                    SimpleName: T [168297,168298]
                SimpleName: value [168299,168304]
            Block [168315,168395]
                ExpressionStatement [168330,168351]
                    Assignment [168330,168350]
                        FieldAccess [168330,168341]
                            ThisExpression [168330,168334]
                            SimpleName: weight [168335,168341]
                        ASSIGNMENT_OPERATOR: = [168342,168343]
                        SimpleName: weight [168344,168350]
                ExpressionStatement [168365,168384]
                    Assignment [168365,168383]
                        FieldAccess [168365,168375]
                            ThisExpression [168365,168369]
                            SimpleName: value [168370,168375]
                        ASSIGNMENT_OPERATOR: = [168376,168377]
                        SimpleName: value [168378,168383]
        MethodDeclaration [168407,168570]
            MarkerAnnotation [168407,168416]
                SimpleName: Override [168408,168416]
            Modifier: public [168426,168432]
            PrimitiveType: int [168433,168436]
            SimpleName: compareTo [168437,168446]
            SingleVariableDeclaration [168447,168460]
                ParameterizedType [168447,168458]
                    SimpleType [168447,168455]
                        SimpleName: Weighted [168447,168455]
                    SimpleType [168456,168457]
                        SimpleName: T [168456,168457]
                SimpleName: o [168459,168460]
            Block [168471,168570]
                VariableDeclarationStatement [168486,168534]
                    PrimitiveType: int [168486,168489]
                    VariableDeclarationFragment [168490,168533]
                        SimpleName: cmp [168490,168493]
                        MethodInvocation [168496,168533]
                            METHOD_INVOCATION_RECEIVER [168496,168502]
                                SimpleName: Double [168496,168502]
                            SimpleName: compare [168503,168510]
                            METHOD_INVOCATION_ARGUMENTS [168511,168532]
                                QualifiedName: o.weight [168511,168519]
                                FieldAccess [168521,168532]
                                    ThisExpression [168521,168525]
                                    SimpleName: weight [168526,168532]
                ReturnStatement [168548,168559]
                    SimpleName: cmp [168555,168558]
        MethodDeclaration [168582,168707]
            MarkerAnnotation [168582,168591]
                SimpleName: Override [168583,168591]
            Modifier: public [168601,168607]
            SimpleType [168608,168614]
                SimpleName: String [168608,168614]
            SimpleName: toString [168615,168623]
            Block [168635,168707]
                ReturnStatement [168650,168696]
                    MethodInvocation [168657,168695]
                        METHOD_INVOCATION_RECEIVER [168657,168663]
                            SimpleName: String [168657,168663]
                        SimpleName: format [168664,168670]
                        METHOD_INVOCATION_ARGUMENTS [168671,168694]
                            StringLiteral: "%s<%s>" [168671,168679]
                            SimpleName: value [168681,168686]
                            SimpleName: weight [168688,168694]
to
CompilationUnit [0,393262]
at 439
===
insert-tree
---
TypeDeclaration [169681,169932]
    TYPE_DECLARATION_KIND: interface [169681,169690]
    SimpleName: ReplicationStrategy [169691,169710]
    TypeParameter [169711,169715]
        SimpleName: Unit [169711,169715]
    MethodDeclaration [169725,169740]
        PrimitiveType: int [169725,169728]
        SimpleName: replicas [169729,169737]
    MethodDeclaration [169748,169929]
        Javadoc [169748,169896]
            TagElement [169760,169849]
                TextElement: Returns a group identifier. getGroup(a) == getGroup(b) iff a and b are on the same group. [169760,169849]
            TagElement [169858,169887]
                TextElement:  Some hashable object. [169865,169887]
        SimpleType [169902,169908]
            SimpleName: Object [169902,169908]
        SimpleName: getGroup [169909,169917]
        SingleVariableDeclaration [169918,169927]
            SimpleType [169918,169922]
                SimpleName: Unit [169918,169922]
            SimpleName: unit [169923,169927]
to
CompilationUnit [0,393262]
at 440
===
insert-tree
---
TypeDeclaration [171799,180662]
    Modifier: public [171799,171805]
    TYPE_DECLARATION_KIND: class [171806,171811]
    SimpleName: TokenAllocation [171812,171827]
    FieldDeclaration [171836,171920]
        Modifier: private [171836,171843]
        Modifier: static [171844,171850]
        Modifier: final [171851,171856]
        SimpleType [171857,171863]
            SimpleName: Logger [171857,171863]
        VariableDeclarationFragment [171864,171919]
            SimpleName: logger [171864,171870]
            MethodInvocation [171873,171919]
                METHOD_INVOCATION_RECEIVER [171873,171886]
                    SimpleName: LoggerFactory [171873,171886]
                SimpleName: getLogger [171887,171896]
                METHOD_INVOCATION_ARGUMENTS [171897,171918]
                    TypeLiteral [171897,171918]
                        SimpleType [171897,171912]
                            SimpleName: TokenAllocation [171897,171912]
    MethodDeclaration [171928,173579]
        Modifier: public [171928,171934]
        Modifier: static [171935,171941]
        ParameterizedType [171942,171959]
            SimpleType [171942,171952]
                SimpleName: Collection [171942,171952]
            SimpleType [171953,171958]
                SimpleName: Token [171953,171958]
        SimpleName: allocateTokens [171960,171974]
        SingleVariableDeclaration [171975,172008]
            Modifier: final [171975,171980]
            SimpleType [171981,171994]
                SimpleName: TokenMetadata [171981,171994]
            SimpleName: tokenMetadata [171995,172008]
        SingleVariableDeclaration [172062,172098]
            Modifier: final [172062,172067]
            SimpleType [172068,172095]
                SimpleName: AbstractReplicationStrategy [172068,172095]
            SimpleName: rs [172096,172098]
        SingleVariableDeclaration [172152,172182]
            Modifier: final [172152,172157]
            SimpleType [172158,172170]
                SimpleName: IPartitioner [172158,172170]
            SimpleName: partitioner [172171,172182]
        SingleVariableDeclaration [172236,172262]
            Modifier: final [172236,172241]
            SimpleType [172242,172253]
                SimpleName: InetAddress [172242,172253]
            SimpleName: endpoint [172254,172262]
        SingleVariableDeclaration [172316,172329]
            PrimitiveType: int [172316,172319]
            SimpleName: numTokens [172320,172329]
        Block [172336,173579]
            VariableDeclarationStatement [172347,172415]
                SimpleType [172347,172362]
                    SimpleName: StrategyAdapter [172347,172362]
                VariableDeclarationFragment [172363,172414]
                    SimpleName: strategy [172363,172371]
                    MethodInvocation [172374,172414]
                        SimpleName: getStrategy [172374,172385]
                        METHOD_INVOCATION_ARGUMENTS [172386,172413]
                            SimpleName: tokenMetadata [172386,172399]
                            SimpleName: rs [172401,172403]
                            SimpleName: endpoint [172405,172413]
            VariableDeclarationStatement [172425,172526]
                ParameterizedType [172425,172442]
                    SimpleType [172425,172435]
                        SimpleName: Collection [172425,172435]
                    SimpleType [172436,172441]
                        SimpleName: Token [172436,172441]
                VariableDeclarationFragment [172443,172525]
                    SimpleName: tokens [172443,172449]
                    MethodInvocation [172452,172525]
                        METHOD_INVOCATION_RECEIVER [172452,172496]
                            MethodInvocation [172452,172496]
                                SimpleName: create [172452,172458]
                                METHOD_INVOCATION_ARGUMENTS [172459,172495]
                                    SimpleName: tokenMetadata [172459,172472]
                                    SimpleName: strategy [172474,172482]
                                    SimpleName: partitioner [172484,172495]
                        SimpleName: addUnit [172497,172504]
                        METHOD_INVOCATION_ARGUMENTS [172505,172524]
                            SimpleName: endpoint [172505,172513]
                            SimpleName: numTokens [172515,172524]
            ExpressionStatement [172536,172610]
                Assignment [172536,172609]
                    SimpleName: tokens [172536,172542]
                    ASSIGNMENT_OPERATOR: = [172543,172544]
                    MethodInvocation [172545,172609]
                        SimpleName: adjustForCrossDatacenterClashes [172545,172576]
                        METHOD_INVOCATION_ARGUMENTS [172577,172608]
                            SimpleName: tokenMetadata [172577,172590]
                            SimpleName: strategy [172592,172600]
                            SimpleName: tokens [172602,172608]
            IfStatement [172622,173548]
                MethodInvocation [172626,172648]
                    METHOD_INVOCATION_RECEIVER [172626,172632]
                        SimpleName: logger [172626,172632]
                    SimpleName: isWarnEnabled [172633,172646]
                Block [172659,173548]
                    ExpressionStatement [172674,172716]
                        MethodInvocation [172674,172715]
                            METHOD_INVOCATION_RECEIVER [172674,172680]
                                SimpleName: logger [172674,172680]
                            SimpleName: warn [172681,172685]
                            METHOD_INVOCATION_ARGUMENTS [172686,172714]
                                StringLiteral: "Selected tokens {}" [172686,172706]
                                SimpleName: tokens [172708,172714]
                    VariableDeclarationStatement [172730,172807]
                        SimpleType [172730,172747]
                            SimpleName: SummaryStatistics [172730,172747]
                        VariableDeclarationFragment [172748,172806]
                            SimpleName: os [172748,172750]
                            MethodInvocation [172753,172806]
                                SimpleName: replicatedOwnershipStats [172753,172777]
                                METHOD_INVOCATION_ARGUMENTS [172778,172805]
                                    SimpleName: tokenMetadata [172778,172791]
                                    SimpleName: rs [172793,172795]
                                    SimpleName: endpoint [172797,172805]
                    VariableDeclarationStatement [172821,172889]
                        SimpleType [172821,172834]
                            SimpleName: TokenMetadata [172821,172834]
                        VariableDeclarationFragment [172835,172888]
                            SimpleName: tokenMetadataCopy [172835,172852]
                            MethodInvocation [172855,172888]
                                METHOD_INVOCATION_RECEIVER [172855,172868]
                                    SimpleName: tokenMetadata [172855,172868]
                                SimpleName: cloneOnlyTokenMap [172869,172886]
                    ExpressionStatement [172903,172958]
                        MethodInvocation [172903,172957]
                            METHOD_INVOCATION_RECEIVER [172903,172920]
                                SimpleName: tokenMetadataCopy [172903,172920]
                            SimpleName: updateNormalTokens [172921,172939]
                            METHOD_INVOCATION_ARGUMENTS [172940,172956]
                                SimpleName: tokens [172940,172946]
                                SimpleName: endpoint [172948,172956]
                    VariableDeclarationStatement [172972,173053]
                        SimpleType [172972,172989]
                            SimpleName: SummaryStatistics [172972,172989]
                        VariableDeclarationFragment [172990,173052]
                            SimpleName: ns [172990,172992]
                            MethodInvocation [172995,173052]
                                SimpleName: replicatedOwnershipStats [172995,173019]
                                METHOD_INVOCATION_ARGUMENTS [173020,173051]
                                    SimpleName: tokenMetadataCopy [173020,173037]
                                    SimpleName: rs [173039,173041]
                                    SimpleName: endpoint [173043,173051]
                    ExpressionStatement [173067,173155]
                        MethodInvocation [173067,173154]
                            METHOD_INVOCATION_RECEIVER [173067,173073]
                                SimpleName: logger [173067,173073]
                            SimpleName: warn [173074,173078]
                            METHOD_INVOCATION_ARGUMENTS [173079,173153]
                                InfixExpression [173079,173153]
                                    StringLiteral: "Replicated node load in datacentre before allocation " [173079,173134]
                                    INFIX_EXPRESSION_OPERATOR: + [173135,173136]
                                    MethodInvocation [173137,173153]
                                        SimpleName: statToString [173137,173149]
                                        METHOD_INVOCATION_ARGUMENTS [173150,173152]
                                            SimpleName: os [173150,173152]
                    ExpressionStatement [173169,173256]
                        MethodInvocation [173169,173255]
                            METHOD_INVOCATION_RECEIVER [173169,173175]
                                SimpleName: logger [173169,173175]
                            SimpleName: warn [173176,173180]
                            METHOD_INVOCATION_ARGUMENTS [173181,173254]
                                InfixExpression [173181,173254]
                                    StringLiteral: "Replicated node load in datacentre after allocation " [173181,173235]
                                    INFIX_EXPRESSION_OPERATOR: + [173236,173237]
                                    MethodInvocation [173238,173254]
                                        SimpleName: statToString [173238,173250]
                                        METHOD_INVOCATION_ARGUMENTS [173251,173253]
                                            SimpleName: ns [173251,173253]
                    IfStatement [173388,173537]
                        InfixExpression [173392,173445]
                            MethodInvocation [173392,173417]
                                METHOD_INVOCATION_RECEIVER [173392,173394]
                                    SimpleName: ns [173392,173394]
                                SimpleName: getStandardDeviation [173395,173415]
                            INFIX_EXPRESSION_OPERATOR: > [173418,173419]
                            MethodInvocation [173420,173445]
                                METHOD_INVOCATION_RECEIVER [173420,173422]
                                    SimpleName: os [173420,173422]
                                SimpleName: getStandardDeviation [173423,173443]
                        ExpressionStatement [173464,173537]
                            MethodInvocation [173464,173536]
                                METHOD_INVOCATION_RECEIVER [173464,173470]
                                    SimpleName: logger [173464,173470]
                                SimpleName: warn [173471,173475]
                                METHOD_INVOCATION_ARGUMENTS [173476,173535]
                                    StringLiteral: "Unexpected growth in standard deviation after allocation." [173476,173535]
            ReturnStatement [173558,173572]
                SimpleName: tokens [173565,173571]
    MethodDeclaration [173587,174437]
        Modifier: private [173587,173594]
        Modifier: static [173595,173601]
        ParameterizedType [173602,173619]
            SimpleType [173602,173612]
                SimpleName: Collection [173602,173612]
            SimpleType [173613,173618]
                SimpleName: Token [173613,173618]
        SimpleName: adjustForCrossDatacenterClashes [173620,173651]
        SingleVariableDeclaration [173652,173685]
            Modifier: final [173652,173657]
            SimpleType [173658,173671]
                SimpleName: TokenMetadata [173658,173671]
            SimpleName: tokenMetadata [173672,173685]
        SingleVariableDeclaration [173757,173781]
            SimpleType [173757,173772]
                SimpleName: StrategyAdapter [173757,173772]
            SimpleName: strategy [173773,173781]
        SingleVariableDeclaration [173783,173807]
            ParameterizedType [173783,173800]
                SimpleType [173783,173793]
                    SimpleName: Collection [173783,173793]
                SimpleType [173794,173799]
                    SimpleName: Token [173794,173799]
            SimpleName: tokens [173801,173807]
        Block [173814,174437]
            VariableDeclarationStatement [173825,173894]
                ParameterizedType [173825,173836]
                    SimpleType [173825,173829]
                        SimpleName: List [173825,173829]
                    SimpleType [173830,173835]
                        SimpleName: Token [173830,173835]
                VariableDeclarationFragment [173837,173893]
                    SimpleName: filtered [173837,173845]
                    MethodInvocation [173848,173893]
                        METHOD_INVOCATION_RECEIVER [173848,173853]
                            SimpleName: Lists [173848,173853]
                        SimpleName: newArrayListWithCapacity [173854,173878]
                        METHOD_INVOCATION_ARGUMENTS [173879,173892]
                            MethodInvocation [173879,173892]
                                METHOD_INVOCATION_RECEIVER [173879,173885]
                                    SimpleName: tokens [173879,173885]
                                SimpleName: size [173886,173890]
            EnhancedForStatement [173906,174404]
                SingleVariableDeclaration [173911,173918]
                    SimpleType [173911,173916]
                        SimpleName: Token [173911,173916]
                    SimpleName: t [173917,173918]
                SimpleName: tokens [173921,173927]
                Block [173938,174404]
                    WhileStatement [173953,174363]
                        InfixExpression [173960,173996]
                            MethodInvocation [173960,173988]
                                METHOD_INVOCATION_RECEIVER [173960,173973]
                                    SimpleName: tokenMetadata [173960,173973]
                                SimpleName: getEndpoint [173974,173985]
                                METHOD_INVOCATION_ARGUMENTS [173986,173987]
                                    SimpleName: t [173986,173987]
                            INFIX_EXPRESSION_OPERATOR: != [173989,173991]
                            NullLiteral [173992,173996]
                        Block [174011,174363]
                            VariableDeclarationStatement [174030,174079]
                                SimpleType [174030,174041]
                                    SimpleName: InetAddress [174030,174041]
                                VariableDeclarationFragment [174042,174078]
                                    SimpleName: other [174042,174047]
                                    MethodInvocation [174050,174078]
                                        METHOD_INVOCATION_RECEIVER [174050,174063]
                                            SimpleName: tokenMetadata [174050,174063]
                                        SimpleName: getEndpoint [174064,174075]
                                        METHOD_INVOCATION_ARGUMENTS [174076,174077]
                                            SimpleName: t [174076,174077]
                            IfStatement [174097,174305]
                                MethodInvocation [174101,174133]
                                    METHOD_INVOCATION_RECEIVER [174101,174109]
                                        SimpleName: strategy [174101,174109]
                                    SimpleName: inAllocationRing [174110,174126]
                                    METHOD_INVOCATION_ARGUMENTS [174127,174132]
                                        SimpleName: other [174127,174132]
                                ThrowStatement [174156,174305]
                                    ClassInstanceCreation [174162,174304]
                                        SimpleType [174166,174188]
                                            SimpleName: ConfigurationException [174166,174188]
                                        MethodInvocation [174189,174303]
                                            METHOD_INVOCATION_RECEIVER [174189,174195]
                                                SimpleName: String [174189,174195]
                                            SimpleName: format [174196,174202]
                                            METHOD_INVOCATION_ARGUMENTS [174203,174302]
                                                StringLiteral: "Allocated token %s already assigned to node %s. Is another node also allocating tokens?" [174203,174292]
                                                SimpleName: t [174294,174295]
                                                SimpleName: other [174297,174302]
                            ExpressionStatement [174323,174348]
                                Assignment [174323,174347]
                                    SimpleName: t [174323,174324]
                                    ASSIGNMENT_OPERATOR: = [174325,174326]
                                    MethodInvocation [174327,174347]
                                        METHOD_INVOCATION_RECEIVER [174327,174328]
                                            SimpleName: t [174327,174328]
                                        SimpleName: increaseSlightly [174329,174345]
                    ExpressionStatement [174377,174393]
                        MethodInvocation [174377,174392]
                            METHOD_INVOCATION_RECEIVER [174377,174385]
                                SimpleName: filtered [174377,174385]
                            SimpleName: add [174386,174389]
                            METHOD_INVOCATION_ARGUMENTS [174390,174391]
                                SimpleName: t [174390,174391]
            ReturnStatement [174414,174430]
                SimpleName: filtered [174421,174429]
    MethodDeclaration [174501,175166]
        Modifier: public [174501,174507]
        Modifier: static [174508,174514]
        ParameterizedType [174515,174539]
            SimpleType [174515,174518]
                SimpleName: Map [174515,174518]
            SimpleType [174519,174530]
                SimpleName: InetAddress [174519,174530]
            SimpleType [174532,174538]
                SimpleName: Double [174532,174538]
        SimpleName: evaluateReplicatedOwnership [174540,174567]
        SingleVariableDeclaration [174568,174595]
            SimpleType [174568,174581]
                SimpleName: TokenMetadata [174568,174581]
            SimpleName: tokenMetadata [174582,174595]
        SingleVariableDeclaration [174597,174627]
            SimpleType [174597,174624]
                SimpleName: AbstractReplicationStrategy [174597,174624]
            SimpleName: rs [174625,174627]
        Block [174634,175166]
            VariableDeclarationStatement [174645,174700]
                ParameterizedType [174645,174669]
                    SimpleType [174645,174648]
                        SimpleName: Map [174645,174648]
                    SimpleType [174649,174660]
                        SimpleName: InetAddress [174649,174660]
                    SimpleType [174662,174668]
                        SimpleName: Double [174662,174668]
                VariableDeclarationFragment [174670,174699]
                    SimpleName: ownership [174670,174679]
                    MethodInvocation [174682,174699]
                        METHOD_INVOCATION_RECEIVER [174682,174686]
                            SimpleName: Maps [174682,174686]
                        SimpleName: newHashMap [174687,174697]
            VariableDeclarationStatement [174710,174766]
                ParameterizedType [174710,174721]
                    SimpleType [174710,174714]
                        SimpleName: List [174710,174714]
                    SimpleType [174715,174720]
                        SimpleName: Token [174715,174720]
                VariableDeclarationFragment [174722,174765]
                    SimpleName: sortedTokens [174722,174734]
                    MethodInvocation [174737,174765]
                        METHOD_INVOCATION_RECEIVER [174737,174750]
                            SimpleName: tokenMetadata [174737,174750]
                        SimpleName: sortedTokens [174751,174763]
            VariableDeclarationStatement [174776,174821]
                ParameterizedType [174776,174791]
                    SimpleType [174776,174784]
                        SimpleName: Iterator [174776,174784]
                    SimpleType [174785,174790]
                        SimpleName: Token [174785,174790]
                VariableDeclarationFragment [174792,174820]
                    SimpleName: it [174792,174794]
                    MethodInvocation [174797,174820]
                        METHOD_INVOCATION_RECEIVER [174797,174809]
                            SimpleName: sortedTokens [174797,174809]
                        SimpleName: iterator [174810,174818]
            VariableDeclarationStatement [174831,174857]
                SimpleType [174831,174836]
                    SimpleName: Token [174831,174836]
                VariableDeclarationFragment [174837,174856]
                    SimpleName: current [174837,174844]
                    MethodInvocation [174847,174856]
                        METHOD_INVOCATION_RECEIVER [174847,174849]
                            SimpleName: it [174847,174849]
                        SimpleName: next [174850,174854]
            WhileStatement [174867,175047]
                MethodInvocation [174874,174886]
                    METHOD_INVOCATION_RECEIVER [174874,174876]
                        SimpleName: it [174874,174876]
                    SimpleName: hasNext [174877,174884]
                Block [174897,175047]
                    VariableDeclarationStatement [174912,174935]
                        SimpleType [174912,174917]
                            SimpleName: Token [174912,174917]
                        VariableDeclarationFragment [174918,174934]
                            SimpleName: next [174918,174922]
                            MethodInvocation [174925,174934]
                                METHOD_INVOCATION_RECEIVER [174925,174927]
                                    SimpleName: it [174925,174927]
                                SimpleName: next [174928,174932]
                    ExpressionStatement [174949,175007]
                        MethodInvocation [174949,175006]
                            SimpleName: addOwnership [174949,174961]
                            METHOD_INVOCATION_ARGUMENTS [174962,175005]
                                SimpleName: tokenMetadata [174962,174975]
                                SimpleName: rs [174977,174979]
                                SimpleName: current [174981,174988]
                                SimpleName: next [174990,174994]
                                SimpleName: ownership [174996,175005]
                    ExpressionStatement [175021,175036]
                        Assignment [175021,175035]
                            SimpleName: current [175021,175028]
                            ASSIGNMENT_OPERATOR: = [175029,175030]
                            SimpleName: next [175031,175035]
            ExpressionStatement [175057,175130]
                MethodInvocation [175057,175129]
                    SimpleName: addOwnership [175057,175069]
                    METHOD_INVOCATION_ARGUMENTS [175070,175128]
                        SimpleName: tokenMetadata [175070,175083]
                        SimpleName: rs [175085,175087]
                        SimpleName: current [175089,175096]
                        MethodInvocation [175098,175117]
                            METHOD_INVOCATION_RECEIVER [175098,175110]
                                SimpleName: sortedTokens [175098,175110]
                            SimpleName: get [175111,175114]
                            METHOD_INVOCATION_ARGUMENTS [175115,175116]
                                NumberLiteral: 0 [175115,175116]
                        SimpleName: ownership [175119,175128]
            ReturnStatement [175142,175159]
                SimpleName: ownership [175149,175158]
    MethodDeclaration [175174,175688]
        Modifier: static [175174,175180]
        PrimitiveType: void [175181,175185]
        SimpleName: addOwnership [175186,175198]
        SingleVariableDeclaration [175199,175232]
            Modifier: final [175199,175204]
            SimpleType [175205,175218]
                SimpleName: TokenMetadata [175205,175218]
            SimpleName: tokenMetadata [175219,175232]
        SingleVariableDeclaration [175234,175270]
            Modifier: final [175234,175239]
            SimpleType [175240,175267]
                SimpleName: AbstractReplicationStrategy [175240,175267]
            SimpleName: rs [175268,175270]
        SingleVariableDeclaration [175272,175285]
            SimpleType [175272,175277]
                SimpleName: Token [175272,175277]
            SimpleName: current [175278,175285]
        SingleVariableDeclaration [175287,175297]
            SimpleType [175287,175292]
                SimpleName: Token [175287,175292]
            SimpleName: next [175293,175297]
        SingleVariableDeclaration [175299,175333]
            ParameterizedType [175299,175323]
                SimpleType [175299,175302]
                    SimpleName: Map [175299,175302]
                SimpleType [175303,175314]
                    SimpleName: InetAddress [175303,175314]
                SimpleType [175316,175322]
                    SimpleName: Double [175316,175322]
            SimpleName: ownership [175324,175333]
        Block [175340,175688]
            VariableDeclarationStatement [175351,175384]
                PrimitiveType: double [175351,175357]
                VariableDeclarationFragment [175358,175383]
                    SimpleName: size [175358,175362]
                    MethodInvocation [175365,175383]
                        METHOD_INVOCATION_RECEIVER [175365,175372]
                            SimpleName: current [175365,175372]
                        SimpleName: size [175373,175377]
                        METHOD_INVOCATION_ARGUMENTS [175378,175382]
                            SimpleName: next [175378,175382]
            VariableDeclarationStatement [175394,175466]
                SimpleType [175394,175399]
                    SimpleName: Token [175394,175399]
                VariableDeclarationFragment [175400,175465]
                    SimpleName: representative [175400,175414]
                    MethodInvocation [175417,175465]
                        METHOD_INVOCATION_RECEIVER [175417,175441]
                            MethodInvocation [175417,175441]
                                METHOD_INVOCATION_RECEIVER [175417,175424]
                                    SimpleName: current [175417,175424]
                                SimpleName: getPartitioner [175425,175439]
                        SimpleName: midpoint [175442,175450]
                        METHOD_INVOCATION_ARGUMENTS [175451,175464]
                            SimpleName: current [175451,175458]
                            SimpleName: next [175460,175464]
            EnhancedForStatement [175476,175681]
                SingleVariableDeclaration [175481,175494]
                    SimpleType [175481,175492]
                        SimpleName: InetAddress [175481,175492]
                    SimpleName: n [175493,175494]
                MethodInvocation [175497,175556]
                    METHOD_INVOCATION_RECEIVER [175497,175499]
                        SimpleName: rs [175497,175499]
                    SimpleName: calculateNaturalEndpoints [175500,175525]
                    METHOD_INVOCATION_ARGUMENTS [175526,175555]
                        SimpleName: representative [175526,175540]
                        SimpleName: tokenMetadata [175542,175555]
                Block [175567,175681]
                    VariableDeclarationStatement [175582,175610]
                        SimpleType [175582,175588]
                            SimpleName: Double [175582,175588]
                        VariableDeclarationFragment [175589,175609]
                            SimpleName: v [175589,175590]
                            MethodInvocation [175593,175609]
                                METHOD_INVOCATION_RECEIVER [175593,175602]
                                    SimpleName: ownership [175593,175602]
                                SimpleName: get [175603,175606]
                                METHOD_INVOCATION_ARGUMENTS [175607,175608]
                                    SimpleName: n [175607,175608]
                    ExpressionStatement [175624,175670]
                        MethodInvocation [175624,175669]
                            METHOD_INVOCATION_RECEIVER [175624,175633]
                                SimpleName: ownership [175624,175633]
                            SimpleName: put [175634,175637]
                            METHOD_INVOCATION_ARGUMENTS [175638,175668]
                                SimpleName: n [175638,175639]
                                ConditionalExpression [175641,175668]
                                    InfixExpression [175641,175650]
                                        SimpleName: v [175641,175642]
                                        INFIX_EXPRESSION_OPERATOR: != [175643,175645]
                                        NullLiteral [175646,175650]
                                    InfixExpression [175653,175661]
                                        SimpleName: v [175653,175654]
                                        INFIX_EXPRESSION_OPERATOR: + [175655,175656]
                                        SimpleName: size [175657,175661]
                                    SimpleName: size [175664,175668]
    MethodDeclaration [175696,175924]
        Modifier: public [175696,175702]
        Modifier: static [175703,175709]
        SimpleType [175710,175716]
            SimpleName: String [175710,175716]
        SimpleName: statToString [175717,175729]
        SingleVariableDeclaration [175730,175752]
            SimpleType [175730,175747]
                SimpleName: SummaryStatistics [175730,175747]
            SimpleName: stat [175748,175752]
        Block [175759,175924]
            ReturnStatement [175770,175917]
                MethodInvocation [175777,175916]
                    METHOD_INVOCATION_RECEIVER [175777,175783]
                        SimpleName: String [175777,175783]
                    SimpleName: format [175784,175790]
                    METHOD_INVOCATION_ARGUMENTS [175791,175915]
                        StringLiteral: "max %.2f min %.2f stddev %.4f" [175791,175822]
                        InfixExpression [175824,175854]
                            MethodInvocation [175824,175837]
                                METHOD_INVOCATION_RECEIVER [175824,175828]
                                    SimpleName: stat [175824,175828]
                                SimpleName: getMax [175829,175835]
                            INFIX_EXPRESSION_OPERATOR: / [175838,175839]
                            MethodInvocation [175840,175854]
                                METHOD_INVOCATION_RECEIVER [175840,175844]
                                    SimpleName: stat [175840,175844]
                                SimpleName: getMean [175845,175852]
                        InfixExpression [175856,175886]
                            MethodInvocation [175856,175869]
                                METHOD_INVOCATION_RECEIVER [175856,175860]
                                    SimpleName: stat [175856,175860]
                                SimpleName: getMin [175861,175867]
                            INFIX_EXPRESSION_OPERATOR: / [175870,175871]
                            MethodInvocation [175872,175886]
                                METHOD_INVOCATION_RECEIVER [175872,175876]
                                    SimpleName: stat [175872,175876]
                                SimpleName: getMean [175877,175884]
                        MethodInvocation [175888,175915]
                            METHOD_INVOCATION_RECEIVER [175888,175892]
                                SimpleName: stat [175888,175892]
                            SimpleName: getStandardDeviation [175893,175913]
    MethodDeclaration [175932,176639]
        Modifier: public [175932,175938]
        Modifier: static [175939,175945]
        SimpleType [175946,175963]
            SimpleName: SummaryStatistics [175946,175963]
        SimpleName: replicatedOwnershipStats [175964,175988]
        SingleVariableDeclaration [175989,176016]
            SimpleType [175989,176002]
                SimpleName: TokenMetadata [175989,176002]
            SimpleName: tokenMetadata [176003,176016]
        SingleVariableDeclaration [176080,176110]
            SimpleType [176080,176107]
                SimpleName: AbstractReplicationStrategy [176080,176107]
            SimpleName: rs [176108,176110]
        SingleVariableDeclaration [176112,176132]
            SimpleType [176112,176123]
                SimpleName: InetAddress [176112,176123]
            SimpleName: endpoint [176124,176132]
        Block [176139,176639]
            VariableDeclarationStatement [176150,176199]
                SimpleType [176150,176167]
                    SimpleName: SummaryStatistics [176150,176167]
                VariableDeclarationFragment [176168,176198]
                    SimpleName: stat [176168,176172]
                    ClassInstanceCreation [176175,176198]
                        SimpleType [176179,176196]
                            SimpleName: SummaryStatistics [176179,176196]
            VariableDeclarationStatement [176209,176277]
                SimpleType [176209,176224]
                    SimpleName: StrategyAdapter [176209,176224]
                VariableDeclarationFragment [176225,176276]
                    SimpleName: strategy [176225,176233]
                    MethodInvocation [176236,176276]
                        SimpleName: getStrategy [176236,176247]
                        METHOD_INVOCATION_ARGUMENTS [176248,176275]
                            SimpleName: tokenMetadata [176248,176261]
                            SimpleName: rs [176263,176265]
                            SimpleName: endpoint [176267,176275]
            EnhancedForStatement [176287,176610]
                SingleVariableDeclaration [176292,176325]
                    ParameterizedType [176292,176322]
                        SimpleType [176292,176301]
                            QualifiedName: Map.Entry [176292,176301]
                        SimpleType [176302,176313]
                            SimpleName: InetAddress [176302,176313]
                        SimpleType [176315,176321]
                            SimpleName: Double [176315,176321]
                    SimpleName: en [176323,176325]
                MethodInvocation [176328,176385]
                    METHOD_INVOCATION_RECEIVER [176328,176374]
                        MethodInvocation [176328,176374]
                            SimpleName: evaluateReplicatedOwnership [176328,176355]
                            METHOD_INVOCATION_ARGUMENTS [176356,176373]
                                SimpleName: tokenMetadata [176356,176369]
                                SimpleName: rs [176371,176373]
                    SimpleName: entrySet [176375,176383]
                Block [176396,176610]
                    IfStatement [176463,176599]
                        MethodInvocation [176467,176505]
                            METHOD_INVOCATION_RECEIVER [176467,176475]
                                SimpleName: strategy [176467,176475]
                            SimpleName: inAllocationRing [176476,176492]
                            METHOD_INVOCATION_ARGUMENTS [176493,176504]
                                MethodInvocation [176493,176504]
                                    METHOD_INVOCATION_RECEIVER [176493,176495]
                                        SimpleName: en [176493,176495]
                                    SimpleName: getKey [176496,176502]
                        ExpressionStatement [176524,176599]
                            MethodInvocation [176524,176598]
                                METHOD_INVOCATION_RECEIVER [176524,176528]
                                    SimpleName: stat [176524,176528]
                                SimpleName: addValue [176529,176537]
                                METHOD_INVOCATION_ARGUMENTS [176538,176597]
                                    InfixExpression [176538,176597]
                                        MethodInvocation [176538,176551]
                                            METHOD_INVOCATION_RECEIVER [176538,176540]
                                                SimpleName: en [176538,176540]
                                            SimpleName: getValue [176541,176549]
                                        INFIX_EXPRESSION_OPERATOR: / [176552,176553]
                                        MethodInvocation [176554,176597]
                                            METHOD_INVOCATION_RECEIVER [176554,176590]
                                                MethodInvocation [176554,176590]
                                                    METHOD_INVOCATION_RECEIVER [176554,176567]
                                                        SimpleName: tokenMetadata [176554,176567]
                                                    SimpleName: getTokens [176568,176577]
                                                    METHOD_INVOCATION_ARGUMENTS [176578,176589]
                                                        MethodInvocation [176578,176589]
                                                            METHOD_INVOCATION_RECEIVER [176578,176580]
                                                                SimpleName: en [176578,176580]
                                                            SimpleName: getKey [176581,176587]
                                            SimpleName: size [176591,176595]
            ReturnStatement [176620,176632]
                SimpleName: stat [176627,176631]
    MethodDeclaration [176647,177213]
        Modifier: static [176647,176653]
        ParameterizedType [176654,176681]
            SimpleType [176654,176668]
                SimpleName: TokenAllocator [176654,176668]
            SimpleType [176669,176680]
                SimpleName: InetAddress [176669,176680]
        SimpleName: create [176682,176688]
        SingleVariableDeclaration [176689,176716]
            SimpleType [176689,176702]
                SimpleName: TokenMetadata [176689,176702]
            SimpleName: tokenMetadata [176703,176716]
        SingleVariableDeclaration [176718,176742]
            SimpleType [176718,176733]
                SimpleName: StrategyAdapter [176718,176733]
            SimpleName: strategy [176734,176742]
        SingleVariableDeclaration [176744,176768]
            SimpleType [176744,176756]
                SimpleName: IPartitioner [176744,176756]
            SimpleName: partitioner [176757,176768]
        Block [176775,177213]
            VariableDeclarationStatement [176786,176850]
                ParameterizedType [176786,176818]
                    SimpleType [176786,176798]
                        SimpleName: NavigableMap [176786,176798]
                    SimpleType [176799,176804]
                        SimpleName: Token [176799,176804]
                    SimpleType [176806,176817]
                        SimpleName: InetAddress [176806,176817]
                VariableDeclarationFragment [176819,176849]
                    SimpleName: sortedTokens [176819,176831]
                    ClassInstanceCreation [176834,176849]
                        ParameterizedType [176838,176847]
                            SimpleType [176838,176845]
                                SimpleName: TreeMap [176838,176845]
            EnhancedForStatement [176860,177115]
                SingleVariableDeclaration [176865,176897]
                    ParameterizedType [176865,176894]
                        SimpleType [176865,176874]
                            QualifiedName: Map.Entry [176865,176874]
                        SimpleType [176875,176880]
                            SimpleName: Token [176875,176880]
                        SimpleType [176882,176893]
                            SimpleName: InetAddress [176882,176893]
                    SimpleName: en [176895,176897]
                MethodInvocation [176900,176970]
                    METHOD_INVOCATION_RECEIVER [176900,176959]
                        MethodInvocation [176900,176959]
                            METHOD_INVOCATION_RECEIVER [176900,176913]
                                SimpleName: tokenMetadata [176900,176913]
                            SimpleName: getNormalAndBootstrappingTokenToEndpointMap [176914,176957]
                    SimpleName: entrySet [176960,176968]
                Block [176981,177115]
                    IfStatement [176996,177104]
                        MethodInvocation [177000,177040]
                            METHOD_INVOCATION_RECEIVER [177000,177008]
                                SimpleName: strategy [177000,177008]
                            SimpleName: inAllocationRing [177009,177025]
                            METHOD_INVOCATION_ARGUMENTS [177026,177039]
                                MethodInvocation [177026,177039]
                                    METHOD_INVOCATION_RECEIVER [177026,177028]
                                        SimpleName: en [177026,177028]
                                    SimpleName: getValue [177029,177037]
                        ExpressionStatement [177059,177104]
                            MethodInvocation [177059,177103]
                                METHOD_INVOCATION_RECEIVER [177059,177071]
                                    SimpleName: sortedTokens [177059,177071]
                                SimpleName: put [177072,177075]
                                METHOD_INVOCATION_ARGUMENTS [177076,177102]
                                    MethodInvocation [177076,177087]
                                        METHOD_INVOCATION_RECEIVER [177076,177078]
                                            SimpleName: en [177076,177078]
                                        SimpleName: getKey [177079,177085]
                                    MethodInvocation [177089,177102]
                                        METHOD_INVOCATION_RECEIVER [177089,177091]
                                            SimpleName: en [177089,177091]
                                        SimpleName: getValue [177092,177100]
            ReturnStatement [177125,177206]
                ClassInstanceCreation [177132,177205]
                    ParameterizedType [177136,177168]
                        SimpleType [177136,177166]
                            SimpleName: ReplicationAwareTokenAllocator [177136,177166]
                    SimpleName: sortedTokens [177169,177181]
                    SimpleName: strategy [177183,177191]
                    SimpleName: partitioner [177193,177204]
    TypeDeclaration [177221,177680]
        TYPE_DECLARATION_KIND: interface [177221,177230]
        SimpleName: StrategyAdapter [177231,177246]
        ParameterizedType [177255,177287]
            SimpleType [177255,177274]
                SimpleName: ReplicationStrategy [177255,177274]
            SimpleType [177275,177286]
                SimpleName: InetAddress [177275,177286]
        MethodDeclaration [177629,177673]
            PrimitiveType: boolean [177629,177636]
            SimpleName: inAllocationRing [177637,177653]
            SingleVariableDeclaration [177654,177671]
                SimpleType [177654,177665]
                    SimpleName: InetAddress [177654,177665]
                SimpleName: other [177666,177671]
    MethodDeclaration [177688,178244]
        Modifier: static [177688,177694]
        SimpleType [177695,177710]
            SimpleName: StrategyAdapter [177695,177710]
        SimpleName: getStrategy [177711,177722]
        SingleVariableDeclaration [177723,177756]
            Modifier: final [177723,177728]
            SimpleType [177729,177742]
                SimpleName: TokenMetadata [177729,177742]
            SimpleName: tokenMetadata [177743,177756]
        SingleVariableDeclaration [177758,177794]
            Modifier: final [177758,177763]
            SimpleType [177764,177791]
                SimpleName: AbstractReplicationStrategy [177764,177791]
            SimpleName: rs [177792,177794]
        SingleVariableDeclaration [177796,177822]
            Modifier: final [177796,177801]
            SimpleType [177802,177813]
                SimpleName: InetAddress [177802,177813]
            SimpleName: endpoint [177814,177822]
        Block [177829,178244]
            IfStatement [177840,177981]
                InstanceofExpression [177844,177881]
                    SimpleName: rs [177844,177846]
                    SimpleType [177858,177881]
                        SimpleName: NetworkTopologyStrategy [177858,177881]
                ReturnStatement [177896,177981]
                    MethodInvocation [177903,177980]
                        SimpleName: getStrategy [177903,177914]
                        METHOD_INVOCATION_ARGUMENTS [177915,177979]
                            SimpleName: tokenMetadata [177915,177928]
                            CastExpression [177930,177958]
                                SimpleType [177931,177954]
                                    SimpleName: NetworkTopologyStrategy [177931,177954]
                                SimpleName: rs [177956,177958]
                            QualifiedName: rs.snitch [177960,177969]
                            SimpleName: endpoint [177971,177979]
            IfStatement [177991,178103]
                InstanceofExpression [177995,178023]
                    SimpleName: rs [177995,177997]
                    SimpleType [178009,178023]
                        SimpleName: SimpleStrategy [178009,178023]
                ReturnStatement [178038,178103]
                    MethodInvocation [178045,178102]
                        SimpleName: getStrategy [178045,178056]
                        METHOD_INVOCATION_ARGUMENTS [178057,178101]
                            SimpleName: tokenMetadata [178057,178070]
                            CastExpression [178072,178091]
                                SimpleType [178073,178087]
                                    SimpleName: SimpleStrategy [178073,178087]
                                SimpleName: rs [178089,178091]
                            SimpleName: endpoint [178093,178101]
            ThrowStatement [178113,178237]
                ClassInstanceCreation [178119,178236]
                    SimpleType [178123,178145]
                        SimpleName: ConfigurationException [178123,178145]
                    InfixExpression [178146,178235]
                        StringLiteral: "Token allocation does not support replication strategy " [178146,178203]
                        INFIX_EXPRESSION_OPERATOR: + [178204,178205]
                        MethodInvocation [178206,178235]
                            METHOD_INVOCATION_RECEIVER [178206,178219]
                                MethodInvocation [178206,178219]
                                    METHOD_INVOCATION_RECEIVER [178206,178208]
                                        SimpleName: rs [178206,178208]
                                    SimpleName: getClass [178209,178217]
                            SimpleName: getSimpleName [178220,178233]
    MethodDeclaration [178252,178918]
        Modifier: static [178252,178258]
        SimpleType [178259,178274]
            SimpleName: StrategyAdapter [178259,178274]
        SimpleName: getStrategy [178275,178286]
        SingleVariableDeclaration [178287,178320]
            Modifier: final [178287,178292]
            SimpleType [178293,178306]
                SimpleName: TokenMetadata [178293,178306]
            SimpleName: tokenMetadata [178307,178320]
        SingleVariableDeclaration [178322,178345]
            Modifier: final [178322,178327]
            SimpleType [178328,178342]
                SimpleName: SimpleStrategy [178328,178342]
            SimpleName: rs [178343,178345]
        SingleVariableDeclaration [178347,178373]
            Modifier: final [178347,178352]
            SimpleType [178353,178364]
                SimpleName: InetAddress [178353,178364]
            SimpleName: endpoint [178365,178373]
        Block [178380,178918]
            VariableDeclarationStatement [178391,178438]
                Modifier: final [178391,178396]
                PrimitiveType: int [178397,178400]
                VariableDeclarationFragment [178401,178437]
                    SimpleName: replicas [178401,178409]
                    MethodInvocation [178412,178437]
                        METHOD_INVOCATION_RECEIVER [178412,178414]
                            SimpleName: rs [178412,178414]
                        SimpleName: getReplicationFactor [178415,178435]
            ReturnStatement [178450,178911]
                ClassInstanceCreation [178457,178910]
                    SimpleType [178461,178476]
                        SimpleName: StrategyAdapter [178461,178476]
                    AnonymousClassDeclaration [178488,178910]
                        MethodDeclaration [178503,178611]
                            MarkerAnnotation [178503,178512]
                                SimpleName: Override [178504,178512]
                            Modifier: public [178526,178532]
                            PrimitiveType: int [178533,178536]
                            SimpleName: replicas [178537,178545]
                            Block [178561,178611]
                                ReturnStatement [178580,178596]
                                    SimpleName: replicas [178587,178595]
                        MethodDeclaration [178627,178750]
                            MarkerAnnotation [178627,178636]
                                SimpleName: Override [178628,178636]
                            Modifier: public [178650,178656]
                            SimpleType [178657,178663]
                                SimpleName: Object [178657,178663]
                            SimpleName: getGroup [178664,178672]
                            SingleVariableDeclaration [178673,178689]
                                SimpleType [178673,178684]
                                    SimpleName: InetAddress [178673,178684]
                                SimpleName: unit [178685,178689]
                            Block [178704,178750]
                                ReturnStatement [178723,178735]
                                    SimpleName: unit [178730,178734]
                        MethodDeclaration [178766,178899]
                            MarkerAnnotation [178766,178775]
                                SimpleName: Override [178767,178775]
                            Modifier: public [178789,178795]
                            PrimitiveType: boolean [178796,178803]
                            SimpleName: inAllocationRing [178804,178820]
                            SingleVariableDeclaration [178821,178838]
                                SimpleType [178821,178832]
                                    SimpleName: InetAddress [178821,178832]
                                SimpleName: other [178833,178838]
                            Block [178853,178899]
                                ReturnStatement [178872,178884]
                                    BooleanLiteral: true [178879,178883]
    MethodDeclaration [178926,180145]
        Modifier: static [178926,178932]
        SimpleType [178933,178948]
            SimpleName: StrategyAdapter [178933,178948]
        SimpleName: getStrategy [178949,178960]
        SingleVariableDeclaration [178961,178994]
            Modifier: final [178961,178966]
            SimpleType [178967,178980]
                SimpleName: TokenMetadata [178967,178980]
            SimpleName: tokenMetadata [178981,178994]
        SingleVariableDeclaration [178996,179028]
            Modifier: final [178996,179001]
            SimpleType [179002,179025]
                SimpleName: NetworkTopologyStrategy [179002,179025]
            SimpleName: rs [179026,179028]
        SingleVariableDeclaration [179030,179058]
            Modifier: final [179030,179035]
            SimpleType [179036,179051]
                SimpleName: IEndpointSnitch [179036,179051]
            SimpleName: snitch [179052,179058]
        SingleVariableDeclaration [179060,179086]
            Modifier: final [179060,179065]
            SimpleType [179066,179077]
                SimpleName: InetAddress [179066,179077]
            SimpleName: endpoint [179078,179086]
        Block [179093,180145]
    MethodDeclaration [180161,180285]
        MarkerAnnotation [180161,180170]
            SimpleName: Override [180162,180170]
        Modifier: public [180188,180194]
        PrimitiveType: int [180195,180198]
        SimpleName: replicas [180199,180207]
        Block [180227,180285]
            ReturnStatement [180250,180266]
                SimpleName: replicas [180257,180265]
    MethodDeclaration [180305,180444]
        MarkerAnnotation [180305,180314]
            SimpleName: Override [180306,180314]
        Modifier: public [180332,180338]
        SimpleType [180339,180345]
            SimpleName: Object [180339,180345]
        SimpleName: getGroup [180346,180354]
        SingleVariableDeclaration [180355,180371]
            SimpleType [180355,180366]
                SimpleName: InetAddress [180355,180366]
            SimpleName: unit [180367,180371]
        Block [180390,180444]
            ReturnStatement [180413,180425]
                SimpleName: unit [180420,180424]
    MethodDeclaration [180464,180647]
        MarkerAnnotation [180464,180473]
            SimpleName: Override [180465,180473]
        Modifier: public [180491,180497]
        PrimitiveType: boolean [180498,180505]
        SimpleName: inAllocationRing [180506,180522]
        SingleVariableDeclaration [180523,180540]
            SimpleType [180523,180534]
                SimpleName: InetAddress [180523,180534]
            SimpleName: other [180535,180540]
        Block [180559,180647]
            ReturnStatement [180582,180628]
                MethodInvocation [180589,180627]
                    METHOD_INVOCATION_RECEIVER [180589,180591]
                        SimpleName: dc [180589,180591]
                    SimpleName: equals [180592,180598]
                    METHOD_INVOCATION_ARGUMENTS [180599,180626]
                        MethodInvocation [180599,180626]
                            METHOD_INVOCATION_RECEIVER [180599,180605]
                                SimpleName: snitch [180599,180605]
                            SimpleName: getDatacenter [180606,180619]
                            METHOD_INVOCATION_ARGUMENTS [180620,180625]
                                SimpleName: other [180620,180625]
to
CompilationUnit [0,393262]
at 441
===
insert-tree
---
TypeDeclaration [182028,182139]
    Modifier: public [182028,182034]
    TYPE_DECLARATION_KIND: interface [182035,182044]
    SimpleName: TokenAllocator [182045,182059]
    TypeParameter [182060,182064]
        SimpleName: Unit [182060,182064]
    MethodDeclaration [182074,182136]
        Modifier: public [182074,182080]
        ParameterizedType [182081,182098]
            SimpleType [182081,182091]
                SimpleName: Collection [182081,182091]
            SimpleType [182092,182097]
                SimpleName: Token [182092,182097]
        SimpleName: addUnit [182099,182106]
        SingleVariableDeclaration [182107,182119]
            SimpleType [182107,182111]
                SimpleName: Unit [182107,182111]
            SimpleName: newUnit [182112,182119]
        SingleVariableDeclaration [182121,182134]
            PrimitiveType: int [182121,182124]
            SimpleName: numTokens [182125,182134]
to
CompilationUnit [0,393262]
at 442
===
insert-tree
---
TypeDeclaration [430210,453659]
    Modifier: public [430210,430216]
    TYPE_DECLARATION_KIND: class [430217,430222]
    SimpleName: ReplicationAwareTokenAllocatorTest [430223,430257]
    FieldDeclaration [430266,430312]
        Modifier: private [430266,430273]
        Modifier: static [430274,430280]
        Modifier: final [430281,430286]
        PrimitiveType: int [430287,430290]
        VariableDeclarationFragment [430291,430311]
            SimpleName: MAX_VNODE_COUNT [430291,430306]
            NumberLiteral: 64 [430309,430311]
    FieldDeclaration [430320,430371]
        Modifier: private [430320,430327]
        Modifier: static [430328,430334]
        Modifier: final [430335,430340]
        PrimitiveType: int [430341,430344]
        VariableDeclarationFragment [430345,430370]
            SimpleName: TARGET_CLUSTER_SIZE [430345,430364]
            NumberLiteral: 250 [430367,430370]
    TypeDeclaration [430379,431398]
        TYPE_DECLARATION_KIND: interface [430379,430388]
        SimpleName: TestReplicationStrategy [430389,430412]
        ParameterizedType [430421,430446]
            SimpleType [430421,430440]
                SimpleName: ReplicationStrategy [430421,430440]
            SimpleType [430441,430445]
                SimpleName: Unit [430441,430445]
        MethodDeclaration [430463,430484]
            PrimitiveType: void [430463,430467]
            SimpleName: addUnit [430468,430475]
            SingleVariableDeclaration [430476,430482]
                SimpleType [430476,430480]
                    SimpleName: Unit [430476,430480]
                SimpleName: n [430481,430482]
        MethodDeclaration [430496,430520]
            PrimitiveType: void [430496,430500]
            SimpleName: removeUnit [430501,430511]
            SingleVariableDeclaration [430512,430518]
                SimpleType [430512,430516]
                    SimpleName: Unit [430512,430516]
                SimpleName: n [430517,430518]
        MethodDeclaration [430532,430699]
            Javadoc [430532,430613]
                TagElement [430548,430600]
                    TextElement: Returns a list of all replica units for given token. [430548,430600]
            ParameterizedType [430623,430633]
                SimpleType [430623,430627]
                    SimpleName: List [430623,430627]
                SimpleType [430628,430632]
                    SimpleName: Unit [430628,430632]
            SimpleName: getReplicas [430634,430645]
            SingleVariableDeclaration [430646,430657]
                SimpleType [430646,430651]
                    SimpleName: Token [430646,430651]
                SimpleName: token [430652,430657]
            SingleVariableDeclaration [430659,430697]
                ParameterizedType [430659,430684]
                    SimpleType [430659,430671]
                        SimpleName: NavigableMap [430659,430671]
                    SimpleType [430672,430677]
                        SimpleName: Token [430672,430677]
                    SimpleType [430679,430683]
                        SimpleName: Unit [430679,430683]
                SimpleName: sortedTokens [430685,430697]
        MethodDeclaration [430711,431179]
            Javadoc [430711,431082]
                TagElement [430727,431069]
                    TextElement: Returns the start of the token span that is replicated in this token. [430727,430796]
                    TextElement: Note: Though this is not trivial to see, the replicated span is always contiguous. A token in the same [430809,430911]
                    TextElement: group acts as a barrier; if one is not found the token replicates everything up to the replica'th distinct [430924,431030]
                    TextElement: group seen in front of it. [431043,431069]
            SimpleType [431092,431097]
                SimpleName: Token [431092,431097]
            SimpleName: replicationStart [431098,431114]
            SingleVariableDeclaration [431115,431126]
                SimpleType [431115,431120]
                    SimpleName: Token [431115,431120]
                SimpleName: token [431121,431126]
            SingleVariableDeclaration [431128,431137]
                SimpleType [431128,431132]
                    SimpleName: Unit [431128,431132]
                SimpleName: unit [431133,431137]
            SingleVariableDeclaration [431139,431177]
                ParameterizedType [431139,431164]
                    SimpleType [431139,431151]
                        SimpleName: NavigableMap [431139,431151]
                    SimpleType [431152,431157]
                        SimpleName: Token [431152,431157]
                    SimpleType [431159,431163]
                        SimpleName: Unit [431159,431163]
                SimpleName: sortedTokens [431165,431177]
        MethodDeclaration [431191,431391]
            Javadoc [431191,431347]
                TagElement [431207,431334]
                    TextElement: Multiplier for the acceptable disbalance in the cluster. With some strategies it is harder to achieve good [431207,431313]
                    TextElement: results. [431326,431334]
            Modifier: public [431357,431363]
            PrimitiveType: double [431364,431370]
            SimpleName: spreadExpectation [431371,431388]
    TypeDeclaration [431406,432457]
        Modifier: static [431406,431412]
        TYPE_DECLARATION_KIND: class [431413,431418]
        SimpleName: NoReplicationStrategy [431419,431440]
        SimpleType [431452,431475]
            SimpleName: TestReplicationStrategy [431452,431475]
        MethodDeclaration [431492,431688]
            Modifier: public [431492,431498]
            ParameterizedType [431499,431509]
                SimpleType [431499,431503]
                    SimpleName: List [431499,431503]
                SimpleType [431504,431508]
                    SimpleName: Unit [431504,431508]
            SimpleName: getReplicas [431510,431521]
            SingleVariableDeclaration [431522,431533]
                SimpleType [431522,431527]
                    SimpleName: Token [431522,431527]
                SimpleName: token [431528,431533]
            SingleVariableDeclaration [431535,431573]
                ParameterizedType [431535,431560]
                    SimpleType [431535,431547]
                        SimpleName: NavigableMap [431535,431547]
                    SimpleType [431548,431553]
                        SimpleName: Token [431548,431553]
                    SimpleType [431555,431559]
                        SimpleName: Unit [431555,431559]
                SimpleName: sortedTokens [431561,431573]
            Block [431584,431688]
                ReturnStatement [431599,431677]
                    MethodInvocation [431606,431676]
                        METHOD_INVOCATION_RECEIVER [431606,431617]
                            SimpleName: Collections [431606,431617]
                        SimpleName: singletonList [431618,431631]
                        METHOD_INVOCATION_ARGUMENTS [431632,431675]
                            MethodInvocation [431632,431675]
                                METHOD_INVOCATION_RECEIVER [431632,431664]
                                    MethodInvocation [431632,431664]
                                        METHOD_INVOCATION_RECEIVER [431632,431644]
                                            SimpleName: sortedTokens [431632,431644]
                                        SimpleName: ceilingEntry [431645,431657]
                                        METHOD_INVOCATION_ARGUMENTS [431658,431663]
                                            SimpleName: token [431658,431663]
                                SimpleName: getValue [431665,431673]
        MethodDeclaration [431700,431865]
            Modifier: public [431700,431706]
            SimpleType [431707,431712]
                SimpleName: Token [431707,431712]
            SimpleName: replicationStart [431713,431729]
            SingleVariableDeclaration [431730,431741]
                SimpleType [431730,431735]
                    SimpleName: Token [431730,431735]
                SimpleName: token [431736,431741]
            SingleVariableDeclaration [431743,431752]
                SimpleType [431743,431747]
                    SimpleName: Unit [431743,431747]
                SimpleName: unit [431748,431752]
            SingleVariableDeclaration [431754,431792]
                ParameterizedType [431754,431779]
                    SimpleType [431754,431766]
                        SimpleName: NavigableMap [431754,431766]
                    SimpleType [431767,431772]
                        SimpleName: Token [431767,431772]
                    SimpleType [431774,431778]
                        SimpleName: Unit [431774,431778]
                SimpleName: sortedTokens [431780,431792]
            Block [431803,431865]
                ReturnStatement [431818,431854]
                    MethodInvocation [431825,431853]
                        METHOD_INVOCATION_RECEIVER [431825,431837]
                            SimpleName: sortedTokens [431825,431837]
                        SimpleName: lowerKey [431838,431846]
                        METHOD_INVOCATION_ARGUMENTS [431847,431852]
                            SimpleName: token [431847,431852]
        MethodDeclaration [431877,431961]
            Modifier: public [431877,431883]
            SimpleType [431884,431890]
                SimpleName: String [431884,431890]
            SimpleName: toString [431891,431899]
            Block [431911,431961]
                ReturnStatement [431926,431950]
                    StringLiteral: "No replication" [431933,431949]
        MethodDeclaration [431973,432022]
            Modifier: public [431973,431979]
            PrimitiveType: void [431980,431984]
            SimpleName: addUnit [431985,431992]
            SingleVariableDeclaration [431993,431999]
                SimpleType [431993,431997]
                    SimpleName: Unit [431993,431997]
                SimpleName: n [431998,431999]
            Block [432010,432022]
        MethodDeclaration [432034,432086]
            Modifier: public [432034,432040]
            PrimitiveType: void [432041,432045]
            SimpleName: removeUnit [432046,432056]
            SingleVariableDeclaration [432057,432063]
                SimpleType [432057,432061]
                    SimpleName: Unit [432057,432061]
                SimpleName: n [432062,432063]
            Block [432074,432086]
        MethodDeclaration [432098,432164]
            Modifier: public [432098,432104]
            PrimitiveType: int [432105,432108]
            SimpleName: replicas [432109,432117]
            Block [432129,432164]
                ReturnStatement [432144,432153]
                    NumberLiteral: 1 [432151,432152]
        MethodDeclaration [432176,432267]
            Modifier: public [432176,432182]
            PrimitiveType: boolean [432183,432190]
            SimpleName: sameGroup [432191,432200]
            SingleVariableDeclaration [432201,432208]
                SimpleType [432201,432205]
                    SimpleName: Unit [432201,432205]
                SimpleName: n1 [432206,432208]
            SingleVariableDeclaration [432210,432217]
                SimpleType [432210,432214]
                    SimpleName: Unit [432210,432214]
                SimpleName: n2 [432215,432217]
            Block [432228,432267]
                ReturnStatement [432243,432256]
                    BooleanLiteral: false [432250,432255]
        MethodDeclaration [432279,432360]
            Modifier: public [432279,432285]
            SimpleType [432286,432292]
                SimpleName: Object [432286,432292]
            SimpleName: getGroup [432293,432301]
            SingleVariableDeclaration [432302,432311]
                SimpleType [432302,432306]
                    SimpleName: Unit [432302,432306]
                SimpleName: unit [432307,432311]
            Block [432322,432360]
                ReturnStatement [432337,432349]
                    SimpleName: unit [432344,432348]
        MethodDeclaration [432372,432450]
            Modifier: public [432372,432378]
            PrimitiveType: double [432379,432385]
            SimpleName: spreadExpectation [432386,432403]
            Block [432415,432450]
                ReturnStatement [432430,432439]
                    NumberLiteral: 1 [432437,432438]
    TypeDeclaration [432465,435123]
        Modifier: static [432465,432471]
        TYPE_DECLARATION_KIND: class [432472,432477]
        SimpleName: SimpleReplicationStrategy [432478,432503]
        SimpleType [432515,432538]
            SimpleName: TestReplicationStrategy [432515,432538]
        FieldDeclaration [432555,432568]
            PrimitiveType: int [432555,432558]
            VariableDeclarationFragment [432559,432567]
                SimpleName: replicas [432559,432567]
        MethodDeclaration [432580,432709]
            Modifier: public [432580,432586]
            SimpleName: SimpleReplicationStrategy [432587,432612]
            SingleVariableDeclaration [432613,432625]
                PrimitiveType: int [432613,432616]
                SimpleName: replicas [432617,432625]
            Block [432636,432709]
                SuperConstructorInvocation [432651,432659]
                ExpressionStatement [432673,432698]
                    Assignment [432673,432697]
                        FieldAccess [432673,432686]
                            ThisExpression [432673,432677]
                            SimpleName: replicas [432678,432686]
                        ASSIGNMENT_OPERATOR: = [432687,432688]
                        SimpleName: replicas [432689,432697]
        MethodDeclaration [432721,433473]
            Modifier: public [432721,432727]
            ParameterizedType [432728,432738]
                SimpleType [432728,432732]
                    SimpleName: List [432728,432732]
                SimpleType [432733,432737]
                    SimpleName: Unit [432733,432737]
            SimpleName: getReplicas [432739,432750]
            SingleVariableDeclaration [432751,432762]
                SimpleType [432751,432756]
                    SimpleName: Token [432751,432756]
                SimpleName: token [432757,432762]
            SingleVariableDeclaration [432764,432802]
                ParameterizedType [432764,432789]
                    SimpleType [432764,432776]
                        SimpleName: NavigableMap [432764,432776]
                    SimpleType [432777,432782]
                        SimpleName: Token [432777,432782]
                    SimpleType [432784,432788]
                        SimpleName: Unit [432784,432788]
                SimpleName: sortedTokens [432790,432802]
            Block [432813,433473]
                VariableDeclarationStatement [432828,432881]
                    ParameterizedType [432828,432838]
                        SimpleType [432828,432832]
                            SimpleName: List [432828,432832]
                        SimpleType [432833,432837]
                            SimpleName: Unit [432833,432837]
                    VariableDeclarationFragment [432839,432880]
                        SimpleName: endpoints [432839,432848]
                        ClassInstanceCreation [432851,432880]
                            ParameterizedType [432855,432870]
                                SimpleType [432855,432864]
                                    SimpleName: ArrayList [432855,432864]
                                SimpleType [432865,432869]
                                    SimpleName: Unit [432865,432869]
                            SimpleName: replicas [432871,432879]
                ExpressionStatement [432897,432936]
                    Assignment [432897,432935]
                        SimpleName: token [432897,432902]
                        ASSIGNMENT_OPERATOR: = [432903,432904]
                        MethodInvocation [432905,432935]
                            METHOD_INVOCATION_RECEIVER [432905,432917]
                                SimpleName: sortedTokens [432905,432917]
                            SimpleName: ceilingKey [432918,432928]
                            METHOD_INVOCATION_ARGUMENTS [432929,432934]
                                SimpleName: token [432929,432934]
                IfStatement [432950,433018]
                    InfixExpression [432954,432967]
                        SimpleName: token [432954,432959]
                        INFIX_EXPRESSION_OPERATOR: == [432960,432962]
                        NullLiteral [432963,432967]
                    ExpressionStatement [432986,433018]
                        Assignment [432986,433017]
                            SimpleName: token [432986,432991]
                            ASSIGNMENT_OPERATOR: = [432992,432993]
                            MethodInvocation [432994,433017]
                                METHOD_INVOCATION_RECEIVER [432994,433006]
                                    SimpleName: sortedTokens [432994,433006]
                                SimpleName: firstKey [433007,433015]
                VariableDeclarationStatement [433032,433149]
                    ParameterizedType [433032,433046]
                        SimpleType [433032,433040]
                            SimpleName: Iterator [433032,433040]
                        SimpleType [433041,433045]
                            SimpleName: Unit [433041,433045]
                    VariableDeclarationFragment [433047,433148]
                        SimpleName: iter [433047,433051]
                        MethodInvocation [433054,433148]
                            METHOD_INVOCATION_RECEIVER [433054,433137]
                                MethodInvocation [433054,433137]
                                    METHOD_INVOCATION_RECEIVER [433054,433063]
                                        SimpleName: Iterables [433054,433063]
                                    SimpleName: concat [433064,433070]
                                    METHOD_INVOCATION_ARGUMENTS [433071,433136]
                                        MethodInvocation [433071,433113]
                                            METHOD_INVOCATION_RECEIVER [433071,433104]
                                                MethodInvocation [433071,433104]
                                                    METHOD_INVOCATION_RECEIVER [433071,433083]
                                                        SimpleName: sortedTokens [433071,433083]
                                                    SimpleName: tailMap [433084,433091]
                                                    METHOD_INVOCATION_ARGUMENTS [433092,433103]
                                                        SimpleName: token [433092,433097]
                                                        BooleanLiteral: true [433099,433103]
                                            SimpleName: values [433105,433111]
                                        MethodInvocation [433115,433136]
                                            METHOD_INVOCATION_RECEIVER [433115,433127]
                                                SimpleName: sortedTokens [433115,433127]
                                            SimpleName: values [433128,433134]
                            SimpleName: iterator [433138,433146]
                WhileStatement [433163,433431]
                    InfixExpression [433170,433197]
                        MethodInvocation [433170,433186]
                            METHOD_INVOCATION_RECEIVER [433170,433179]
                                SimpleName: endpoints [433170,433179]
                            SimpleName: size [433180,433184]
                        INFIX_EXPRESSION_OPERATOR: < [433187,433188]
                        SimpleName: replicas [433189,433197]
                    Block [433212,433431]
                        IfStatement [433231,433290]
                            PrefixExpression [433235,433250]
                                PREFIX_EXPRESSION_OPERATOR: ! [433235,433236]
                                MethodInvocation [433236,433250]
                                    METHOD_INVOCATION_RECEIVER [433236,433240]
                                        SimpleName: iter [433236,433240]
                                    SimpleName: hasNext [433241,433248]
                            ReturnStatement [433273,433290]
                                SimpleName: endpoints [433280,433289]
                        VariableDeclarationStatement [433308,433330]
                            SimpleType [433308,433312]
                                SimpleName: Unit [433308,433312]
                            VariableDeclarationFragment [433313,433329]
                                SimpleName: ep [433313,433315]
                                MethodInvocation [433318,433329]
                                    METHOD_INVOCATION_RECEIVER [433318,433322]
                                        SimpleName: iter [433318,433322]
                                    SimpleName: next [433323,433327]
                        IfStatement [433348,433416]
                            PrefixExpression [433352,433375]
                                PREFIX_EXPRESSION_OPERATOR: ! [433352,433353]
                                MethodInvocation [433353,433375]
                                    METHOD_INVOCATION_RECEIVER [433353,433362]
                                        SimpleName: endpoints [433353,433362]
                                    SimpleName: contains [433363,433371]
                                    METHOD_INVOCATION_ARGUMENTS [433372,433374]
                                        SimpleName: ep [433372,433374]
                            ExpressionStatement [433398,433416]
                                MethodInvocation [433398,433415]
                                    METHOD_INVOCATION_RECEIVER [433398,433407]
                                        SimpleName: endpoints [433398,433407]
                                    SimpleName: add [433408,433411]
                                    METHOD_INVOCATION_ARGUMENTS [433412,433414]
                                        SimpleName: ep [433412,433414]
                ReturnStatement [433445,433462]
                    SimpleName: endpoints [433452,433461]
        MethodDeclaration [433485,434458]
            Modifier: public [433485,433491]
            SimpleType [433492,433497]
                SimpleName: Token [433492,433497]
            SimpleName: replicationStart [433498,433514]
            SingleVariableDeclaration [433515,433526]
                SimpleType [433515,433520]
                    SimpleName: Token [433515,433520]
                SimpleName: token [433521,433526]
            SingleVariableDeclaration [433528,433537]
                SimpleType [433528,433532]
                    SimpleName: Unit [433528,433532]
                SimpleName: unit [433533,433537]
            SingleVariableDeclaration [433539,433577]
                ParameterizedType [433539,433564]
                    SimpleType [433539,433551]
                        SimpleName: NavigableMap [433539,433551]
                    SimpleType [433552,433557]
                        SimpleName: Token [433552,433557]
                    SimpleType [433559,433563]
                        SimpleName: Unit [433559,433563]
                SimpleName: sortedTokens [433565,433577]
            Block [433588,434458]
                VariableDeclarationStatement [433603,433643]
                    ParameterizedType [433603,433612]
                        SimpleType [433603,433606]
                            SimpleName: Set [433603,433606]
                        SimpleType [433607,433611]
                            SimpleName: Unit [433607,433611]
                    VariableDeclarationFragment [433613,433642]
                        SimpleName: seenUnits [433613,433622]
                        MethodInvocation [433625,433642]
                            METHOD_INVOCATION_RECEIVER [433625,433629]
                                SimpleName: Sets [433625,433629]
                            SimpleName: newHashSet [433630,433640]
                VariableDeclarationStatement [433657,433676]
                    PrimitiveType: int [433657,433660]
                    VariableDeclarationFragment [433661,433675]
                        SimpleName: unitsFound [433661,433671]
                        NumberLiteral: 0 [433674,433675]
                EnhancedForStatement [433692,434420]
                    SingleVariableDeclaration [433697,433722]
                        ParameterizedType [433697,433719]
                            SimpleType [433697,433706]
                                QualifiedName: Map.Entry [433697,433706]
                            SimpleType [433707,433712]
                                SimpleName: Token [433707,433712]
                            SimpleType [433714,433718]
                                SimpleName: Unit [433714,433718]
                        SimpleName: en [433720,433722]
                    MethodInvocation [433725,433970]
                        METHOD_INVOCATION_RECEIVER [433725,433734]
                            SimpleName: Iterables [433725,433734]
                        SimpleName: concat [433735,433741]
                        METHOD_INVOCATION_ARGUMENTS [433805,433969]
                            MethodInvocation [433805,433866]
                                METHOD_INVOCATION_RECEIVER [433805,433855]
                                    MethodInvocation [433805,433855]
                                        METHOD_INVOCATION_RECEIVER [433805,433839]
                                            MethodInvocation [433805,433839]
                                                METHOD_INVOCATION_RECEIVER [433805,433817]
                                                    SimpleName: sortedTokens [433805,433817]
                                                SimpleName: headMap [433818,433825]
                                                METHOD_INVOCATION_ARGUMENTS [433826,433838]
                                                    SimpleName: token [433826,433831]
                                                    BooleanLiteral: false [433833,433838]
                                        SimpleName: descendingMap [433840,433853]
                                SimpleName: entrySet [433856,433864]
                            MethodInvocation [433930,433969]
                                METHOD_INVOCATION_RECEIVER [433930,433958]
                                    MethodInvocation [433930,433958]
                                        METHOD_INVOCATION_RECEIVER [433930,433942]
                                            SimpleName: sortedTokens [433930,433942]
                                        SimpleName: descendingMap [433943,433956]
                                SimpleName: entrySet [433959,433967]
                    Block [433985,434420]
                        VariableDeclarationStatement [434004,434027]
                            SimpleType [434004,434008]
                                SimpleName: Unit [434004,434008]
                            VariableDeclarationFragment [434009,434026]
                                SimpleName: n [434009,434010]
                                MethodInvocation [434013,434026]
                                    METHOD_INVOCATION_RECEIVER [434013,434015]
                                        SimpleName: en [434013,434015]
                                    SimpleName: getValue [434016,434024]
                        IfStatement [434163,434205]
                            InfixExpression [434167,434176]
                                SimpleName: n [434167,434168]
                                INFIX_EXPRESSION_OPERATOR: == [434169,434171]
                                SimpleName: unit [434172,434176]
                            BreakStatement [434199,434205]
                        IfStatement [434225,434367]
                            MethodInvocation [434229,434245]
                                METHOD_INVOCATION_RECEIVER [434229,434238]
                                    SimpleName: seenUnits [434229,434238]
                                SimpleName: add [434239,434242]
                                METHOD_INVOCATION_ARGUMENTS [434243,434244]
                                    SimpleName: n [434243,434244]
                            Block [434264,434367]
                                IfStatement [434287,434348]
                                    InfixExpression [434291,434315]
                                        PrefixExpression [434291,434303]
                                            PREFIX_EXPRESSION_OPERATOR: ++ [434291,434293]
                                            SimpleName: unitsFound [434293,434303]
                                        INFIX_EXPRESSION_OPERATOR: == [434304,434306]
                                        SimpleName: replicas [434307,434315]
                                    BreakStatement [434342,434348]
                        ExpressionStatement [434385,434405]
                            Assignment [434385,434404]
                                SimpleName: token [434385,434390]
                                ASSIGNMENT_OPERATOR: = [434391,434392]
                                MethodInvocation [434393,434404]
                                    METHOD_INVOCATION_RECEIVER [434393,434395]
                                        SimpleName: en [434393,434395]
                                    SimpleName: getKey [434396,434402]
                ReturnStatement [434434,434447]
                    SimpleName: token [434441,434446]
        MethodDeclaration [434470,434519]
            Modifier: public [434470,434476]
            PrimitiveType: void [434477,434481]
            SimpleName: addUnit [434482,434489]
            SingleVariableDeclaration [434490,434496]
                SimpleType [434490,434494]
                    SimpleName: Unit [434490,434494]
                SimpleName: n [434495,434496]
            Block [434507,434519]
        MethodDeclaration [434531,434583]
            Modifier: public [434531,434537]
            PrimitiveType: void [434538,434542]
            SimpleName: removeUnit [434543,434553]
            SingleVariableDeclaration [434554,434560]
                SimpleType [434554,434558]
                    SimpleName: Unit [434554,434558]
                SimpleName: n [434559,434560]
            Block [434571,434583]
        MethodDeclaration [434595,434708]
            Modifier: public [434595,434601]
            SimpleType [434602,434608]
                SimpleName: String [434602,434608]
            SimpleName: toString [434609,434617]
            Block [434629,434708]
                ReturnStatement [434644,434697]
                    MethodInvocation [434651,434696]
                        METHOD_INVOCATION_RECEIVER [434651,434657]
                            SimpleName: String [434651,434657]
                        SimpleName: format [434658,434664]
                        METHOD_INVOCATION_ARGUMENTS [434665,434695]
                            StringLiteral: "Simple %d replicas" [434665,434685]
                            SimpleName: replicas [434687,434695]
        MethodDeclaration [434720,434793]
            Modifier: public [434720,434726]
            PrimitiveType: int [434727,434730]
            SimpleName: replicas [434731,434739]
            Block [434751,434793]
                ReturnStatement [434766,434782]
                    SimpleName: replicas [434773,434781]
        MethodDeclaration [434805,434896]
            Modifier: public [434805,434811]
            PrimitiveType: boolean [434812,434819]
            SimpleName: sameGroup [434820,434829]
            SingleVariableDeclaration [434830,434837]
                SimpleType [434830,434834]
                    SimpleName: Unit [434830,434834]
                SimpleName: n1 [434835,434837]
            SingleVariableDeclaration [434839,434846]
                SimpleType [434839,434843]
                    SimpleName: Unit [434839,434843]
                SimpleName: n2 [434844,434846]
            Block [434857,434896]
                ReturnStatement [434872,434885]
                    BooleanLiteral: false [434879,434884]
        MethodDeclaration [434908,435026]
            Modifier: public [434908,434914]
            SimpleType [434915,434919]
                SimpleName: Unit [434915,434919]
            SimpleName: getGroup [434920,434928]
            SingleVariableDeclaration [434929,434938]
                SimpleType [434929,434933]
                    SimpleName: Unit [434929,434933]
                SimpleName: unit [434934,434938]
            Block [434949,435026]
                ReturnStatement [435003,435015]
                    SimpleName: unit [435010,435014]
        MethodDeclaration [435038,435116]
            Modifier: public [435038,435044]
            PrimitiveType: double [435045,435051]
            SimpleName: spreadExpectation [435052,435069]
            Block [435081,435116]
                ReturnStatement [435096,435105]
                    NumberLiteral: 1 [435103,435104]
    TypeDeclaration [435131,439590]
        Modifier: static [435131,435137]
        Modifier: abstract [435138,435146]
        TYPE_DECLARATION_KIND: class [435147,435152]
        SimpleName: GroupReplicationStrategy [435153,435177]
        SimpleType [435189,435212]
            SimpleName: TestReplicationStrategy [435189,435212]
        FieldDeclaration [435229,435248]
            Modifier: final [435229,435234]
            PrimitiveType: int [435235,435238]
            VariableDeclarationFragment [435239,435247]
                SimpleName: replicas [435239,435247]
        FieldDeclaration [435258,435292]
            Modifier: final [435258,435263]
            ParameterizedType [435264,435282]
                SimpleType [435264,435267]
                    SimpleName: Map [435264,435267]
                SimpleType [435268,435272]
                    SimpleName: Unit [435268,435272]
                SimpleType [435274,435281]
                    SimpleName: Integer [435274,435281]
            VariableDeclarationFragment [435283,435291]
                SimpleName: groupMap [435283,435291]
        MethodDeclaration [435304,435458]
            Modifier: public [435304,435310]
            SimpleName: GroupReplicationStrategy [435311,435335]
            SingleVariableDeclaration [435336,435348]
                PrimitiveType: int [435336,435339]
                SimpleName: replicas [435340,435348]
            Block [435359,435458]
                ExpressionStatement [435374,435399]
                    Assignment [435374,435398]
                        FieldAccess [435374,435387]
                            ThisExpression [435374,435378]
                            SimpleName: replicas [435379,435387]
                        ASSIGNMENT_OPERATOR: = [435388,435389]
                        SimpleName: replicas [435390,435398]
                ExpressionStatement [435413,435447]
                    Assignment [435413,435446]
                        FieldAccess [435413,435426]
                            ThisExpression [435413,435417]
                            SimpleName: groupMap [435418,435426]
                        ASSIGNMENT_OPERATOR: = [435427,435428]
                        MethodInvocation [435429,435446]
                            METHOD_INVOCATION_RECEIVER [435429,435433]
                                SimpleName: Maps [435429,435433]
                            SimpleName: newHashMap [435434,435444]
        MethodDeclaration [435470,436494]
            Modifier: public [435470,435476]
            ParameterizedType [435477,435487]
                SimpleType [435477,435481]
                    SimpleName: List [435477,435481]
                SimpleType [435482,435486]
                    SimpleName: Unit [435482,435486]
            SimpleName: getReplicas [435488,435499]
            SingleVariableDeclaration [435500,435511]
                SimpleType [435500,435505]
                    SimpleName: Token [435500,435505]
                SimpleName: token [435506,435511]
            SingleVariableDeclaration [435513,435551]
                ParameterizedType [435513,435538]
                    SimpleType [435513,435525]
                        SimpleName: NavigableMap [435513,435525]
                    SimpleType [435526,435531]
                        SimpleName: Token [435526,435531]
                    SimpleType [435533,435537]
                        SimpleName: Unit [435533,435537]
                SimpleName: sortedTokens [435539,435551]
            Block [435562,436494]
                VariableDeclarationStatement [435577,435630]
                    ParameterizedType [435577,435587]
                        SimpleType [435577,435581]
                            SimpleName: List [435577,435581]
                        SimpleType [435582,435586]
                            SimpleName: Unit [435582,435586]
                    VariableDeclarationFragment [435588,435629]
                        SimpleName: endpoints [435588,435597]
                        ClassInstanceCreation [435600,435629]
                            ParameterizedType [435604,435619]
                                SimpleType [435604,435613]
                                    SimpleName: ArrayList [435604,435613]
                                SimpleType [435614,435618]
                                    SimpleName: Unit [435614,435618]
                            SimpleName: replicas [435620,435628]
                VariableDeclarationStatement [435644,435677]
                    SimpleType [435644,435650]
                        SimpleName: BitSet [435644,435650]
                    VariableDeclarationFragment [435651,435676]
                        SimpleName: usedGroups [435651,435661]
                        ClassInstanceCreation [435664,435676]
                            SimpleType [435668,435674]
                                SimpleName: BitSet [435668,435674]
                IfStatement [435693,435755]
                    MethodInvocation [435697,435719]
                        METHOD_INVOCATION_RECEIVER [435697,435709]
                            SimpleName: sortedTokens [435697,435709]
                        SimpleName: isEmpty [435710,435717]
                    ReturnStatement [435738,435755]
                        SimpleName: endpoints [435745,435754]
                ExpressionStatement [435771,435810]
                    Assignment [435771,435809]
                        SimpleName: token [435771,435776]
                        ASSIGNMENT_OPERATOR: = [435777,435778]
                        MethodInvocation [435779,435809]
                            METHOD_INVOCATION_RECEIVER [435779,435791]
                                SimpleName: sortedTokens [435779,435791]
                            SimpleName: ceilingKey [435792,435802]
                            METHOD_INVOCATION_ARGUMENTS [435803,435808]
                                SimpleName: token [435803,435808]
                IfStatement [435824,435892]
                    InfixExpression [435828,435841]
                        SimpleName: token [435828,435833]
                        INFIX_EXPRESSION_OPERATOR: == [435834,435836]
                        NullLiteral [435837,435841]
                    ExpressionStatement [435860,435892]
                        Assignment [435860,435891]
                            SimpleName: token [435860,435865]
                            ASSIGNMENT_OPERATOR: = [435866,435867]
                            MethodInvocation [435868,435891]
                                METHOD_INVOCATION_RECEIVER [435868,435880]
                                    SimpleName: sortedTokens [435868,435880]
                                SimpleName: firstKey [435881,435889]
                VariableDeclarationStatement [435906,436023]
                    ParameterizedType [435906,435920]
                        SimpleType [435906,435914]
                            SimpleName: Iterator [435906,435914]
                        SimpleType [435915,435919]
                            SimpleName: Unit [435915,435919]
                    VariableDeclarationFragment [435921,436022]
                        SimpleName: iter [435921,435925]
                        MethodInvocation [435928,436022]
                            METHOD_INVOCATION_RECEIVER [435928,436011]
                                MethodInvocation [435928,436011]
                                    METHOD_INVOCATION_RECEIVER [435928,435937]
                                        SimpleName: Iterables [435928,435937]
                                    SimpleName: concat [435938,435944]
                                    METHOD_INVOCATION_ARGUMENTS [435945,436010]
                                        MethodInvocation [435945,435987]
                                            METHOD_INVOCATION_RECEIVER [435945,435978]
                                                MethodInvocation [435945,435978]
                                                    METHOD_INVOCATION_RECEIVER [435945,435957]
                                                        SimpleName: sortedTokens [435945,435957]
                                                    SimpleName: tailMap [435958,435965]
                                                    METHOD_INVOCATION_ARGUMENTS [435966,435977]
                                                        SimpleName: token [435966,435971]
                                                        BooleanLiteral: true [435973,435977]
                                            SimpleName: values [435979,435985]
                                        MethodInvocation [435989,436010]
                                            METHOD_INVOCATION_RECEIVER [435989,436001]
                                                SimpleName: sortedTokens [435989,436001]
                                            SimpleName: values [436002,436008]
                            SimpleName: iterator [436012,436020]
                WhileStatement [436037,436452]
                    InfixExpression [436044,436071]
                        MethodInvocation [436044,436060]
                            METHOD_INVOCATION_RECEIVER [436044,436053]
                                SimpleName: endpoints [436044,436053]
                            SimpleName: size [436054,436058]
                        INFIX_EXPRESSION_OPERATOR: < [436061,436062]
                        SimpleName: replicas [436063,436071]
                    Block [436086,436452]
                        VariableDeclarationStatement [436201,436223]
                            SimpleType [436201,436205]
                                SimpleName: Unit [436201,436205]
                            VariableDeclarationFragment [436206,436222]
                                SimpleName: ep [436206,436208]
                                MethodInvocation [436211,436222]
                                    METHOD_INVOCATION_RECEIVER [436211,436215]
                                        SimpleName: iter [436211,436215]
                                    SimpleName: next [436216,436220]
                        VariableDeclarationStatement [436241,436270]
                            PrimitiveType: int [436241,436244]
                            VariableDeclarationFragment [436245,436269]
                                SimpleName: group [436245,436250]
                                MethodInvocation [436253,436269]
                                    METHOD_INVOCATION_RECEIVER [436253,436261]
                                        SimpleName: groupMap [436253,436261]
                                    SimpleName: get [436262,436265]
                                    METHOD_INVOCATION_ARGUMENTS [436266,436268]
                                        SimpleName: ep [436266,436268]
                        IfStatement [436288,436437]
                            PrefixExpression [436292,436314]
                                PREFIX_EXPRESSION_OPERATOR: ! [436292,436293]
                                MethodInvocation [436293,436314]
                                    METHOD_INVOCATION_RECEIVER [436293,436303]
                                        SimpleName: usedGroups [436293,436303]
                                    SimpleName: get [436304,436307]
                                    METHOD_INVOCATION_ARGUMENTS [436308,436313]
                                        SimpleName: group [436308,436313]
                            Block [436333,436437]
                                ExpressionStatement [436356,436374]
                                    MethodInvocation [436356,436373]
                                        METHOD_INVOCATION_RECEIVER [436356,436365]
                                            SimpleName: endpoints [436356,436365]
                                        SimpleName: add [436366,436369]
                                        METHOD_INVOCATION_ARGUMENTS [436370,436372]
                                            SimpleName: ep [436370,436372]
                                ExpressionStatement [436396,436418]
                                    MethodInvocation [436396,436417]
                                        METHOD_INVOCATION_RECEIVER [436396,436406]
                                            SimpleName: usedGroups [436396,436406]
                                        SimpleName: set [436407,436410]
                                        METHOD_INVOCATION_ARGUMENTS [436411,436416]
                                            SimpleName: group [436411,436416]
                ReturnStatement [436466,436483]
                    SimpleName: endpoints [436473,436482]
        MethodDeclaration [436506,437376]
            Modifier: public [436506,436512]
            SimpleType [436513,436518]
                SimpleName: Token [436513,436518]
            SimpleName: lastReplicaToken [436519,436535]
            SingleVariableDeclaration [436536,436547]
                SimpleType [436536,436541]
                    SimpleName: Token [436536,436541]
                SimpleName: token [436542,436547]
            SingleVariableDeclaration [436549,436587]
                ParameterizedType [436549,436574]
                    SimpleType [436549,436561]
                        SimpleName: NavigableMap [436549,436561]
                    SimpleType [436562,436567]
                        SimpleName: Token [436562,436567]
                    SimpleType [436569,436573]
                        SimpleName: Unit [436569,436573]
                SimpleName: sortedTokens [436575,436587]
            Block [436598,437376]
                VariableDeclarationStatement [436613,436646]
                    SimpleType [436613,436619]
                        SimpleName: BitSet [436613,436619]
                    VariableDeclarationFragment [436620,436645]
                        SimpleName: usedGroups [436620,436630]
                        ClassInstanceCreation [436633,436645]
                            SimpleType [436637,436643]
                                SimpleName: BitSet [436637,436643]
                VariableDeclarationStatement [436660,436680]
                    PrimitiveType: int [436660,436663]
                    VariableDeclarationFragment [436664,436679]
                        SimpleName: groupsFound [436664,436675]
                        NumberLiteral: 0 [436678,436679]
                ExpressionStatement [436696,436735]
                    Assignment [436696,436734]
                        SimpleName: token [436696,436701]
                        ASSIGNMENT_OPERATOR: = [436702,436703]
                        MethodInvocation [436704,436734]
                            METHOD_INVOCATION_RECEIVER [436704,436716]
                                SimpleName: sortedTokens [436704,436716]
                            SimpleName: ceilingKey [436717,436727]
                            METHOD_INVOCATION_ARGUMENTS [436728,436733]
                                SimpleName: token [436728,436733]
                IfStatement [436749,436817]
                    InfixExpression [436753,436766]
                        SimpleName: token [436753,436758]
                        INFIX_EXPRESSION_OPERATOR: == [436759,436761]
                        NullLiteral [436762,436766]
                    ExpressionStatement [436785,436817]
                        Assignment [436785,436816]
                            SimpleName: token [436785,436790]
                            ASSIGNMENT_OPERATOR: = [436791,436792]
                            MethodInvocation [436793,436816]
                                METHOD_INVOCATION_RECEIVER [436793,436805]
                                    SimpleName: sortedTokens [436793,436805]
                                SimpleName: firstKey [436806,436814]
                EnhancedForStatement [436831,437338]
                    SingleVariableDeclaration [436836,436861]
                        ParameterizedType [436836,436858]
                            SimpleType [436836,436845]
                                QualifiedName: Map.Entry [436836,436845]
                            SimpleType [436846,436851]
                                SimpleName: Token [436846,436851]
                            SimpleType [436853,436857]
                                SimpleName: Unit [436853,436857]
                        SimpleName: en [436859,436861]
                    MethodInvocation [436877,436994]
                        METHOD_INVOCATION_RECEIVER [436877,436886]
                            SimpleName: Iterables [436877,436886]
                        SimpleName: concat [436887,436893]
                        METHOD_INVOCATION_ARGUMENTS [436894,436993]
                            MethodInvocation [436894,436938]
                                METHOD_INVOCATION_RECEIVER [436894,436927]
                                    MethodInvocation [436894,436927]
                                        METHOD_INVOCATION_RECEIVER [436894,436906]
                                            SimpleName: sortedTokens [436894,436906]
                                        SimpleName: tailMap [436907,436914]
                                        METHOD_INVOCATION_ARGUMENTS [436915,436926]
                                            SimpleName: token [436915,436920]
                                            BooleanLiteral: true [436922,436926]
                                SimpleName: entrySet [436928,436936]
                            MethodInvocation [436970,436993]
                                METHOD_INVOCATION_RECEIVER [436970,436982]
                                    SimpleName: sortedTokens [436970,436982]
                                SimpleName: entrySet [436983,436991]
                    Block [437009,437338]
                        VariableDeclarationStatement [437028,437052]
                            SimpleType [437028,437032]
                                SimpleName: Unit [437028,437032]
                            VariableDeclarationFragment [437033,437051]
                                SimpleName: ep [437033,437035]
                                MethodInvocation [437038,437051]
                                    METHOD_INVOCATION_RECEIVER [437038,437040]
                                        SimpleName: en [437038,437040]
                                    SimpleName: getValue [437041,437049]
                        VariableDeclarationStatement [437070,437099]
                            PrimitiveType: int [437070,437073]
                            VariableDeclarationFragment [437074,437098]
                                SimpleName: group [437074,437079]
                                MethodInvocation [437082,437098]
                                    METHOD_INVOCATION_RECEIVER [437082,437090]
                                        SimpleName: groupMap [437082,437090]
                                    SimpleName: get [437091,437094]
                                    METHOD_INVOCATION_ARGUMENTS [437095,437097]
                                        SimpleName: ep [437095,437097]
                        IfStatement [437117,437323]
                            PrefixExpression [437121,437143]
                                PREFIX_EXPRESSION_OPERATOR: ! [437121,437122]
                                MethodInvocation [437122,437143]
                                    METHOD_INVOCATION_RECEIVER [437122,437132]
                                        SimpleName: usedGroups [437122,437132]
                                    SimpleName: get [437133,437136]
                                    METHOD_INVOCATION_ARGUMENTS [437137,437142]
                                        SimpleName: group [437137,437142]
                            Block [437162,437323]
                                ExpressionStatement [437185,437207]
                                    MethodInvocation [437185,437206]
                                        METHOD_INVOCATION_RECEIVER [437185,437195]
                                            SimpleName: usedGroups [437185,437195]
                                        SimpleName: set [437196,437199]
                                        METHOD_INVOCATION_ARGUMENTS [437200,437205]
                                            SimpleName: group [437200,437205]
                                IfStatement [437229,437304]
                                    InfixExpression [437233,437258]
                                        PrefixExpression [437233,437246]
                                            PREFIX_EXPRESSION_OPERATOR: ++ [437233,437235]
                                            SimpleName: groupsFound [437235,437246]
                                        INFIX_EXPRESSION_OPERATOR: >= [437247,437249]
                                        SimpleName: replicas [437250,437258]
                                    ReturnStatement [437285,437304]
                                        MethodInvocation [437292,437303]
                                            METHOD_INVOCATION_RECEIVER [437292,437294]
                                                SimpleName: en [437292,437294]
                                            SimpleName: getKey [437295,437301]
                ReturnStatement [437352,437365]
                    SimpleName: token [437359,437364]
        MethodDeclaration [437388,438583]
            Modifier: public [437388,437394]
            SimpleType [437395,437400]
                SimpleName: Token [437395,437400]
            SimpleName: replicationStart [437401,437417]
            SingleVariableDeclaration [437418,437429]
                SimpleType [437418,437423]
                    SimpleName: Token [437418,437423]
                SimpleName: token [437424,437429]
            SingleVariableDeclaration [437431,437440]
                SimpleType [437431,437435]
                    SimpleName: Unit [437431,437435]
                SimpleName: unit [437436,437440]
            SingleVariableDeclaration [437442,437480]
                ParameterizedType [437442,437467]
                    SimpleType [437442,437454]
                        SimpleName: NavigableMap [437442,437454]
                    SimpleType [437455,437460]
                        SimpleName: Token [437455,437460]
                    SimpleType [437462,437466]
                        SimpleName: Unit [437462,437466]
                SimpleName: sortedTokens [437468,437480]
            Block [437491,438583]
                VariableDeclarationStatement [437543,437578]
                    PrimitiveType: int [437543,437546]
                    VariableDeclarationFragment [437547,437577]
                        SimpleName: unitGroup [437547,437556]
                        MethodInvocation [437559,437577]
                            METHOD_INVOCATION_RECEIVER [437559,437567]
                                SimpleName: groupMap [437559,437567]
                            SimpleName: get [437568,437571]
                            METHOD_INVOCATION_ARGUMENTS [437572,437576]
                                SimpleName: unit [437572,437576]
                VariableDeclarationStatement [437624,437657]
                    SimpleType [437624,437630]
                        SimpleName: BitSet [437624,437630]
                    VariableDeclarationFragment [437631,437656]
                        SimpleName: seenGroups [437631,437641]
                        ClassInstanceCreation [437644,437656]
                            SimpleType [437648,437654]
                                SimpleName: BitSet [437648,437654]
                VariableDeclarationStatement [437671,437691]
                    PrimitiveType: int [437671,437674]
                    VariableDeclarationFragment [437675,437690]
                        SimpleName: groupsFound [437675,437686]
                        NumberLiteral: 0 [437689,437690]
                EnhancedForStatement [437707,438545]
                    SingleVariableDeclaration [437712,437737]
                        ParameterizedType [437712,437734]
                            SimpleType [437712,437721]
                                QualifiedName: Map.Entry [437712,437721]
                            SimpleType [437722,437727]
                                SimpleName: Token [437722,437727]
                            SimpleType [437729,437733]
                                SimpleName: Unit [437729,437733]
                        SimpleName: en [437735,437737]
                    MethodInvocation [437740,437985]
                        METHOD_INVOCATION_RECEIVER [437740,437749]
                            SimpleName: Iterables [437740,437749]
                        SimpleName: concat [437750,437756]
                        METHOD_INVOCATION_ARGUMENTS [437820,437984]
                            MethodInvocation [437820,437881]
                                METHOD_INVOCATION_RECEIVER [437820,437870]
                                    MethodInvocation [437820,437870]
                                        METHOD_INVOCATION_RECEIVER [437820,437854]
                                            MethodInvocation [437820,437854]
                                                METHOD_INVOCATION_RECEIVER [437820,437832]
                                                    SimpleName: sortedTokens [437820,437832]
                                                SimpleName: headMap [437833,437840]
                                                METHOD_INVOCATION_ARGUMENTS [437841,437853]
                                                    SimpleName: token [437841,437846]
                                                    BooleanLiteral: false [437848,437853]
                                        SimpleName: descendingMap [437855,437868]
                                SimpleName: entrySet [437871,437879]
                            MethodInvocation [437945,437984]
                                METHOD_INVOCATION_RECEIVER [437945,437973]
                                    MethodInvocation [437945,437973]
                                        METHOD_INVOCATION_RECEIVER [437945,437957]
                                            SimpleName: sortedTokens [437945,437957]
                                        SimpleName: descendingMap [437958,437971]
                                SimpleName: entrySet [437974,437982]
                    Block [438000,438545]
                        VariableDeclarationStatement [438019,438042]
                            SimpleType [438019,438023]
                                SimpleName: Unit [438019,438023]
                            VariableDeclarationFragment [438024,438041]
                                SimpleName: n [438024,438025]
                                MethodInvocation [438028,438041]
                                    METHOD_INVOCATION_RECEIVER [438028,438030]
                                        SimpleName: en [438028,438030]
                                    SimpleName: getValue [438031,438039]
                        VariableDeclarationStatement [438060,438089]
                            PrimitiveType: int [438060,438063]
                            VariableDeclarationFragment [438064,438088]
                                SimpleName: ngroup [438064,438070]
                                MethodInvocation [438073,438088]
                                    METHOD_INVOCATION_RECEIVER [438073,438081]
                                        SimpleName: groupMap [438073,438081]
                                    SimpleName: get [438082,438085]
                                    METHOD_INVOCATION_ARGUMENTS [438086,438087]
                                        SimpleName: n [438086,438087]
                        IfStatement [438225,438277]
                            InfixExpression [438229,438248]
                                SimpleName: ngroup [438229,438235]
                                INFIX_EXPRESSION_OPERATOR: == [438236,438238]
                                SimpleName: unitGroup [438239,438248]
                            BreakStatement [438271,438277]
                        IfStatement [438297,438492]
                            PrefixExpression [438301,438324]
                                PREFIX_EXPRESSION_OPERATOR: ! [438301,438302]
                                MethodInvocation [438302,438324]
                                    METHOD_INVOCATION_RECEIVER [438302,438312]
                                        SimpleName: seenGroups [438302,438312]
                                    SimpleName: get [438313,438316]
                                    METHOD_INVOCATION_ARGUMENTS [438317,438323]
                                        SimpleName: ngroup [438317,438323]
                            Block [438343,438492]
                                IfStatement [438366,438428]
                                    InfixExpression [438370,438395]
                                        PrefixExpression [438370,438383]
                                            PREFIX_EXPRESSION_OPERATOR: ++ [438370,438372]
                                            SimpleName: groupsFound [438372,438383]
                                        INFIX_EXPRESSION_OPERATOR: == [438384,438386]
                                        SimpleName: replicas [438387,438395]
                                    BreakStatement [438422,438428]
                                ExpressionStatement [438450,438473]
                                    MethodInvocation [438450,438472]
                                        METHOD_INVOCATION_RECEIVER [438450,438460]
                                            SimpleName: seenGroups [438450,438460]
                                        SimpleName: set [438461,438464]
                                        METHOD_INVOCATION_ARGUMENTS [438465,438471]
                                            SimpleName: ngroup [438465,438471]
                        ExpressionStatement [438510,438530]
                            Assignment [438510,438529]
                                SimpleName: token [438510,438515]
                                ASSIGNMENT_OPERATOR: = [438516,438517]
                                MethodInvocation [438518,438529]
                                    METHOD_INVOCATION_RECEIVER [438518,438520]
                                        SimpleName: en [438518,438520]
                                    SimpleName: getKey [438521,438527]
                ReturnStatement [438559,438572]
                    SimpleName: token [438566,438571]
        MethodDeclaration [438595,438980]
            Modifier: public [438595,438601]
            SimpleType [438602,438608]
                SimpleName: String [438602,438608]
            SimpleName: toString [438609,438617]
            Block [438629,438980]
                VariableDeclarationStatement [438644,438703]
                    ParameterizedType [438644,438665]
                        SimpleType [438644,438647]
                            SimpleName: Map [438644,438647]
                        SimpleType [438648,438655]
                            SimpleName: Integer [438648,438655]
                        SimpleType [438657,438664]
                            SimpleName: Integer [438657,438664]
                    VariableDeclarationFragment [438666,438702]
                        SimpleName: idToSize [438666,438674]
                        MethodInvocation [438677,438702]
                            SimpleName: instanceToCount [438677,438692]
                            METHOD_INVOCATION_ARGUMENTS [438693,438701]
                                SimpleName: groupMap [438693,438701]
                VariableDeclarationStatement [438717,438771]
                    ParameterizedType [438717,438738]
                        SimpleType [438717,438720]
                            SimpleName: Map [438717,438720]
                        SimpleType [438721,438728]
                            SimpleName: Integer [438721,438728]
                        SimpleType [438730,438737]
                            SimpleName: Integer [438730,438737]
                    VariableDeclarationFragment [438739,438770]
                        SimpleName: sizeToCount [438739,438750]
                        MethodInvocation [438753,438770]
                            METHOD_INVOCATION_RECEIVER [438753,438757]
                                SimpleName: Maps [438753,438757]
                            SimpleName: newTreeMap [438758,438768]
                ExpressionStatement [438785,438831]
                    MethodInvocation [438785,438830]
                        METHOD_INVOCATION_RECEIVER [438785,438796]
                            SimpleName: sizeToCount [438785,438796]
                        SimpleName: putAll [438797,438803]
                        METHOD_INVOCATION_ARGUMENTS [438804,438829]
                            MethodInvocation [438804,438829]
                                SimpleName: instanceToCount [438804,438819]
                                METHOD_INVOCATION_ARGUMENTS [438820,438828]
                                    SimpleName: idToSize [438820,438828]
                ReturnStatement [438845,438969]
                    MethodInvocation [438852,438968]
                        METHOD_INVOCATION_RECEIVER [438852,438858]
                            SimpleName: String [438852,438858]
                        SimpleName: format [438859,438865]
                        METHOD_INVOCATION_ARGUMENTS [438866,438967]
                            StringLiteral: "%s strategy, %d replicas, group size to count %s" [438866,438916]
                            MethodInvocation [438918,438944]
                                METHOD_INVOCATION_RECEIVER [438918,438928]
                                    MethodInvocation [438918,438928]
                                        SimpleName: getClass [438918,438926]
                                SimpleName: getSimpleName [438929,438942]
                            SimpleName: replicas [438946,438954]
                            SimpleName: sizeToCount [438956,438967]
        MethodDeclaration [438992,439084]
            MarkerAnnotation [438992,439001]
                SimpleName: Override [438993,439001]
            Modifier: public [439011,439017]
            PrimitiveType: int [439018,439021]
            SimpleName: replicas [439022,439030]
            Block [439042,439084]
                ReturnStatement [439057,439073]
                    SimpleName: replicas [439064,439072]
        MethodDeclaration [439096,439223]
            Modifier: public [439096,439102]
            PrimitiveType: boolean [439103,439110]
            SimpleName: sameGroup [439111,439120]
            SingleVariableDeclaration [439121,439128]
                SimpleType [439121,439125]
                    SimpleName: Unit [439121,439125]
                SimpleName: n1 [439126,439128]
            SingleVariableDeclaration [439130,439137]
                SimpleType [439130,439134]
                    SimpleName: Unit [439130,439134]
                SimpleName: n2 [439135,439137]
            Block [439148,439223]
                ReturnStatement [439163,439212]
                    MethodInvocation [439170,439211]
                        METHOD_INVOCATION_RECEIVER [439170,439186]
                            MethodInvocation [439170,439186]
                                METHOD_INVOCATION_RECEIVER [439170,439178]
                                    SimpleName: groupMap [439170,439178]
                                SimpleName: get [439179,439182]
                                METHOD_INVOCATION_ARGUMENTS [439183,439185]
                                    SimpleName: n1 [439183,439185]
                        SimpleName: equals [439187,439193]
                        METHOD_INVOCATION_ARGUMENTS [439194,439210]
                            MethodInvocation [439194,439210]
                                METHOD_INVOCATION_RECEIVER [439194,439202]
                                    SimpleName: groupMap [439194,439202]
                                SimpleName: get [439203,439206]
                                METHOD_INVOCATION_ARGUMENTS [439207,439209]
                                    SimpleName: n2 [439207,439209]
        MethodDeclaration [439235,439320]
            Modifier: public [439235,439241]
            PrimitiveType: void [439242,439246]
            SimpleName: removeUnit [439247,439257]
            SingleVariableDeclaration [439258,439264]
                SimpleType [439258,439262]
                    SimpleName: Unit [439258,439262]
                SimpleName: n [439263,439264]
            Block [439275,439320]
                ExpressionStatement [439290,439309]
                    MethodInvocation [439290,439308]
                        METHOD_INVOCATION_RECEIVER [439290,439298]
                            SimpleName: groupMap [439290,439298]
                        SimpleName: remove [439299,439305]
                        METHOD_INVOCATION_ARGUMENTS [439306,439307]
                            SimpleName: n [439306,439307]
        MethodDeclaration [439332,439428]
            Modifier: public [439332,439338]
            SimpleType [439339,439346]
                SimpleName: Integer [439339,439346]
            SimpleName: getGroup [439347,439355]
            SingleVariableDeclaration [439356,439365]
                SimpleType [439356,439360]
                    SimpleName: Unit [439356,439360]
                SimpleName: unit [439361,439365]
            Block [439376,439428]
                ReturnStatement [439391,439417]
                    MethodInvocation [439398,439416]
                        METHOD_INVOCATION_RECEIVER [439398,439406]
                            SimpleName: groupMap [439398,439406]
                        SimpleName: get [439407,439410]
                        METHOD_INVOCATION_ARGUMENTS [439411,439415]
                            SimpleName: unit [439411,439415]
        MethodDeclaration [439440,439583]
            Modifier: public [439440,439446]
            PrimitiveType: double [439447,439453]
            SimpleName: spreadExpectation [439454,439471]
            Block [439483,439583]
                ReturnStatement [439498,439509]
                    NumberLiteral: 1.5 [439505,439508]
    MethodDeclaration [439598,439960]
        Modifier: private [439598,439605]
        Modifier: static [439606,439612]
        TypeParameter [439614,439615]
            SimpleName: T [439614,439615]
        ParameterizedType [439617,439632]
            SimpleType [439617,439620]
                SimpleName: Map [439617,439620]
            SimpleType [439621,439622]
                SimpleName: T [439621,439622]
            SimpleType [439624,439631]
                SimpleName: Integer [439624,439631]
        SimpleName: instanceToCount [439633,439648]
        SingleVariableDeclaration [439649,439662]
            ParameterizedType [439649,439658]
                SimpleType [439649,439652]
                    SimpleName: Map [439649,439652]
                WildcardType [439653,439654]
                SimpleType [439656,439657]
                    SimpleName: T [439656,439657]
            SimpleName: map [439659,439662]
        Block [439669,439960]
            VariableDeclarationStatement [439680,439726]
                ParameterizedType [439680,439695]
                    SimpleType [439680,439683]
                        SimpleName: Map [439680,439683]
                    SimpleType [439684,439685]
                        SimpleName: T [439684,439685]
                    SimpleType [439687,439694]
                        SimpleName: Integer [439687,439694]
                VariableDeclarationFragment [439696,439725]
                    SimpleName: idToCount [439696,439705]
                    MethodInvocation [439708,439725]
                        METHOD_INVOCATION_RECEIVER [439708,439712]
                            SimpleName: Maps [439708,439712]
                        SimpleName: newHashMap [439713,439723]
            EnhancedForStatement [439736,439926]
                SingleVariableDeclaration [439741,439759]
                    ParameterizedType [439741,439756]
                        SimpleType [439741,439750]
                            QualifiedName: Map.Entry [439741,439750]
                        WildcardType [439751,439752]
                        SimpleType [439754,439755]
                            SimpleName: T [439754,439755]
                    SimpleName: en [439757,439759]
                MethodInvocation [439762,439776]
                    METHOD_INVOCATION_RECEIVER [439762,439765]
                        SimpleName: map [439762,439765]
                    SimpleName: entrySet [439766,439774]
                Block [439787,439926]
                    VariableDeclarationStatement [439802,439845]
                        SimpleType [439802,439809]
                            SimpleName: Integer [439802,439809]
                        VariableDeclarationFragment [439810,439844]
                            SimpleName: old [439810,439813]
                            MethodInvocation [439816,439844]
                                METHOD_INVOCATION_RECEIVER [439816,439825]
                                    SimpleName: idToCount [439816,439825]
                                SimpleName: get [439826,439829]
                                METHOD_INVOCATION_ARGUMENTS [439830,439843]
                                    MethodInvocation [439830,439843]
                                        METHOD_INVOCATION_RECEIVER [439830,439832]
                                            SimpleName: en [439830,439832]
                                        SimpleName: getValue [439833,439841]
                    ExpressionStatement [439859,439915]
                        MethodInvocation [439859,439914]
                            METHOD_INVOCATION_RECEIVER [439859,439868]
                                SimpleName: idToCount [439859,439868]
                            SimpleName: put [439869,439872]
                            METHOD_INVOCATION_ARGUMENTS [439873,439913]
                                MethodInvocation [439873,439886]
                                    METHOD_INVOCATION_RECEIVER [439873,439875]
                                        SimpleName: en [439873,439875]
                                    SimpleName: getValue [439876,439884]
                                ConditionalExpression [439888,439913]
                                    InfixExpression [439888,439899]
                                        SimpleName: old [439888,439891]
                                        INFIX_EXPRESSION_OPERATOR: != [439892,439894]
                                        NullLiteral [439895,439899]
                                    InfixExpression [439902,439909]
                                        SimpleName: old [439902,439905]
                                        INFIX_EXPRESSION_OPERATOR: + [439906,439907]
                                        NumberLiteral: 1 [439908,439909]
                                    NumberLiteral: 1 [439912,439913]
            ReturnStatement [439936,439953]
                SimpleName: idToCount [439943,439952]
    TypeDeclaration [439968,440560]
        Javadoc [439968,440050]
            TagElement [439980,440041]
                TextElement: Group strategy spreading units into a fixed number of groups. [439980,440041]
        Modifier: static [440056,440062]
        TYPE_DECLARATION_KIND: class [440063,440068]
        SimpleName: FixedGroupCountReplicationStrategy [440069,440103]
        SimpleType [440112,440136]
            SimpleName: GroupReplicationStrategy [440112,440136]
        FieldDeclaration [440153,440165]
            PrimitiveType: int [440153,440156]
            VariableDeclarationFragment [440157,440164]
                SimpleName: groupId [440157,440164]
        FieldDeclaration [440175,440190]
            PrimitiveType: int [440175,440178]
            VariableDeclarationFragment [440179,440189]
                SimpleName: groupCount [440179,440189]
        MethodDeclaration [440202,440438]
            Modifier: public [440202,440208]
            SimpleName: FixedGroupCountReplicationStrategy [440209,440243]
            SingleVariableDeclaration [440244,440256]
                PrimitiveType: int [440244,440247]
                SimpleName: replicas [440248,440256]
            SingleVariableDeclaration [440258,440272]
                PrimitiveType: int [440258,440261]
                SimpleName: groupCount [440262,440272]
            Block [440283,440438]
                SuperConstructorInvocation [440298,440314]
                    SimpleName: replicas [440304,440312]
                AssertStatement [440328,440358]
                    InfixExpression [440335,440357]
                        SimpleName: groupCount [440335,440345]
                        INFIX_EXPRESSION_OPERATOR: >= [440346,440348]
                        SimpleName: replicas [440349,440357]
                ExpressionStatement [440372,440384]
                    Assignment [440372,440383]
                        SimpleName: groupId [440372,440379]
                        ASSIGNMENT_OPERATOR: = [440380,440381]
                        NumberLiteral: 0 [440382,440383]
                ExpressionStatement [440398,440427]
                    Assignment [440398,440426]
                        FieldAccess [440398,440413]
                            ThisExpression [440398,440402]
                            SimpleName: groupCount [440403,440413]
                        ASSIGNMENT_OPERATOR: = [440414,440415]
                        SimpleName: groupCount [440416,440426]
        MethodDeclaration [440450,440553]
            Modifier: public [440450,440456]
            PrimitiveType: void [440457,440461]
            SimpleName: addUnit [440462,440469]
            SingleVariableDeclaration [440470,440476]
                SimpleType [440470,440474]
                    SimpleName: Unit [440470,440474]
                SimpleName: n [440475,440476]
            Block [440487,440553]
                ExpressionStatement [440502,440542]
                    MethodInvocation [440502,440541]
                        METHOD_INVOCATION_RECEIVER [440502,440510]
                            SimpleName: groupMap [440502,440510]
                        SimpleName: put [440511,440514]
                        METHOD_INVOCATION_ARGUMENTS [440515,440540]
                            SimpleName: n [440515,440516]
                            InfixExpression [440518,440540]
                                PostfixExpression [440518,440527]
                                    SimpleName: groupId [440518,440525]
                                    POSTFIX_EXPRESSION_OPERATOR: ++ [440525,440527]
                                INFIX_EXPRESSION_OPERATOR: % [440528,440529]
                                SimpleName: groupCount [440530,440540]
    TypeDeclaration [440568,441100]
        Javadoc [440568,440643]
            TagElement [440580,440634]
                TextElement: Group strategy with a fixed number of units per group. [440580,440634]
        Modifier: static [440649,440655]
        TYPE_DECLARATION_KIND: class [440656,440661]
        SimpleName: BalancedGroupReplicationStrategy [440662,440694]
        SimpleType [440703,440727]
            SimpleName: GroupReplicationStrategy [440703,440727]
        FieldDeclaration [440744,440756]
            PrimitiveType: int [440744,440747]
            VariableDeclarationFragment [440748,440755]
                SimpleName: groupId [440748,440755]
        FieldDeclaration [440766,440780]
            PrimitiveType: int [440766,440769]
            VariableDeclarationFragment [440770,440779]
                SimpleName: groupSize [440770,440779]
        MethodDeclaration [440792,440979]
            Modifier: public [440792,440798]
            SimpleName: BalancedGroupReplicationStrategy [440799,440831]
            SingleVariableDeclaration [440832,440844]
                PrimitiveType: int [440832,440835]
                SimpleName: replicas [440836,440844]
            SingleVariableDeclaration [440846,440859]
                PrimitiveType: int [440846,440849]
                SimpleName: groupSize [440850,440859]
            Block [440870,440979]
                SuperConstructorInvocation [440885,440901]
                    SimpleName: replicas [440891,440899]
                ExpressionStatement [440915,440927]
                    Assignment [440915,440926]
                        SimpleName: groupId [440915,440922]
                        ASSIGNMENT_OPERATOR: = [440923,440924]
                        NumberLiteral: 0 [440925,440926]
                ExpressionStatement [440941,440968]
                    Assignment [440941,440967]
                        FieldAccess [440941,440955]
                            ThisExpression [440941,440945]
                            SimpleName: groupSize [440946,440955]
                        ASSIGNMENT_OPERATOR: = [440956,440957]
                        SimpleName: groupSize [440958,440967]
        MethodDeclaration [440991,441093]
            Modifier: public [440991,440997]
            PrimitiveType: void [440998,441002]
            SimpleName: addUnit [441003,441010]
            SingleVariableDeclaration [441011,441017]
                SimpleType [441011,441015]
                    SimpleName: Unit [441011,441015]
                SimpleName: n [441016,441017]
            Block [441028,441093]
                ExpressionStatement [441043,441082]
                    MethodInvocation [441043,441081]
                        METHOD_INVOCATION_RECEIVER [441043,441051]
                            SimpleName: groupMap [441043,441051]
                        SimpleName: put [441052,441055]
                        METHOD_INVOCATION_ARGUMENTS [441056,441080]
                            SimpleName: n [441056,441057]
                            InfixExpression [441059,441080]
                                PostfixExpression [441059,441068]
                                    SimpleName: groupId [441059,441066]
                                    POSTFIX_EXPRESSION_OPERATOR: ++ [441066,441068]
                                INFIX_EXPRESSION_OPERATOR: / [441069,441070]
                                SimpleName: groupSize [441071,441080]
    TypeDeclaration [441108,442109]
        Modifier: static [441108,441114]
        TYPE_DECLARATION_KIND: class [441115,441120]
        SimpleName: UnbalancedGroupReplicationStrategy [441121,441155]
        SimpleType [441164,441188]
            SimpleName: GroupReplicationStrategy [441164,441188]
        FieldDeclaration [441205,441217]
            PrimitiveType: int [441205,441208]
            VariableDeclarationFragment [441209,441216]
                SimpleName: groupId [441209,441216]
        FieldDeclaration [441227,441240]
            PrimitiveType: int [441227,441230]
            VariableDeclarationFragment [441231,441239]
                SimpleName: nextSize [441231,441239]
        FieldDeclaration [441250,441258]
            PrimitiveType: int [441250,441253]
            VariableDeclarationFragment [441254,441257]
                SimpleName: num [441254,441257]
        FieldDeclaration [441268,441285]
            PrimitiveType: int [441268,441271]
            VariableDeclarationFragment [441272,441284]
                SimpleName: minGroupSize [441272,441284]
        FieldDeclaration [441295,441312]
            PrimitiveType: int [441295,441298]
            VariableDeclarationFragment [441299,441311]
                SimpleName: maxGroupSize [441299,441311]
        FieldDeclaration [441322,441334]
            SimpleType [441322,441328]
                SimpleName: Random [441322,441328]
            VariableDeclarationFragment [441329,441333]
                SimpleName: rand [441329,441333]
        MethodDeclaration [441346,441703]
            Modifier: public [441346,441352]
            SimpleName: UnbalancedGroupReplicationStrategy [441353,441387]
            SingleVariableDeclaration [441388,441400]
                PrimitiveType: int [441388,441391]
                SimpleName: replicas [441392,441400]
            SingleVariableDeclaration [441402,441418]
                PrimitiveType: int [441402,441405]
                SimpleName: minGroupSize [441406,441418]
            SingleVariableDeclaration [441420,441436]
                PrimitiveType: int [441420,441423]
                SimpleName: maxGroupSize [441424,441436]
            SingleVariableDeclaration [441438,441449]
                SimpleType [441438,441444]
                    SimpleName: Random [441438,441444]
                SimpleName: rand [441445,441449]
            Block [441460,441703]
                SuperConstructorInvocation [441475,441491]
                    SimpleName: replicas [441481,441489]
                ExpressionStatement [441505,441518]
                    Assignment [441505,441517]
                        SimpleName: groupId [441505,441512]
                        ASSIGNMENT_OPERATOR: = [441513,441514]
                        PrefixExpression [441515,441517]
                            PREFIX_EXPRESSION_OPERATOR: - [441515,441516]
                            NumberLiteral: 1 [441516,441517]
                ExpressionStatement [441532,441545]
                    Assignment [441532,441544]
                        SimpleName: nextSize [441532,441540]
                        ASSIGNMENT_OPERATOR: = [441541,441542]
                        NumberLiteral: 0 [441543,441544]
                ExpressionStatement [441559,441567]
                    Assignment [441559,441566]
                        SimpleName: num [441559,441562]
                        ASSIGNMENT_OPERATOR: = [441563,441564]
                        NumberLiteral: 0 [441565,441566]
                ExpressionStatement [441581,441614]
                    Assignment [441581,441613]
                        FieldAccess [441581,441598]
                            ThisExpression [441581,441585]
                            SimpleName: maxGroupSize [441586,441598]
                        ASSIGNMENT_OPERATOR: = [441599,441600]
                        SimpleName: maxGroupSize [441601,441613]
                ExpressionStatement [441628,441661]
                    Assignment [441628,441660]
                        FieldAccess [441628,441645]
                            ThisExpression [441628,441632]
                            SimpleName: minGroupSize [441633,441645]
                        ASSIGNMENT_OPERATOR: = [441646,441647]
                        SimpleName: minGroupSize [441648,441660]
                ExpressionStatement [441675,441692]
                    Assignment [441675,441691]
                        FieldAccess [441675,441684]
                            ThisExpression [441675,441679]
                            SimpleName: rand [441680,441684]
                        ASSIGNMENT_OPERATOR: = [441685,441686]
                        SimpleName: rand [441687,441691]
        MethodDeclaration [441715,442012]
            Modifier: public [441715,441721]
            PrimitiveType: void [441722,441726]
            SimpleName: addUnit [441727,441734]
            SingleVariableDeclaration [441735,441741]
                SimpleType [441735,441739]
                    SimpleName: Unit [441735,441739]
                SimpleName: n [441740,441741]
            Block [441752,442012]
                IfStatement [441767,441962]
                    InfixExpression [441771,441787]
                        PrefixExpression [441771,441776]
                            PREFIX_EXPRESSION_OPERATOR: ++ [441771,441773]
                            SimpleName: num [441773,441776]
                        INFIX_EXPRESSION_OPERATOR: > [441777,441778]
                        SimpleName: nextSize [441779,441787]
                    Block [441802,441962]
                        ExpressionStatement [441821,441893]
                            Assignment [441821,441892]
                                SimpleName: nextSize [441821,441829]
                                ASSIGNMENT_OPERATOR: = [441830,441831]
                                InfixExpression [441832,441892]
                                    SimpleName: minGroupSize [441832,441844]
                                    INFIX_EXPRESSION_OPERATOR: + [441845,441846]
                                    MethodInvocation [441847,441892]
                                        METHOD_INVOCATION_RECEIVER [441847,441851]
                                            SimpleName: rand [441847,441851]
                                        SimpleName: nextInt [441852,441859]
                                        METHOD_INVOCATION_ARGUMENTS [441860,441891]
                                            InfixExpression [441860,441891]
                                                InfixExpression [441860,441887]
                                                    SimpleName: maxGroupSize [441860,441872]
                                                    INFIX_EXPRESSION_OPERATOR: - [441873,441874]
                                                    SimpleName: minGroupSize [441875,441887]
                                                INFIX_EXPRESSION_OPERATOR: + [441888,441889]
                                                NumberLiteral: 1 [441890,441891]
                        ExpressionStatement [441911,441921]
                            PrefixExpression [441911,441920]
                                PREFIX_EXPRESSION_OPERATOR: ++ [441911,441913]
                                SimpleName: groupId [441913,441920]
                        ExpressionStatement [441939,441947]
                            Assignment [441939,441946]
                                SimpleName: num [441939,441942]
                                ASSIGNMENT_OPERATOR: = [441943,441944]
                                NumberLiteral: 0 [441945,441946]
                ExpressionStatement [441976,442001]
                    MethodInvocation [441976,442000]
                        METHOD_INVOCATION_RECEIVER [441976,441984]
                            SimpleName: groupMap [441976,441984]
                        SimpleName: put [441985,441988]
                        METHOD_INVOCATION_ARGUMENTS [441989,441999]
                            SimpleName: n [441989,441990]
                            SimpleName: groupId [441992,441999]
        MethodDeclaration [442024,442102]
            Modifier: public [442024,442030]
            PrimitiveType: double [442031,442037]
            SimpleName: spreadExpectation [442038,442055]
            Block [442067,442102]
                ReturnStatement [442082,442091]
                    NumberLiteral: 2 [442089,442090]
    MethodDeclaration [442117,442720]
        Modifier: static [442117,442123]
        ParameterizedType [442124,442141]
            SimpleType [442124,442127]
                SimpleName: Map [442124,442127]
            SimpleType [442128,442132]
                SimpleName: Unit [442128,442132]
            SimpleType [442134,442140]
                SimpleName: Double [442134,442140]
        SimpleName: evaluateReplicatedOwnership [442142,442169]
        SingleVariableDeclaration [442170,442208]
            ParameterizedType [442170,442206]
                SimpleType [442170,442200]
                    SimpleName: ReplicationAwareTokenAllocator [442170,442200]
                SimpleType [442201,442205]
                    SimpleName: Unit [442201,442205]
            SimpleName: t [442207,442208]
        Block [442215,442720]
            VariableDeclarationStatement [442226,442274]
                ParameterizedType [442226,442243]
                    SimpleType [442226,442229]
                        SimpleName: Map [442226,442229]
                    SimpleType [442230,442234]
                        SimpleName: Unit [442230,442234]
                    SimpleType [442236,442242]
                        SimpleName: Double [442236,442242]
                VariableDeclarationFragment [442244,442273]
                    SimpleName: ownership [442244,442253]
                    MethodInvocation [442256,442273]
                        METHOD_INVOCATION_RECEIVER [442256,442260]
                            SimpleName: Maps [442256,442260]
                        SimpleName: newHashMap [442261,442271]
            VariableDeclarationStatement [442284,442340]
                ParameterizedType [442284,442299]
                    SimpleType [442284,442292]
                        SimpleName: Iterator [442284,442292]
                    SimpleType [442293,442298]
                        SimpleName: Token [442293,442298]
                VariableDeclarationFragment [442300,442339]
                    SimpleName: it [442300,442302]
                    MethodInvocation [442305,442339]
                        METHOD_INVOCATION_RECEIVER [442305,442328]
                            MethodInvocation [442305,442328]
                                METHOD_INVOCATION_RECEIVER [442305,442319]
                                    QualifiedName: t.sortedTokens [442305,442319]
                                SimpleName: keySet [442320,442326]
                        SimpleName: iterator [442329,442337]
            IfStatement [442350,442399]
                PrefixExpression [442354,442367]
                    PREFIX_EXPRESSION_OPERATOR: ! [442354,442355]
                    MethodInvocation [442355,442367]
                        METHOD_INVOCATION_RECEIVER [442355,442357]
                            SimpleName: it [442355,442357]
                        SimpleName: hasNext [442358,442365]
                ReturnStatement [442382,442399]
                    SimpleName: ownership [442389,442398]
            VariableDeclarationStatement [442411,442437]
                SimpleType [442411,442416]
                    SimpleName: Token [442411,442416]
                VariableDeclarationFragment [442417,442436]
                    SimpleName: current [442417,442424]
                    MethodInvocation [442427,442436]
                        METHOD_INVOCATION_RECEIVER [442427,442429]
                            SimpleName: it [442427,442429]
                        SimpleName: next [442430,442434]
            WhileStatement [442447,442611]
                MethodInvocation [442454,442466]
                    METHOD_INVOCATION_RECEIVER [442454,442456]
                        SimpleName: it [442454,442456]
                    SimpleName: hasNext [442457,442464]
                Block [442477,442611]
                    VariableDeclarationStatement [442492,442515]
                        SimpleType [442492,442497]
                            SimpleName: Token [442492,442497]
                        VariableDeclarationFragment [442498,442514]
                            SimpleName: next [442498,442502]
                            MethodInvocation [442505,442514]
                                METHOD_INVOCATION_RECEIVER [442505,442507]
                                    SimpleName: it [442505,442507]
                                SimpleName: next [442508,442512]
                    ExpressionStatement [442529,442571]
                        MethodInvocation [442529,442570]
                            SimpleName: addOwnership [442529,442541]
                            METHOD_INVOCATION_ARGUMENTS [442542,442569]
                                SimpleName: t [442542,442543]
                                SimpleName: current [442545,442552]
                                SimpleName: next [442554,442558]
                                SimpleName: ownership [442560,442569]
                    ExpressionStatement [442585,442600]
                        Assignment [442585,442599]
                            SimpleName: current [442585,442592]
                            ASSIGNMENT_OPERATOR: = [442593,442594]
                            SimpleName: next [442595,442599]
            ExpressionStatement [442621,442684]
                MethodInvocation [442621,442683]
                    SimpleName: addOwnership [442621,442633]
                    METHOD_INVOCATION_ARGUMENTS [442634,442682]
                        SimpleName: t [442634,442635]
                        SimpleName: current [442637,442644]
                        MethodInvocation [442646,442671]
                            METHOD_INVOCATION_RECEIVER [442646,442660]
                                QualifiedName: t.sortedTokens [442646,442660]
                            SimpleName: firstKey [442661,442669]
                        SimpleName: ownership [442673,442682]
            ReturnStatement [442696,442713]
                SimpleName: ownership [442703,442712]
    MethodDeclaration [442728,443255]
        Modifier: private [442728,442735]
        Modifier: static [442736,442742]
        PrimitiveType: void [442743,442747]
        SimpleName: addOwnership [442748,442760]
        SingleVariableDeclaration [442761,442799]
            ParameterizedType [442761,442797]
                SimpleType [442761,442791]
                    SimpleName: ReplicationAwareTokenAllocator [442761,442791]
                SimpleType [442792,442796]
                    SimpleName: Unit [442792,442796]
            SimpleName: t [442798,442799]
        SingleVariableDeclaration [442801,442814]
            SimpleType [442801,442806]
                SimpleName: Token [442801,442806]
            SimpleName: current [442807,442814]
        SingleVariableDeclaration [442816,442826]
            SimpleType [442816,442821]
                SimpleName: Token [442816,442821]
            SimpleName: next [442822,442826]
        SingleVariableDeclaration [442828,442855]
            ParameterizedType [442828,442845]
                SimpleType [442828,442831]
                    SimpleName: Map [442828,442831]
                SimpleType [442832,442836]
                    SimpleName: Unit [442832,442836]
                SimpleType [442838,442844]
                    SimpleName: Double [442838,442844]
            SimpleName: ownership [442846,442855]
        Block [442862,443255]
            VariableDeclarationStatement [442873,442939]
                SimpleType [442873,442896]
                    SimpleName: TestReplicationStrategy [442873,442896]
                VariableDeclarationFragment [442897,442938]
                    SimpleName: ts [442897,442899]
                    CastExpression [442902,442938]
                        SimpleType [442903,442926]
                            SimpleName: TestReplicationStrategy [442903,442926]
                        QualifiedName: t.strategy [442928,442938]
            VariableDeclarationStatement [442949,442982]
                PrimitiveType: double [442949,442955]
                VariableDeclarationFragment [442956,442981]
                    SimpleName: size [442956,442960]
                    MethodInvocation [442963,442981]
                        METHOD_INVOCATION_RECEIVER [442963,442970]
                            SimpleName: current [442963,442970]
                        SimpleName: size [442971,442975]
                        METHOD_INVOCATION_ARGUMENTS [442976,442980]
                            SimpleName: next [442976,442980]
            VariableDeclarationStatement [442992,443053]
                SimpleType [442992,442997]
                    SimpleName: Token [442992,442997]
                VariableDeclarationFragment [442998,443052]
                    SimpleName: representative [442998,443012]
                    MethodInvocation [443015,443052]
                        METHOD_INVOCATION_RECEIVER [443015,443028]
                            QualifiedName: t.partitioner [443015,443028]
                        SimpleName: midpoint [443029,443037]
                        METHOD_INVOCATION_ARGUMENTS [443038,443051]
                            SimpleName: current [443038,443045]
                            SimpleName: next [443047,443051]
            EnhancedForStatement [443063,443248]
                SingleVariableDeclaration [443068,443074]
                    SimpleType [443068,443072]
                        SimpleName: Unit [443068,443072]
                    SimpleName: n [443073,443074]
                MethodInvocation [443077,443123]
                    METHOD_INVOCATION_RECEIVER [443077,443079]
                        SimpleName: ts [443077,443079]
                    SimpleName: getReplicas [443080,443091]
                    METHOD_INVOCATION_ARGUMENTS [443092,443122]
                        SimpleName: representative [443092,443106]
                        QualifiedName: t.sortedTokens [443108,443122]
                Block [443134,443248]
                    VariableDeclarationStatement [443149,443177]
                        SimpleType [443149,443155]
                            SimpleName: Double [443149,443155]
                        VariableDeclarationFragment [443156,443176]
                            SimpleName: v [443156,443157]
                            MethodInvocation [443160,443176]
                                METHOD_INVOCATION_RECEIVER [443160,443169]
                                    SimpleName: ownership [443160,443169]
                                SimpleName: get [443170,443173]
                                METHOD_INVOCATION_ARGUMENTS [443174,443175]
                                    SimpleName: n [443174,443175]
                    ExpressionStatement [443191,443237]
                        MethodInvocation [443191,443236]
                            METHOD_INVOCATION_RECEIVER [443191,443200]
                                SimpleName: ownership [443191,443200]
                            SimpleName: put [443201,443204]
                            METHOD_INVOCATION_ARGUMENTS [443205,443235]
                                SimpleName: n [443205,443206]
                                ConditionalExpression [443208,443235]
                                    InfixExpression [443208,443217]
                                        SimpleName: v [443208,443209]
                                        INFIX_EXPRESSION_OPERATOR: != [443210,443212]
                                        NullLiteral [443213,443217]
                                    InfixExpression [443220,443228]
                                        SimpleName: v [443220,443221]
                                        INFIX_EXPRESSION_OPERATOR: + [443222,443223]
                                        SimpleName: size [443224,443228]
                                    SimpleName: size [443231,443235]
    MethodDeclaration [443263,443705]
        Modifier: private [443263,443270]
        Modifier: static [443271,443277]
        PrimitiveType: double [443278,443284]
        SimpleName: replicatedTokenOwnership [443285,443309]
        SingleVariableDeclaration [443310,443321]
            SimpleType [443310,443315]
                SimpleName: Token [443310,443315]
            SimpleName: token [443316,443321]
        SingleVariableDeclaration [443323,443361]
            ParameterizedType [443323,443348]
                SimpleType [443323,443335]
                    SimpleName: NavigableMap [443323,443335]
                SimpleType [443336,443341]
                    SimpleName: Token [443336,443341]
                SimpleType [443343,443347]
                    SimpleName: Unit [443343,443347]
            SimpleName: sortedTokens [443349,443361]
        SingleVariableDeclaration [443363,443397]
            ParameterizedType [443363,443388]
                SimpleType [443363,443382]
                    SimpleName: ReplicationStrategy [443363,443382]
                SimpleType [443383,443387]
                    SimpleName: Unit [443383,443387]
            SimpleName: strategy [443389,443397]
        Block [443404,443705]
            VariableDeclarationStatement [443415,443479]
                SimpleType [443415,443438]
                    SimpleName: TestReplicationStrategy [443415,443438]
                VariableDeclarationFragment [443439,443478]
                    SimpleName: ts [443439,443441]
                    CastExpression [443444,443478]
                        SimpleType [443445,443468]
                            SimpleName: TestReplicationStrategy [443445,443468]
                        SimpleName: strategy [443470,443478]
            VariableDeclarationStatement [443489,443532]
                SimpleType [443489,443494]
                    SimpleName: Token [443489,443494]
                VariableDeclarationFragment [443495,443531]
                    SimpleName: next [443495,443499]
                    MethodInvocation [443502,443531]
                        METHOD_INVOCATION_RECEIVER [443502,443514]
                            SimpleName: sortedTokens [443502,443514]
                        SimpleName: higherKey [443515,443524]
                        METHOD_INVOCATION_ARGUMENTS [443525,443530]
                            SimpleName: token [443525,443530]
            IfStatement [443542,443604]
                InfixExpression [443546,443558]
                    SimpleName: next [443546,443550]
                    INFIX_EXPRESSION_OPERATOR: == [443551,443553]
                    NullLiteral [443554,443558]
                ExpressionStatement [443573,443604]
                    Assignment [443573,443603]
                        SimpleName: next [443573,443577]
                        ASSIGNMENT_OPERATOR: = [443578,443579]
                        MethodInvocation [443580,443603]
                            METHOD_INVOCATION_RECEIVER [443580,443592]
                                SimpleName: sortedTokens [443580,443592]
                            SimpleName: firstKey [443593,443601]
            ReturnStatement [443614,443698]
                MethodInvocation [443621,443697]
                    METHOD_INVOCATION_RECEIVER [443621,443686]
                        MethodInvocation [443621,443686]
                            METHOD_INVOCATION_RECEIVER [443621,443623]
                                SimpleName: ts [443621,443623]
                            SimpleName: replicationStart [443624,443640]
                            METHOD_INVOCATION_ARGUMENTS [443641,443685]
                                SimpleName: token [443641,443646]
                                MethodInvocation [443648,443671]
                                    METHOD_INVOCATION_RECEIVER [443648,443660]
                                        SimpleName: sortedTokens [443648,443660]
                                    SimpleName: get [443661,443664]
                                    METHOD_INVOCATION_ARGUMENTS [443665,443670]
                                        SimpleName: token [443665,443670]
                                SimpleName: sortedTokens [443673,443685]
                    SimpleName: size [443687,443691]
                    METHOD_INVOCATION_ARGUMENTS [443692,443696]
                        SimpleName: next [443692,443696]
    TypeDeclaration [443713,443849]
        Modifier: static [443713,443719]
        TYPE_DECLARATION_KIND: interface [443720,443729]
        SimpleName: TokenCount [443730,443740]
        MethodDeclaration [443757,443803]
            PrimitiveType: int [443757,443760]
            SimpleName: tokenCount [443761,443771]
            SingleVariableDeclaration [443772,443788]
                PrimitiveType: int [443772,443775]
                SimpleName: perUnitCount [443776,443788]
            SingleVariableDeclaration [443790,443801]
                SimpleType [443790,443796]
                    SimpleName: Random [443790,443796]
                SimpleName: rand [443797,443801]
        MethodDeclaration [443815,443842]
            PrimitiveType: double [443815,443821]
            SimpleName: spreadExpectation [443822,443839]
    FieldDeclaration [443857,444175]
        Modifier: static [443857,443863]
        SimpleType [443864,443874]
            SimpleName: TokenCount [443864,443874]
        VariableDeclarationFragment [443875,443965]
            SimpleName: fixedTokenCount [443875,443890]
    FieldDeclaration [444179,444619]
        Modifier: static [444179,444185]
        SimpleType [444186,444196]
            SimpleName: TokenCount [444186,444196]
        VariableDeclarationFragment [444197,444289]
            SimpleName: varyingTokenCount [444197,444214]
    FieldDeclaration [444623,444681]
        SimpleType [444623,444641]
            SimpleName: Murmur3Partitioner [444623,444641]
        VariableDeclarationFragment [444642,444680]
            SimpleName: partitioner [444642,444653]
            ClassInstanceCreation [444656,444680]
                SimpleType [444660,444678]
                    SimpleName: Murmur3Partitioner [444660,444678]
    FieldDeclaration [444687,444721]
        SimpleType [444687,444693]
            SimpleName: Random [444687,444693]
        VariableDeclarationFragment [444694,444720]
            SimpleName: seededRand [444694,444704]
            ClassInstanceCreation [444707,444720]
                SimpleType [444711,444717]
                    SimpleName: Random [444711,444717]
                NumberLiteral: 2 [444718,444719]
    MethodDeclaration [444729,445343]
        Modifier: private [444729,444736]
        PrimitiveType: void [444737,444741]
        SimpleName: random [444742,444748]
        SingleVariableDeclaration [444749,444769]
            ParameterizedType [444749,444765]
                SimpleType [444749,444752]
                    SimpleName: Map [444749,444752]
                SimpleType [444753,444758]
                    SimpleName: Token [444753,444758]
                SimpleType [444760,444764]
                    SimpleName: Unit [444760,444764]
            SimpleName: map [444766,444769]
        SingleVariableDeclaration [444771,444797]
            SimpleType [444771,444794]
                SimpleName: TestReplicationStrategy [444771,444794]
            SimpleName: rs [444795,444797]
        SingleVariableDeclaration [444799,444812]
            PrimitiveType: int [444799,444802]
            SimpleName: unitCount [444803,444812]
        SingleVariableDeclaration [444814,444827]
            SimpleType [444814,444824]
                SimpleName: TokenCount [444814,444824]
            SimpleName: tc [444825,444827]
        SingleVariableDeclaration [444829,444845]
            PrimitiveType: int [444829,444832]
            SimpleName: perUnitCount [444833,444845]
        Block [444852,445343]
            ExpressionStatement [444863,444963]
                MethodInvocation [444863,444962]
                    METHOD_INVOCATION_RECEIVER [444863,444873]
                        QualifiedName: System.out [444863,444873]
                    SimpleName: format [444874,444880]
                    METHOD_INVOCATION_ARGUMENTS [444881,444961]
                        StringLiteral: "\nRandom generation of %d units with %d tokens each\n" [444881,444936]
                        SimpleName: unitCount [444938,444947]
                        SimpleName: perUnitCount [444949,444961]
            VariableDeclarationStatement [444973,444998]
                SimpleType [444973,444979]
                    SimpleName: Random [444973,444979]
                VariableDeclarationFragment [444980,444997]
                    SimpleName: rand [444980,444984]
                    SimpleName: seededRand [444987,444997]
            ForStatement [445008,445336]
                VariableDeclarationExpression [445013,445022]
                    PrimitiveType: int [445013,445016]
                    VariableDeclarationFragment [445017,445022]
                        SimpleName: i [445017,445018]
                        NumberLiteral: 0 [445021,445022]
                InfixExpression [445024,445037]
                    SimpleName: i [445024,445025]
                    INFIX_EXPRESSION_OPERATOR: < [445026,445027]
                    SimpleName: unitCount [445028,445037]
                PostfixExpression [445039,445042]
                    SimpleName: i [445039,445040]
                    POSTFIX_EXPRESSION_OPERATOR: ++ [445040,445042]
                Block [445053,445336]
                    VariableDeclarationStatement [445068,445091]
                        SimpleType [445068,445072]
                            SimpleName: Unit [445068,445072]
                        VariableDeclarationFragment [445073,445090]
                            SimpleName: unit [445073,445077]
                            ClassInstanceCreation [445080,445090]
                                SimpleType [445084,445088]
                                    SimpleName: Unit [445084,445088]
                    ExpressionStatement [445105,445122]
                        MethodInvocation [445105,445121]
                            METHOD_INVOCATION_RECEIVER [445105,445107]
                                SimpleName: rs [445105,445107]
                            SimpleName: addUnit [445108,445115]
                            METHOD_INVOCATION_ARGUMENTS [445116,445120]
                                SimpleName: unit [445116,445120]
                    VariableDeclarationStatement [445136,445183]
                        PrimitiveType: int [445136,445139]
                        VariableDeclarationFragment [445140,445182]
                            SimpleName: tokens [445140,445146]
                            MethodInvocation [445149,445182]
                                METHOD_INVOCATION_RECEIVER [445149,445151]
                                    SimpleName: tc [445149,445151]
                                SimpleName: tokenCount [445152,445162]
                                METHOD_INVOCATION_ARGUMENTS [445163,445181]
                                    SimpleName: perUnitCount [445163,445175]
                                    SimpleName: rand [445177,445181]
                    ForStatement [445197,445325]
                        VariableDeclarationExpression [445202,445211]
                            PrimitiveType: int [445202,445205]
                            VariableDeclarationFragment [445206,445211]
                                SimpleName: j [445206,445207]
                                NumberLiteral: 0 [445210,445211]
                        InfixExpression [445213,445223]
                            SimpleName: j [445213,445214]
                            INFIX_EXPRESSION_OPERATOR: < [445215,445216]
                            SimpleName: tokens [445217,445223]
                        PostfixExpression [445225,445228]
                            SimpleName: j [445225,445226]
                            POSTFIX_EXPRESSION_OPERATOR: ++ [445226,445228]
                        Block [445243,445325]
                            ExpressionStatement [445262,445310]
                                MethodInvocation [445262,445309]
                                    METHOD_INVOCATION_RECEIVER [445262,445265]
                                        SimpleName: map [445262,445265]
                                    SimpleName: put [445266,445269]
                                    METHOD_INVOCATION_ARGUMENTS [445270,445308]
                                        MethodInvocation [445270,445302]
                                            METHOD_INVOCATION_RECEIVER [445270,445281]
                                                SimpleName: partitioner [445270,445281]
                                            SimpleName: getRandomToken [445282,445296]
                                            METHOD_INVOCATION_ARGUMENTS [445297,445301]
                                                SimpleName: rand [445297,445301]
                                        SimpleName: unit [445304,445308]
    MethodDeclaration [445351,446460]
        MarkerAnnotation [445351,445356]
            SimpleName: Test [445352,445356]
        Modifier: public [445362,445368]
        PrimitiveType: void [445369,445373]
        SimpleName: testExistingCluster [445374,445393]
        Block [445401,446460]
            ForStatement [445412,446453]
                VariableDeclarationExpression [445417,445427]
                    PrimitiveType: int [445417,445420]
                    VariableDeclarationFragment [445421,445427]
                        SimpleName: rf [445421,445423]
                        NumberLiteral: 1 [445426,445427]
                InfixExpression [445429,445436]
                    SimpleName: rf [445429,445431]
                    INFIX_EXPRESSION_OPERATOR: <= [445432,445434]
                    NumberLiteral: 5 [445435,445436]
                PrefixExpression [445438,445442]
                    PREFIX_EXPRESSION_OPERATOR: ++ [445438,445440]
                    SimpleName: rf [445440,445442]
                Block [445453,446453]
                    ForStatement [445468,446442]
                        VariableDeclarationExpression [445473,445493]
                            PrimitiveType: int [445473,445476]
                            VariableDeclarationFragment [445477,445493]
                                SimpleName: perUnitCount [445477,445489]
                                NumberLiteral: 1 [445492,445493]
                        InfixExpression [445495,445526]
                            SimpleName: perUnitCount [445495,445507]
                            INFIX_EXPRESSION_OPERATOR: <= [445508,445510]
                            SimpleName: MAX_VNODE_COUNT [445511,445526]
                        Assignment [445528,445545]
                            SimpleName: perUnitCount [445528,445540]
                            ASSIGNMENT_OPERATOR: *= [445541,445543]
                            NumberLiteral: 4 [445544,445545]
                        Block [445560,446442]
                            ExpressionStatement [445579,445665]
                                MethodInvocation [445579,445664]
                                    SimpleName: testExistingCluster [445579,445598]
                                    METHOD_INVOCATION_ARGUMENTS [445599,445663]
                                        SimpleName: perUnitCount [445599,445611]
                                        SimpleName: fixedTokenCount [445613,445628]
                                        ClassInstanceCreation [445630,445663]
                                            SimpleType [445634,445659]
                                                SimpleName: SimpleReplicationStrategy [445634,445659]
                                            SimpleName: rf [445660,445662]
                            ExpressionStatement [445683,445771]
                                MethodInvocation [445683,445770]
                                    SimpleName: testExistingCluster [445683,445702]
                                    METHOD_INVOCATION_ARGUMENTS [445703,445769]
                                        SimpleName: perUnitCount [445703,445715]
                                        SimpleName: varyingTokenCount [445717,445734]
                                        ClassInstanceCreation [445736,445769]
                                            SimpleType [445740,445765]
                                                SimpleName: SimpleReplicationStrategy [445740,445765]
                                            SimpleName: rf [445766,445768]
                            IfStatement [445789,445811]
                                InfixExpression [445793,445800]
                                    SimpleName: rf [445793,445795]
                                    INFIX_EXPRESSION_OPERATOR: == [445796,445798]
                                    NumberLiteral: 1 [445799,445800]
                                ContinueStatement [445802,445811]
                            ForStatement [445881,446306]
                                VariableDeclarationExpression [445886,445903]
                                    PrimitiveType: int [445886,445889]
                                    VariableDeclarationFragment [445890,445903]
                                        SimpleName: groupSize [445890,445899]
                                        NumberLiteral: 4 [445902,445903]
                                InfixExpression [445905,445964]
                                    InfixExpression [445905,445920]
                                        SimpleName: groupSize [445905,445914]
                                        INFIX_EXPRESSION_OPERATOR: <= [445915,445917]
                                        NumberLiteral: 64 [445918,445920]
                                    INFIX_EXPRESSION_OPERATOR: && [445921,445923]
                                    InfixExpression [445924,445964]
                                        InfixExpression [445924,445942]
                                            SimpleName: groupSize [445924,445933]
                                            INFIX_EXPRESSION_OPERATOR: * [445934,445935]
                                            SimpleName: rf [445936,445938]
                                            NumberLiteral: 4 [445941,445942]
                                        INFIX_EXPRESSION_OPERATOR: < [445943,445944]
                                        SimpleName: TARGET_CLUSTER_SIZE [445945,445964]
                                Assignment [445966,445980]
                                    SimpleName: groupSize [445966,445975]
                                    ASSIGNMENT_OPERATOR: *= [445976,445978]
                                    NumberLiteral: 4 [445979,445980]
                                Block [445999,446306]
                                    ExpressionStatement [446022,446126]
                                        MethodInvocation [446022,446125]
                                            SimpleName: testExistingCluster [446022,446041]
                                            METHOD_INVOCATION_ARGUMENTS [446042,446124]
                                                SimpleName: perUnitCount [446042,446054]
                                                SimpleName: fixedTokenCount [446056,446071]
                                                ClassInstanceCreation [446073,446124]
                                                    SimpleType [446077,446109]
                                                        SimpleName: BalancedGroupReplicationStrategy [446077,446109]
                                                    SimpleName: rf [446110,446112]
                                                    SimpleName: groupSize [446114,446123]
                                    ExpressionStatement [446148,446287]
                                        MethodInvocation [446148,446286]
                                            SimpleName: testExistingCluster [446148,446167]
                                            METHOD_INVOCATION_ARGUMENTS [446168,446285]
                                                SimpleName: perUnitCount [446168,446180]
                                                SimpleName: varyingTokenCount [446182,446199]
                                                ClassInstanceCreation [446201,446285]
                                                    SimpleType [446205,446239]
                                                        SimpleName: UnbalancedGroupReplicationStrategy [446205,446239]
                                                    SimpleName: rf [446240,446242]
                                                    InfixExpression [446244,446257]
                                                        SimpleName: groupSize [446244,446253]
                                                        INFIX_EXPRESSION_OPERATOR: / [446254,446255]
                                                        NumberLiteral: 2 [446256,446257]
                                                    InfixExpression [446259,446272]
                                                        SimpleName: groupSize [446259,446268]
                                                        INFIX_EXPRESSION_OPERATOR: * [446269,446270]
                                                        NumberLiteral: 2 [446271,446272]
                                                    SimpleName: seededRand [446274,446284]
                            ExpressionStatement [446324,446427]
                                MethodInvocation [446324,446426]
                                    SimpleName: testExistingCluster [446324,446343]
                                    METHOD_INVOCATION_ARGUMENTS [446344,446425]
                                        SimpleName: perUnitCount [446344,446356]
                                        SimpleName: fixedTokenCount [446358,446373]
                                        ClassInstanceCreation [446375,446425]
                                            SimpleType [446379,446413]
                                                SimpleName: FixedGroupCountReplicationStrategy [446379,446413]
                                            SimpleName: rf [446414,446416]
                                            InfixExpression [446418,446424]
                                                SimpleName: rf [446418,446420]
                                                INFIX_EXPRESSION_OPERATOR: * [446421,446422]
                                                NumberLiteral: 2 [446423,446424]
    MethodDeclaration [446468,447235]
        Modifier: public [446468,446474]
        PrimitiveType: void [446475,446479]
        SimpleName: testExistingCluster [446480,446499]
        SingleVariableDeclaration [446500,446516]
            PrimitiveType: int [446500,446503]
            SimpleName: perUnitCount [446504,446516]
        SingleVariableDeclaration [446518,446531]
            SimpleType [446518,446528]
                SimpleName: TokenCount [446518,446528]
            SimpleName: tc [446529,446531]
        SingleVariableDeclaration [446533,446559]
            SimpleType [446533,446556]
                SimpleName: TestReplicationStrategy [446533,446556]
            SimpleName: rs [446557,446559]
        Block [446566,447235]
            ExpressionStatement [446577,446679]
                MethodInvocation [446577,446678]
                    METHOD_INVOCATION_RECEIVER [446577,446587]
                        QualifiedName: System.out [446577,446587]
                    SimpleName: println [446588,446595]
                    METHOD_INVOCATION_ARGUMENTS [446596,446677]
                        InfixExpression [446596,446677]
                            StringLiteral: "Testing existing cluster, target " [446596,446631]
                            INFIX_EXPRESSION_OPERATOR: + [446632,446633]
                            SimpleName: perUnitCount [446634,446646]
                            StringLiteral: " vnodes, replication " [446649,446672]
                            SimpleName: rs [446675,446677]
            VariableDeclarationStatement [446689,446739]
                Modifier: final [446689,446694]
                PrimitiveType: int [446695,446698]
                VariableDeclarationFragment [446699,446738]
                    SimpleName: targetClusterSize [446699,446716]
                    SimpleName: TARGET_CLUSTER_SIZE [446719,446738]
            VariableDeclarationStatement [446749,446804]
                ParameterizedType [446749,446774]
                    SimpleType [446749,446761]
                        SimpleName: NavigableMap [446749,446761]
                    SimpleType [446762,446767]
                        SimpleName: Token [446762,446767]
                    SimpleType [446769,446773]
                        SimpleName: Unit [446769,446773]
                VariableDeclarationFragment [446775,446803]
                    SimpleName: tokenMap [446775,446783]
                    MethodInvocation [446786,446803]
                        METHOD_INVOCATION_RECEIVER [446786,446790]
                            SimpleName: Maps [446786,446790]
                        SimpleName: newTreeMap [446791,446801]
            ExpressionStatement [446816,446878]
                MethodInvocation [446816,446877]
                    SimpleName: random [446816,446822]
                    METHOD_INVOCATION_ARGUMENTS [446823,446876]
                        SimpleName: tokenMap [446823,446831]
                        SimpleName: rs [446833,446835]
                        InfixExpression [446837,446858]
                            SimpleName: targetClusterSize [446837,446854]
                            INFIX_EXPRESSION_OPERATOR: / [446855,446856]
                            NumberLiteral: 2 [446857,446858]
                        SimpleName: tc [446860,446862]
                        SimpleName: perUnitCount [446864,446876]
            VariableDeclarationStatement [446890,446995]
                ParameterizedType [446890,446926]
                    SimpleType [446890,446920]
                        SimpleName: ReplicationAwareTokenAllocator [446890,446920]
                    SimpleType [446921,446925]
                        SimpleName: Unit [446921,446925]
                VariableDeclarationFragment [446927,446994]
                    SimpleName: t [446927,446928]
                    ClassInstanceCreation [446931,446994]
                        ParameterizedType [446935,446967]
                            SimpleType [446935,446965]
                                SimpleName: ReplicationAwareTokenAllocator [446935,446965]
                        SimpleName: tokenMap [446968,446976]
                        SimpleName: rs [446978,446980]
                        SimpleName: partitioner [446982,446993]
            ExpressionStatement [447005,447066]
                MethodInvocation [447005,447065]
                    SimpleName: grow [447005,447009]
                    METHOD_INVOCATION_ARGUMENTS [447010,447064]
                        SimpleName: t [447010,447011]
                        InfixExpression [447013,447039]
                            InfixExpression [447013,447034]
                                SimpleName: targetClusterSize [447013,447030]
                                INFIX_EXPRESSION_OPERATOR: * [447031,447032]
                                NumberLiteral: 9 [447033,447034]
                            INFIX_EXPRESSION_OPERATOR: / [447035,447036]
                            NumberLiteral: 10 [447037,447039]
                        SimpleName: tc [447041,447043]
                        SimpleName: perUnitCount [447045,447057]
                        BooleanLiteral: false [447059,447064]
            ExpressionStatement [447076,447127]
                MethodInvocation [447076,447126]
                    SimpleName: grow [447076,447080]
                    METHOD_INVOCATION_ARGUMENTS [447081,447125]
                        SimpleName: t [447081,447082]
                        SimpleName: targetClusterSize [447084,447101]
                        SimpleName: tc [447103,447105]
                        SimpleName: perUnitCount [447107,447119]
                        BooleanLiteral: true [447121,447125]
            ExpressionStatement [447137,447197]
                MethodInvocation [447137,447196]
                    SimpleName: loseAndReplace [447137,447151]
                    METHOD_INVOCATION_ARGUMENTS [447152,447195]
                        SimpleName: t [447152,447153]
                        InfixExpression [447155,447177]
                            SimpleName: targetClusterSize [447155,447172]
                            INFIX_EXPRESSION_OPERATOR: / [447173,447174]
                            NumberLiteral: 10 [447175,447177]
                        SimpleName: tc [447179,447181]
                        SimpleName: perUnitCount [447183,447195]
            ExpressionStatement [447207,447228]
                MethodInvocation [447207,447227]
                    METHOD_INVOCATION_RECEIVER [447207,447217]
                        QualifiedName: System.out [447207,447217]
                    SimpleName: println [447218,447225]
    MethodDeclaration [447243,448322]
        MarkerAnnotation [447243,447248]
            SimpleName: Test [447244,447248]
        Modifier: public [447254,447260]
        PrimitiveType: void [447261,447265]
        SimpleName: testNewCluster [447266,447280]
        Block [447288,448322]
            ForStatement [447299,448315]
                VariableDeclarationExpression [447304,447314]
                    PrimitiveType: int [447304,447307]
                    VariableDeclarationFragment [447308,447314]
                        SimpleName: rf [447308,447310]
                        NumberLiteral: 2 [447313,447314]
                InfixExpression [447316,447323]
                    SimpleName: rf [447316,447318]
                    INFIX_EXPRESSION_OPERATOR: <= [447319,447321]
                    NumberLiteral: 5 [447322,447323]
                PrefixExpression [447325,447329]
                    PREFIX_EXPRESSION_OPERATOR: ++ [447325,447327]
                    SimpleName: rf [447327,447329]
                Block [447340,448315]
                    ForStatement [447355,448304]
                        VariableDeclarationExpression [447360,447380]
                            PrimitiveType: int [447360,447363]
                            VariableDeclarationFragment [447364,447380]
                                SimpleName: perUnitCount [447364,447376]
                                NumberLiteral: 1 [447379,447380]
                        InfixExpression [447382,447413]
                            SimpleName: perUnitCount [447382,447394]
                            INFIX_EXPRESSION_OPERATOR: <= [447395,447397]
                            SimpleName: MAX_VNODE_COUNT [447398,447413]
                        Assignment [447415,447432]
                            SimpleName: perUnitCount [447415,447427]
                            ASSIGNMENT_OPERATOR: *= [447428,447430]
                            NumberLiteral: 4 [447431,447432]
                        Block [447447,448304]
                            ExpressionStatement [447466,447547]
                                MethodInvocation [447466,447546]
                                    SimpleName: testNewCluster [447466,447480]
                                    METHOD_INVOCATION_ARGUMENTS [447481,447545]
                                        SimpleName: perUnitCount [447481,447493]
                                        SimpleName: fixedTokenCount [447495,447510]
                                        ClassInstanceCreation [447512,447545]
                                            SimpleType [447516,447541]
                                                SimpleName: SimpleReplicationStrategy [447516,447541]
                                            SimpleName: rf [447542,447544]
                            ExpressionStatement [447565,447648]
                                MethodInvocation [447565,447647]
                                    SimpleName: testNewCluster [447565,447579]
                                    METHOD_INVOCATION_ARGUMENTS [447580,447646]
                                        SimpleName: perUnitCount [447580,447592]
                                        SimpleName: varyingTokenCount [447594,447611]
                                        ClassInstanceCreation [447613,447646]
                                            SimpleType [447617,447642]
                                                SimpleName: SimpleReplicationStrategy [447617,447642]
                                            SimpleName: rf [447643,447645]
                            IfStatement [447666,447688]
                                InfixExpression [447670,447677]
                                    SimpleName: rf [447670,447672]
                                    INFIX_EXPRESSION_OPERATOR: == [447673,447675]
                                    NumberLiteral: 1 [447676,447677]
                                ContinueStatement [447679,447688]
                            ForStatement [447758,448173]
                                VariableDeclarationExpression [447763,447780]
                                    PrimitiveType: int [447763,447766]
                                    VariableDeclarationFragment [447767,447780]
                                        SimpleName: groupSize [447767,447776]
                                        NumberLiteral: 4 [447779,447780]
                                InfixExpression [447782,447841]
                                    InfixExpression [447782,447797]
                                        SimpleName: groupSize [447782,447791]
                                        INFIX_EXPRESSION_OPERATOR: <= [447792,447794]
                                        NumberLiteral: 64 [447795,447797]
                                    INFIX_EXPRESSION_OPERATOR: && [447798,447800]
                                    InfixExpression [447801,447841]
                                        InfixExpression [447801,447819]
                                            SimpleName: groupSize [447801,447810]
                                            INFIX_EXPRESSION_OPERATOR: * [447811,447812]
                                            SimpleName: rf [447813,447815]
                                            NumberLiteral: 8 [447818,447819]
                                        INFIX_EXPRESSION_OPERATOR: < [447820,447821]
                                        SimpleName: TARGET_CLUSTER_SIZE [447822,447841]
                                Assignment [447843,447857]
                                    SimpleName: groupSize [447843,447852]
                                    ASSIGNMENT_OPERATOR: *= [447853,447855]
                                    NumberLiteral: 4 [447856,447857]
                                Block [447876,448173]
                                    ExpressionStatement [447899,447998]
                                        MethodInvocation [447899,447997]
                                            SimpleName: testNewCluster [447899,447913]
                                            METHOD_INVOCATION_ARGUMENTS [447914,447996]
                                                SimpleName: perUnitCount [447914,447926]
                                                SimpleName: fixedTokenCount [447928,447943]
                                                ClassInstanceCreation [447945,447996]
                                                    SimpleType [447949,447981]
                                                        SimpleName: BalancedGroupReplicationStrategy [447949,447981]
                                                    SimpleName: rf [447982,447984]
                                                    SimpleName: groupSize [447986,447995]
                                    ExpressionStatement [448020,448154]
                                        MethodInvocation [448020,448153]
                                            SimpleName: testNewCluster [448020,448034]
                                            METHOD_INVOCATION_ARGUMENTS [448035,448152]
                                                SimpleName: perUnitCount [448035,448047]
                                                SimpleName: varyingTokenCount [448049,448066]
                                                ClassInstanceCreation [448068,448152]
                                                    SimpleType [448072,448106]
                                                        SimpleName: UnbalancedGroupReplicationStrategy [448072,448106]
                                                    SimpleName: rf [448107,448109]
                                                    InfixExpression [448111,448124]
                                                        SimpleName: groupSize [448111,448120]
                                                        INFIX_EXPRESSION_OPERATOR: / [448121,448122]
                                                        NumberLiteral: 2 [448123,448124]
                                                    InfixExpression [448126,448139]
                                                        SimpleName: groupSize [448126,448135]
                                                        INFIX_EXPRESSION_OPERATOR: * [448136,448137]
                                                        NumberLiteral: 2 [448138,448139]
                                                    SimpleName: seededRand [448141,448151]
                            ExpressionStatement [448191,448289]
                                MethodInvocation [448191,448288]
                                    SimpleName: testNewCluster [448191,448205]
                                    METHOD_INVOCATION_ARGUMENTS [448206,448287]
                                        SimpleName: perUnitCount [448206,448218]
                                        SimpleName: fixedTokenCount [448220,448235]
                                        ClassInstanceCreation [448237,448287]
                                            SimpleType [448241,448275]
                                                SimpleName: FixedGroupCountReplicationStrategy [448241,448275]
                                            SimpleName: rf [448276,448278]
                                            InfixExpression [448280,448286]
                                                SimpleName: rf [448280,448282]
                                                INFIX_EXPRESSION_OPERATOR: * [448283,448284]
                                                NumberLiteral: 2 [448285,448286]
    MethodDeclaration [448330,449011]
        Modifier: public [448330,448336]
        PrimitiveType: void [448337,448341]
        SimpleName: testNewCluster [448342,448356]
        SingleVariableDeclaration [448357,448373]
            PrimitiveType: int [448357,448360]
            SimpleName: perUnitCount [448361,448373]
        SingleVariableDeclaration [448375,448388]
            SimpleType [448375,448385]
                SimpleName: TokenCount [448375,448385]
            SimpleName: tc [448386,448388]
        SingleVariableDeclaration [448390,448416]
            SimpleType [448390,448413]
                SimpleName: TestReplicationStrategy [448390,448413]
            SimpleName: rs [448414,448416]
        Block [448423,449011]
            ExpressionStatement [448434,448531]
                MethodInvocation [448434,448530]
                    METHOD_INVOCATION_RECEIVER [448434,448444]
                        QualifiedName: System.out [448434,448444]
                    SimpleName: println [448445,448452]
                    METHOD_INVOCATION_ARGUMENTS [448453,448529]
                        InfixExpression [448453,448529]
                            StringLiteral: "Testing new cluster, target " [448453,448483]
                            INFIX_EXPRESSION_OPERATOR: + [448484,448485]
                            SimpleName: perUnitCount [448486,448498]
                            StringLiteral: " vnodes, replication " [448501,448524]
                            SimpleName: rs [448527,448529]
            VariableDeclarationStatement [448541,448591]
                Modifier: final [448541,448546]
                PrimitiveType: int [448547,448550]
                VariableDeclarationFragment [448551,448590]
                    SimpleName: targetClusterSize [448551,448568]
                    SimpleName: TARGET_CLUSTER_SIZE [448571,448590]
            VariableDeclarationStatement [448601,448656]
                ParameterizedType [448601,448626]
                    SimpleType [448601,448613]
                        SimpleName: NavigableMap [448601,448613]
                    SimpleType [448614,448619]
                        SimpleName: Token [448614,448619]
                    SimpleType [448621,448625]
                        SimpleName: Unit [448621,448625]
                VariableDeclarationFragment [448627,448655]
                    SimpleName: tokenMap [448627,448635]
                    MethodInvocation [448638,448655]
                        METHOD_INVOCATION_RECEIVER [448638,448642]
                            SimpleName: Maps [448638,448642]
                        SimpleName: newTreeMap [448643,448653]
            VariableDeclarationStatement [448668,448773]
                ParameterizedType [448668,448704]
                    SimpleType [448668,448698]
                        SimpleName: ReplicationAwareTokenAllocator [448668,448698]
                    SimpleType [448699,448703]
                        SimpleName: Unit [448699,448703]
                VariableDeclarationFragment [448705,448772]
                    SimpleName: t [448705,448706]
                    ClassInstanceCreation [448709,448772]
                        ParameterizedType [448713,448745]
                            SimpleType [448713,448743]
                                SimpleName: ReplicationAwareTokenAllocator [448713,448743]
                        SimpleName: tokenMap [448746,448754]
                        SimpleName: rs [448756,448758]
                        SimpleName: partitioner [448760,448771]
            ExpressionStatement [448783,448843]
                MethodInvocation [448783,448842]
                    SimpleName: grow [448783,448787]
                    METHOD_INVOCATION_ARGUMENTS [448788,448841]
                        SimpleName: t [448788,448789]
                        InfixExpression [448791,448816]
                            InfixExpression [448791,448812]
                                SimpleName: targetClusterSize [448791,448808]
                                INFIX_EXPRESSION_OPERATOR: * [448809,448810]
                                NumberLiteral: 2 [448811,448812]
                            INFIX_EXPRESSION_OPERATOR: / [448813,448814]
                            NumberLiteral: 5 [448815,448816]
                        SimpleName: tc [448818,448820]
                        SimpleName: perUnitCount [448822,448834]
                        BooleanLiteral: false [448836,448841]
            ExpressionStatement [448853,448904]
                MethodInvocation [448853,448903]
                    SimpleName: grow [448853,448857]
                    METHOD_INVOCATION_ARGUMENTS [448858,448902]
                        SimpleName: t [448858,448859]
                        SimpleName: targetClusterSize [448861,448878]
                        SimpleName: tc [448880,448882]
                        SimpleName: perUnitCount [448884,448896]
                        BooleanLiteral: true [448898,448902]
            ExpressionStatement [448914,448973]
                MethodInvocation [448914,448972]
                    SimpleName: loseAndReplace [448914,448928]
                    METHOD_INVOCATION_ARGUMENTS [448929,448971]
                        SimpleName: t [448929,448930]
                        InfixExpression [448932,448953]
                            SimpleName: targetClusterSize [448932,448949]
                            INFIX_EXPRESSION_OPERATOR: / [448950,448951]
                            NumberLiteral: 5 [448952,448953]
                        SimpleName: tc [448955,448957]
                        SimpleName: perUnitCount [448959,448971]
            ExpressionStatement [448983,449004]
                MethodInvocation [448983,449003]
                    METHOD_INVOCATION_RECEIVER [448983,448993]
                        QualifiedName: System.out [448983,448993]
                    SimpleName: println [448994,449001]
    MethodDeclaration [449019,449733]
        Modifier: private [449019,449026]
        PrimitiveType: void [449027,449031]
        SimpleName: loseAndReplace [449032,449046]
        SingleVariableDeclaration [449047,449085]
            ParameterizedType [449047,449083]
                SimpleType [449047,449077]
                    SimpleName: ReplicationAwareTokenAllocator [449047,449077]
                SimpleType [449078,449082]
                    SimpleName: Unit [449078,449082]
            SimpleName: t [449084,449085]
        SingleVariableDeclaration [449087,449098]
            PrimitiveType: int [449087,449090]
            SimpleName: howMany [449091,449098]
        SingleVariableDeclaration [449100,449113]
            SimpleType [449100,449110]
                SimpleName: TokenCount [449100,449110]
            SimpleName: tc [449111,449113]
        SingleVariableDeclaration [449115,449131]
            PrimitiveType: int [449115,449118]
            SimpleName: perUnitCount [449119,449131]
        Block [449138,449733]
            VariableDeclarationStatement [449149,449179]
                PrimitiveType: int [449149,449152]
                VariableDeclarationFragment [449153,449178]
                    SimpleName: fullCount [449153,449162]
                    MethodInvocation [449165,449178]
                        METHOD_INVOCATION_RECEIVER [449165,449166]
                            SimpleName: t [449165,449166]
                        SimpleName: unitCount [449167,449176]
            ExpressionStatement [449189,449237]
                MethodInvocation [449189,449236]
                    METHOD_INVOCATION_RECEIVER [449189,449199]
                        QualifiedName: System.out [449189,449199]
                    SimpleName: format [449200,449206]
                    METHOD_INVOCATION_ARGUMENTS [449207,449235]
                        StringLiteral: "Losing %d units. " [449207,449226]
                        SimpleName: howMany [449228,449235]
            ForStatement [449247,449472]
                VariableDeclarationExpression [449252,449261]
                    PrimitiveType: int [449252,449255]
                    VariableDeclarationFragment [449256,449261]
                        SimpleName: i [449256,449257]
                        NumberLiteral: 0 [449260,449261]
                InfixExpression [449263,449274]
                    SimpleName: i [449263,449264]
                    INFIX_EXPRESSION_OPERATOR: < [449265,449266]
                    SimpleName: howMany [449267,449274]
                PrefixExpression [449276,449279]
                    PREFIX_EXPRESSION_OPERATOR: ++ [449276,449278]
                    SimpleName: i [449278,449279]
                Block [449290,449472]
                    VariableDeclarationStatement [449305,449364]
                        SimpleType [449305,449309]
                            SimpleName: Unit [449305,449309]
                        VariableDeclarationFragment [449310,449363]
                            SimpleName: u [449310,449311]
                            MethodInvocation [449314,449363]
                                METHOD_INVOCATION_RECEIVER [449314,449315]
                                    SimpleName: t [449314,449315]
                                SimpleName: unitFor [449316,449323]
                                METHOD_INVOCATION_ARGUMENTS [449324,449362]
                                    MethodInvocation [449324,449362]
                                        METHOD_INVOCATION_RECEIVER [449324,449335]
                                            SimpleName: partitioner [449324,449335]
                                        SimpleName: getRandomToken [449336,449350]
                                        METHOD_INVOCATION_ARGUMENTS [449351,449361]
                                            SimpleName: seededRand [449351,449361]
                    ExpressionStatement [449378,449394]
                        MethodInvocation [449378,449393]
                            METHOD_INVOCATION_RECEIVER [449378,449379]
                                SimpleName: t [449378,449379]
                            SimpleName: removeUnit [449380,449390]
                            METHOD_INVOCATION_ARGUMENTS [449391,449392]
                                SimpleName: u [449391,449392]
                    ExpressionStatement [449408,449461]
                        MethodInvocation [449408,449460]
                            METHOD_INVOCATION_RECEIVER [449408,449446]
                                ParenthesizedExpression [449408,449446]
                                    CastExpression [449409,449445]
                                        SimpleType [449410,449433]
                                            SimpleName: TestReplicationStrategy [449410,449433]
                                        QualifiedName: t.strategy [449435,449445]
                            SimpleName: removeUnit [449447,449457]
                            METHOD_INVOCATION_ARGUMENTS [449458,449459]
                                SimpleName: u [449458,449459]
            ExpressionStatement [449523,449593]
                MethodInvocation [449523,449592]
                    SimpleName: grow [449523,449527]
                    METHOD_INVOCATION_ARGUMENTS [449528,449591]
                        SimpleName: t [449528,449529]
                        InfixExpression [449531,449566]
                            ParenthesizedExpression [449531,449562]
                                InfixExpression [449532,449561]
                                    MethodInvocation [449532,449545]
                                        METHOD_INVOCATION_RECEIVER [449532,449533]
                                            SimpleName: t [449532,449533]
                                        SimpleName: unitCount [449534,449543]
                                    INFIX_EXPRESSION_OPERATOR: + [449546,449547]
                                    InfixExpression [449548,449561]
                                        SimpleName: fullCount [449548,449557]
                                        INFIX_EXPRESSION_OPERATOR: * [449558,449559]
                                        NumberLiteral: 3 [449560,449561]
                            INFIX_EXPRESSION_OPERATOR: / [449563,449564]
                            NumberLiteral: 4 [449565,449566]
                        SimpleName: tc [449568,449570]
                        SimpleName: perUnitCount [449572,449584]
                        BooleanLiteral: false [449586,449591]
            ExpressionStatement [449683,449726]
                MethodInvocation [449683,449725]
                    SimpleName: grow [449683,449687]
                    METHOD_INVOCATION_ARGUMENTS [449688,449724]
                        SimpleName: t [449688,449689]
                        SimpleName: fullCount [449691,449700]
                        SimpleName: tc [449702,449704]
                        SimpleName: perUnitCount [449706,449718]
                        BooleanLiteral: true [449720,449724]
    TypeDeclaration [449741,450233]
        Modifier: static [449741,449747]
        TYPE_DECLARATION_KIND: class [449748,449753]
        SimpleName: Summary [449754,449761]
        FieldDeclaration [449778,449793]
            PrimitiveType: double [449778,449784]
            VariableDeclarationFragment [449785,449792]
                SimpleName: min [449785,449788]
                NumberLiteral: 1 [449791,449792]
        FieldDeclaration [449803,449818]
            PrimitiveType: double [449803,449809]
            VariableDeclarationFragment [449810,449817]
                SimpleName: max [449810,449813]
                NumberLiteral: 1 [449816,449817]
        FieldDeclaration [449828,449846]
            PrimitiveType: double [449828,449834]
            VariableDeclarationFragment [449835,449845]
                SimpleName: stddev [449835,449841]
                NumberLiteral: 0 [449844,449845]
        MethodDeclaration [449858,450082]
            PrimitiveType: void [449858,449862]
            SimpleName: update [449863,449869]
            SingleVariableDeclaration [449870,449892]
                SimpleType [449870,449887]
                    SimpleName: SummaryStatistics [449870,449887]
                SimpleName: stat [449888,449892]
            Block [449903,450082]
                ExpressionStatement [449918,449953]
                    Assignment [449918,449952]
                        SimpleName: min [449918,449921]
                        ASSIGNMENT_OPERATOR: = [449922,449923]
                        MethodInvocation [449924,449952]
                            METHOD_INVOCATION_RECEIVER [449924,449928]
                                SimpleName: Math [449924,449928]
                            SimpleName: min [449929,449932]
                            METHOD_INVOCATION_ARGUMENTS [449933,449951]
                                SimpleName: min [449933,449936]
                                MethodInvocation [449938,449951]
                                    METHOD_INVOCATION_RECEIVER [449938,449942]
                                        SimpleName: stat [449938,449942]
                                    SimpleName: getMin [449943,449949]
                ExpressionStatement [449967,450002]
                    Assignment [449967,450001]
                        SimpleName: max [449967,449970]
                        ASSIGNMENT_OPERATOR: = [449971,449972]
                        MethodInvocation [449973,450001]
                            METHOD_INVOCATION_RECEIVER [449973,449977]
                                SimpleName: Math [449973,449977]
                            SimpleName: max [449978,449981]
                            METHOD_INVOCATION_ARGUMENTS [449982,450000]
                                SimpleName: max [449982,449985]
                                MethodInvocation [449987,450000]
                                    METHOD_INVOCATION_RECEIVER [449987,449991]
                                        SimpleName: stat [449987,449991]
                                    SimpleName: getMax [449992,449998]
                ExpressionStatement [450016,450071]
                    Assignment [450016,450070]
                        SimpleName: stddev [450016,450022]
                        ASSIGNMENT_OPERATOR: = [450023,450024]
                        MethodInvocation [450025,450070]
                            METHOD_INVOCATION_RECEIVER [450025,450029]
                                SimpleName: Math [450025,450029]
                            SimpleName: max [450030,450033]
                            METHOD_INVOCATION_ARGUMENTS [450034,450069]
                                SimpleName: stddev [450034,450040]
                                MethodInvocation [450042,450069]
                                    METHOD_INVOCATION_RECEIVER [450042,450046]
                                        SimpleName: stat [450042,450046]
                                    SimpleName: getStandardDeviation [450047,450067]
        MethodDeclaration [450094,450226]
            Modifier: public [450094,450100]
            SimpleType [450101,450107]
                SimpleName: String [450101,450107]
            SimpleName: toString [450108,450116]
            Block [450128,450226]
                ReturnStatement [450143,450215]
                    MethodInvocation [450150,450214]
                        METHOD_INVOCATION_RECEIVER [450150,450156]
                            SimpleName: String [450150,450156]
                        SimpleName: format [450157,450163]
                        METHOD_INVOCATION_ARGUMENTS [450164,450213]
                            StringLiteral: "max %.2f min %.2f stddev %.4f" [450164,450195]
                            SimpleName: max [450197,450200]
                            SimpleName: min [450202,450205]
                            SimpleName: stddev [450207,450213]
    MethodDeclaration [450241,451876]
        Modifier: public [450241,450247]
        PrimitiveType: void [450248,450252]
        SimpleName: grow [450253,450257]
        SingleVariableDeclaration [450258,450296]
            ParameterizedType [450258,450294]
                SimpleType [450258,450288]
                    SimpleName: ReplicationAwareTokenAllocator [450258,450288]
                SimpleType [450289,450293]
                    SimpleName: Unit [450289,450293]
            SimpleName: t [450295,450296]
        SingleVariableDeclaration [450298,450319]
            PrimitiveType: int [450298,450301]
            SimpleName: targetClusterSize [450302,450319]
        SingleVariableDeclaration [450321,450334]
            SimpleType [450321,450331]
                SimpleName: TokenCount [450321,450331]
            SimpleName: tc [450332,450334]
        SingleVariableDeclaration [450336,450352]
            PrimitiveType: int [450336,450339]
            SimpleName: perUnitCount [450340,450352]
        SingleVariableDeclaration [450354,450375]
            PrimitiveType: boolean [450354,450361]
            SimpleName: verifyMetrics [450362,450375]
        Block [450382,451876]
            VariableDeclarationStatement [450393,450418]
                PrimitiveType: int [450393,450396]
                VariableDeclarationFragment [450397,450417]
                    SimpleName: size [450397,450401]
                    MethodInvocation [450404,450417]
                        METHOD_INVOCATION_RECEIVER [450404,450405]
                            SimpleName: t [450404,450405]
                        SimpleName: unitCount [450406,450415]
            VariableDeclarationStatement [450428,450455]
                SimpleType [450428,450435]
                    SimpleName: Summary [450428,450435]
                VariableDeclarationFragment [450436,450454]
                    SimpleName: su [450436,450438]
                    ClassInstanceCreation [450441,450454]
                        SimpleType [450445,450452]
                            SimpleName: Summary [450445,450452]
            VariableDeclarationStatement [450465,450492]
                SimpleType [450465,450472]
                    SimpleName: Summary [450465,450472]
                VariableDeclarationFragment [450473,450491]
                    SimpleName: st [450473,450475]
                    ClassInstanceCreation [450478,450491]
                        SimpleType [450482,450489]
                            SimpleName: Summary [450482,450489]
            VariableDeclarationStatement [450502,450561]
                SimpleType [450502,450508]
                    SimpleName: Random [450502,450508]
                VariableDeclarationFragment [450509,450560]
                    SimpleName: rand [450509,450513]
                    ClassInstanceCreation [450516,450560]
                        SimpleType [450520,450526]
                            SimpleName: Random [450520,450526]
                        InfixExpression [450527,450559]
                            SimpleName: targetClusterSize [450527,450544]
                            INFIX_EXPRESSION_OPERATOR: + [450545,450546]
                            SimpleName: perUnitCount [450547,450559]
            VariableDeclarationStatement [450571,450643]
                SimpleType [450571,450594]
                    SimpleName: TestReplicationStrategy [450571,450594]
                VariableDeclarationFragment [450595,450642]
                    SimpleName: strategy [450595,450603]
                    CastExpression [450606,450642]
                        SimpleType [450607,450630]
                            SimpleName: TestReplicationStrategy [450607,450630]
                        QualifiedName: t.strategy [450632,450642]
            IfStatement [450653,451869]
                InfixExpression [450657,450681]
                    SimpleName: size [450657,450661]
                    INFIX_EXPRESSION_OPERATOR: < [450662,450663]
                    SimpleName: targetClusterSize [450664,450681]
                Block [450692,451869]
                    ExpressionStatement [450707,450798]
                        MethodInvocation [450707,450797]
                            METHOD_INVOCATION_RECEIVER [450707,450717]
                                QualifiedName: System.out [450707,450717]
                            SimpleName: format [450718,450724]
                            METHOD_INVOCATION_ARGUMENTS [450725,450796]
                                StringLiteral: "Adding %d unit(s) using %s..." [450725,450756]
                                InfixExpression [450758,450782]
                                    SimpleName: targetClusterSize [450758,450775]
                                    INFIX_EXPRESSION_OPERATOR: - [450776,450777]
                                    SimpleName: size [450778,450782]
                                MethodInvocation [450784,450796]
                                    METHOD_INVOCATION_RECEIVER [450784,450785]
                                        SimpleName: t [450784,450785]
                                    SimpleName: toString [450786,450794]
                    VariableDeclarationStatement [450812,450851]
                        PrimitiveType: long [450812,450816]
                        VariableDeclarationFragment [450817,450850]
                            SimpleName: time [450817,450821]
                            MethodInvocation [450824,450850]
                                METHOD_INVOCATION_RECEIVER [450824,450830]
                                    SimpleName: System [450824,450830]
                                SimpleName: currentTimeMillis [450831,450848]
                    WhileStatement [450865,451231]
                        InfixExpression [450872,450896]
                            SimpleName: size [450872,450876]
                            INFIX_EXPRESSION_OPERATOR: < [450877,450878]
                            SimpleName: targetClusterSize [450879,450896]
                        Block [450911,451231]
                            VariableDeclarationStatement [450930,450977]
                                PrimitiveType: int [450930,450933]
                                VariableDeclarationFragment [450934,450976]
                                    SimpleName: tokens [450934,450940]
                                    MethodInvocation [450943,450976]
                                        METHOD_INVOCATION_RECEIVER [450943,450945]
                                            SimpleName: tc [450943,450945]
                                        SimpleName: tokenCount [450946,450956]
                                        METHOD_INVOCATION_ARGUMENTS [450957,450975]
                                            SimpleName: perUnitCount [450957,450969]
                                            SimpleName: rand [450971,450975]
                            VariableDeclarationStatement [450995,451018]
                                SimpleType [450995,450999]
                                    SimpleName: Unit [450995,450999]
                                VariableDeclarationFragment [451000,451017]
                                    SimpleName: unit [451000,451004]
                                    ClassInstanceCreation [451007,451017]
                                        SimpleType [451011,451015]
                                            SimpleName: Unit [451011,451015]
                            ExpressionStatement [451036,451059]
                                MethodInvocation [451036,451058]
                                    METHOD_INVOCATION_RECEIVER [451036,451044]
                                        SimpleName: strategy [451036,451044]
                                    SimpleName: addUnit [451045,451052]
                                    METHOD_INVOCATION_ARGUMENTS [451053,451057]
                                        SimpleName: unit [451053,451057]
                            ExpressionStatement [451077,451101]
                                MethodInvocation [451077,451100]
                                    METHOD_INVOCATION_RECEIVER [451077,451078]
                                        SimpleName: t [451077,451078]
                                    SimpleName: addUnit [451079,451086]
                                    METHOD_INVOCATION_ARGUMENTS [451087,451099]
                                        SimpleName: unit [451087,451091]
                                        SimpleName: tokens [451093,451099]
                            ExpressionStatement [451119,451126]
                                PrefixExpression [451119,451125]
                                    PREFIX_EXPRESSION_OPERATOR: ++ [451119,451121]
                                    SimpleName: size [451121,451125]
                            IfStatement [451144,451216]
                                SimpleName: verifyMetrics [451148,451161]
                                ExpressionStatement [451184,451216]
                                    MethodInvocation [451184,451215]
                                        SimpleName: updateSummary [451184,451197]
                                        METHOD_INVOCATION_ARGUMENTS [451198,451214]
                                            SimpleName: t [451198,451199]
                                            SimpleName: su [451201,451203]
                                            SimpleName: st [451205,451207]
                                            BooleanLiteral: false [451209,451214]
                    ExpressionStatement [451245,451329]
                        MethodInvocation [451245,451328]
                            METHOD_INVOCATION_RECEIVER [451245,451255]
                                QualifiedName: System.out [451245,451255]
                            SimpleName: format [451256,451262]
                            METHOD_INVOCATION_ARGUMENTS [451263,451327]
                                StringLiteral: " Done in %.3fs\n" [451263,451281]
                                InfixExpression [451283,451327]
                                    ParenthesizedExpression [451283,451318]
                                        InfixExpression [451284,451317]
                                            MethodInvocation [451284,451310]
                                                METHOD_INVOCATION_RECEIVER [451284,451290]
                                                    SimpleName: System [451284,451290]
                                                SimpleName: currentTimeMillis [451291,451308]
                                            INFIX_EXPRESSION_OPERATOR: - [451311,451312]
                                            SimpleName: time [451313,451317]
                                    INFIX_EXPRESSION_OPERATOR: / [451319,451320]
                                    NumberLiteral: 1000.0 [451321,451327]
                    IfStatement [451343,451858]
                        SimpleName: verifyMetrics [451347,451360]
                        Block [451375,451858]
                            ExpressionStatement [451394,451425]
                                MethodInvocation [451394,451424]
                                    SimpleName: updateSummary [451394,451407]
                                    METHOD_INVOCATION_ARGUMENTS [451408,451423]
                                        SimpleName: t [451408,451409]
                                        SimpleName: su [451411,451413]
                                        SimpleName: st [451415,451417]
                                        BooleanLiteral: true [451419,451423]
                            VariableDeclarationStatement [451443,451554]
                                PrimitiveType: double [451443,451449]
                                VariableDeclarationFragment [451450,451553]
                                    SimpleName: maxExpected [451450,451461]
                                    InfixExpression [451464,451553]
                                        NumberLiteral: 1.0 [451464,451467]
                                        INFIX_EXPRESSION_OPERATOR: + [451468,451469]
                                        InfixExpression [451470,451553]
                                            InfixExpression [451470,451523]
                                                MethodInvocation [451470,451492]
                                                    METHOD_INVOCATION_RECEIVER [451470,451472]
                                                        SimpleName: tc [451470,451472]
                                                    SimpleName: spreadExpectation [451473,451490]
                                                INFIX_EXPRESSION_OPERATOR: * [451493,451494]
                                                MethodInvocation [451495,451523]
                                                    METHOD_INVOCATION_RECEIVER [451495,451503]
                                                        SimpleName: strategy [451495,451503]
                                                    SimpleName: spreadExpectation [451504,451521]
                                            INFIX_EXPRESSION_OPERATOR: / [451524,451525]
                                            ParenthesizedExpression [451526,451553]
                                                InfixExpression [451527,451552]
                                                    SimpleName: perUnitCount [451527,451539]
                                                    INFIX_EXPRESSION_OPERATOR: * [451540,451541]
                                                    QualifiedName: t.replicas [451542,451552]
                            IfStatement [451572,451752]
                                InfixExpression [451576,451596]
                                    QualifiedName: su.max [451576,451582]
                                    INFIX_EXPRESSION_OPERATOR: > [451583,451584]
                                    SimpleName: maxExpected [451585,451596]
                                Block [451615,451752]
                                    ExpressionStatement [451638,451733]
                                        MethodInvocation [451638,451732]
                                            METHOD_INVOCATION_RECEIVER [451638,451644]
                                                SimpleName: Assert [451638,451644]
                                            SimpleName: fail [451645,451649]
                                            METHOD_INVOCATION_ARGUMENTS [451650,451731]
                                                MethodInvocation [451650,451731]
                                                    METHOD_INVOCATION_RECEIVER [451650,451656]
                                                        SimpleName: String [451650,451656]
                                                    SimpleName: format [451657,451663]
                                                    METHOD_INVOCATION_ARGUMENTS [451664,451730]
                                                        StringLiteral: "Expected max unit size below %.4f, was %.4f" [451664,451709]
                                                        SimpleName: maxExpected [451711,451722]
                                                        QualifiedName: su.max [451724,451730]
    MethodDeclaration [451886,453101]
        Modifier: private [451886,451893]
        PrimitiveType: void [451894,451898]
        SimpleName: updateSummary [451899,451912]
        SingleVariableDeclaration [451913,451951]
            ParameterizedType [451913,451949]
                SimpleType [451913,451943]
                    SimpleName: ReplicationAwareTokenAllocator [451913,451943]
                SimpleType [451944,451948]
                    SimpleName: Unit [451944,451948]
            SimpleName: t [451950,451951]
        SingleVariableDeclaration [451953,451963]
            SimpleType [451953,451960]
                SimpleName: Summary [451953,451960]
            SimpleName: su [451961,451963]
        SingleVariableDeclaration [451965,451975]
            SimpleType [451965,451972]
                SimpleName: Summary [451965,451972]
            SimpleName: st [451973,451975]
        SingleVariableDeclaration [451977,451990]
            PrimitiveType: boolean [451977,451984]
            SimpleName: print [451985,451990]
        Block [451997,453101]
            VariableDeclarationStatement [452008,452041]
                PrimitiveType: int [452008,452011]
                VariableDeclarationFragment [452012,452040]
                    SimpleName: size [452012,452016]
                    MethodInvocation [452019,452040]
                        METHOD_INVOCATION_RECEIVER [452019,452033]
                            QualifiedName: t.sortedTokens [452019,452033]
                        SimpleName: size [452034,452038]
            VariableDeclarationStatement [452051,452110]
                PrimitiveType: double [452051,452057]
                VariableDeclarationFragment [452058,452109]
                    SimpleName: inverseAverage [452058,452072]
                    InfixExpression [452075,452109]
                        InfixExpression [452075,452085]
                            NumberLiteral: 1.0 [452075,452078]
                            INFIX_EXPRESSION_OPERATOR: * [452079,452080]
                            SimpleName: size [452081,452085]
                        INFIX_EXPRESSION_OPERATOR: / [452086,452087]
                        MethodInvocation [452088,452109]
                            METHOD_INVOCATION_RECEIVER [452088,452098]
                                QualifiedName: t.strategy [452088,452098]
                            SimpleName: replicas [452099,452107]
            VariableDeclarationStatement [452122,452183]
                ParameterizedType [452122,452139]
                    SimpleType [452122,452125]
                        SimpleName: Map [452122,452125]
                    SimpleType [452126,452130]
                        SimpleName: Unit [452126,452130]
                    SimpleType [452132,452138]
                        SimpleName: Double [452132,452138]
                VariableDeclarationFragment [452140,452182]
                    SimpleName: ownership [452140,452149]
                    MethodInvocation [452152,452182]
                        SimpleName: evaluateReplicatedOwnership [452152,452179]
                        METHOD_INVOCATION_ARGUMENTS [452180,452181]
                            SimpleName: t [452180,452181]
            VariableDeclarationStatement [452193,452246]
                SimpleType [452193,452210]
                    SimpleName: SummaryStatistics [452193,452210]
                VariableDeclarationFragment [452211,452245]
                    SimpleName: unitStat [452211,452219]
                    ClassInstanceCreation [452222,452245]
                        SimpleType [452226,452243]
                            SimpleName: SummaryStatistics [452226,452243]
            EnhancedForStatement [452256,452416]
                SingleVariableDeclaration [452261,452287]
                    ParameterizedType [452261,452284]
                        SimpleType [452261,452270]
                            QualifiedName: Map.Entry [452261,452270]
                        SimpleType [452271,452275]
                            SimpleName: Unit [452271,452275]
                        SimpleType [452277,452283]
                            SimpleName: Double [452277,452283]
                    SimpleName: en [452285,452287]
                MethodInvocation [452290,452310]
                    METHOD_INVOCATION_RECEIVER [452290,452299]
                        SimpleName: ownership [452290,452299]
                    SimpleName: entrySet [452300,452308]
                ExpressionStatement [452325,452416]
                    MethodInvocation [452325,452415]
                        METHOD_INVOCATION_RECEIVER [452325,452333]
                            SimpleName: unitStat [452325,452333]
                        SimpleName: addValue [452334,452342]
                        METHOD_INVOCATION_ARGUMENTS [452343,452414]
                            InfixExpression [452343,452414]
                                InfixExpression [452343,452373]
                                    MethodInvocation [452343,452356]
                                        METHOD_INVOCATION_RECEIVER [452343,452345]
                                            SimpleName: en [452343,452345]
                                        SimpleName: getValue [452346,452354]
                                    INFIX_EXPRESSION_OPERATOR: * [452357,452358]
                                    SimpleName: inverseAverage [452359,452373]
                                INFIX_EXPRESSION_OPERATOR: / [452374,452375]
                                MethodInvocation [452376,452414]
                                    METHOD_INVOCATION_RECEIVER [452376,452407]
                                        MethodInvocation [452376,452407]
                                            METHOD_INVOCATION_RECEIVER [452376,452390]
                                                QualifiedName: t.unitToTokens [452376,452390]
                                            SimpleName: get [452391,452394]
                                            METHOD_INVOCATION_ARGUMENTS [452395,452406]
                                                MethodInvocation [452395,452406]
                                                    METHOD_INVOCATION_RECEIVER [452395,452397]
                                                        SimpleName: en [452395,452397]
                                                    SimpleName: getKey [452398,452404]
                                    SimpleName: size [452408,452412]
            ExpressionStatement [452426,452446]
                MethodInvocation [452426,452445]
                    METHOD_INVOCATION_RECEIVER [452426,452428]
                        SimpleName: su [452426,452428]
                    SimpleName: update [452429,452435]
                    METHOD_INVOCATION_ARGUMENTS [452436,452444]
                        SimpleName: unitStat [452436,452444]
            VariableDeclarationStatement [452458,452512]
                SimpleType [452458,452475]
                    SimpleName: SummaryStatistics [452458,452475]
                VariableDeclarationFragment [452476,452511]
                    SimpleName: tokenStat [452476,452485]
                    ClassInstanceCreation [452488,452511]
                        SimpleType [452492,452509]
                            SimpleName: SummaryStatistics [452492,452509]
            EnhancedForStatement [452522,452672]
                SingleVariableDeclaration [452527,452536]
                    SimpleType [452527,452532]
                        SimpleName: Token [452527,452532]
                    SimpleName: tok [452533,452536]
                MethodInvocation [452539,452562]
                    METHOD_INVOCATION_RECEIVER [452539,452553]
                        QualifiedName: t.sortedTokens [452539,452553]
                    SimpleName: keySet [452554,452560]
                ExpressionStatement [452577,452672]
                    MethodInvocation [452577,452671]
                        METHOD_INVOCATION_RECEIVER [452577,452586]
                            SimpleName: tokenStat [452577,452586]
                        SimpleName: addValue [452587,452595]
                        METHOD_INVOCATION_ARGUMENTS [452596,452670]
                            InfixExpression [452596,452670]
                                MethodInvocation [452596,452653]
                                    SimpleName: replicatedTokenOwnership [452596,452620]
                                    METHOD_INVOCATION_ARGUMENTS [452621,452652]
                                        SimpleName: tok [452621,452624]
                                        QualifiedName: t.sortedTokens [452626,452640]
                                        QualifiedName: t.strategy [452642,452652]
                                INFIX_EXPRESSION_OPERATOR: * [452654,452655]
                                SimpleName: inverseAverage [452656,452670]
            ExpressionStatement [452682,452703]
                MethodInvocation [452682,452702]
                    METHOD_INVOCATION_RECEIVER [452682,452684]
                        SimpleName: st [452682,452684]
                    SimpleName: update [452685,452691]
                    METHOD_INVOCATION_ARGUMENTS [452692,452701]
                        SimpleName: tokenStat [452692,452701]
            IfStatement [452715,453094]
                SimpleName: print [452719,452724]
                Block [452735,453094]
                    ExpressionStatement [452750,453000]
                        MethodInvocation [452750,452999]
                            METHOD_INVOCATION_RECEIVER [452750,452760]
                                QualifiedName: System.out [452750,452760]
                            SimpleName: format [452761,452767]
                            METHOD_INVOCATION_ARGUMENTS [452768,452998]
                                StringLiteral: "Size %d(%d)   \tunit %s  token %s   %s\n" [452768,452810]
                                MethodInvocation [452843,452856]
                                    METHOD_INVOCATION_RECEIVER [452843,452844]
                                        SimpleName: t [452843,452844]
                                    SimpleName: unitCount [452845,452854]
                                SimpleName: size [452858,452862]
                                MethodInvocation [452895,452908]
                                    SimpleName: mms [452895,452898]
                                    METHOD_INVOCATION_ARGUMENTS [452899,452907]
                                        SimpleName: unitStat [452899,452907]
                                MethodInvocation [452941,452955]
                                    SimpleName: mms [452941,452944]
                                    METHOD_INVOCATION_ARGUMENTS [452945,452954]
                                        SimpleName: tokenStat [452945,452954]
                                QualifiedName: t.strategy [452988,452998]
                    ExpressionStatement [453014,453083]
                        MethodInvocation [453014,453082]
                            METHOD_INVOCATION_RECEIVER [453014,453024]
                                QualifiedName: System.out [453014,453024]
                            SimpleName: format [453025,453031]
                            METHOD_INVOCATION_ARGUMENTS [453032,453081]
                                StringLiteral: "Worst intermediate unit\t%s  token %s\n" [453032,453073]
                                SimpleName: su [453075,453077]
                                SimpleName: st [453079,453081]
    MethodDeclaration [453111,453285]
        Modifier: private [453111,453118]
        Modifier: static [453119,453125]
        SimpleType [453126,453132]
            SimpleName: String [453126,453132]
        SimpleName: mms [453133,453136]
        SingleVariableDeclaration [453137,453156]
            SimpleType [453137,453154]
                SimpleName: SummaryStatistics [453137,453154]
            SimpleName: s [453155,453156]
        Block [453163,453285]
            ReturnStatement [453174,453278]
                MethodInvocation [453181,453277]
                    METHOD_INVOCATION_RECEIVER [453181,453187]
                        SimpleName: String [453181,453187]
                    SimpleName: format [453188,453194]
                    METHOD_INVOCATION_ARGUMENTS [453195,453276]
                        StringLiteral: "max %.2f min %.2f stddev %.4f" [453195,453226]
                        MethodInvocation [453228,453238]
                            METHOD_INVOCATION_RECEIVER [453228,453229]
                                SimpleName: s [453228,453229]
                            SimpleName: getMax [453230,453236]
                        MethodInvocation [453240,453250]
                            METHOD_INVOCATION_RECEIVER [453240,453241]
                                SimpleName: s [453240,453241]
                            SimpleName: getMin [453242,453248]
                        MethodInvocation [453252,453276]
                            METHOD_INVOCATION_RECEIVER [453252,453253]
                                SimpleName: s [453252,453253]
                            SimpleName: getStandardDeviation [453254,453274]
    FieldDeclaration [453295,453314]
        PrimitiveType: int [453295,453298]
        VariableDeclarationFragment [453299,453313]
            SimpleName: nextUnitId [453299,453309]
            NumberLiteral: 0 [453312,453313]
    TypeDeclaration [453322,453656]
        Modifier: final [453322,453327]
        TYPE_DECLARATION_KIND: class [453328,453333]
        SimpleName: Unit [453334,453338]
        ParameterizedType [453350,453366]
            SimpleType [453350,453360]
                SimpleName: Comparable [453350,453360]
            SimpleType [453361,453365]
                SimpleName: Unit [453361,453365]
        FieldDeclaration [453383,453409]
            PrimitiveType: int [453383,453386]
            VariableDeclarationFragment [453387,453408]
                SimpleName: unitId [453387,453393]
                PostfixExpression [453396,453408]
                    SimpleName: nextUnitId [453396,453406]
                    POSTFIX_EXPRESSION_OPERATOR: ++ [453406,453408]
        MethodDeclaration [453421,453513]
            Modifier: public [453421,453427]
            SimpleType [453428,453434]
                SimpleName: String [453428,453434]
            SimpleName: toString [453435,453443]
            Block [453455,453513]
                ReturnStatement [453470,453502]
                    MethodInvocation [453477,453501]
                        METHOD_INVOCATION_RECEIVER [453477,453484]
                            SimpleName: Integer [453477,453484]
                        SimpleName: toString [453485,453493]
                        METHOD_INVOCATION_ARGUMENTS [453494,453500]
                            SimpleName: unitId [453494,453500]
        MethodDeclaration [453525,453649]
            MarkerAnnotation [453525,453534]
                SimpleName: Override [453526,453534]
            Modifier: public [453544,453550]
            PrimitiveType: int [453551,453554]
            SimpleName: compareTo [453555,453564]
            SingleVariableDeclaration [453565,453571]
                SimpleType [453565,453569]
                    SimpleName: Unit [453565,453569]
                SimpleName: o [453570,453571]
            Block [453582,453649]
                ReturnStatement [453597,453638]
                    MethodInvocation [453604,453637]
                        METHOD_INVOCATION_RECEIVER [453604,453611]
                            SimpleName: Integer [453604,453611]
                        SimpleName: compare [453612,453619]
                        METHOD_INVOCATION_ARGUMENTS [453620,453636]
                            SimpleName: unitId [453620,453626]
                            QualifiedName: o.unitId [453628,453636]
to
CompilationUnit [0,393262]
at 446
===
insert-node
---
Modifier: public [1581,1587]
to
TypeDeclaration [1417,13643]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [1588,1593]
to
TypeDeclaration [1417,13643]
at 2
===
insert-node
---
SimpleName: Config [1594,1600]
to
TypeDeclaration [1417,13643]
at 3
===
insert-tree
---
FieldDeclaration [3049,3217]
    Javadoc [3049,3161]
        TagElement [3053,3159]
            TextElement: Triggers automatic allocation of tokens if set, using the replication strategy of the referenced keyspace  [3053,3159]
    Modifier: public [3167,3173]
    SimpleType [3174,3180]
        SimpleName: String [3174,3180]
    VariableDeclarationFragment [3181,3216]
        SimpleName: allocate_tokens_for_keyspace [3181,3209]
        NullLiteral [3212,3216]
to
TypeDeclaration [1417,13643]
at 30
===
insert-node
---
Modifier: public [16190,16196]
to
TypeDeclaration [16016,74165]
at 0
===
insert-node
---
TYPE_DECLARATION_KIND: class [16197,16202]
to
TypeDeclaration [16016,74165]
at 1
===
insert-node
---
SimpleName: DatabaseDescriptor [16203,16221]
to
TypeDeclaration [16016,74165]
at 2
===
insert-tree
---
MethodDeclaration [49353,49524]
    Modifier: public [49353,49359]
    Modifier: static [49360,49366]
    SimpleType [49367,49373]
        SimpleName: String [49367,49373]
    SimpleName: getAllocateTokensKeyspace [49374,49399]
    Block [49407,49524]
        ReturnStatement [49418,49517]
            MethodInvocation [49425,49516]
                METHOD_INVOCATION_RECEIVER [49425,49431]
                    SimpleName: System [49425,49431]
                SimpleName: getProperty [49432,49443]
                METHOD_INVOCATION_ARGUMENTS [49444,49515]
                    StringLiteral: "cassandra.allocate_tokens_keyspace" [49444,49480]
                    QualifiedName: conf.allocate_tokens_for_keyspace [49482,49515]
to
TypeDeclaration [16016,74165]
at 68
===
insert-node
---
Modifier: public [76867,76873]
to
TypeDeclaration [76514,90778]
at 0
===
insert-node
---
TYPE_DECLARATION_KIND: class [76874,76879]
to
TypeDeclaration [76514,90778]
at 1
===
insert-node
---
SimpleName: CommitLog [76880,76889]
to
TypeDeclaration [76514,90778]
at 2
===
insert-node
---
MethodDeclaration [104375,105793]
to
TypeDeclaration [98796,106578]
at 10
===
insert-tree
---
MethodDeclaration [106597,107271]
    Modifier: static [106597,106603]
    ParameterizedType [106604,106621]
        SimpleType [106604,106614]
            SimpleName: Collection [106604,106614]
        SimpleType [106615,106620]
            SimpleName: Token [106615,106620]
    SimpleName: allocateTokens [106622,106636]
    SingleVariableDeclaration [106637,106665]
        Modifier: final [106637,106642]
        SimpleType [106643,106656]
            SimpleName: TokenMetadata [106643,106656]
        SimpleName: metadata [106657,106665]
    SingleVariableDeclaration [106712,106731]
        SimpleType [106712,106723]
            SimpleName: InetAddress [106712,106723]
        SimpleName: address [106724,106731]
    SingleVariableDeclaration [106778,106803]
        SimpleType [106778,106784]
            SimpleName: String [106778,106784]
        SimpleName: allocationKeyspace [106785,106803]
    SingleVariableDeclaration [106850,106863]
        PrimitiveType: int [106850,106853]
        SimpleName: numTokens [106854,106863]
    Block [106870,107271]
        VariableDeclarationStatement [106881,106929]
            SimpleType [106881,106889]
                SimpleName: Keyspace [106881,106889]
            VariableDeclarationFragment [106890,106928]
                SimpleName: ks [106890,106892]
                MethodInvocation [106895,106928]
                    METHOD_INVOCATION_RECEIVER [106895,106903]
                        SimpleName: Keyspace [106895,106903]
                    SimpleName: open [106904,106908]
                    METHOD_INVOCATION_ARGUMENTS [106909,106927]
                        SimpleName: allocationKeyspace [106909,106927]
        IfStatement [106939,107068]
            InfixExpression [106943,106953]
                SimpleName: ks [106943,106945]
                INFIX_EXPRESSION_OPERATOR: == [106946,106948]
                NullLiteral [106949,106953]
            ThrowStatement [106968,107068]
                ClassInstanceCreation [106974,107067]
                    SimpleType [106978,107000]
                        SimpleName: ConfigurationException [106978,107000]
                    InfixExpression [107001,107066]
                        StringLiteral: "Problem opening token allocation keyspace " [107001,107045]
                        INFIX_EXPRESSION_OPERATOR: + [107046,107047]
                        SimpleName: allocationKeyspace [107048,107066]
        VariableDeclarationStatement [107078,107139]
            SimpleType [107078,107105]
                SimpleName: AbstractReplicationStrategy [107078,107105]
            VariableDeclarationFragment [107106,107138]
                SimpleName: rs [107106,107108]
                MethodInvocation [107111,107138]
                    METHOD_INVOCATION_RECEIVER [107111,107113]
                        SimpleName: ks [107111,107113]
                    SimpleName: getReplicationStrategy [107114,107136]
        ReturnStatement [107159,107264]
            MethodInvocation [107166,107263]
                METHOD_INVOCATION_RECEIVER [107166,107181]
                    SimpleName: TokenAllocation [107166,107181]
                SimpleName: allocateTokens [107182,107196]
                METHOD_INVOCATION_ARGUMENTS [107197,107262]
                    SimpleName: metadata [107197,107205]
                    SimpleName: rs [107207,107209]
                    MethodInvocation [107211,107242]
                        METHOD_INVOCATION_RECEIVER [107211,107225]
                            SimpleName: StorageService [107211,107225]
                        SimpleName: getPartitioner [107226,107240]
                    SimpleName: address [107244,107251]
                    SimpleName: numTokens [107253,107262]
to
TypeDeclaration [98796,106578]
at 12
===
insert-tree
---
MethodDeclaration [120465,120732]
    MarkerAnnotation [120465,120474]
        SimpleName: Override [120466,120474]
    Modifier: public [120480,120486]
    PrimitiveType: double [120487,120493]
    SimpleName: size [120494,120498]
    SingleVariableDeclaration [120499,120509]
        SimpleType [120499,120504]
            SimpleName: Token [120499,120504]
        SimpleName: next [120505,120509]
    Block [120516,120732]
        ThrowStatement [120527,120725]
            ClassInstanceCreation [120533,120724]
                SimpleType [120537,120566]
                    SimpleName: UnsupportedOperationException [120537,120566]
                MethodInvocation [120567,120723]
                    METHOD_INVOCATION_RECEIVER [120567,120573]
                        SimpleName: String [120567,120573]
                    SimpleName: format [120574,120580]
                    METHOD_INVOCATION_ARGUMENTS [120581,120722]
                        StringLiteral: "Token type %s does not support token allocation." [120581,120631]
                        MethodInvocation [120696,120722]
                            METHOD_INVOCATION_RECEIVER [120696,120706]
                                MethodInvocation [120696,120706]
                                    SimpleName: getClass [120696,120704]
                            SimpleName: getSimpleName [120707,120720]
to
TypeDeclaration [116940,118150]
at 13
===
insert-tree
---
MethodDeclaration [120740,121008]
    MarkerAnnotation [120740,120749]
        SimpleName: Override [120741,120749]
    Modifier: public [120755,120761]
    SimpleType [120762,120767]
        SimpleName: Token [120762,120767]
    SimpleName: increaseSlightly [120768,120784]
    Block [120792,121008]
        ThrowStatement [120803,121001]
            ClassInstanceCreation [120809,121000]
                SimpleType [120813,120842]
                    SimpleName: UnsupportedOperationException [120813,120842]
                MethodInvocation [120843,120999]
                    METHOD_INVOCATION_RECEIVER [120843,120849]
                        SimpleName: String [120843,120849]
                    SimpleName: format [120850,120856]
                    METHOD_INVOCATION_ARGUMENTS [120857,120998]
                        StringLiteral: "Token type %s does not support token allocation." [120857,120907]
                        MethodInvocation [120972,120998]
                            METHOD_INVOCATION_RECEIVER [120972,120982]
                                MethodInvocation [120972,120982]
                                    SimpleName: getClass [120972,120980]
                            SimpleName: getSimpleName [120983,120996]
to
TypeDeclaration [116940,118150]
at 14
===
insert-node
---
MethodDeclaration [127052,127163]
to
TypeDeclaration [119786,127381]
at 17
===
insert-tree
---
MethodDeclaration [133905,134115]
    Javadoc [133905,134069]
        TagElement [133917,134060]
            TextElement: Returns a measure for the token space covered between this token and next. [133917,133991]
            TextElement: Used by the token allocation algorithm (see CASSANDRA-7032). [134000,134060]
    Modifier: abstract [134075,134083]
    Modifier: public [134084,134090]
    PrimitiveType: double [134091,134097]
    SimpleName: size [134098,134102]
    SingleVariableDeclaration [134103,134113]
        SimpleType [134103,134108]
            SimpleName: Token [134103,134108]
        SimpleName: next [134109,134113]
to
TypeDeclaration [128674,134513]
at 13
===
insert-tree
---
MethodDeclaration [134121,134381]
    Javadoc [134121,134334]
        TagElement [134133,134325]
            TextElement: Returns a token that is slightly greater than this. Used to avoid clashes [134133,134206]
            TextElement: between nodes in separate datacentres trying to use the same token via [134215,134285]
            TextElement: the token allocation algorithm. [134294,134325]
    Modifier: abstract [134340,134348]
    Modifier: public [134349,134355]
    SimpleType [134356,134361]
        SimpleName: Token [134356,134361]
    SimpleName: increaseSlightly [134362,134378]
to
TypeDeclaration [128674,134513]
at 14
===
insert-node
---
Modifier: public [183939,183945]
to
TypeDeclaration [136315,175856]
at 0
===
insert-node
---
TYPE_DECLARATION_KIND: class [183946,183951]
to
TypeDeclaration [136315,175856]
at 1
===
insert-node
---
SimpleName: TokenMetadata [183952,183965]
to
TypeDeclaration [136315,175856]
at 2
===
insert-node
---
Modifier: public [231948,231954]
to
TypeDeclaration [183977,364043]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [231955,231960]
to
TypeDeclaration [183977,364043]
at 2
===
insert-node
---
SimpleName: StorageService [231961,231975]
to
TypeDeclaration [183977,364043]
at 3
===
insert-node
---
Modifier: public [414070,414076]
to
TypeDeclaration [366304,381091]
at 0
===
insert-node
---
TYPE_DECLARATION_KIND: class [414077,414082]
to
TypeDeclaration [366304,381091]
at 1
===
insert-node
---
SimpleName: CommitLogStressTest [414083,414102]
to
TypeDeclaration [366304,381091]
at 2
===
insert-tree
---
FieldDeclaration [462337,462372]
    Modifier: static [462337,462343]
    SimpleType [462344,462356]
        SimpleName: IPartitioner [462344,462356]
    VariableDeclarationFragment [462357,462371]
        SimpleName: oldPartitioner [462357,462371]
to
TypeDeclaration [389362,393260]
at 4
===
insert-tree
---
MethodDeclaration [462750,462870]
    MarkerAnnotation [462750,462761]
        SimpleName: AfterClass [462751,462761]
    Modifier: public [462767,462773]
    Modifier: static [462774,462780]
    PrimitiveType: void [462781,462785]
    SimpleName: tearDown [462786,462794]
    Block [462802,462870]
        ExpressionStatement [462813,462863]
            MethodInvocation [462813,462862]
                METHOD_INVOCATION_RECEIVER [462813,462831]
                    SimpleName: DatabaseDescriptor [462813,462831]
                SimpleName: setPartitioner [462832,462846]
                METHOD_INVOCATION_ARGUMENTS [462847,462861]
                    SimpleName: oldPartitioner [462847,462861]
to
TypeDeclaration [389362,393260]
at 6
===
insert-node
---
MethodDeclaration [465993,466178]
to
TypeDeclaration [389362,393260]
at 9
===
insert-node
---
MethodDeclaration [466186,466829]
to
TypeDeclaration [389362,393260]
at 10
===
insert-tree
---
MethodDeclaration [466841,467204]
    MarkerAnnotation [466841,466846]
        SimpleName: Test [466842,466846]
    Modifier: public [466852,466858]
    PrimitiveType: void [466859,466863]
    SimpleName: testAllocateTokens [466864,466882]
    SimpleType [466892,466912]
        SimpleName: UnknownHostException [466892,466912]
    Block [466918,467204]
        VariableDeclarationStatement [466929,466941]
            PrimitiveType: int [466929,466932]
            VariableDeclarationFragment [466933,466940]
                SimpleName: vn [466933,466935]
                NumberLiteral: 16 [466938,466940]
        VariableDeclarationStatement [466951,466991]
            SimpleType [466951,466957]
                SimpleName: String [466951,466957]
            VariableDeclarationFragment [466958,466990]
                SimpleName: ks [466958,466960]
                StringLiteral: "BootStrapperTestKeyspace3" [466963,466990]
        VariableDeclarationStatement [467001,467040]
            SimpleType [467001,467014]
                SimpleName: TokenMetadata [467001,467014]
            VariableDeclarationFragment [467015,467039]
                SimpleName: tm [467015,467017]
                ClassInstanceCreation [467020,467039]
                    SimpleType [467024,467037]
                        SimpleName: TokenMetadata [467024,467037]
        ExpressionStatement [467050,467084]
            MethodInvocation [467050,467083]
                SimpleName: generateFakeEndpoints [467050,467071]
                METHOD_INVOCATION_ARGUMENTS [467072,467082]
                    SimpleName: tm [467072,467074]
                    NumberLiteral: 10 [467076,467078]
                    SimpleName: vn [467080,467082]
        VariableDeclarationStatement [467094,467147]
            SimpleType [467094,467105]
                SimpleName: InetAddress [467094,467105]
            VariableDeclarationFragment [467106,467146]
                SimpleName: addr [467106,467110]
                MethodInvocation [467113,467146]
                    METHOD_INVOCATION_RECEIVER [467113,467124]
                        SimpleName: FBUtilities [467113,467124]
                    SimpleName: getBroadcastAddress [467125,467144]
        ExpressionStatement [467157,467197]
            MethodInvocation [467157,467196]
                SimpleName: allocateTokensForNode [467157,467178]
                METHOD_INVOCATION_ARGUMENTS [467179,467195]
                    SimpleName: vn [467179,467181]
                    SimpleName: ks [467183,467185]
                    SimpleName: tm [467187,467189]
                    SimpleName: addr [467191,467195]
to
TypeDeclaration [389362,393260]
at 11
===
insert-tree
---
MethodDeclaration [467212,467778]
    Modifier: private [467212,467219]
    PrimitiveType: void [467220,467224]
    SimpleName: allocateTokensForNode [467225,467246]
    SingleVariableDeclaration [467247,467253]
        PrimitiveType: int [467247,467250]
        SimpleName: vn [467251,467253]
    SingleVariableDeclaration [467255,467264]
        SimpleType [467255,467261]
            SimpleName: String [467255,467261]
        SimpleName: ks [467262,467264]
    SingleVariableDeclaration [467266,467282]
        SimpleType [467266,467279]
            SimpleName: TokenMetadata [467266,467279]
        SimpleName: tm [467280,467282]
    SingleVariableDeclaration [467284,467300]
        SimpleType [467284,467295]
            SimpleName: InetAddress [467284,467295]
        SimpleName: addr [467296,467300]
    Block [467307,467778]
        VariableDeclarationStatement [467318,467436]
            SimpleType [467318,467335]
                SimpleName: SummaryStatistics [467318,467335]
            VariableDeclarationFragment [467336,467435]
                SimpleName: os [467336,467338]
                MethodInvocation [467341,467435]
                    METHOD_INVOCATION_RECEIVER [467341,467356]
                        SimpleName: TokenAllocation [467341,467356]
                    SimpleName: replicatedOwnershipStats [467357,467381]
                    METHOD_INVOCATION_ARGUMENTS [467382,467434]
                        SimpleName: tm [467382,467384]
                        MethodInvocation [467386,467428]
                            METHOD_INVOCATION_RECEIVER [467386,467403]
                                MethodInvocation [467386,467403]
                                    METHOD_INVOCATION_RECEIVER [467386,467394]
                                        SimpleName: Keyspace [467386,467394]
                                    SimpleName: open [467395,467399]
                                    METHOD_INVOCATION_ARGUMENTS [467400,467402]
                                        SimpleName: ks [467400,467402]
                            SimpleName: getReplicationStrategy [467404,467426]
                        SimpleName: addr [467430,467434]
        VariableDeclarationStatement [467446,467519]
            ParameterizedType [467446,467463]
                SimpleType [467446,467456]
                    SimpleName: Collection [467446,467456]
                SimpleType [467457,467462]
                    SimpleName: Token [467457,467462]
            VariableDeclarationFragment [467464,467518]
                SimpleName: tokens [467464,467470]
                MethodInvocation [467473,467518]
                    METHOD_INVOCATION_RECEIVER [467473,467485]
                        SimpleName: BootStrapper [467473,467485]
                    SimpleName: allocateTokens [467486,467500]
                    METHOD_INVOCATION_ARGUMENTS [467501,467517]
                        SimpleName: tm [467501,467503]
                        SimpleName: addr [467505,467509]
                        SimpleName: ks [467511,467513]
                        SimpleName: vn [467515,467517]
        ExpressionStatement [467529,467561]
            MethodInvocation [467529,467560]
                SimpleName: assertEquals [467529,467541]
                METHOD_INVOCATION_ARGUMENTS [467542,467559]
                    SimpleName: vn [467542,467544]
                    MethodInvocation [467546,467559]
                        METHOD_INVOCATION_RECEIVER [467546,467552]
                            SimpleName: tokens [467546,467552]
                        SimpleName: size [467553,467557]
        ExpressionStatement [467571,467607]
            MethodInvocation [467571,467606]
                METHOD_INVOCATION_RECEIVER [467571,467573]
                    SimpleName: tm [467571,467573]
                SimpleName: updateNormalTokens [467574,467592]
                METHOD_INVOCATION_ARGUMENTS [467593,467605]
                    SimpleName: tokens [467593,467599]
                    SimpleName: addr [467601,467605]
        VariableDeclarationStatement [467617,467735]
            SimpleType [467617,467634]
                SimpleName: SummaryStatistics [467617,467634]
            VariableDeclarationFragment [467635,467734]
                SimpleName: ns [467635,467637]
                MethodInvocation [467640,467734]
                    METHOD_INVOCATION_RECEIVER [467640,467655]
                        SimpleName: TokenAllocation [467640,467655]
                    SimpleName: replicatedOwnershipStats [467656,467680]
                    METHOD_INVOCATION_ARGUMENTS [467681,467733]
                        SimpleName: tm [467681,467683]
                        MethodInvocation [467685,467727]
                            METHOD_INVOCATION_RECEIVER [467685,467702]
                                MethodInvocation [467685,467702]
                                    METHOD_INVOCATION_RECEIVER [467685,467693]
                                        SimpleName: Keyspace [467685,467693]
                                    SimpleName: open [467694,467698]
                                    METHOD_INVOCATION_ARGUMENTS [467699,467701]
                                        SimpleName: ks [467699,467701]
                            SimpleName: getReplicationStrategy [467703,467725]
                        SimpleName: addr [467729,467733]
        ExpressionStatement [467745,467771]
            MethodInvocation [467745,467770]
                SimpleName: verifyImprovement [467745,467762]
                METHOD_INVOCATION_ARGUMENTS [467763,467769]
                    SimpleName: os [467763,467765]
                    SimpleName: ns [467767,467769]
to
TypeDeclaration [389362,393260]
at 12
===
insert-tree
---
MethodDeclaration [467786,468106]
    Modifier: private [467786,467793]
    PrimitiveType: void [467794,467798]
    SimpleName: verifyImprovement [467799,467816]
    SingleVariableDeclaration [467817,467837]
        SimpleType [467817,467834]
            SimpleName: SummaryStatistics [467817,467834]
        SimpleName: os [467835,467837]
    SingleVariableDeclaration [467839,467859]
        SimpleType [467839,467856]
            SimpleName: SummaryStatistics [467839,467856]
        SimpleName: ns [467857,467859]
    Block [467866,468106]
        IfStatement [467877,468099]
            InfixExpression [467881,467934]
                MethodInvocation [467881,467906]
                    METHOD_INVOCATION_RECEIVER [467881,467883]
                        SimpleName: ns [467881,467883]
                    SimpleName: getStandardDeviation [467884,467904]
                INFIX_EXPRESSION_OPERATOR: > [467907,467908]
                MethodInvocation [467909,467934]
                    METHOD_INVOCATION_RECEIVER [467909,467911]
                        SimpleName: os [467909,467911]
                    SimpleName: getStandardDeviation [467912,467932]
            Block [467945,468099]
                ExpressionStatement [467960,468088]
                    MethodInvocation [467960,468087]
                        SimpleName: fail [467960,467964]
                        METHOD_INVOCATION_ARGUMENTS [467965,468086]
                            MethodInvocation [467965,468086]
                                METHOD_INVOCATION_RECEIVER [467965,467971]
                                    SimpleName: String [467965,467971]
                                SimpleName: format [467972,467978]
                                METHOD_INVOCATION_ARGUMENTS [467979,468085]
                                    StringLiteral: "Token allocation unexpectedly increased standard deviation.\nStats before:\n%s\nStats after:\n%s" [467979,468077]
                                    SimpleName: os [468079,468081]
                                    SimpleName: ns [468083,468085]
to
TypeDeclaration [389362,393260]
at 13
===
insert-node
---
MethodDeclaration [468120,469519]
to
TypeDeclaration [389362,393260]
at 14
===
insert-node
---
Modifier: private [77641,77648]
to
MethodDeclaration [77288,77765]
at 0
===
insert-node
---
Modifier: private [92782,92789]
to
FieldDeclaration [92429,92651]
at 0
===
move-tree
---
Javadoc [103957,104184]
    TagElement [103969,104175]
        TextElement: if initialtoken was specified, use that (split on comma). [103969,104026]
        TextElement: otherwise, if num_tokens == 1, pick a token to assume half the load of the most-loaded node. [104035,104127]
        TextElement: else choose num_tokens tokens at random [104136,104175]
to
MethodDeclaration [104375,105793]
at 0
===
insert-node
---
Modifier: public [104624,104630]
to
MethodDeclaration [104375,105793]
at 1
===
insert-node
---
Modifier: static [104631,104637]
to
MethodDeclaration [104375,105793]
at 2
===
insert-tree
---
ParameterizedType [104638,104655]
    SimpleType [104638,104648]
        SimpleName: Collection [104638,104648]
    SimpleType [104649,104654]
        SimpleName: Token [104649,104654]
to
MethodDeclaration [104375,105793]
at 3
===
insert-node
---
SimpleName: getBootstrapTokens [104656,104674]
to
MethodDeclaration [104375,105793]
at 4
===
insert-tree
---
SingleVariableDeclaration [104675,104703]
    Modifier: final [104675,104680]
    SimpleType [104681,104694]
        SimpleName: TokenMetadata [104681,104694]
    SimpleName: metadata [104695,104703]
to
MethodDeclaration [104375,105793]
at 5
===
insert-tree
---
SingleVariableDeclaration [104705,104724]
    SimpleType [104705,104716]
        SimpleName: InetAddress [104705,104716]
    SimpleName: address [104717,104724]
to
MethodDeclaration [104375,105793]
at 6
===
move-tree
---
SimpleType [104278,104300]
    SimpleName: ConfigurationException [104278,104300]
to
MethodDeclaration [104375,105793]
at 7
===
insert-node
---
Block [104761,105793]
to
MethodDeclaration [104375,105793]
at 8
===
update-node
---
Modifier: public [104190,104196]
replace public by private
===
update-node
---
SimpleName: getBootstrapTokens [104222,104240]
replace getBootstrapTokens by getSpecifiedTokens
===
insert-tree
---
SingleVariableDeclaration [105948,105980]
    ParameterizedType [105948,105966]
        SimpleType [105948,105958]
            SimpleName: Collection [105948,105958]
        SimpleType [105959,105965]
            SimpleName: String [105959,105965]
    SimpleName: initialTokens [105967,105980]
to
MethodDeclaration [103957,105560]
at 5
===
move-tree
---
Block [104487,105133]
    ExpressionStatement [104502,104566]
        MethodInvocation [104502,104565]
            METHOD_INVOCATION_RECEIVER [104502,104508]
                SimpleName: logger [104502,104508]
            SimpleName: debug [104509,104514]
            METHOD_INVOCATION_ARGUMENTS [104515,104564]
                StringLiteral: "tokens manually specified as {}" [104515,104548]
                SimpleName: initialTokens [104551,104564]
    VariableDeclarationStatement [104580,104639]
        ParameterizedType [104580,104591]
            SimpleType [104580,104584]
                SimpleName: List [104580,104584]
            SimpleType [104585,104590]
                SimpleName: Token [104585,104590]
        VariableDeclarationFragment [104592,104638]
            SimpleName: tokens [104592,104598]
            ClassInstanceCreation [104601,104638]
                ParameterizedType [104605,104616]
                    SimpleType [104605,104614]
                        SimpleName: ArrayList [104605,104614]
                MethodInvocation [104617,104637]
                    METHOD_INVOCATION_RECEIVER [104617,104630]
                        SimpleName: initialTokens [104617,104630]
                    SimpleName: size [104631,104635]
    EnhancedForStatement [104653,105094]
        SingleVariableDeclaration [104658,104676]
            SimpleType [104658,104664]
                SimpleName: String [104658,104664]
            SimpleName: tokenString [104665,104676]
        SimpleName: initialTokens [104679,104692]
        Block [104707,105094]
            VariableDeclarationStatement [104726,104814]
                SimpleType [104726,104731]
                    SimpleName: Token [104726,104731]
                VariableDeclarationFragment [104732,104813]
                    SimpleName: token [104732,104737]
                    MethodInvocation [104740,104813]
                        METHOD_INVOCATION_RECEIVER [104740,104789]
                            MethodInvocation [104740,104789]
                                METHOD_INVOCATION_RECEIVER [104740,104771]
                                    MethodInvocation [104740,104771]
                                        METHOD_INVOCATION_RECEIVER [104740,104754]
                                            SimpleName: StorageService [104740,104754]
                                        SimpleName: getPartitioner [104755,104769]
                                SimpleName: getTokenFactory [104772,104787]
                        SimpleName: fromString [104790,104800]
                        METHOD_INVOCATION_ARGUMENTS [104801,104812]
                            SimpleName: tokenString [104801,104812]
            IfStatement [104832,105043]
                InfixExpression [104836,104871]
                    MethodInvocation [104836,104863]
                        METHOD_INVOCATION_RECEIVER [104836,104844]
                            SimpleName: metadata [104836,104844]
                        SimpleName: getEndpoint [104845,104856]
                        METHOD_INVOCATION_ARGUMENTS [104857,104862]
                            SimpleName: token [104857,104862]
                    INFIX_EXPRESSION_OPERATOR: != [104864,104866]
                    NullLiteral [104867,104871]
                ThrowStatement [104894,105043]
                    ClassInstanceCreation [104900,105042]
                        SimpleType [104904,104926]
                            SimpleName: ConfigurationException [104904,104926]
                        InfixExpression [104927,105041]
                            StringLiteral: "Bootstrapping to existing token " [104927,104961]
                            INFIX_EXPRESSION_OPERATOR: + [104962,104963]
                            SimpleName: tokenString [104964,104975]
                            StringLiteral: " is not allowed (decommission/removenode the old node first)." [104978,105041]
            ExpressionStatement [105061,105079]
                MethodInvocation [105061,105078]
                    METHOD_INVOCATION_RECEIVER [105061,105067]
                        SimpleName: tokens [105061,105067]
                    SimpleName: add [105068,105071]
                    METHOD_INVOCATION_ARGUMENTS [105072,105077]
                        SimpleName: token [105072,105077]
    ReturnStatement [105108,105122]
        SimpleName: tokens [105115,105121]
to
MethodDeclaration [103957,105560]
at 6
===
insert-tree
---
MethodDeclaration [112110,112397]
    MarkerAnnotation [112110,112119]
        SimpleName: Override [112111,112119]
    Modifier: public [112129,112135]
    PrimitiveType: double [112136,112142]
    SimpleName: size [112143,112147]
    SingleVariableDeclaration [112148,112158]
        SimpleType [112148,112153]
            SimpleName: Token [112148,112153]
        SimpleName: next [112154,112158]
    Block [112169,112397]
        ThrowStatement [112184,112386]
            ClassInstanceCreation [112190,112385]
                SimpleType [112194,112223]
                    SimpleName: UnsupportedOperationException [112194,112223]
                MethodInvocation [112224,112384]
                    METHOD_INVOCATION_RECEIVER [112224,112230]
                        SimpleName: String [112224,112230]
                    SimpleName: format [112231,112237]
                    METHOD_INVOCATION_ARGUMENTS [112238,112383]
                        StringLiteral: "Token type %s does not support token allocation." [112238,112288]
                        MethodInvocation [112357,112383]
                            METHOD_INVOCATION_RECEIVER [112357,112367]
                                MethodInvocation [112357,112367]
                                    SimpleName: getClass [112357,112365]
                            SimpleName: getSimpleName [112368,112381]
to
TypeDeclaration [108819,110394]
at 16
===
insert-tree
---
MethodDeclaration [112409,112697]
    MarkerAnnotation [112409,112418]
        SimpleName: Override [112410,112418]
    Modifier: public [112428,112434]
    SimpleType [112435,112440]
        SimpleName: Token [112435,112440]
    SimpleName: increaseSlightly [112441,112457]
    Block [112469,112697]
        ThrowStatement [112484,112686]
            ClassInstanceCreation [112490,112685]
                SimpleType [112494,112523]
                    SimpleName: UnsupportedOperationException [112494,112523]
                MethodInvocation [112524,112684]
                    METHOD_INVOCATION_RECEIVER [112524,112530]
                        SimpleName: String [112524,112530]
                    SimpleName: format [112531,112537]
                    METHOD_INVOCATION_ARGUMENTS [112538,112683]
                        StringLiteral: "Token type %s does not support token allocation." [112538,112588]
                        MethodInvocation [112657,112683]
                            METHOD_INVOCATION_RECEIVER [112657,112667]
                                MethodInvocation [112657,112667]
                                    SimpleName: getClass [112657,112665]
                            SimpleName: getSimpleName [112668,112681]
to
TypeDeclaration [108819,110394]
at 17
===
insert-tree
---
MethodDeclaration [125545,125940]
    MarkerAnnotation [125545,125554]
        SimpleName: Override [125546,125554]
    Modifier: public [125564,125570]
    PrimitiveType: double [125571,125577]
    SimpleName: size [125578,125582]
    SingleVariableDeclaration [125583,125593]
        SimpleType [125583,125588]
            SimpleName: Token [125583,125588]
        SimpleName: next [125589,125593]
    Block [125604,125940]
        VariableDeclarationStatement [125619,125650]
            SimpleType [125619,125628]
                SimpleName: LongToken [125619,125628]
            VariableDeclarationFragment [125629,125649]
                SimpleName: n [125629,125630]
                CastExpression [125633,125649]
                    SimpleType [125634,125643]
                        SimpleName: LongToken [125634,125643]
                    SimpleName: next [125645,125649]
        VariableDeclarationStatement [125664,125689]
            PrimitiveType: long [125664,125668]
            VariableDeclarationFragment [125669,125688]
                SimpleName: v [125669,125670]
                InfixExpression [125673,125688]
                    QualifiedName: n.token [125673,125680]
                    INFIX_EXPRESSION_OPERATOR: - [125681,125682]
                    SimpleName: token [125683,125688]
        VariableDeclarationStatement [125740,125786]
            PrimitiveType: double [125740,125746]
            VariableDeclarationFragment [125747,125785]
                SimpleName: d [125747,125748]
                MethodInvocation [125751,125785]
                    METHOD_INVOCATION_RECEIVER [125751,125755]
                        SimpleName: Math [125751,125755]
                    SimpleName: scalb [125756,125761]
                    METHOD_INVOCATION_ARGUMENTS [125762,125784]
                        CastExpression [125762,125772]
                            PrimitiveType: double [125763,125769]
                            SimpleName: v [125771,125772]
                        PrefixExpression [125774,125784]
                            PREFIX_EXPRESSION_OPERATOR: - [125774,125775]
                            QualifiedName: Long.SIZE [125775,125784]
        ReturnStatement [125838,125869]
            ConditionalExpression [125845,125868]
                InfixExpression [125845,125852]
                    SimpleName: d [125845,125846]
                    INFIX_EXPRESSION_OPERATOR: > [125847,125848]
                    NumberLiteral: 0.0 [125849,125852]
                SimpleName: d [125855,125856]
                ParenthesizedExpression [125859,125868]
                    InfixExpression [125860,125867]
                        SimpleName: d [125860,125861]
                        INFIX_EXPRESSION_OPERATOR: + [125862,125863]
                        NumberLiteral: 1.0 [125864,125867]
to
TypeDeclaration [121566,122760]
at 15
===
insert-tree
---
MethodDeclaration [125952,126070]
    MarkerAnnotation [125952,125961]
        SimpleName: Override [125953,125961]
    Modifier: public [125971,125977]
    SimpleType [125978,125983]
        SimpleName: Token [125978,125983]
    SimpleName: increaseSlightly [125984,126000]
    Block [126012,126070]
        ReturnStatement [126027,126059]
            ClassInstanceCreation [126034,126058]
                SimpleType [126038,126047]
                    SimpleName: LongToken [126038,126047]
                InfixExpression [126048,126057]
                    SimpleName: token [126048,126053]
                    INFIX_EXPRESSION_OPERATOR: + [126054,126055]
                    NumberLiteral: 1 [126056,126057]
to
TypeDeclaration [121566,122760]
at 16
===
move-tree
---
SimpleType [123680,123689]
    SimpleName: LongToken [123680,123689]
to
MethodDeclaration [123619,123748]
at 1
===
insert-node
---
Modifier: public [127052,127058]
to
MethodDeclaration [127052,127163]
at 0
===
move-tree
---
SimpleType [123626,123635]
    SimpleName: LongToken [123626,123635]
to
MethodDeclaration [127052,127163]
at 1
===
insert-node
---
SimpleName: getRandomToken [127069,127083]
to
MethodDeclaration [127052,127163]
at 2
===
insert-tree
---
SingleVariableDeclaration [127084,127092]
    SimpleType [127084,127090]
        SimpleName: Random [127084,127090]
    SimpleName: r [127091,127092]
to
MethodDeclaration [127052,127163]
at 3
===
insert-node
---
Block [127099,127163]
to
MethodDeclaration [127052,127163]
at 4
===
update-node
---
Modifier: static [368438,368444]
replace static by public
===
update-node
---
Modifier: public [368445,368451]
replace public by static
===
update-node
---
Modifier: static [381405,381411]
replace static by public
===
update-node
---
Modifier: public [381412,381418]
replace public by static
===
insert-node
---
Modifier: private [454949,454956]
to
MethodDeclaration [382383,384201]
at 0
===
update-node
---
Modifier: static [386126,386132]
replace static by public
===
update-node
---
Modifier: public [386133,386139]
replace public by static
===
move-tree
---
Modifier: private [392791,392798]
to
MethodDeclaration [465993,466178]
at 0
===
move-tree
---
PrimitiveType: void [392799,392803]
to
MethodDeclaration [465993,466178]
at 1
===
move-tree
---
SimpleName: generateFakeEndpoints [392804,392825]
to
MethodDeclaration [465993,466178]
at 2
===
insert-tree
---
SingleVariableDeclaration [466028,466043]
    PrimitiveType: int [466028,466031]
    SimpleName: numOldNodes [466032,466043]
to
MethodDeclaration [465993,466178]
at 3
===
insert-tree
---
SimpleType [466052,466072]
    SimpleName: UnknownHostException [466052,466072]
to
MethodDeclaration [465993,466178]
at 4
===
insert-node
---
Block [466078,466178]
to
MethodDeclaration [465993,466178]
at 5
===
insert-node
---
Modifier: private [466186,466193]
to
MethodDeclaration [466186,466829]
at 0
===
insert-node
---
PrimitiveType: void [466194,466198]
to
MethodDeclaration [466186,466829]
at 1
===
insert-node
---
SimpleName: generateFakeEndpoints [466199,466220]
to
MethodDeclaration [466186,466829]
at 2
===
insert-tree
---
SingleVariableDeclaration [466221,466238]
    SimpleType [466221,466234]
        SimpleName: TokenMetadata [466221,466234]
    SimpleName: tmd [466235,466238]
to
MethodDeclaration [466186,466829]
at 3
===
move-tree
---
SingleVariableDeclaration [392826,392841]
    PrimitiveType: int [392826,392829]
    SimpleName: numOldNodes [392830,392841]
to
MethodDeclaration [466186,466829]
at 4
===
insert-tree
---
SingleVariableDeclaration [466257,466270]
    PrimitiveType: int [466257,466260]
    SimpleName: numVNodes [466261,466270]
to
MethodDeclaration [466186,466829]
at 5
===
move-tree
---
SimpleType [392850,392870]
    SimpleName: UnknownHostException [392850,392870]
to
MethodDeclaration [466186,466829]
at 6
===
insert-node
---
Block [466305,466829]
to
MethodDeclaration [466186,466829]
at 7
===
insert-tree
---
MarkerAnnotation [468120,468125]
    SimpleName: Test [468121,468125]
to
MethodDeclaration [468120,469519]
at 0
===
insert-node
---
Modifier: public [468131,468137]
to
MethodDeclaration [468120,469519]
at 1
===
insert-node
---
PrimitiveType: void [468138,468142]
to
MethodDeclaration [468120,469519]
at 2
===
insert-node
---
SimpleName: testAllocateTokensMultipleKeyspaces [468143,468178]
to
MethodDeclaration [468120,469519]
at 3
===
insert-tree
---
SimpleType [468188,468208]
    SimpleName: UnknownHostException [468188,468208]
to
MethodDeclaration [468120,469519]
at 4
===
insert-node
---
Block [468214,469519]
to
MethodDeclaration [468120,469519]
at 5
===
insert-tree
---
VariableDeclarationStatement [104772,104847]
    SimpleType [104772,104778]
        SimpleName: String [104772,104778]
    VariableDeclarationFragment [104779,104846]
        SimpleName: allocationKeyspace [104779,104797]
        MethodInvocation [104800,104846]
            METHOD_INVOCATION_RECEIVER [104800,104818]
                SimpleName: DatabaseDescriptor [104800,104818]
            SimpleName: getAllocateTokensKeyspace [104819,104844]
to
Block [104761,105793]
at 0
===
move-tree
---
VariableDeclarationStatement [104317,104390]
    ParameterizedType [104317,104335]
        SimpleType [104317,104327]
            SimpleName: Collection [104317,104327]
        SimpleType [104328,104334]
            SimpleName: String [104328,104334]
    VariableDeclarationFragment [104336,104389]
        SimpleName: initialTokens [104336,104349]
        MethodInvocation [104352,104389]
            METHOD_INVOCATION_RECEIVER [104352,104370]
                SimpleName: DatabaseDescriptor [104352,104370]
            SimpleName: getInitialTokens [104371,104387]
to
Block [104761,105793]
at 1
===
insert-tree
---
IfStatement [104940,105084]
    InfixExpression [104944,104998]
        InfixExpression [104944,104968]
            MethodInvocation [104944,104964]
                METHOD_INVOCATION_RECEIVER [104944,104957]
                    SimpleName: initialTokens [104944,104957]
                SimpleName: size [104958,104962]
            INFIX_EXPRESSION_OPERATOR: > [104965,104966]
            NumberLiteral: 0 [104967,104968]
        INFIX_EXPRESSION_OPERATOR: && [104969,104971]
        InfixExpression [104972,104998]
            SimpleName: allocationKeyspace [104972,104990]
            INFIX_EXPRESSION_OPERATOR: != [104991,104993]
            NullLiteral [104994,104998]
    ExpressionStatement [105013,105084]
        MethodInvocation [105013,105083]
            METHOD_INVOCATION_RECEIVER [105013,105019]
                SimpleName: logger [105013,105019]
            SimpleName: warn [105020,105024]
            METHOD_INVOCATION_ARGUMENTS [105025,105082]
                StringLiteral: "manually specified tokens override automatic allocation" [105025,105082]
to
Block [104761,105793]
at 2
===
insert-node
---
IfStatement [105144,105238]
to
Block [104761,105793]
at 3
===
move-tree
---
VariableDeclarationStatement [105145,105195]
    PrimitiveType: int [105145,105148]
    VariableDeclarationFragment [105149,105194]
        SimpleName: numTokens [105149,105158]
        MethodInvocation [105161,105194]
            METHOD_INVOCATION_RECEIVER [105161,105179]
                SimpleName: DatabaseDescriptor [105161,105179]
            SimpleName: getNumTokens [105180,105192]
to
Block [104761,105793]
at 4
===
move-tree
---
IfStatement [105205,105297]
    InfixExpression [105209,105222]
        SimpleName: numTokens [105209,105218]
        INFIX_EXPRESSION_OPERATOR: < [105219,105220]
        NumberLiteral: 1 [105221,105222]
    ThrowStatement [105237,105297]
        ClassInstanceCreation [105243,105296]
            SimpleType [105247,105269]
                SimpleName: ConfigurationException [105247,105269]
            StringLiteral: "num_tokens must be >= 1" [105270,105295]
to
Block [104761,105793]
at 5
===
insert-tree
---
IfStatement [105422,105539]
    InfixExpression [105426,105452]
        SimpleName: allocationKeyspace [105426,105444]
        INFIX_EXPRESSION_OPERATOR: != [105445,105447]
        NullLiteral [105448,105452]
    ReturnStatement [105467,105539]
        MethodInvocation [105474,105538]
            SimpleName: allocateTokens [105474,105488]
            METHOD_INVOCATION_ARGUMENTS [105489,105537]
                SimpleName: metadata [105489,105497]
                SimpleName: address [105499,105506]
                SimpleName: allocationKeyspace [105508,105526]
                SimpleName: numTokens [105528,105537]
to
Block [104761,105793]
at 6
===
move-tree
---
IfStatement [105309,105497]
    InfixExpression [105313,105327]
        SimpleName: numTokens [105313,105322]
        INFIX_EXPRESSION_OPERATOR: == [105323,105325]
        NumberLiteral: 1 [105326,105327]
    ExpressionStatement [105342,105497]
        MethodInvocation [105342,105496]
            METHOD_INVOCATION_RECEIVER [105342,105348]
                SimpleName: logger [105342,105348]
            SimpleName: warn [105349,105353]
            METHOD_INVOCATION_ARGUMENTS [105354,105495]
                StringLiteral: "Picking random token for a single vnode.  You should probably add more vnodes; failing that, you should probably specify the token manually" [105354,105495]
to
Block [104761,105793]
at 7
===
move-tree
---
ReturnStatement [105509,105553]
    MethodInvocation [105516,105552]
        SimpleName: getRandomTokens [105516,105531]
        METHOD_INVOCATION_ARGUMENTS [105532,105551]
            SimpleName: metadata [105532,105540]
            SimpleName: numTokens [105542,105551]
to
Block [104761,105793]
at 8
===
insert-node
---
ReturnStatement [127110,127156]
to
Block [127099,127163]
at 0
===
insert-node
---
IfStatement [210092,210124]
to
Block [162245,162557]
at 2
===
insert-node
---
IfStatement [210500,210551]
to
Block [162609,162925]
at 2
===
insert-tree
---
ExpressionStatement [462471,462524]
    Assignment [462471,462523]
        SimpleName: oldPartitioner [462471,462485]
        ASSIGNMENT_OPERATOR: = [462486,462487]
        MethodInvocation [462488,462523]
            METHOD_INVOCATION_RECEIVER [462488,462506]
                SimpleName: DatabaseDescriptor [462488,462506]
            SimpleName: getPartitioner [462507,462521]
to
Block [389522,389668]
at 0
===
insert-tree
---
ExpressionStatement [462534,462597]
    MethodInvocation [462534,462596]
        METHOD_INVOCATION_RECEIVER [462534,462552]
            SimpleName: DatabaseDescriptor [462534,462552]
        SimpleName: setPartitioner [462553,462567]
        METHOD_INVOCATION_ARGUMENTS [462568,462595]
            QualifiedName: Murmur3Partitioner.instance [462568,462595]
to
Block [389522,389668]
at 1
===
insert-node
---
ExpressionStatement [466089,466171]
to
Block [466078,466178]
at 0
===
move-tree
---
ExpressionStatement [392960,392978]
    MethodInvocation [392960,392977]
        METHOD_INVOCATION_RECEIVER [392960,392963]
            SimpleName: tmd [392960,392963]
        SimpleName: clearUnsafe [392964,392975]
to
Block [466305,466829]
at 0
===
move-tree
---
VariableDeclarationStatement [392988,393037]
    SimpleType [392988,393000]
        SimpleName: IPartitioner [392988,393000]
    VariableDeclarationFragment [393001,393036]
        SimpleName: p [393001,393002]
        MethodInvocation [393005,393036]
            METHOD_INVOCATION_RECEIVER [393005,393019]
                SimpleName: StorageService [393005,393019]
            SimpleName: getPartitioner [393020,393034]
to
Block [466305,466829]
at 1
===
insert-node
---
ForStatement [466405,466822]
to
Block [466305,466829]
at 2
===
insert-tree
---
VariableDeclarationStatement [468339,468351]
    PrimitiveType: int [468339,468342]
    VariableDeclarationFragment [468343,468350]
        SimpleName: vn [468343,468345]
        NumberLiteral: 16 [468348,468350]
to
Block [468214,469519]
at 0
===
insert-tree
---
VariableDeclarationStatement [468361,468402]
    SimpleType [468361,468367]
        SimpleName: String [468361,468367]
    VariableDeclarationFragment [468368,468401]
        SimpleName: ks3 [468368,468371]
        StringLiteral: "BootStrapperTestKeyspace4" [468374,468401]
to
Block [468214,469519]
at 1
===
insert-tree
---
VariableDeclarationStatement [468422,468463]
    SimpleType [468422,468428]
        SimpleName: String [468422,468428]
    VariableDeclarationFragment [468429,468462]
        SimpleName: ks2 [468429,468432]
        StringLiteral: "BootStrapperTestKeyspace5" [468435,468462]
to
Block [468214,469519]
at 2
===
insert-node
---
VariableDeclarationStatement [468485,468524]
to
Block [468214,469519]
at 3
===
insert-tree
---
ExpressionStatement [468534,468568]
    MethodInvocation [468534,468567]
        SimpleName: generateFakeEndpoints [468534,468555]
        METHOD_INVOCATION_ARGUMENTS [468556,468566]
            SimpleName: tm [468556,468558]
            NumberLiteral: 10 [468560,468562]
            SimpleName: vn [468564,468566]
to
Block [468214,469519]
at 4
===
insert-tree
---
VariableDeclarationStatement [468588,468643]
    SimpleType [468588,468599]
        SimpleName: InetAddress [468588,468599]
    VariableDeclarationFragment [468600,468642]
        SimpleName: dcaddr [468600,468606]
        MethodInvocation [468609,468642]
            METHOD_INVOCATION_RECEIVER [468609,468620]
                SimpleName: FBUtilities [468609,468620]
            SimpleName: getBroadcastAddress [468621,468640]
to
Block [468214,469519]
at 5
===
insert-tree
---
VariableDeclarationStatement [468653,468775]
    SimpleType [468653,468670]
        SimpleName: SummaryStatistics [468653,468670]
    VariableDeclarationFragment [468671,468774]
        SimpleName: os3 [468671,468674]
        MethodInvocation [468677,468774]
            METHOD_INVOCATION_RECEIVER [468677,468692]
                SimpleName: TokenAllocation [468677,468692]
            SimpleName: replicatedOwnershipStats [468693,468717]
            METHOD_INVOCATION_ARGUMENTS [468718,468773]
                SimpleName: tm [468718,468720]
                MethodInvocation [468722,468765]
                    METHOD_INVOCATION_RECEIVER [468722,468740]
                        MethodInvocation [468722,468740]
                            METHOD_INVOCATION_RECEIVER [468722,468730]
                                SimpleName: Keyspace [468722,468730]
                            SimpleName: open [468731,468735]
                            METHOD_INVOCATION_ARGUMENTS [468736,468739]
                                SimpleName: ks3 [468736,468739]
                    SimpleName: getReplicationStrategy [468741,468763]
                SimpleName: dcaddr [468767,468773]
to
Block [468214,469519]
at 6
===
insert-tree
---
VariableDeclarationStatement [468785,468907]
    SimpleType [468785,468802]
        SimpleName: SummaryStatistics [468785,468802]
    VariableDeclarationFragment [468803,468906]
        SimpleName: os2 [468803,468806]
        MethodInvocation [468809,468906]
            METHOD_INVOCATION_RECEIVER [468809,468824]
                SimpleName: TokenAllocation [468809,468824]
            SimpleName: replicatedOwnershipStats [468825,468849]
            METHOD_INVOCATION_ARGUMENTS [468850,468905]
                SimpleName: tm [468850,468852]
                MethodInvocation [468854,468897]
                    METHOD_INVOCATION_RECEIVER [468854,468872]
                        MethodInvocation [468854,468872]
                            METHOD_INVOCATION_RECEIVER [468854,468862]
                                SimpleName: Keyspace [468854,468862]
                            SimpleName: open [468863,468867]
                            METHOD_INVOCATION_ARGUMENTS [468868,468871]
                                SimpleName: ks2 [468868,468871]
                    SimpleName: getReplicationStrategy [468873,468895]
                SimpleName: dcaddr [468899,468905]
to
Block [468214,469519]
at 7
===
insert-tree
---
VariableDeclarationStatement [468917,468934]
    SimpleType [468917,468923]
        SimpleName: String [468917,468923]
    VariableDeclarationFragment [468924,468933]
        SimpleName: cks [468924,468927]
        SimpleName: ks3 [468930,468933]
to
Block [468214,469519]
at 8
===
insert-tree
---
VariableDeclarationStatement [468944,468961]
    SimpleType [468944,468950]
        SimpleName: String [468944,468950]
    VariableDeclarationFragment [468951,468960]
        SimpleName: nks [468951,468954]
        SimpleName: ks2 [468957,468960]
to
Block [468214,469519]
at 9
===
insert-node
---
ForStatement [468971,469162]
to
Block [468214,469519]
at 10
===
insert-tree
---
VariableDeclarationStatement [469182,469304]
    SimpleType [469182,469199]
        SimpleName: SummaryStatistics [469182,469199]
    VariableDeclarationFragment [469200,469303]
        SimpleName: ns3 [469200,469203]
        MethodInvocation [469206,469303]
            METHOD_INVOCATION_RECEIVER [469206,469221]
                SimpleName: TokenAllocation [469206,469221]
            SimpleName: replicatedOwnershipStats [469222,469246]
            METHOD_INVOCATION_ARGUMENTS [469247,469302]
                SimpleName: tm [469247,469249]
                MethodInvocation [469251,469294]
                    METHOD_INVOCATION_RECEIVER [469251,469269]
                        MethodInvocation [469251,469269]
                            METHOD_INVOCATION_RECEIVER [469251,469259]
                                SimpleName: Keyspace [469251,469259]
                            SimpleName: open [469260,469264]
                            METHOD_INVOCATION_ARGUMENTS [469265,469268]
                                SimpleName: ks3 [469265,469268]
                    SimpleName: getReplicationStrategy [469270,469292]
                SimpleName: dcaddr [469296,469302]
to
Block [468214,469519]
at 11
===
insert-tree
---
VariableDeclarationStatement [469314,469436]
    SimpleType [469314,469331]
        SimpleName: SummaryStatistics [469314,469331]
    VariableDeclarationFragment [469332,469435]
        SimpleName: ns2 [469332,469335]
        MethodInvocation [469338,469435]
            METHOD_INVOCATION_RECEIVER [469338,469353]
                SimpleName: TokenAllocation [469338,469353]
            SimpleName: replicatedOwnershipStats [469354,469378]
            METHOD_INVOCATION_ARGUMENTS [469379,469434]
                SimpleName: tm [469379,469381]
                MethodInvocation [469383,469426]
                    METHOD_INVOCATION_RECEIVER [469383,469401]
                        MethodInvocation [469383,469401]
                            METHOD_INVOCATION_RECEIVER [469383,469391]
                                SimpleName: Keyspace [469383,469391]
                            SimpleName: open [469392,469396]
                            METHOD_INVOCATION_ARGUMENTS [469397,469400]
                                SimpleName: ks2 [469397,469400]
                    SimpleName: getReplicationStrategy [469402,469424]
                SimpleName: dcaddr [469428,469434]
to
Block [468214,469519]
at 12
===
insert-tree
---
ExpressionStatement [469446,469474]
    MethodInvocation [469446,469473]
        SimpleName: verifyImprovement [469446,469463]
        METHOD_INVOCATION_ARGUMENTS [469464,469472]
            SimpleName: os3 [469464,469467]
            SimpleName: ns3 [469469,469472]
to
Block [468214,469519]
at 13
===
insert-tree
---
ExpressionStatement [469484,469512]
    MethodInvocation [469484,469511]
        SimpleName: verifyImprovement [469484,469501]
        METHOD_INVOCATION_ARGUMENTS [469502,469510]
            SimpleName: os2 [469502,469505]
            SimpleName: ns2 [469507,469510]
to
Block [468214,469519]
at 14
===
update-node
---
TextElement: otherwise, if num_tokens == 1, pick a token to assume half the load of the most-loaded node. [104035,104127]
replace otherwise, if num_tokens == 1, pick a token to assume half the load of the most-loaded node. by otherwise, if allocationKeyspace is specified use the token allocation algorithm to generate suitable tokens
===
move-tree
---
InfixExpression [104452,104476]
    MethodInvocation [104452,104472]
        METHOD_INVOCATION_RECEIVER [104452,104465]
            SimpleName: initialTokens [104452,104465]
        SimpleName: size [104466,104470]
    INFIX_EXPRESSION_OPERATOR: > [104473,104474]
    NumberLiteral: 0 [104475,104476]
to
IfStatement [105144,105238]
at 0
===
insert-tree
---
ReturnStatement [105187,105238]
    MethodInvocation [105194,105237]
        SimpleName: getSpecifiedTokens [105194,105212]
        METHOD_INVOCATION_ARGUMENTS [105213,105236]
            SimpleName: metadata [105213,105221]
            SimpleName: initialTokens [105223,105236]
to
IfStatement [105144,105238]
at 1
===
move-tree
---
MethodInvocation [123700,123738]
    METHOD_INVOCATION_RECEIVER [123700,123727]
        MethodInvocation [123700,123727]
            METHOD_INVOCATION_RECEIVER [123700,123717]
                SimpleName: ThreadLocalRandom [123700,123717]
            SimpleName: current [123718,123725]
    SimpleName: nextLong [123728,123736]
to
ReturnStatement [123669,123741]
at 0
===
move-tree
---
ClassInstanceCreation [123676,123740]
    SimpleType [123680,123689]
        SimpleName: LongToken [123680,123689]
    MethodInvocation [123690,123739]
        SimpleName: normalize [123690,123699]
        METHOD_INVOCATION_ARGUMENTS [123700,123738]
            MethodInvocation [123700,123738]
                METHOD_INVOCATION_RECEIVER [123700,123727]
                    MethodInvocation [123700,123727]
                        METHOD_INVOCATION_RECEIVER [123700,123717]
                            SimpleName: ThreadLocalRandom [123700,123717]
                        SimpleName: current [123718,123725]
                SimpleName: nextLong [123728,123736]
to
ReturnStatement [127110,127156]
at 0
===
move-tree
---
InfixExpression [162364,162374]
    SimpleName: index [162364,162369]
    INFIX_EXPRESSION_OPERATOR: >= [162370,162372]
    NumberLiteral: 0 [162373,162374]
to
IfStatement [210092,210124]
at 0
===
insert-node
---
ExpressionStatement [210107,210124]
to
IfStatement [210092,210124]
at 1
===
move-tree
---
InfixExpression [162728,162738]
    SimpleName: index [162728,162733]
    INFIX_EXPRESSION_OPERATOR: >= [162734,162736]
    NumberLiteral: 0 [162737,162738]
to
IfStatement [210500,210551]
at 0
===
insert-node
---
ReturnStatement [210515,210551]
to
IfStatement [210500,210551]
at 1
===
insert-node
---
MethodInvocation [466089,466170]
to
ExpressionStatement [466089,466171]
at 0
===
move-tree
---
VariableDeclarationExpression [393054,393063]
    PrimitiveType: int [393054,393057]
    VariableDeclarationFragment [393058,393063]
        SimpleName: i [393058,393059]
        NumberLiteral: 1 [393062,393063]
to
ForStatement [466405,466822]
at 0
===
move-tree
---
InfixExpression [393065,393081]
    SimpleName: i [393065,393066]
    INFIX_EXPRESSION_OPERATOR: <= [393067,393069]
    SimpleName: numOldNodes [393070,393081]
to
ForStatement [466405,466822]
at 1
===
move-tree
---
PostfixExpression [393083,393086]
    SimpleName: i [393083,393084]
    POSTFIX_EXPRESSION_OPERATOR: ++ [393084,393086]
to
ForStatement [466405,466822]
at 2
===
insert-node
---
Block [466453,466822]
to
ForStatement [466405,466822]
at 3
===
move-tree
---
SimpleType [392887,392900]
    SimpleName: TokenMetadata [392887,392900]
to
VariableDeclarationStatement [468485,468524]
at 0
===
insert-tree
---
VariableDeclarationFragment [468499,468523]
    SimpleName: tm [468499,468501]
    ClassInstanceCreation [468504,468523]
        SimpleType [468508,468521]
            SimpleName: TokenMetadata [468508,468521]
to
VariableDeclarationStatement [468485,468524]
at 1
===
insert-tree
---
VariableDeclarationExpression [468976,468984]
    PrimitiveType: int [468976,468979]
    VariableDeclarationFragment [468980,468984]
        SimpleName: i [468980,468981]
        NumberLiteral: 11 [468982,468984]
to
ForStatement [468971,469162]
at 0
===
insert-tree
---
InfixExpression [468986,468991]
    SimpleName: i [468986,468987]
    INFIX_EXPRESSION_OPERATOR: <= [468987,468989]
    NumberLiteral: 20 [468989,468991]
to
ForStatement [468971,469162]
at 1
===
insert-tree
---
PrefixExpression [468993,468996]
    PREFIX_EXPRESSION_OPERATOR: ++ [468993,468995]
    SimpleName: i [468995,468996]
to
ForStatement [468971,469162]
at 2
===
move-tree
---
Block [393097,393250]
    ExpressionStatement [393152,393239]
        MethodInvocation [393152,393238]
            METHOD_INVOCATION_RECEIVER [393152,393155]
                SimpleName: tmd [393152,393155]
            SimpleName: updateNormalToken [393156,393173]
            METHOD_INVOCATION_ARGUMENTS [393174,393237]
                MethodInvocation [393174,393192]
                    METHOD_INVOCATION_RECEIVER [393174,393175]
                        SimpleName: p [393174,393175]
                    SimpleName: getRandomToken [393176,393190]
                MethodInvocation [393194,393237]
                    METHOD_INVOCATION_RECEIVER [393194,393205]
                        SimpleName: InetAddress [393194,393205]
                    SimpleName: getByName [393206,393215]
                    METHOD_INVOCATION_ARGUMENTS [393216,393236]
                        InfixExpression [393216,393236]
                            StringLiteral: "127.0.0." [393216,393226]
                            INFIX_EXPRESSION_OPERATOR: + [393227,393228]
                            ParenthesizedExpression [393229,393236]
                                InfixExpression [393230,393235]
                                    SimpleName: i [393230,393231]
                                    INFIX_EXPRESSION_OPERATOR: + [393232,393233]
                                    NumberLiteral: 1 [393234,393235]
to
ForStatement [468971,469162]
at 3
===
update-node
---
SimpleName: normalize [123690,123699]
replace normalize by getRandomToken
===
move-tree
---
SimpleName: normalize [123690,123699]
to
MethodInvocation [123700,123738]
at 0
===
move-tree
---
METHOD_INVOCATION_ARGUMENTS [123700,123738]
    MethodInvocation [123700,123738]
        METHOD_INVOCATION_RECEIVER [123700,123727]
            MethodInvocation [123700,123727]
                METHOD_INVOCATION_RECEIVER [123700,123717]
                    SimpleName: ThreadLocalRandom [123700,123717]
                SimpleName: current [123718,123725]
        SimpleName: nextLong [123728,123736]
to
MethodInvocation [123700,123738]
at 1
===
insert-tree
---
SimpleType [127121,127130]
    SimpleName: LongToken [127121,127130]
to
ClassInstanceCreation [123676,123740]
at 0
===
update-node
---
INFIX_EXPRESSION_OPERATOR: >= [162370,162372]
replace >= by <
===
insert-node
---
Assignment [210107,210123]
to
ExpressionStatement [210107,210124]
at 0
===
update-node
---
INFIX_EXPRESSION_OPERATOR: >= [162734,162736]
replace >= by <
===
insert-node
---
CastExpression [210522,210550]
to
ReturnStatement [210515,210551]
at 0
===
insert-node
---
SimpleName: generateFakeEndpoints [466089,466110]
to
MethodInvocation [466089,466170]
at 0
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [466111,466169]
to
MethodInvocation [466089,466170]
at 1
===
insert-tree
---
VariableDeclarationStatement [466508,466571]
    SimpleType [466508,466519]
        SimpleName: InetAddress [466508,466519]
    VariableDeclarationFragment [466520,466570]
        SimpleName: addr [466520,466524]
        MethodInvocation [466527,466570]
            METHOD_INVOCATION_RECEIVER [466527,466538]
                SimpleName: InetAddress [466527,466538]
            SimpleName: getByName [466539,466548]
            METHOD_INVOCATION_ARGUMENTS [466549,466569]
                InfixExpression [466549,466569]
                    StringLiteral: "127.0.0." [466549,466559]
                    INFIX_EXPRESSION_OPERATOR: + [466560,466561]
                    ParenthesizedExpression [466562,466569]
                        InfixExpression [466563,466568]
                            SimpleName: i [466563,466564]
                            INFIX_EXPRESSION_OPERATOR: + [466565,466566]
                            NumberLiteral: 1 [466567,466568]
to
Block [466453,466822]
at 0
===
insert-tree
---
VariableDeclarationStatement [466585,466648]
    ParameterizedType [466585,466596]
        SimpleType [466585,466589]
            SimpleName: List [466585,466589]
        SimpleType [466590,466595]
            SimpleName: Token [466590,466595]
    VariableDeclarationFragment [466597,466647]
        SimpleName: tokens [466597,466603]
        MethodInvocation [466606,466647]
            METHOD_INVOCATION_RECEIVER [466606,466611]
                SimpleName: Lists [466606,466611]
            SimpleName: newArrayListWithCapacity [466612,466636]
            METHOD_INVOCATION_ARGUMENTS [466637,466646]
                SimpleName: numVNodes [466637,466646]
to
Block [466453,466822]
at 1
===
insert-node
---
ForStatement [466662,466746]
to
Block [466453,466822]
at 2
===
insert-node
---
ExpressionStatement [466774,466811]
to
Block [466453,466822]
at 3
===
insert-tree
---
VariableDeclarationStatement [469116,469131]
    SimpleType [469116,469122]
        SimpleName: String [469116,469122]
    VariableDeclarationFragment [469123,469130]
        SimpleName: t [469123,469124]
        SimpleName: cks [469127,469130]
to
Block [393097,393250]
at 1
===
insert-tree
---
ExpressionStatement [469132,469142]
    Assignment [469132,469141]
        SimpleName: cks [469132,469135]
        ASSIGNMENT_OPERATOR: = [469136,469137]
        SimpleName: nks [469138,469141]
to
Block [393097,393250]
at 2
===
insert-tree
---
ExpressionStatement [469143,469151]
    Assignment [469143,469150]
        SimpleName: nks [469143,469146]
        ASSIGNMENT_OPERATOR: = [469147,469148]
        SimpleName: t [469149,469150]
to
Block [393097,393250]
at 3
===
move-tree
---
MethodInvocation [123700,123727]
    METHOD_INVOCATION_RECEIVER [123700,123717]
        SimpleName: ThreadLocalRandom [123700,123717]
    SimpleName: current [123718,123725]
to
METHOD_INVOCATION_ARGUMENTS [123700,123738]
at 0
===
insert-node
---
SimpleName: normalize [127131,127140]
to
MethodInvocation [123690,123739]
at 0
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [127141,127153]
to
MethodInvocation [123690,123739]
at 1
===
insert-node
---
SimpleName: index [210107,210112]
to
Assignment [210107,210123]
at 0
===
insert-node
---
ASSIGNMENT_OPERATOR: = [210113,210114]
to
Assignment [210107,210123]
at 1
===
move-tree
---
InfixExpression [162377,162455]
    SimpleName: token [162377,162382]
    INFIX_EXPRESSION_OPERATOR: + [162383,162384]
    StringLiteral: " not found in " [162385,162401]
    MethodInvocation [162404,162455]
        METHOD_INVOCATION_RECEIVER [162404,162415]
            SimpleName: StringUtils [162404,162415]
        SimpleName: join [162416,162420]
        METHOD_INVOCATION_ARGUMENTS [162421,162454]
            MethodInvocation [162421,162448]
                METHOD_INVOCATION_RECEIVER [162421,162439]
                    SimpleName: tokenToEndpointMap [162421,162439]
                SimpleName: keySet [162440,162446]
            StringLiteral: ", " [162450,162454]
to
Assignment [210107,210123]
at 2
===
insert-node
---
SimpleType [210523,210528]
to
CastExpression [210522,210550]
at 0
===
move-tree
---
MethodInvocation [162768,162819]
    METHOD_INVOCATION_RECEIVER [162768,162779]
        SimpleName: StringUtils [162768,162779]
    SimpleName: join [162780,162784]
    METHOD_INVOCATION_ARGUMENTS [162785,162818]
        MethodInvocation [162785,162812]
            METHOD_INVOCATION_RECEIVER [162785,162803]
                SimpleName: tokenToEndpointMap [162785,162803]
            SimpleName: keySet [162804,162810]
        StringLiteral: ", " [162814,162818]
to
CastExpression [210522,210550]
at 1
===
move-tree
---
MethodInvocation [392907,392949]
    METHOD_INVOCATION_RECEIVER [392907,392930]
        QualifiedName: StorageService.instance [392907,392930]
    SimpleName: getTokenMetadata [392931,392947]
to
METHOD_INVOCATION_ARGUMENTS [466111,466169]
at 0
===
insert-node
---
SimpleName: numOldNodes [466155,466166]
to
METHOD_INVOCATION_ARGUMENTS [466111,466169]
at 1
===
insert-node
---
NumberLiteral: 1 [466168,466169]
to
METHOD_INVOCATION_ARGUMENTS [466111,466169]
at 2
===
insert-tree
---
VariableDeclarationExpression [466667,466676]
    PrimitiveType: int [466667,466670]
    VariableDeclarationFragment [466671,466676]
        SimpleName: j [466671,466672]
        NumberLiteral: 0 [466675,466676]
to
ForStatement [466662,466746]
at 0
===
insert-tree
---
InfixExpression [466678,466691]
    SimpleName: j [466678,466679]
    INFIX_EXPRESSION_OPERATOR: < [466680,466681]
    SimpleName: numVNodes [466682,466691]
to
ForStatement [466662,466746]
at 1
===
insert-tree
---
PrefixExpression [466693,466696]
    PREFIX_EXPRESSION_OPERATOR: ++ [466693,466695]
    SimpleName: j [466695,466696]
to
ForStatement [466662,466746]
at 2
===
insert-node
---
ExpressionStatement [466715,466746]
to
ForStatement [466662,466746]
at 3
===
insert-node
---
MethodInvocation [466774,466810]
to
ExpressionStatement [466774,466811]
at 0
===
update-node
---
StringLiteral: "Picking random token for a single vnode.  You should probably add more vnodes; failing that, you should probably specify the token manually" [105354,105495]
replace "Picking random token for a single vnode.  You should probably add more vnodes; failing that, you should probably specify the token manually" by "Picking random token for a single vnode.  You should probably add more vnodes and/or use the automatic token allocation mechanism."
===
insert-node
---
MethodInvocation [127141,127153]
to
METHOD_INVOCATION_ARGUMENTS [127141,127153]
at 0
===
insert-node
---
PrefixExpression [210115,210121]
to
InfixExpression [162377,162455]
at 0
===
update-node
---
INFIX_EXPRESSION_OPERATOR: + [162383,162384]
replace + by -
===
insert-node
---
NumberLiteral: 1 [210122,210123]
to
InfixExpression [162377,162455]
at 3
===
update-node
---
SimpleName: token [162741,162746]
replace token by Token
===
move-tree
---
SimpleName: token [162741,162746]
to
SimpleType [210523,210528]
at 0
===
update-node
---
SimpleName: join [162780,162784]
replace join by get
===
insert-node
---
MethodInvocation [466715,466745]
to
ExpressionStatement [466715,466746]
at 0
===
move-tree
---
METHOD_INVOCATION_RECEIVER [393152,393155]
    SimpleName: tmd [393152,393155]
to
MethodInvocation [466774,466810]
at 0
===
insert-node
---
SimpleName: updateNormalTokens [466778,466796]
to
MethodInvocation [466774,466810]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [466797,466809]
    SimpleName: tokens [466797,466803]
    SimpleName: addr [466805,466809]
to
MethodInvocation [466774,466810]
at 2
===
update-node
---
SimpleName: updateNormalToken [393156,393173]
replace updateNormalToken by allocateTokensForNode
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [127141,127142]
    SimpleName: r [127141,127142]
to
MethodInvocation [127141,127153]
at 0
===
move-tree
---
SimpleName: nextLong [123728,123736]
to
MethodInvocation [127141,127153]
at 1
===
insert-node
---
PREFIX_EXPRESSION_OPERATOR: - [210115,210116]
to
PrefixExpression [210115,210121]
at 0
===
update-node
---
SimpleName: token [162377,162382]
replace token by index
===
move-tree
---
SimpleName: token [162377,162382]
to
PrefixExpression [210115,210121]
at 1
===
update-node
---
SimpleName: StringUtils [162768,162779]
replace StringUtils by tokens
===
insert-node
---
InfixExpression [210541,210549]
to
METHOD_INVOCATION_ARGUMENTS [162785,162818]
at 0
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [466715,466721]
    SimpleName: tokens [466715,466721]
to
MethodInvocation [466715,466745]
at 0
===
insert-node
---
SimpleName: add [466722,466725]
to
MethodInvocation [466715,466745]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [466726,466744]
to
MethodInvocation [466715,466745]
at 2
===
insert-node
---
SimpleName: vn [469044,469046]
to
METHOD_INVOCATION_ARGUMENTS [393174,393237]
at 0
===
insert-node
---
SimpleName: cks [469048,469051]
to
METHOD_INVOCATION_ARGUMENTS [393174,393237]
at 1
===
insert-node
---
SimpleName: tm [469053,469055]
to
METHOD_INVOCATION_ARGUMENTS [393174,393237]
at 2
===
insert-node
---
PrefixExpression [210541,210547]
to
InfixExpression [210541,210549]
at 0
===
insert-node
---
INFIX_EXPRESSION_OPERATOR: - [210547,210548]
to
InfixExpression [210541,210549]
at 1
===
insert-node
---
NumberLiteral: 1 [210548,210549]
to
InfixExpression [210541,210549]
at 2
===
move-tree
---
MethodInvocation [393174,393192]
    METHOD_INVOCATION_RECEIVER [393174,393175]
        SimpleName: p [393174,393175]
    SimpleName: getRandomToken [393176,393190]
to
METHOD_INVOCATION_ARGUMENTS [466726,466744]
at 0
===
insert-node
---
PREFIX_EXPRESSION_OPERATOR: - [210541,210542]
to
PrefixExpression [210541,210547]
at 0
===
update-node
---
SimpleName: tokenToEndpointMap [162785,162803]
replace tokenToEndpointMap by index
===
move-tree
---
SimpleName: tokenToEndpointMap [162785,162803]
to
PrefixExpression [210541,210547]
at 1
===
insert-tree
---
MethodInvocation [264909,264942]
    METHOD_INVOCATION_RECEIVER [264909,264920]
        SimpleName: FBUtilities [264909,264920]
    SimpleName: getBroadcastAddress [264921,264940]
to
METHOD_INVOCATION_ARGUMENTS [217163,217176]
at 1
===
delete-tree
---
ImportDeclaration [119171,119196]
    QualifiedName: java.util.HashMap [119178,119195]
===
delete-tree
---
ImportDeclaration [389325,389358]
    QualifiedName: org.junit.Assert [389339,389355]
===
delete-node
---
Modifier: public [1581,1587]
===
delete-node
---
TYPE_DECLARATION_KIND: class [1588,1593]
===
delete-node
---
SimpleName: Config [1594,1600]
===
delete-node
---
Modifier: public [16016,16022]
===
delete-node
---
TYPE_DECLARATION_KIND: class [16023,16028]
===
delete-node
---
SimpleName: DatabaseDescriptor [16029,16047]
===
delete-node
---
Modifier: public [76514,76520]
===
delete-node
---
TYPE_DECLARATION_KIND: class [76521,76526]
===
delete-node
---
SimpleName: CommitLog [76527,76536]
===
delete-node
---
Modifier: private [77295,77302]
===
delete-node
---
Modifier: private [92436,92443]
===
delete-node
---
IfStatement [104448,105133]
===
delete-node
---
Block [104306,105560]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [123700,123727]
===
delete-node
---
Modifier: public [136315,136321]
===
delete-node
---
TYPE_DECLARATION_KIND: class [136322,136327]
===
delete-node
---
SimpleName: TokenMetadata [136328,136341]
===
delete-node
---
StringLiteral: " not found in " [162385,162401]
===
delete-tree
---
MethodInvocation [162404,162455]
    METHOD_INVOCATION_RECEIVER [162404,162415]
        SimpleName: StringUtils [162404,162415]
    SimpleName: join [162416,162420]
    METHOD_INVOCATION_ARGUMENTS [162421,162454]
        MethodInvocation [162421,162448]
            METHOD_INVOCATION_RECEIVER [162421,162439]
                SimpleName: tokenToEndpointMap [162421,162439]
            SimpleName: keySet [162440,162446]
        StringLiteral: ", " [162450,162454]
===
delete-node
---
AssertStatement [162357,162456]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [162785,162803]
===
delete-node
---
SimpleName: keySet [162804,162810]
===
delete-node
---
MethodInvocation [162785,162812]
===
delete-node
---
StringLiteral: ", " [162814,162818]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [162747,162748]
===
delete-node
---
StringLiteral: " not found in " [162749,162765]
===
delete-node
---
InfixExpression [162741,162819]
===
delete-node
---
AssertStatement [162721,162820]
===
delete-node
---
Modifier: public [184217,184223]
===
delete-node
---
TYPE_DECLARATION_KIND: class [184224,184229]
===
delete-node
---
SimpleName: StorageService [184230,184244]
===
delete-node
---
Modifier: public [366304,366310]
===
delete-node
---
TYPE_DECLARATION_KIND: class [366311,366316]
===
delete-node
---
SimpleName: CommitLogStressTest [366317,366336]
===
delete-node
---
Modifier: private [382390,382397]
===
delete-node
---
SimpleName: tmd [392901,392904]
===
delete-node
---
VariableDeclarationFragment [392901,392949]
===
delete-node
---
VariableDeclarationStatement [392887,392950]
===
delete-node
---
ForStatement [393049,393250]
===
delete-node
---
Block [392876,393257]
===
delete-node
---
MethodDeclaration [392791,393257]
