===
move-tree
---
ImportDeclaration [73981,74019]
    QualifiedName: org.hamcrest.Matchers [73995,74016]
to
CompilationUnit [0,99164]
at 219
===
move-tree
---
ImportDeclaration [69625,69658]
    QualifiedName: org.junit.Assert [69639,69655]
to
CompilationUnit [0,99164]
at 219
===
insert-tree
---
ImportDeclaration [1751,1828]
    QualifiedName: org.springframework.web.socket.server.support.WebSocketHandlerMapping [1758,1827]
to
CompilationUnit [0,99164]
at 18
===
insert-tree
---
ImportDeclaration [9664,9741]
    QualifiedName: org.springframework.web.socket.server.support.WebSocketHandlerMapping [9671,9740]
to
CompilationUnit [0,99164]
at 33
===
insert-tree
---
ImportDeclaration [13059,13091]
    QualifiedName: java.lang.reflect.Method [13066,13090]
to
CompilationUnit [0,99164]
at 36
===
insert-tree
---
ImportDeclaration [13204,13240]
    QualifiedName: javax.servlet.ServletContext [13211,13239]
to
CompilationUnit [0,99164]
at 41
===
insert-tree
---
ImportDeclaration [14295,14338]
    QualifiedName: org.springframework.util.ClassUtils [14302,14337]
to
CompilationUnit [0,99164]
at 60
===
insert-tree
---
ImportDeclaration [14390,14449]
    QualifiedName: org.springframework.web.context.ServletContextAware [14397,14448]
to
CompilationUnit [0,99164]
at 62
===
insert-tree
---
ImportDeclaration [22991,23059]
    QualifiedName: org.springframework.web.socket.server.RequestUpgradeStrategy [22998,23058]
to
CompilationUnit [0,99164]
at 95
===
insert-tree
---
ImportDeclaration [38013,38049]
    QualifiedName: javax.servlet.ServletContext [38020,38048]
to
CompilationUnit [0,99164]
at 96
===
insert-tree
---
ImportDeclaration [38053,38112]
    QualifiedName: org.springframework.web.context.ServletContextAware [38060,38111]
to
CompilationUnit [0,99164]
at 97
===
insert-tree
---
ImportDeclaration [40340,40376]
    QualifiedName: javax.servlet.ServletContext [40347,40375]
to
CompilationUnit [0,99164]
at 99
===
insert-tree
---
ImportDeclaration [40479,40538]
    QualifiedName: org.springframework.web.context.ServletContextAware [40486,40537]
to
CompilationUnit [0,99164]
at 102
===
insert-tree
---
ImportDeclaration [43131,43167]
    QualifiedName: javax.servlet.ServletContext [43138,43166]
to
CompilationUnit [0,99164]
at 109
===
insert-tree
---
ImportDeclaration [43787,43846]
    QualifiedName: org.springframework.web.context.ServletContextAware [43794,43845]
to
CompilationUnit [0,99164]
at 122
===
insert-tree
---
ImportDeclaration [49279,49315]
    QualifiedName: javax.servlet.ServletContext [49286,49314]
to
CompilationUnit [0,99164]
at 130
===
insert-tree
---
ImportDeclaration [49846,49905]
    QualifiedName: org.springframework.web.context.ServletContextAware [49853,49904]
to
CompilationUnit [0,99164]
at 141
===
insert-tree
---
ImportDeclaration [54636,54672]
    QualifiedName: javax.servlet.ServletContext [54643,54671]
to
CompilationUnit [0,99164]
at 154
===
insert-tree
---
ImportDeclaration [54819,54878]
    QualifiedName: org.springframework.web.context.ServletContextAware [54826,54877]
to
CompilationUnit [0,99164]
at 158
===
insert-tree
---
ImportDeclaration [59393,59429]
    QualifiedName: javax.servlet.ServletContext [59400,59428]
to
CompilationUnit [0,99164]
at 163
===
insert-tree
---
ImportDeclaration [59640,59699]
    QualifiedName: org.springframework.web.context.ServletContextAware [59647,59698]
to
CompilationUnit [0,99164]
at 168
===
insert-tree
---
ImportDeclaration [69744,69786]
    QualifiedName: org.apache.catalina.LifecycleEvent [69751,69785]
to
CompilationUnit [0,99164]
at 205
===
insert-tree
---
ImportDeclaration [69788,69833]
    QualifiedName: org.apache.catalina.LifecycleListener [69795,69832]
to
CompilationUnit [0,99164]
at 206
===
insert-tree
---
ImportDeclaration [81879,81939]
    QualifiedName: org.springframework.mock.web.test.MockServletContext [81886,81938]
to
CompilationUnit [0,99164]
at 280
===
insert-node
---
TypeDeclaration [38186,39527]
to
CompilationUnit [0,99164]
at 310
===
insert-tree
---
SimpleType [15289,15308]
    SimpleName: ServletContextAware [15289,15308]
to
TypeDeclaration [14701,20233]
at 6
===
insert-tree
---
FieldDeclaration [15369,15500]
    Modifier: private [15369,15376]
    Modifier: static [15377,15383]
    Modifier: final [15384,15389]
    SimpleType [15390,15396]
        SimpleName: Method [15390,15396]
    VariableDeclarationFragment [15397,15499]
        SimpleName: webSocketFactoryInitMethod [15397,15423]
        MethodInvocation [15430,15499]
            METHOD_INVOCATION_RECEIVER [15430,15440]
                SimpleName: ClassUtils [15430,15440]
            SimpleName: getMethodIfAvailable [15441,15461]
            METHOD_INVOCATION_ARGUMENTS [15462,15498]
                TypeLiteral [15462,15490]
                    SimpleType [15462,15484]
                        SimpleName: WebSocketServerFactory [15462,15484]
                StringLiteral: "init" [15492,15498]
to
TypeDeclaration [14701,20233]
at 7
===
insert-tree
---
FieldDeclaration [15792,15830]
    Modifier: private [15792,15799]
    SimpleType [15800,15814]
        SimpleName: ServletContext [15800,15814]
    VariableDeclarationFragment [15815,15829]
        SimpleName: servletContext [15815,15829]
to
TypeDeclaration [14701,20233]
at 11
===
insert-tree
---
MethodDeclaration [17911,18030]
    MarkerAnnotation [17911,17920]
        SimpleName: Override [17912,17920]
    Modifier: public [17923,17929]
    PrimitiveType: void [17930,17934]
    SimpleName: setServletContext [17935,17952]
    SingleVariableDeclaration [17953,17982]
        SimpleType [17953,17967]
            SimpleName: ServletContext [17953,17967]
        SimpleName: servletContext [17968,17982]
    Block [17984,18030]
        ExpressionStatement [17989,18026]
            Assignment [17989,18025]
                FieldAccess [17989,18008]
                    ThisExpression [17989,17993]
                    SimpleName: servletContext [17994,18008]
                ASSIGNMENT_OPERATOR: = [18009,18010]
                SimpleName: servletContext [18011,18025]
to
TypeDeclaration [14701,20233]
at 18
===
insert-tree
---
Javadoc [23063,23789]
    TagElement [23071,23735]
        TextElement: A base class to use for  [23071,23095]
        TagElement [23095,23119]
            SimpleName: HandshakeHandler [23102,23118]
        TextElement:  implementations. [23119,23136]
        TextElement: Performs initial validation of the WebSocket handshake request -- possibly rejecting it [23141,23228]
        TextElement: through the appropriate HTTP status code -- while also allowing sub-classes to override [23233,23320]
        TextElement: various parts of the negotiation process (e.g. origin validation, sub-protocol negotiation, [23325,23416]
        TextElement: extensions negotiation, etc). [23421,23450]
        TextElement: <p>If the negotiation succeeds, the actual upgrade is delegated to a server-specific [23459,23543]
        TagElement [23548,23578]
            SimpleName: RequestUpgradeStrategy [23555,23577]
        TextElement: , which will update [23578,23597]
        TextElement: the response as necessary and initialize the WebSocket. Currently supported servers are [23602,23689]
        TextElement: Tomcat 7 and 8, Jetty 9, and GlassFish 4. [23694,23735]
    TagElement [23744,23769]
        TextElement:  Rossen Stoyanchev [23751,23769]
    TagElement [23774,23784]
        TextElement:  4.0 [23780,23784]
to
TypeDeclaration [22275,36227]
at 0
===
insert-node
---
Modifier: public [23791,23797]
to
TypeDeclaration [22275,36227]
at 1
===
insert-node
---
Modifier: abstract [23798,23806]
to
TypeDeclaration [22275,36227]
at 2
===
insert-node
---
TYPE_DECLARATION_KIND: class [23807,23812]
to
TypeDeclaration [22275,36227]
at 3
===
insert-node
---
SimpleName: AbstractHandshakeHandler [23813,23837]
to
TypeDeclaration [22275,36227]
at 4
===
insert-node
---
FieldDeclaration [23959,24141]
to
TypeDeclaration [22275,36227]
at 12
===
insert-node
---
FieldDeclaration [24146,24327]
to
TypeDeclaration [22275,36227]
at 13
===
insert-node
---
FieldDeclaration [24332,24511]
to
TypeDeclaration [22275,36227]
at 14
===
insert-node
---
FieldDeclaration [24516,24696]
to
TypeDeclaration [22275,36227]
at 15
===
insert-node
---
FieldDeclaration [24701,24872]
to
TypeDeclaration [22275,36227]
at 16
===
insert-tree
---
MethodDeclaration [27015,27200]
    Javadoc [27015,27095]
        TagElement [27024,27089]
            TextElement: Return the  [27024,27035]
            TagElement [27035,27065]
                SimpleName: RequestUpgradeStrategy [27042,27064]
            TextElement:  for WebSocket requests. [27065,27089]
    Modifier: public [27098,27104]
    SimpleType [27105,27127]
        SimpleName: RequestUpgradeStrategy [27105,27127]
    SimpleName: getRequestUpgradeStrategy [27128,27153]
    Block [27156,27200]
        ReturnStatement [27161,27196]
            FieldAccess [27168,27195]
                ThisExpression [27168,27172]
                SimpleName: requestUpgradeStrategy [27173,27195]
to
TypeDeclaration [22275,36227]
at 29
===
insert-node
---
MethodDeclaration [28365,28470]
to
TypeDeclaration [22275,36227]
at 33
===
insert-node
---
MethodDeclaration [28629,28732]
to
TypeDeclaration [22275,36227]
at 35
===
move-tree
---
Javadoc [22275,23062]
    TagElement [22283,23008]
        TextElement: A default  [22283,22293]
        TagElement [22293,22355]
            QualifiedName: org.springframework.web.socket.server.HandshakeHandler [22300,22354]
        TextElement:  implementation. [22355,22371]
        TextElement: Performs initial validation of the WebSocket handshake request -- possibly rejecting it [22376,22463]
        TextElement: through the appropriate HTTP status code -- while also allowing sub-classes to override [22468,22555]
        TextElement: various parts of the negotiation process (e.g. origin validation, sub-protocol negotiation, [22560,22651]
        TextElement: extensions negotiation, etc). [22656,22685]
        TextElement: <p>If the negotiation succeeds, the actual upgrade is delegated to a server-specific [22694,22778]
        TagElement [22783,22851]
            QualifiedName: org.springframework.web.socket.server.RequestUpgradeStrategy [22790,22850]
        TextElement: , which will update [22851,22870]
        TextElement: the response as necessary and initialize the WebSocket. Currently supported servers are [22875,22962]
        TextElement: Tomcat 7 and 8, Jetty 9, and GlassFish 4. [22967,23008]
    TagElement [23017,23042]
        TextElement:  Rossen Stoyanchev [23024,23042]
    TagElement [23047,23057]
        TextElement:  4.0 [23053,23057]
to
TypeDeclaration [38186,39527]
at 0
===
insert-node
---
Modifier: public [38975,38981]
to
TypeDeclaration [38186,39527]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [38982,38987]
to
TypeDeclaration [38186,39527]
at 2
===
insert-node
---
SimpleName: DefaultHandshakeHandler [38988,39011]
to
TypeDeclaration [38186,39527]
at 3
===
insert-tree
---
SimpleType [39020,39044]
    SimpleName: AbstractHandshakeHandler [39020,39044]
to
TypeDeclaration [38186,39527]
at 4
===
insert-tree
---
SimpleType [39056,39075]
    SimpleName: ServletContextAware [39056,39075]
to
TypeDeclaration [38186,39527]
at 5
===
insert-tree
---
MethodDeclaration [39084,39122]
    Modifier: public [39084,39090]
    SimpleName: DefaultHandshakeHandler [39091,39114]
    Block [39117,39122]
to
TypeDeclaration [38186,39527]
at 6
===
insert-tree
---
MethodDeclaration [39127,39244]
    Modifier: public [39127,39133]
    SimpleName: DefaultHandshakeHandler [39134,39157]
    SingleVariableDeclaration [39158,39203]
        SimpleType [39158,39180]
            SimpleName: RequestUpgradeStrategy [39158,39180]
        SimpleName: requestUpgradeStrategy [39181,39203]
    Block [39205,39244]
        SuperConstructorInvocation [39210,39240]
            SimpleName: requestUpgradeStrategy [39216,39238]
to
TypeDeclaration [38186,39527]
at 7
===
insert-tree
---
MethodDeclaration [39251,39522]
    MarkerAnnotation [39251,39260]
        SimpleName: Override [39252,39260]
    Modifier: public [39263,39269]
    PrimitiveType: void [39270,39274]
    SimpleName: setServletContext [39275,39292]
    SingleVariableDeclaration [39293,39322]
        SimpleType [39293,39307]
            SimpleName: ServletContext [39293,39307]
        SimpleName: servletContext [39308,39322]
    Block [39324,39522]
        VariableDeclarationStatement [39329,39391]
            SimpleType [39329,39351]
                SimpleName: RequestUpgradeStrategy [39329,39351]
            VariableDeclarationFragment [39352,39390]
                SimpleName: strategy [39352,39360]
                MethodInvocation [39363,39390]
                    SimpleName: getRequestUpgradeStrategy [39363,39388]
        IfStatement [39395,39518]
            InstanceofExpression [39399,39438]
                SimpleName: strategy [39399,39407]
                SimpleType [39419,39438]
                    SimpleName: ServletContextAware [39419,39438]
            Block [39440,39518]
                ExpressionStatement [39446,39513]
                    MethodInvocation [39446,39512]
                        METHOD_INVOCATION_RECEIVER [39446,39478]
                            ParenthesizedExpression [39446,39478]
                                CastExpression [39447,39477]
                                    SimpleType [39448,39467]
                                        SimpleName: ServletContextAware [39448,39467]
                                    SimpleName: strategy [39469,39477]
                        SimpleName: setServletContext [39479,39496]
                        METHOD_INVOCATION_ARGUMENTS [39497,39511]
                            SimpleName: servletContext [39497,39511]
to
TypeDeclaration [38186,39527]
at 8
===
insert-tree
---
MethodDeclaration [41136,41400]
    MarkerAnnotation [41136,41145]
        SimpleName: Override [41137,41145]
    Modifier: protected [41148,41157]
    PrimitiveType: void [41158,41162]
    SimpleName: initServletContext [41163,41181]
    SingleVariableDeclaration [41182,41211]
        SimpleType [41182,41196]
            SimpleName: ServletContext [41182,41196]
        SimpleName: servletContext [41197,41211]
    Block [41213,41400]
        EnhancedForStatement [41218,41396]
            SingleVariableDeclaration [41223,41237]
                SimpleType [41223,41229]
                    SimpleName: Object [41223,41229]
                SimpleName: handler [41230,41237]
            MethodInvocation [41240,41260]
                METHOD_INVOCATION_RECEIVER [41240,41251]
                    MethodInvocation [41240,41251]
                        SimpleName: getUrlMap [41240,41249]
                SimpleName: values [41252,41258]
            Block [41262,41396]
                IfStatement [41268,41391]
                    InstanceofExpression [41272,41310]
                        SimpleName: handler [41272,41279]
                        SimpleType [41291,41310]
                            SimpleName: ServletContextAware [41291,41310]
                    Block [41312,41391]
                        ExpressionStatement [41319,41385]
                            MethodInvocation [41319,41384]
                                METHOD_INVOCATION_RECEIVER [41319,41350]
                                    ParenthesizedExpression [41319,41350]
                                        CastExpression [41320,41349]
                                            SimpleType [41321,41340]
                                                SimpleName: ServletContextAware [41321,41340]
                                            SimpleName: handler [41342,41349]
                                SimpleName: setServletContext [41351,41368]
                                METHOD_INVOCATION_ARGUMENTS [41369,41383]
                                    SimpleName: servletContext [41369,41383]
to
TypeDeclaration [37214,38508]
at 7
===
insert-tree
---
SimpleType [44848,44867]
    SimpleName: ServletContextAware [44848,44867]
to
TypeDeclaration [40505,44404]
at 6
===
insert-tree
---
MethodDeclaration [46450,46681]
    MarkerAnnotation [46450,46459]
        SimpleName: Override [46451,46459]
    Modifier: public [46462,46468]
    PrimitiveType: void [46469,46473]
    SimpleName: setServletContext [46474,46491]
    SingleVariableDeclaration [46492,46521]
        SimpleType [46492,46506]
            SimpleName: ServletContext [46492,46506]
        SimpleName: servletContext [46507,46521]
    Block [46523,46681]
        IfStatement [46528,46677]
            InstanceofExpression [46532,46584]
                FieldAccess [46532,46553]
                    ThisExpression [46532,46536]
                    SimpleName: handshakeHandler [46537,46553]
                SimpleType [46565,46584]
                    SimpleName: ServletContextAware [46565,46584]
            Block [46586,46677]
                ExpressionStatement [46592,46672]
                    MethodInvocation [46592,46671]
                        METHOD_INVOCATION_RECEIVER [46592,46637]
                            ParenthesizedExpression [46592,46637]
                                CastExpression [46593,46636]
                                    SimpleType [46594,46613]
                                        SimpleName: ServletContextAware [46594,46613]
                                    FieldAccess [46615,46636]
                                        ThisExpression [46615,46619]
                                        SimpleName: handshakeHandler [46620,46636]
                        SimpleName: setServletContext [46638,46655]
                        METHOD_INVOCATION_ARGUMENTS [46656,46670]
                            SimpleName: servletContext [46656,46670]
to
TypeDeclaration [40505,44404]
at 18
===
insert-tree
---
SimpleType [50743,50762]
    SimpleName: ServletContextAware [50743,50762]
to
TypeDeclaration [46301,49312]
at 7
===
insert-tree
---
MethodDeclaration [51857,52082]
    MarkerAnnotation [51857,51866]
        SimpleName: Override [51858,51866]
    Modifier: public [51869,51875]
    PrimitiveType: void [51876,51880]
    SimpleName: setServletContext [51881,51898]
    SingleVariableDeclaration [51899,51928]
        SimpleType [51899,51913]
            SimpleName: ServletContext [51899,51913]
        SimpleName: servletContext [51914,51928]
    Block [51930,52082]
        IfStatement [51935,52078]
            InstanceofExpression [51939,51988]
                FieldAccess [51939,51957]
                    ThisExpression [51939,51943]
                    SimpleName: sockJsService [51944,51957]
                SimpleType [51969,51988]
                    SimpleName: ServletContextAware [51969,51988]
            Block [51990,52078]
                ExpressionStatement [51996,52073]
                    MethodInvocation [51996,52072]
                        METHOD_INVOCATION_RECEIVER [51996,52038]
                            ParenthesizedExpression [51996,52038]
                                CastExpression [51997,52037]
                                    SimpleType [51998,52017]
                                        SimpleName: ServletContextAware [51998,52017]
                                    FieldAccess [52019,52037]
                                        ThisExpression [52019,52023]
                                        SimpleName: sockJsService [52024,52037]
                        SimpleName: setServletContext [52039,52056]
                        METHOD_INVOCATION_ARGUMENTS [52057,52071]
                            SimpleName: servletContext [52057,52071]
to
TypeDeclaration [46301,49312]
at 14
===
insert-tree
---
SimpleType [55464,55483]
    SimpleName: ServletContextAware [55464,55483]
to
TypeDeclaration [50644,53737]
at 5
===
insert-tree
---
MethodDeclaration [58247,58528]
    MarkerAnnotation [58247,58256]
        SimpleName: Override [58248,58256]
    Modifier: public [58259,58265]
    PrimitiveType: void [58266,58270]
    SimpleName: setServletContext [58271,58288]
    SingleVariableDeclaration [58289,58318]
        SimpleType [58289,58303]
            SimpleName: ServletContext [58289,58303]
        SimpleName: servletContext [58304,58318]
    Block [58320,58528]
        EnhancedForStatement [58325,58524]
            SingleVariableDeclaration [58330,58354]
                SimpleType [58330,58346]
                    SimpleName: TransportHandler [58330,58346]
                SimpleName: handler [58347,58354]
            MethodInvocation [58357,58388]
                METHOD_INVOCATION_RECEIVER [58357,58379]
                    MethodInvocation [58357,58379]
                        SimpleName: getTransportHandlers [58357,58377]
                SimpleName: values [58380,58386]
            Block [58390,58524]
                IfStatement [58396,58519]
                    InstanceofExpression [58400,58438]
                        SimpleName: handler [58400,58407]
                        SimpleType [58419,58438]
                            SimpleName: ServletContextAware [58419,58438]
                    Block [58440,58519]
                        ExpressionStatement [58447,58513]
                            MethodInvocation [58447,58512]
                                METHOD_INVOCATION_RECEIVER [58447,58478]
                                    ParenthesizedExpression [58447,58478]
                                        CastExpression [58448,58477]
                                            SimpleType [58449,58468]
                                                SimpleName: ServletContextAware [58449,58468]
                                            SimpleName: handler [58470,58477]
                                SimpleName: setServletContext [58479,58496]
                                METHOD_INVOCATION_ARGUMENTS [58497,58511]
                                    SimpleName: servletContext [58497,58511]
to
TypeDeclaration [50644,53737]
at 10
===
insert-tree
---
SimpleType [61038,61057]
    SimpleName: ServletContextAware [61038,61057]
to
TypeDeclaration [55671,58290]
at 8
===
insert-tree
---
MethodDeclaration [61533,61764]
    MarkerAnnotation [61533,61542]
        SimpleName: Override [61534,61542]
    Modifier: public [61545,61551]
    PrimitiveType: void [61552,61556]
    SimpleName: setServletContext [61557,61574]
    SingleVariableDeclaration [61575,61604]
        SimpleType [61575,61589]
            SimpleName: ServletContext [61575,61589]
        SimpleName: servletContext [61590,61604]
    Block [61606,61764]
        IfStatement [61611,61760]
            InstanceofExpression [61615,61667]
                FieldAccess [61615,61636]
                    ThisExpression [61615,61619]
                    SimpleName: handshakeHandler [61620,61636]
                SimpleType [61648,61667]
                    SimpleName: ServletContextAware [61648,61667]
            Block [61669,61760]
                ExpressionStatement [61675,61755]
                    MethodInvocation [61675,61754]
                        METHOD_INVOCATION_RECEIVER [61675,61720]
                            ParenthesizedExpression [61675,61720]
                                CastExpression [61676,61719]
                                    SimpleType [61677,61696]
                                        SimpleName: ServletContextAware [61677,61696]
                                    FieldAccess [61698,61719]
                                        ThisExpression [61698,61702]
                                        SimpleName: handshakeHandler [61703,61719]
                        SimpleName: setServletContext [61721,61738]
                        METHOD_INVOCATION_ARGUMENTS [61739,61753]
                            SimpleName: servletContext [61739,61753]
to
TypeDeclaration [55671,58290]
at 14
===
insert-node
---
Modifier: public [83949,83955]
to
TypeDeclaration [78263,98016]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [83956,83961]
to
TypeDeclaration [78263,98016]
at 2
===
insert-node
---
SimpleName: MessageBrokerBeanDefinitionParserTests [83962,84000]
to
TypeDeclaration [78263,98016]
at 3
===
insert-node
---
Modifier: private [23959,23966]
to
FieldDeclaration [23959,24141]
at 0
===
insert-node
---
Modifier: static [23967,23973]
to
FieldDeclaration [23959,24141]
at 1
===
insert-node
---
Modifier: final [23974,23979]
to
FieldDeclaration [23959,24141]
at 2
===
insert-node
---
PrimitiveType: boolean [23980,23987]
to
FieldDeclaration [23959,24141]
at 3
===
insert-node
---
VariableDeclarationFragment [23988,24140]
to
FieldDeclaration [23959,24141]
at 4
===
insert-node
---
Modifier: private [24146,24153]
to
FieldDeclaration [24146,24327]
at 0
===
insert-node
---
Modifier: static [24154,24160]
to
FieldDeclaration [24146,24327]
at 1
===
insert-node
---
Modifier: final [24161,24166]
to
FieldDeclaration [24146,24327]
at 2
===
insert-node
---
PrimitiveType: boolean [24167,24174]
to
FieldDeclaration [24146,24327]
at 3
===
insert-node
---
VariableDeclarationFragment [24175,24326]
to
FieldDeclaration [24146,24327]
at 4
===
insert-node
---
Modifier: private [24332,24339]
to
FieldDeclaration [24332,24511]
at 0
===
insert-node
---
Modifier: static [24340,24346]
to
FieldDeclaration [24332,24511]
at 1
===
insert-node
---
Modifier: final [24347,24352]
to
FieldDeclaration [24332,24511]
at 2
===
insert-node
---
PrimitiveType: boolean [24353,24360]
to
FieldDeclaration [24332,24511]
at 3
===
insert-node
---
VariableDeclarationFragment [24361,24510]
to
FieldDeclaration [24332,24511]
at 4
===
insert-node
---
Modifier: private [24516,24523]
to
FieldDeclaration [24516,24696]
at 0
===
insert-node
---
Modifier: static [24524,24530]
to
FieldDeclaration [24516,24696]
at 1
===
insert-node
---
Modifier: final [24531,24536]
to
FieldDeclaration [24516,24696]
at 2
===
insert-node
---
PrimitiveType: boolean [24537,24544]
to
FieldDeclaration [24516,24696]
at 3
===
insert-node
---
VariableDeclarationFragment [24545,24695]
to
FieldDeclaration [24516,24696]
at 4
===
insert-node
---
Modifier: private [24701,24708]
to
FieldDeclaration [24701,24872]
at 0
===
insert-node
---
Modifier: static [24709,24715]
to
FieldDeclaration [24701,24872]
at 1
===
insert-node
---
Modifier: final [24716,24721]
to
FieldDeclaration [24701,24872]
at 2
===
insert-node
---
PrimitiveType: boolean [24722,24729]
to
FieldDeclaration [24701,24872]
at 3
===
insert-node
---
VariableDeclarationFragment [24730,24871]
to
FieldDeclaration [24701,24872]
at 4
===
update-node
---
Modifier: public [24622,24628]
replace public by protected
===
update-node
---
SimpleName: DefaultHandshakeHandler [24629,24652]
replace DefaultHandshakeHandler by AbstractHandshakeHandler
===
update-node
---
Modifier: public [24862,24868]
replace public by protected
===
update-node
---
SimpleName: DefaultHandshakeHandler [24869,24892]
replace DefaultHandshakeHandler by AbstractHandshakeHandler
===
move-tree
---
MarkerAnnotation [27423,27432]
    SimpleName: Override [27424,27432]
to
MethodDeclaration [28365,28470]
at 0
===
insert-node
---
Modifier: public [28377,28383]
to
MethodDeclaration [28365,28470]
at 1
===
insert-node
---
PrimitiveType: void [28384,28388]
to
MethodDeclaration [28365,28470]
at 2
===
insert-node
---
SimpleName: start [28389,28394]
to
MethodDeclaration [28365,28470]
at 3
===
insert-node
---
Block [28397,28470]
to
MethodDeclaration [28365,28470]
at 4
===
update-node
---
Modifier: public [27435,27441]
replace public by protected
===
update-node
---
SimpleName: start [27447,27452]
replace start by doStart
===
move-tree
---
Block [27478,27631]
    ExpressionStatement [27484,27504]
        Assignment [27484,27503]
            FieldAccess [27484,27496]
                ThisExpression [27484,27488]
                SimpleName: running [27489,27496]
            ASSIGNMENT_OPERATOR: = [27497,27498]
            BooleanLiteral: true [27499,27503]
    IfStatement [27509,27626]
        InstanceofExpression [27513,27561]
            FieldAccess [27513,27540]
                ThisExpression [27513,27517]
                SimpleName: requestUpgradeStrategy [27518,27540]
            SimpleType [27552,27561]
                SimpleName: Lifecycle [27552,27561]
        Block [27563,27626]
            ExpressionStatement [27570,27620]
                MethodInvocation [27570,27619]
                    METHOD_INVOCATION_RECEIVER [27570,27611]
                        ParenthesizedExpression [27570,27611]
                            CastExpression [27571,27610]
                                SimpleType [27572,27581]
                                    SimpleName: Lifecycle [27572,27581]
                                FieldAccess [27583,27610]
                                    ThisExpression [27583,27587]
                                    SimpleName: requestUpgradeStrategy [27588,27610]
                    SimpleName: start [27612,27617]
to
MethodDeclaration [27423,27635]
at 3
===
move-tree
---
MarkerAnnotation [27640,27649]
    SimpleName: Override [27641,27649]
to
MethodDeclaration [28629,28732]
at 0
===
insert-node
---
Modifier: public [28641,28647]
to
MethodDeclaration [28629,28732]
at 1
===
insert-node
---
PrimitiveType: void [28648,28652]
to
MethodDeclaration [28629,28732]
at 2
===
insert-node
---
SimpleName: stop [28653,28657]
to
MethodDeclaration [28629,28732]
at 3
===
insert-node
---
Block [28660,28732]
to
MethodDeclaration [28629,28732]
at 4
===
update-node
---
Modifier: public [27652,27658]
replace public by protected
===
update-node
---
SimpleName: stop [27664,27668]
replace stop by doStop
===
move-tree
---
Block [27693,27846]
    ExpressionStatement [27699,27720]
        Assignment [27699,27719]
            FieldAccess [27699,27711]
                ThisExpression [27699,27703]
                SimpleName: running [27704,27711]
            ASSIGNMENT_OPERATOR: = [27712,27713]
            BooleanLiteral: false [27714,27719]
    IfStatement [27725,27841]
        InstanceofExpression [27729,27777]
            FieldAccess [27729,27756]
                ThisExpression [27729,27733]
                SimpleName: requestUpgradeStrategy [27734,27756]
            SimpleType [27768,27777]
                SimpleName: Lifecycle [27768,27777]
        Block [27779,27841]
            ExpressionStatement [27786,27835]
                MethodInvocation [27786,27834]
                    METHOD_INVOCATION_RECEIVER [27786,27827]
                        ParenthesizedExpression [27786,27827]
                            CastExpression [27787,27826]
                                SimpleType [27788,27797]
                                    SimpleName: Lifecycle [27788,27797]
                                FieldAccess [27799,27826]
                                    ThisExpression [27799,27803]
                                    SimpleName: requestUpgradeStrategy [27804,27826]
                    SimpleName: stop [27828,27832]
to
MethodDeclaration [27640,27850]
at 3
===
move-tree
---
VariableDeclarationStatement [70856,70938]
    SimpleType [70856,70876]
        SimpleName: TestWebSocketHandler [70856,70876]
    VariableDeclarationFragment [70877,70937]
        SimpleName: serverHandler [70877,70890]
        MethodInvocation [70893,70937]
            METHOD_INVOCATION_RECEIVER [70893,70901]
                FieldAccess [70893,70901]
                    ThisExpression [70893,70897]
                    SimpleName: wac [70898,70901]
            SimpleName: getBean [70902,70909]
            METHOD_INVOCATION_ARGUMENTS [70910,70936]
                TypeLiteral [70910,70936]
                    SimpleType [70910,70930]
                        SimpleName: TestWebSocketHandler [70910,70930]
to
Block [70851,71411]
at 3
===
move-tree
---
ExpressionStatement [70942,70979]
    MethodInvocation [70942,70978]
        METHOD_INVOCATION_RECEIVER [70942,70955]
            SimpleName: serverHandler [70942,70955]
        SimpleName: setWaitMessageCount [70956,70975]
        METHOD_INVOCATION_ARGUMENTS [70976,70977]
            NumberLiteral: 1 [70976,70977]
to
Block [70851,71411]
at 3
===
insert-node
---
SimpleName: jettyWsPresent [23988,24002]
to
VariableDeclarationFragment [23988,24140]
at 0
===
insert-node
---
MethodInvocation [24005,24140]
to
VariableDeclarationFragment [23988,24140]
at 1
===
insert-node
---
SimpleName: tomcatWsPresent [24175,24190]
to
VariableDeclarationFragment [24175,24326]
at 0
===
insert-node
---
MethodInvocation [24193,24326]
to
VariableDeclarationFragment [24175,24326]
at 1
===
insert-node
---
SimpleName: undertowWsPresent [24361,24378]
to
VariableDeclarationFragment [24361,24510]
at 0
===
insert-node
---
MethodInvocation [24381,24510]
to
VariableDeclarationFragment [24361,24510]
at 1
===
insert-node
---
SimpleName: glassFishWsPresent [24545,24563]
to
VariableDeclarationFragment [24545,24695]
at 0
===
insert-node
---
MethodInvocation [24566,24695]
to
VariableDeclarationFragment [24545,24695]
at 1
===
insert-node
---
SimpleName: webLogicWsPresent [24730,24747]
to
VariableDeclarationFragment [24730,24871]
at 0
===
insert-node
---
MethodInvocation [24750,24871]
to
VariableDeclarationFragment [24730,24871]
at 1
===
move-tree
---
IfStatement [25314,25947]
    SimpleName: tomcatWsPresent [25318,25333]
    Block [25335,25436]
        ExpressionStatement [25341,25431]
            Assignment [25341,25430]
                SimpleName: className [25341,25350]
                ASSIGNMENT_OPERATOR: = [25351,25352]
                StringLiteral: "org.springframework.web.socket.server.standard.TomcatRequestUpgradeStrategy" [25353,25430]
    IfStatement [25445,25947]
        SimpleName: undertowWsPresent [25449,25466]
        Block [25468,25571]
            ExpressionStatement [25474,25566]
                Assignment [25474,25565]
                    SimpleName: className [25474,25483]
                    ASSIGNMENT_OPERATOR: = [25484,25485]
                    StringLiteral: "org.springframework.web.socket.server.standard.UndertowRequestUpgradeStrategy" [25486,25565]
        IfStatement [25580,25947]
            SimpleName: glassFishWsPresent [25584,25602]
            Block [25604,25708]
                ExpressionStatement [25610,25703]
                    Assignment [25610,25702]
                        SimpleName: className [25610,25619]
                        ASSIGNMENT_OPERATOR: = [25620,25621]
                        StringLiteral: "org.springframework.web.socket.server.standard.GlassFishRequestUpgradeStrategy" [25622,25702]
            IfStatement [25717,25947]
                SimpleName: webLogicWsPresent [25721,25738]
                Block [25740,25843]
                    ExpressionStatement [25746,25838]
                        Assignment [25746,25837]
                            SimpleName: className [25746,25755]
                            ASSIGNMENT_OPERATOR: = [25756,25757]
                            StringLiteral: "org.springframework.web.socket.server.standard.WebLogicRequestUpgradeStrategy" [25758,25837]
                Block [25852,25947]
                    ThrowStatement [25858,25942]
                        ClassInstanceCreation [25864,25941]
                            SimpleType [25868,25889]
                                SimpleName: IllegalStateException [25868,25889]
                            StringLiteral: "No suitable default RequestUpgradeStrategy found" [25890,25940]
to
Block [25162,26256]
at 1
===
insert-node
---
IfStatement [28402,28466]
to
Block [28397,28470]
at 0
===
insert-node
---
IfStatement [28665,28728]
to
Block [28660,28732]
at 0
===
insert-tree
---
ExpressionStatement [72835,73018]
    MethodInvocation [72835,73017]
        METHOD_INVOCATION_RECEIVER [72835,72847]
            FieldAccess [72835,72847]
                ThisExpression [72835,72839]
                SimpleName: context [72840,72847]
        SimpleName: addLifecycleListener [72848,72868]
        METHOD_INVOCATION_ARGUMENTS [72869,73016]
            ClassInstanceCreation [72869,73016]
                SimpleType [72873,72890]
                    SimpleName: LifecycleListener [72873,72890]
                AnonymousClassDeclaration [72893,73016]
                    MethodDeclaration [72899,73011]
                        MarkerAnnotation [72899,72908]
                            SimpleName: Override [72900,72908]
                        Modifier: public [72913,72919]
                        PrimitiveType: void [72920,72924]
                        SimpleName: lifecycleEvent [72925,72939]
                        SingleVariableDeclaration [72940,72960]
                            SimpleType [72940,72954]
                                SimpleName: LifecycleEvent [72940,72954]
                            SimpleName: event [72955,72960]
                        Block [72962,73011]
                            ExpressionStatement [72969,73005]
                                MethodInvocation [72969,73004]
                                    METHOD_INVOCATION_RECEIVER [72969,72979]
                                        QualifiedName: System.out [72969,72979]
                                    SimpleName: println [72980,72987]
                                    METHOD_INVOCATION_ARGUMENTS [72988,73003]
                                        MethodInvocation [72988,73003]
                                            METHOD_INVOCATION_RECEIVER [72988,72993]
                                                SimpleName: event [72988,72993]
                                            SimpleName: getType [72994,73001]
to
Block [67580,67615]
at 1
===
insert-tree
---
ExpressionStatement [103240,103300]
    MethodInvocation [103240,103299]
        METHOD_INVOCATION_RECEIVER [103240,103255]
            FieldAccess [103240,103255]
                ThisExpression [103240,103244]
                SimpleName: appContext [103245,103255]
        SimpleName: setServletContext [103256,103273]
        METHOD_INVOCATION_ARGUMENTS [103274,103298]
            ClassInstanceCreation [103274,103298]
                SimpleType [103278,103296]
                    SimpleName: MockServletContext [103278,103296]
to
Block [97528,97797]
at 3
===
move-tree
---
METHOD_INVOCATION_RECEIVER [23268,23278]
    SimpleName: ClassUtils [23268,23278]
to
MethodInvocation [24005,24140]
at 0
===
insert-node
---
SimpleName: isPresent [24016,24025]
to
MethodInvocation [24005,24140]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [24031,24139]
    StringLiteral: "org.eclipse.jetty.websocket.server.WebSocketServerFactory" [24031,24090]
    MethodInvocation [24092,24139]
        METHOD_INVOCATION_RECEIVER [24092,24122]
            TypeLiteral [24092,24122]
                SimpleType [24092,24116]
                    SimpleName: AbstractHandshakeHandler [24092,24116]
        SimpleName: getClassLoader [24123,24137]
to
MethodInvocation [24005,24140]
at 2
===
move-tree
---
METHOD_INVOCATION_RECEIVER [23455,23465]
    SimpleName: ClassUtils [23455,23465]
to
MethodInvocation [24193,24326]
at 0
===
insert-node
---
SimpleName: isPresent [24204,24213]
to
MethodInvocation [24193,24326]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [24219,24325]
    StringLiteral: "org.apache.tomcat.websocket.server.WsHttpUpgradeHandler" [24219,24276]
    MethodInvocation [24278,24325]
        METHOD_INVOCATION_RECEIVER [24278,24308]
            TypeLiteral [24278,24308]
                SimpleType [24278,24302]
                    SimpleName: AbstractHandshakeHandler [24278,24302]
        SimpleName: getClassLoader [24309,24323]
to
MethodInvocation [24193,24326]
at 2
===
move-tree
---
METHOD_INVOCATION_RECEIVER [23642,23652]
    SimpleName: ClassUtils [23642,23652]
to
MethodInvocation [24381,24510]
at 0
===
insert-node
---
SimpleName: isPresent [24392,24401]
to
MethodInvocation [24381,24510]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [24407,24509]
    StringLiteral: "io.undertow.websockets.jsr.ServerWebSocketContainer" [24407,24460]
    MethodInvocation [24462,24509]
        METHOD_INVOCATION_RECEIVER [24462,24492]
            TypeLiteral [24462,24492]
                SimpleType [24462,24486]
                    SimpleName: AbstractHandshakeHandler [24462,24486]
        SimpleName: getClassLoader [24493,24507]
to
MethodInvocation [24381,24510]
at 2
===
move-tree
---
METHOD_INVOCATION_RECEIVER [23826,23836]
    SimpleName: ClassUtils [23826,23836]
to
MethodInvocation [24566,24695]
at 0
===
insert-node
---
SimpleName: isPresent [24577,24586]
to
MethodInvocation [24566,24695]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [24592,24694]
    StringLiteral: "org.glassfish.tyrus.servlet.TyrusHttpUpgradeHandler" [24592,24645]
    MethodInvocation [24647,24694]
        METHOD_INVOCATION_RECEIVER [24647,24677]
            TypeLiteral [24647,24677]
                SimpleType [24647,24671]
                    SimpleName: AbstractHandshakeHandler [24647,24671]
        SimpleName: getClassLoader [24678,24692]
to
MethodInvocation [24566,24695]
at 2
===
move-tree
---
METHOD_INVOCATION_RECEIVER [24009,24019]
    SimpleName: ClassUtils [24009,24019]
to
MethodInvocation [24750,24871]
at 0
===
insert-node
---
SimpleName: isPresent [24761,24770]
to
MethodInvocation [24750,24871]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [24776,24870]
    StringLiteral: "weblogic.websocket.tyrus.TyrusServletWriter" [24776,24821]
    MethodInvocation [24823,24870]
        METHOD_INVOCATION_RECEIVER [24823,24853]
            TypeLiteral [24823,24853]
                SimpleType [24823,24847]
                    SimpleName: AbstractHandshakeHandler [24823,24847]
        SimpleName: getClassLoader [24854,24868]
to
MethodInvocation [24750,24871]
at 2
===
update-node
---
TextElement: Default constructor that autodetects and instantiates a [24400,24455]
replace Default constructor that autodetects and instantiates a by Default constructor that auto-detects and instantiates a
===
move-tree
---
IfStatement [25188,25947]
    SimpleName: jettyWsPresent [25192,25206]
    Block [25208,25305]
        ExpressionStatement [25214,25300]
            Assignment [25214,25299]
                SimpleName: className [25214,25223]
                ASSIGNMENT_OPERATOR: = [25224,25225]
                StringLiteral: "org.springframework.web.socket.server.jetty.JettyRequestUpgradeStrategy" [25226,25299]
    IfStatement [25314,25947]
        SimpleName: tomcatWsPresent [25318,25333]
        Block [25335,25436]
            ExpressionStatement [25341,25431]
                Assignment [25341,25430]
                    SimpleName: className [25341,25350]
                    ASSIGNMENT_OPERATOR: = [25351,25352]
                    StringLiteral: "org.springframework.web.socket.server.standard.TomcatRequestUpgradeStrategy" [25353,25430]
        IfStatement [25445,25947]
            SimpleName: undertowWsPresent [25449,25466]
            Block [25468,25571]
                ExpressionStatement [25474,25566]
                    Assignment [25474,25565]
                        SimpleName: className [25474,25483]
                        ASSIGNMENT_OPERATOR: = [25484,25485]
                        StringLiteral: "org.springframework.web.socket.server.standard.UndertowRequestUpgradeStrategy" [25486,25565]
            IfStatement [25580,25947]
                SimpleName: glassFishWsPresent [25584,25602]
                Block [25604,25708]
                    ExpressionStatement [25610,25703]
                        Assignment [25610,25702]
                            SimpleName: className [25610,25619]
                            ASSIGNMENT_OPERATOR: = [25620,25621]
                            StringLiteral: "org.springframework.web.socket.server.standard.GlassFishRequestUpgradeStrategy" [25622,25702]
                IfStatement [25717,25947]
                    SimpleName: webLogicWsPresent [25721,25738]
                    Block [25740,25843]
                        ExpressionStatement [25746,25838]
                            Assignment [25746,25837]
                                SimpleName: className [25746,25755]
                                ASSIGNMENT_OPERATOR: = [25756,25757]
                                StringLiteral: "org.springframework.web.socket.server.standard.WebLogicRequestUpgradeStrategy" [25758,25837]
                    Block [25852,25947]
                        ThrowStatement [25858,25942]
                            ClassInstanceCreation [25864,25941]
                                SimpleType [25868,25889]
                                    SimpleName: IllegalStateException [25868,25889]
                                StringLiteral: "No suitable default RequestUpgradeStrategy found" [25890,25940]
to
IfStatement [25314,25947]
at 2
===
move-tree
---
PrefixExpression [27464,27476]
    PREFIX_EXPRESSION_OPERATOR: ! [27464,27465]
    MethodInvocation [27465,27476]
        SimpleName: isRunning [27465,27474]
to
IfStatement [28402,28466]
at 0
===
insert-node
---
Block [28420,28466]
to
IfStatement [28402,28466]
at 1
===
move-tree
---
MethodInvocation [27680,27691]
    SimpleName: isRunning [27680,27689]
to
IfStatement [28665,28728]
at 0
===
insert-node
---
Block [28682,28728]
to
IfStatement [28665,28728]
at 1
===
update-node
---
SimpleName: SimpleUrlHandlerMapping [11908,11931]
replace SimpleUrlHandlerMapping by WebSocketHandlerMapping
===
move-tree
---
IfStatement [25445,25947]
    SimpleName: undertowWsPresent [25449,25466]
    Block [25468,25571]
        ExpressionStatement [25474,25566]
            Assignment [25474,25565]
                SimpleName: className [25474,25483]
                ASSIGNMENT_OPERATOR: = [25484,25485]
                StringLiteral: "org.springframework.web.socket.server.standard.UndertowRequestUpgradeStrategy" [25486,25565]
    IfStatement [25580,25947]
        SimpleName: glassFishWsPresent [25584,25602]
        Block [25604,25708]
            ExpressionStatement [25610,25703]
                Assignment [25610,25702]
                    SimpleName: className [25610,25619]
                    ASSIGNMENT_OPERATOR: = [25620,25621]
                    StringLiteral: "org.springframework.web.socket.server.standard.GlassFishRequestUpgradeStrategy" [25622,25702]
        IfStatement [25717,25947]
            SimpleName: webLogicWsPresent [25721,25738]
            Block [25740,25843]
                ExpressionStatement [25746,25838]
                    Assignment [25746,25837]
                        SimpleName: className [25746,25755]
                        ASSIGNMENT_OPERATOR: = [25756,25757]
                        StringLiteral: "org.springframework.web.socket.server.standard.WebLogicRequestUpgradeStrategy" [25758,25837]
            Block [25852,25947]
                ThrowStatement [25858,25942]
                    ClassInstanceCreation [25864,25941]
                        SimpleType [25868,25889]
                            SimpleName: IllegalStateException [25868,25889]
                        StringLiteral: "No suitable default RequestUpgradeStrategy found" [25890,25940]
to
IfStatement [25188,25947]
at 2
===
move-tree
---
ExpressionStatement [27484,27504]
    Assignment [27484,27503]
        FieldAccess [27484,27496]
            ThisExpression [27484,27488]
            SimpleName: running [27489,27496]
        ASSIGNMENT_OPERATOR: = [27497,27498]
        BooleanLiteral: true [27499,27503]
to
Block [28420,28466]
at 0
===
insert-tree
---
ExpressionStatement [28451,28461]
    MethodInvocation [28451,28460]
        SimpleName: doStart [28451,28458]
to
Block [28420,28466]
at 1
===
move-tree
---
ExpressionStatement [27699,27720]
    Assignment [27699,27719]
        FieldAccess [27699,27711]
            ThisExpression [27699,27703]
            SimpleName: running [27704,27711]
        ASSIGNMENT_OPERATOR: = [27712,27713]
        BooleanLiteral: false [27714,27719]
to
Block [28682,28728]
at 0
===
insert-tree
---
ExpressionStatement [28714,28723]
    MethodInvocation [28714,28722]
        SimpleName: doStop [28714,28720]
to
Block [28682,28728]
at 1
===
insert-node
---
Block [18200,18381]
to
TryStatement [17557,17722]
at 0
===
insert-node
---
SimpleName: ServerHttpRequest [36537,36554]
to
MethodRef [35534,35598]
at 0
===
update-node
---
SimpleName: SimpleUrlHandlerMapping [11941,11964]
replace SimpleUrlHandlerMapping by WebSocketHandlerMapping
===
insert-node
---
IfStatement [18207,18375]
to
Block [18200,18381]
at 0
===
insert-node
---
SimpleName: WebSocketHandler [34191,34207]
to
SimpleType [33157,33204]
at 0
===
update-node
---
SimpleName: SimpleUrlHandlerMapping [3088,3111]
replace SimpleUrlHandlerMapping by WebSocketHandlerMapping
===
insert-tree
---
InfixExpression [18211,18245]
    SimpleName: webSocketFactoryInitMethod [18211,18237]
    INFIX_EXPRESSION_OPERATOR: != [18238,18240]
    NullLiteral [18241,18245]
to
IfStatement [18207,18375]
at 0
===
insert-tree
---
Block [18247,18310]
    ExpressionStatement [18255,18303]
        MethodInvocation [18255,18302]
            METHOD_INVOCATION_RECEIVER [18255,18281]
                SimpleName: webSocketFactoryInitMethod [18255,18281]
            SimpleName: invoke [18282,18288]
            METHOD_INVOCATION_ARGUMENTS [18289,18301]
                FieldAccess [18289,18301]
                    ThisExpression [18289,18293]
                    SimpleName: factory [18294,18301]
to
IfStatement [18207,18375]
at 1
===
move-tree
---
Block [17561,17594]
    ExpressionStatement [17568,17588]
        MethodInvocation [17568,17587]
            METHOD_INVOCATION_RECEIVER [17568,17580]
                FieldAccess [17568,17580]
                    ThisExpression [17568,17572]
                    SimpleName: factory [17573,17580]
            SimpleName: init [17581,17585]
to
IfStatement [18207,18375]
at 2
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [18347,18366]
    FieldAccess [18347,18366]
        ThisExpression [18347,18351]
        SimpleName: servletContext [18352,18366]
to
MethodInvocation [17568,17587]
at 2
===
update-node
---
SimpleName: DefaultHandshakeHandler [26008,26031]
replace DefaultHandshakeHandler by AbstractHandshakeHandler
===
delete-tree
---
ImportDeclaration [1669,1740]
    QualifiedName: org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [1676,1739]
===
delete-node
---
Modifier: public [23064,23070]
===
delete-node
---
TYPE_DECLARATION_KIND: class [23071,23076]
===
delete-node
---
SimpleName: DefaultHandshakeHandler [23077,23100]
===
delete-node
---
Modifier: private [23222,23229]
===
delete-node
---
Modifier: static [23230,23236]
===
delete-node
---
Modifier: final [23237,23242]
===
delete-node
---
PrimitiveType: boolean [23243,23250]
===
delete-node
---
SimpleName: jettyWsPresent [23251,23265]
===
delete-node
---
SimpleName: isPresent [23279,23288]
===
delete-tree
---
METHOD_INVOCATION_ARGUMENTS [23294,23401]
    StringLiteral: "org.eclipse.jetty.websocket.server.WebSocketServerFactory" [23294,23353]
    MethodInvocation [23355,23401]
        METHOD_INVOCATION_RECEIVER [23355,23384]
            TypeLiteral [23355,23384]
                SimpleType [23355,23378]
                    SimpleName: DefaultHandshakeHandler [23355,23378]
        SimpleName: getClassLoader [23385,23399]
===
delete-node
---
MethodInvocation [23268,23402]
===
delete-node
---
VariableDeclarationFragment [23251,23402]
===
delete-node
---
FieldDeclaration [23222,23403]
===
delete-node
---
Modifier: private [23408,23415]
===
delete-node
---
Modifier: static [23416,23422]
===
delete-node
---
Modifier: final [23423,23428]
===
delete-node
---
PrimitiveType: boolean [23429,23436]
===
delete-node
---
SimpleName: tomcatWsPresent [23437,23452]
===
delete-node
---
SimpleName: isPresent [23466,23475]
===
delete-tree
---
METHOD_INVOCATION_ARGUMENTS [23481,23586]
    StringLiteral: "org.apache.tomcat.websocket.server.WsHttpUpgradeHandler" [23481,23538]
    MethodInvocation [23540,23586]
        METHOD_INVOCATION_RECEIVER [23540,23569]
            TypeLiteral [23540,23569]
                SimpleType [23540,23563]
                    SimpleName: DefaultHandshakeHandler [23540,23563]
        SimpleName: getClassLoader [23570,23584]
===
delete-node
---
MethodInvocation [23455,23587]
===
delete-node
---
VariableDeclarationFragment [23437,23587]
===
delete-node
---
FieldDeclaration [23408,23588]
===
delete-node
---
Modifier: private [23593,23600]
===
delete-node
---
Modifier: static [23601,23607]
===
delete-node
---
Modifier: final [23608,23613]
===
delete-node
---
PrimitiveType: boolean [23614,23621]
===
delete-node
---
SimpleName: undertowWsPresent [23622,23639]
===
delete-node
---
SimpleName: isPresent [23653,23662]
===
delete-tree
---
METHOD_INVOCATION_ARGUMENTS [23668,23769]
    StringLiteral: "io.undertow.websockets.jsr.ServerWebSocketContainer" [23668,23721]
    MethodInvocation [23723,23769]
        METHOD_INVOCATION_RECEIVER [23723,23752]
            TypeLiteral [23723,23752]
                SimpleType [23723,23746]
                    SimpleName: DefaultHandshakeHandler [23723,23746]
        SimpleName: getClassLoader [23753,23767]
===
delete-node
---
MethodInvocation [23642,23770]
===
delete-node
---
VariableDeclarationFragment [23622,23770]
===
delete-node
---
FieldDeclaration [23593,23771]
===
delete-node
---
Modifier: private [23776,23783]
===
delete-node
---
Modifier: static [23784,23790]
===
delete-node
---
Modifier: final [23791,23796]
===
delete-node
---
PrimitiveType: boolean [23797,23804]
===
delete-node
---
SimpleName: glassFishWsPresent [23805,23823]
===
delete-node
---
SimpleName: isPresent [23837,23846]
===
delete-tree
---
METHOD_INVOCATION_ARGUMENTS [23852,23953]
    StringLiteral: "org.glassfish.tyrus.servlet.TyrusHttpUpgradeHandler" [23852,23905]
    MethodInvocation [23907,23953]
        METHOD_INVOCATION_RECEIVER [23907,23936]
            TypeLiteral [23907,23936]
                SimpleType [23907,23930]
                    SimpleName: DefaultHandshakeHandler [23907,23930]
        SimpleName: getClassLoader [23937,23951]
===
delete-node
---
MethodInvocation [23826,23954]
===
delete-node
---
VariableDeclarationFragment [23805,23954]
===
delete-node
---
FieldDeclaration [23776,23955]
===
delete-node
---
Modifier: private [23960,23967]
===
delete-node
---
Modifier: static [23968,23974]
===
delete-node
---
Modifier: final [23975,23980]
===
delete-node
---
PrimitiveType: boolean [23981,23988]
===
delete-node
---
SimpleName: webLogicWsPresent [23989,24006]
===
delete-node
---
SimpleName: isPresent [24020,24029]
===
delete-tree
---
METHOD_INVOCATION_ARGUMENTS [24035,24128]
    StringLiteral: "weblogic.websocket.tyrus.TyrusServletWriter" [24035,24080]
    MethodInvocation [24082,24128]
        METHOD_INVOCATION_RECEIVER [24082,24111]
            TypeLiteral [24082,24111]
                SimpleType [24082,24105]
                    SimpleName: DefaultHandshakeHandler [24082,24105]
        SimpleName: getClassLoader [24112,24126]
===
delete-node
---
MethodInvocation [24009,24129]
===
delete-node
---
VariableDeclarationFragment [23989,24129]
===
delete-node
---
FieldDeclaration [23960,24130]
===
delete-node
---
IfStatement [27460,27631]
===
delete-node
---
Block [27455,27635]
===
delete-node
---
IfStatement [27676,27846]
===
delete-node
---
Block [27671,27850]
===
delete-node
---
QualifiedName: org.springframework.web.socket.WebSocketHandler [33157,33204]
===
delete-node
---
QualifiedName: org.springframework.http.server.ServerHttpRequest [35534,35583]
===
delete-tree
---
ExpressionStatement [61476,61495]
    MethodInvocation [61476,61494]
        METHOD_INVOCATION_RECEIVER [61476,61484]
            FieldAccess [61476,61484]
                ThisExpression [61476,61480]
                SimpleName: wac [61481,61484]
        SimpleName: refresh [61485,61492]
===
delete-node
---
Modifier: public [78476,78482]
===
delete-node
---
TYPE_DECLARATION_KIND: class [78483,78488]
===
delete-node
---
SimpleName: MessageBrokerBeanDefinitionParserTests [78489,78527]
