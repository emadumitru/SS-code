===
move-tree
---
ImportDeclaration [3236,3257]
    QualifiedName: java.util.Set [3243,3256]
to
CompilationUnit [0,71409]
at 24
===
move-tree
---
ImportDeclaration [3318,3380]
    QualifiedName: com.netflix.eureka2.client.functions.InterestFunctions [3325,3379]
to
CompilationUnit [0,71409]
at 24
===
move-tree
---
ImportDeclaration [3382,3445]
    QualifiedName: com.netflix.eureka2.integration.EurekaDeploymentClients [3389,3444]
to
CompilationUnit [0,71409]
at 24
===
move-tree
---
ImportDeclaration [12727,12777]
    QualifiedName: org.junit.experimental.categories.Category [12734,12776]
to
CompilationUnit [0,71409]
at 79
===
move-tree
---
ImportDeclaration [27989,28059]
    QualifiedName: com.netflix.eureka2.testkit.embedded.server.EmbeddedReadServer [27996,28058]
to
CompilationUnit [0,71409]
at 94
===
move-tree
---
ImportDeclaration [32174,32201]
    QualifiedName: java.util.ArrayList [32181,32200]
to
CompilationUnit [0,71409]
at 99
===
move-tree
---
ImportDeclaration [32203,32225]
    QualifiedName: java.util.List [32210,32224]
to
CompilationUnit [0,71409]
at 100
===
move-tree
---
ImportDeclaration [32229,32263]
    QualifiedName: com.netflix.eureka2.Server [32236,32262]
to
CompilationUnit [0,71409]
at 101
===
move-tree
---
ImportDeclaration [41884,41942]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolver [41891,41941]
to
CompilationUnit [0,71409]
at 102
===
move-tree
---
ImportDeclaration [56971,57030]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolvers [56978,57029]
to
CompilationUnit [0,71409]
at 103
===
move-tree
---
ImportDeclaration [32386,32429]
    QualifiedName: com.netflix.eureka2.codec.CodecType [32393,32428]
to
CompilationUnit [0,71409]
at 104
===
move-tree
---
ImportDeclaration [32552,32634]
    QualifiedName: com.netflix.eureka2.registry.datacenter.LocalDataCenterInfo.DataCenterType [32559,32633]
to
CompilationUnit [0,71409]
at 105
===
move-tree
---
ImportDeclaration [27835,27895]
    QualifiedName: com.netflix.eureka2.server.config.EurekaServerConfig [27842,27894]
to
CompilationUnit [0,71409]
at 106
===
move-tree
---
ImportDeclaration [27897,27987]
    QualifiedName: com.netflix.eureka2.testkit.embedded.cluster.EmbeddedReadCluster.ReadClusterReport [27904,27986]
to
CompilationUnit [0,71409]
at 107
===
move-tree
---
ImportDeclaration [15852,15922]
    QualifiedName: com.netflix.eureka2.testkit.embedded.server.EmbeddedReadServer [15859,15921]
to
CompilationUnit [0,71409]
at 107
===
move-tree
---
ImportDeclaration [28061,28148]
    QualifiedName: com.netflix.eureka2.testkit.embedded.server.EmbeddedReadServer.ReadServerReport [28068,28147]
to
CompilationUnit [0,71409]
at 108
===
move-tree
---
ImportDeclaration [27751,27833]
    QualifiedName: com.netflix.eureka2.registry.datacenter.LocalDataCenterInfo.DataCenterType [27758,27832]
to
CompilationUnit [0,71409]
at 119
===
move-tree
---
ImportDeclaration [32265,32323]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolver [32272,32322]
to
CompilationUnit [0,71409]
at 138
===
move-tree
---
ImportDeclaration [32325,32384]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolvers [32332,32383]
to
CompilationUnit [0,71409]
at 138
===
move-tree
---
ImportDeclaration [47859,47926]
    QualifiedName: com.netflix.eureka2.server.spi.ExtAbstractModule.ServerType [47866,47925]
to
CompilationUnit [0,71409]
at 153
===
move-tree
---
ImportDeclaration [42630,42690]
    QualifiedName: com.netflix.eureka2.server.config.EurekaServerConfig [42637,42689]
to
CompilationUnit [0,71409]
at 158
===
move-tree
---
ImportDeclaration [57178,57255]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.discovery.TcpDiscoveryServer [57185,57254]
to
CompilationUnit [0,71409]
at 159
===
move-tree
---
ImportDeclaration [41944,42003]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolvers [41951,42002]
to
CompilationUnit [0,71409]
at 164
===
move-tree
---
ImportDeclaration [60337,60396]
    QualifiedName: com.netflix.eureka2.server.config.WriteServerConfig [60344,60395]
to
CompilationUnit [0,71409]
at 172
===
move-tree
---
ImportDeclaration [42832,42899]
    QualifiedName: com.netflix.eureka2.server.spi.ExtAbstractModule.ServerType [42839,42898]
to
CompilationUnit [0,71409]
at 172
===
move-tree
---
ImportDeclaration [42901,42978]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.discovery.TcpDiscoveryServer [42908,42977]
to
CompilationUnit [0,71409]
at 172
===
move-tree
---
ImportDeclaration [60471,60569]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaExternalResources.EurekaExternalResource [60478,60568]
to
CompilationUnit [0,71409]
at 185
===
move-tree
---
ImportDeclaration [60135,60193]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolver [60142,60192]
to
CompilationUnit [0,71409]
at 186
===
move-tree
---
ImportDeclaration [47360,47419]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolvers [47367,47418]
to
CompilationUnit [0,71409]
at 186
===
move-tree
---
ImportDeclaration [60253,60335]
    QualifiedName: com.netflix.eureka2.registry.datacenter.LocalDataCenterInfo.DataCenterType [60260,60334]
to
CompilationUnit [0,71409]
at 187
===
move-tree
---
ImportDeclaration [47928,48005]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.discovery.TcpDiscoveryServer [47935,48004]
to
CompilationUnit [0,71409]
at 191
===
move-tree
---
ImportDeclaration [60571,60614]
    QualifiedName: com.netflix.eureka2.codec.CodecType [60578,60613]
to
CompilationUnit [0,71409]
at 194
===
move-tree
---
ImportDeclaration [56911,56969]
    QualifiedName: com.netflix.eureka2.client.resolver.ServerResolver [56918,56968]
to
CompilationUnit [0,71409]
at 196
===
move-tree
---
ImportDeclaration [57429,57472]
    QualifiedName: com.netflix.eureka2.codec.CodecType [57436,57471]
to
CompilationUnit [0,71409]
at 196
===
move-tree
---
ImportDeclaration [57032,57114]
    QualifiedName: com.netflix.eureka2.registry.datacenter.LocalDataCenterInfo.DataCenterType [57039,57113]
to
CompilationUnit [0,71409]
at 197
===
move-tree
---
ImportDeclaration [47798,47857]
    QualifiedName: com.netflix.eureka2.server.config.WriteServerConfig [47805,47856]
to
CompilationUnit [0,71409]
at 197
===
move-tree
---
ImportDeclaration [53053,53151]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaExternalResources.EurekaExternalResource [53060,53150]
to
CompilationUnit [0,71409]
at 198
===
move-tree
---
ImportDeclaration [48266,48287]
    QualifiedName: rx.Observable [48273,48286]
to
CompilationUnit [0,71409]
at 198
===
move-tree
---
ImportDeclaration [69205,69247]
    QualifiedName: com.netflix.eureka2.client.Eurekas [69212,69246]
to
CompilationUnit [0,71409]
at 228
===
move-tree
---
ImportDeclaration [65636,65658]
    QualifiedName: org.junit.Test [65643,65657]
to
CompilationUnit [0,71409]
at 236
===
insert-tree
---
PackageDeclaration [109330,109385]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.internal [109338,109384]
to
CompilationUnit [0,71409]
at 0
===
insert-tree
---
ImportDeclaration [764,835]
    QualifiedName: com.netflix.eureka2.testkit.embedded.server.EmbeddedWriteServer [771,834]
to
CompilationUnit [0,71409]
at 15
===
insert-tree
---
ImportDeclaration [1011,1054]
    QualifiedName: org.junit.Assert.assertFalse [1025,1053]
to
CompilationUnit [0,71409]
at 19
===
insert-tree
---
ImportDeclaration [5638,5675]
    QualifiedName: java.util.concurrent.TimeUnit [5645,5674]
to
CompilationUnit [0,71409]
at 21
===
insert-tree
---
ImportDeclaration [5736,5795]
    QualifiedName: com.netflix.eureka2.client.EurekaRegistrationClient [5743,5794]
to
CompilationUnit [0,71409]
at 23
===
insert-tree
---
ImportDeclaration [5855,5910]
    QualifiedName: com.netflix.eureka2.interests.Interest.Operator [5862,5909]
to
CompilationUnit [0,71409]
at 25
===
insert-tree
---
ImportDeclaration [6023,6081]
    QualifiedName: com.netflix.eureka2.registry.instance.InstanceInfo [6030,6080]
to
CompilationUnit [0,71409]
at 28
===
insert-tree
---
ImportDeclaration [6083,6148]
    QualifiedName: com.netflix.eureka2.registry.instance.InstanceInfo.Status [6090,6147]
to
CompilationUnit [0,71409]
at 29
===
insert-tree
---
ImportDeclaration [6150,6198]
    QualifiedName: com.netflix.eureka2.rx.ExtTestSubscriber [6157,6197]
to
CompilationUnit [0,71409]
at 30
===
insert-tree
---
ImportDeclaration [6200,6267]
    QualifiedName: com.netflix.eureka2.testkit.data.builder.SampleInstanceInfo [6207,6266]
to
CompilationUnit [0,71409]
at 31
===
insert-tree
---
ImportDeclaration [6269,6341]
    QualifiedName: com.netflix.eureka2.testkit.embedded.cluster.EmbeddedReadCluster [6276,6340]
to
CompilationUnit [0,71409]
at 32
===
insert-tree
---
ImportDeclaration [6343,6416]
    QualifiedName: com.netflix.eureka2.testkit.embedded.cluster.EmbeddedWriteCluster [6350,6415]
to
CompilationUnit [0,71409]
at 33
===
insert-tree
---
ImportDeclaration [6418,6494]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaDeploymentResource [6425,6493]
to
CompilationUnit [0,71409]
at 34
===
insert-tree
---
ImportDeclaration [6496,6553]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkLink [6503,6552]
to
CompilationUnit [0,71409]
at 35
===
insert-tree
---
ImportDeclaration [6555,6614]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [6562,6613]
to
CompilationUnit [0,71409]
at 36
===
insert-tree
---
ImportDeclaration [6616,6640]
    QualifiedName: org.junit.Before [6623,6639]
to
CompilationUnit [0,71409]
at 37
===
insert-tree
---
ImportDeclaration [6642,6664]
    QualifiedName: org.junit.Rule [6649,6663]
to
CompilationUnit [0,71409]
at 38
===
insert-tree
---
ImportDeclaration [6666,6688]
    QualifiedName: org.junit.Test [6673,6687]
to
CompilationUnit [0,71409]
at 39
===
insert-tree
---
ImportDeclaration [6690,6740]
    QualifiedName: org.junit.experimental.categories.Category [6697,6739]
to
CompilationUnit [0,71409]
at 40
===
insert-tree
---
ImportDeclaration [6742,6765]
    QualifiedName: rx.Subscription [6749,6764]
to
CompilationUnit [0,71409]
at 41
===
insert-tree
---
ImportDeclaration [6767,6801]
    QualifiedName: rx.subjects.PublishSubject [6774,6800]
to
CompilationUnit [0,71409]
at 42
===
insert-tree
---
ImportDeclaration [6805,6884]
    QualifiedName: com.netflix.eureka2.interests.ChangeNotifications.dataOnlyFilter [6819,6883]
to
CompilationUnit [0,71409]
at 43
===
insert-tree
---
ImportDeclaration [6886,6973]
    QualifiedName: com.netflix.eureka2.testkit.junit.EurekaMatchers.addChangeNotificationOf [6900,6972]
to
CompilationUnit [0,71409]
at 44
===
insert-tree
---
ImportDeclaration [6975,7065]
    QualifiedName: com.netflix.eureka2.testkit.junit.EurekaMatchers.modifyChangeNotificationOf [6989,7064]
to
CompilationUnit [0,71409]
at 45
===
insert-tree
---
ImportDeclaration [7067,7177]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaDeploymentResource.anEurekaDeploymentResource [7081,7176]
to
CompilationUnit [0,71409]
at 46
===
insert-tree
---
ImportDeclaration [7179,7218]
    QualifiedName: org.hamcrest.Matchers.is [7193,7217]
to
CompilationUnit [0,71409]
at 47
===
insert-tree
---
ImportDeclaration [7220,7262]
    QualifiedName: org.junit.Assert.assertThat [7234,7261]
to
CompilationUnit [0,71409]
at 48
===
insert-tree
---
ImportDeclaration [11562,11617]
    QualifiedName: com.netflix.eureka2.client.EurekaInterestClient [11569,11616]
to
CompilationUnit [0,71409]
at 50
===
insert-tree
---
ImportDeclaration [11748,11804]
    QualifiedName: com.netflix.eureka2.interests.ChangeNotification [11755,11803]
to
CompilationUnit [0,71409]
at 53
===
insert-tree
---
ImportDeclaration [11806,11853]
    QualifiedName: com.netflix.eureka2.interests.Interests [11813,11852]
to
CompilationUnit [0,71409]
at 54
===
insert-tree
---
ImportDeclaration [11855,11916]
    QualifiedName: com.netflix.eureka2.junit.categories.ExperimentalTest [11862,11915]
to
CompilationUnit [0,71409]
at 55
===
insert-tree
---
ImportDeclaration [11918,11978]
    QualifiedName: com.netflix.eureka2.junit.categories.IntegrationTest [11925,11977]
to
CompilationUnit [0,71409]
at 56
===
insert-tree
---
ImportDeclaration [17800,17861]
    QualifiedName: com.netflix.eureka2.junit.categories.ExperimentalTest [17807,17860]
to
CompilationUnit [0,71409]
at 79
===
insert-tree
---
ImportDeclaration [20967,21028]
    QualifiedName: com.netflix.eureka2.testkit.embedded.EurekaDeployment [20974,21027]
to
CompilationUnit [0,71409]
at 100
===
insert-tree
---
ImportDeclaration [21108,21165]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkLink [21115,21164]
to
CompilationUnit [0,71409]
at 102
===
insert-tree
---
ImportDeclaration [21266,21316]
    QualifiedName: org.junit.experimental.categories.Category [21273,21315]
to
CompilationUnit [0,71409]
at 107
===
insert-tree
---
ImportDeclaration [21630,21740]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaDeploymentResource.anEurekaDeploymentResource [21644,21739]
to
CompilationUnit [0,71409]
at 113
===
insert-tree
---
ImportDeclaration [24980,25043]
    QualifiedName: com.netflix.eureka2.integration.EurekaDeploymentClients [24987,25042]
to
CompilationUnit [0,71409]
at 116
===
insert-tree
---
ImportDeclaration [25045,25106]
    QualifiedName: com.netflix.eureka2.junit.categories.ExperimentalTest [25052,25105]
to
CompilationUnit [0,71409]
at 117
===
insert-tree
---
ImportDeclaration [25108,25168]
    QualifiedName: com.netflix.eureka2.junit.categories.IntegrationTest [25115,25167]
to
CompilationUnit [0,71409]
at 118
===
insert-tree
---
ImportDeclaration [25170,25228]
    QualifiedName: com.netflix.eureka2.registry.instance.InstanceInfo [25177,25227]
to
CompilationUnit [0,71409]
at 119
===
insert-tree
---
ImportDeclaration [25230,25297]
    QualifiedName: com.netflix.eureka2.testkit.data.builder.SampleInstanceInfo [25237,25296]
to
CompilationUnit [0,71409]
at 120
===
insert-tree
---
ImportDeclaration [25299,25360]
    QualifiedName: com.netflix.eureka2.testkit.embedded.EurekaDeployment [25306,25359]
to
CompilationUnit [0,71409]
at 121
===
insert-tree
---
ImportDeclaration [25362,25438]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaDeploymentResource [25369,25437]
to
CompilationUnit [0,71409]
at 122
===
insert-tree
---
ImportDeclaration [25440,25497]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkLink [25447,25496]
to
CompilationUnit [0,71409]
at 123
===
insert-tree
---
ImportDeclaration [25499,25523]
    QualifiedName: org.junit.Before [25506,25522]
to
CompilationUnit [0,71409]
at 124
===
insert-tree
---
ImportDeclaration [25525,25547]
    QualifiedName: org.junit.Rule [25532,25546]
to
CompilationUnit [0,71409]
at 125
===
insert-tree
---
ImportDeclaration [25549,25571]
    QualifiedName: org.junit.Test [25556,25570]
to
CompilationUnit [0,71409]
at 126
===
insert-tree
---
ImportDeclaration [25627,25737]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaDeploymentResource.anEurekaDeploymentResource [25641,25736]
to
CompilationUnit [0,71409]
at 128
===
insert-tree
---
ImportDeclaration [29518,29577]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [29525,29576]
to
CompilationUnit [0,71409]
at 146
===
insert-tree
---
ImportDeclaration [29579,29639]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouters [29586,29638]
to
CompilationUnit [0,71409]
at 147
===
insert-tree
---
ImportDeclaration [42345,42404]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [42352,42403]
to
CompilationUnit [0,71409]
at 160
===
insert-tree
---
ImportDeclaration [47718,47777]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [47725,47776]
to
CompilationUnit [0,71409]
at 176
===
insert-tree
---
ImportDeclaration [56262,56302]
    QualifiedName: com.google.inject.AbstractModule [56269,56301]
to
CompilationUnit [0,71409]
at 181
===
insert-tree
---
ImportDeclaration [57562,57622]
    QualifiedName: com.netflix.eureka2.server.config.EurekaServerConfig [57569,57621]
to
CompilationUnit [0,71409]
at 203
===
insert-tree
---
ImportDeclaration [57833,57910]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.discovery.TcpDiscoveryServer [57840,57909]
to
CompilationUnit [0,71409]
at 207
===
insert-tree
---
ImportDeclaration [58001,58060]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [58008,58059]
to
CompilationUnit [0,71409]
at 209
===
insert-tree
---
ImportDeclaration [62734,62772]
    QualifiedName: javax.annotation.PostConstruct [62741,62771]
to
CompilationUnit [0,71409]
at 212
===
insert-tree
---
ImportDeclaration [62774,62809]
    QualifiedName: javax.annotation.PreDestroy [62781,62808]
to
CompilationUnit [0,71409]
at 213
===
insert-tree
---
ImportDeclaration [62811,62838]
    QualifiedName: javax.inject.Inject [62818,62837]
to
CompilationUnit [0,71409]
at 214
===
insert-tree
---
ImportDeclaration [62840,62866]
    QualifiedName: javax.inject.Named [62847,62865]
to
CompilationUnit [0,71409]
at 215
===
insert-tree
---
ImportDeclaration [62868,62897]
    QualifiedName: javax.inject.Provider [62875,62896]
to
CompilationUnit [0,71409]
at 216
===
insert-tree
---
ImportDeclaration [62899,62929]
    QualifiedName: javax.inject.Singleton [62906,62928]
to
CompilationUnit [0,71409]
at 217
===
insert-tree
---
ImportDeclaration [62995,63073]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.discovery.TcpDiscoveryHandler [63002,63072]
to
CompilationUnit [0,71409]
at 219
===
insert-tree
---
ImportDeclaration [63154,63213]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [63161,63212]
to
CompilationUnit [0,71409]
at 221
===
insert-tree
---
ImportDeclaration [63215,63277]
    QualifiedName: io.reactivex.netty.metrics.MetricEventsListenerFactory [63222,63276]
to
CompilationUnit [0,71409]
at 222
===
insert-tree
---
ImportDeclaration [64525,64563]
    QualifiedName: javax.annotation.PostConstruct [64532,64562]
to
CompilationUnit [0,71409]
at 223
===
insert-tree
---
ImportDeclaration [64565,64600]
    QualifiedName: javax.annotation.PreDestroy [64572,64599]
to
CompilationUnit [0,71409]
at 224
===
insert-tree
---
ImportDeclaration [64602,64629]
    QualifiedName: javax.inject.Inject [64609,64628]
to
CompilationUnit [0,71409]
at 225
===
insert-tree
---
ImportDeclaration [64631,64657]
    QualifiedName: javax.inject.Named [64638,64656]
to
CompilationUnit [0,71409]
at 226
===
insert-tree
---
ImportDeclaration [64659,64688]
    QualifiedName: javax.inject.Provider [64666,64687]
to
CompilationUnit [0,71409]
at 227
===
insert-tree
---
ImportDeclaration [64690,64720]
    QualifiedName: javax.inject.Singleton [64697,64719]
to
CompilationUnit [0,71409]
at 228
===
insert-tree
---
ImportDeclaration [64724,64783]
    QualifiedName: com.netflix.eureka2.server.config.WriteServerConfig [64731,64782]
to
CompilationUnit [0,71409]
at 229
===
insert-tree
---
ImportDeclaration [64785,64869]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.registration.TcpRegistrationHandler [64792,64868]
to
CompilationUnit [0,71409]
at 230
===
insert-tree
---
ImportDeclaration [64871,64954]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.registration.TcpRegistrationServer [64878,64953]
to
CompilationUnit [0,71409]
at 231
===
insert-tree
---
ImportDeclaration [64956,65015]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [64963,65014]
to
CompilationUnit [0,71409]
at 232
===
insert-tree
---
ImportDeclaration [65017,65079]
    QualifiedName: io.reactivex.netty.metrics.MetricEventsListenerFactory [65024,65078]
to
CompilationUnit [0,71409]
at 233
===
insert-tree
---
ImportDeclaration [66355,66393]
    QualifiedName: javax.annotation.PostConstruct [66362,66392]
to
CompilationUnit [0,71409]
at 234
===
insert-tree
---
ImportDeclaration [66395,66430]
    QualifiedName: javax.annotation.PreDestroy [66402,66429]
to
CompilationUnit [0,71409]
at 235
===
insert-tree
---
ImportDeclaration [66432,66459]
    QualifiedName: javax.inject.Inject [66439,66458]
to
CompilationUnit [0,71409]
at 236
===
insert-tree
---
ImportDeclaration [66461,66487]
    QualifiedName: javax.inject.Named [66468,66486]
to
CompilationUnit [0,71409]
at 237
===
insert-tree
---
ImportDeclaration [66489,66518]
    QualifiedName: javax.inject.Provider [66496,66517]
to
CompilationUnit [0,71409]
at 238
===
insert-tree
---
ImportDeclaration [66520,66550]
    QualifiedName: javax.inject.Singleton [66527,66549]
to
CompilationUnit [0,71409]
at 239
===
insert-tree
---
ImportDeclaration [66554,66613]
    QualifiedName: com.netflix.eureka2.server.config.WriteServerConfig [66561,66612]
to
CompilationUnit [0,71409]
at 240
===
insert-tree
---
ImportDeclaration [66615,66697]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.replication.TcpReplicationHandler [66622,66696]
to
CompilationUnit [0,71409]
at 241
===
insert-tree
---
ImportDeclaration [66699,66780]
    QualifiedName: com.netflix.eureka2.server.transport.tcp.replication.TcpReplicationServer [66706,66779]
to
CompilationUnit [0,71409]
at 242
===
insert-tree
---
ImportDeclaration [66782,66841]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [66789,66840]
to
CompilationUnit [0,71409]
at 243
===
insert-tree
---
ImportDeclaration [66843,66905]
    QualifiedName: io.reactivex.netty.metrics.MetricEventsListenerFactory [66850,66904]
to
CompilationUnit [0,71409]
at 244
===
insert-tree
---
ImportDeclaration [69274,69333]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [69281,69332]
to
CompilationUnit [0,71409]
at 263
===
insert-tree
---
ImportDeclaration [69335,69356]
    QualifiedName: rx.Observable [69342,69355]
to
CompilationUnit [0,71409]
at 264
===
insert-tree
---
ImportDeclaration [86745,86782]
    QualifiedName: java.util.concurrent.TimeUnit [86752,86781]
to
CompilationUnit [0,71409]
at 289
===
insert-tree
---
ImportDeclaration [89253,89325]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.internal.NetworkRouterImpl [89260,89324]
to
CompilationUnit [0,71409]
at 290
===
insert-tree
---
ImportDeclaration [89761,89818]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkLink [89768,89817]
to
CompilationUnit [0,71409]
at 291
===
insert-tree
---
ImportDeclaration [90368,90405]
    QualifiedName: java.util.concurrent.TimeUnit [90375,90404]
to
CompilationUnit [0,71409]
at 292
===
insert-tree
---
ImportDeclaration [90407,90456]
    QualifiedName: java.util.concurrent.atomic.AtomicBoolean [90414,90455]
to
CompilationUnit [0,71409]
at 293
===
insert-tree
---
ImportDeclaration [90460,90517]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkLink [90467,90516]
to
CompilationUnit [0,71409]
at 294
===
insert-tree
---
ImportDeclaration [90519,90540]
    QualifiedName: rx.Observable [90526,90539]
to
CompilationUnit [0,71409]
at 295
===
insert-tree
---
ImportDeclaration [90542,90576]
    QualifiedName: rx.subjects.PublishSubject [90549,90575]
to
CompilationUnit [0,71409]
at 296
===
insert-tree
---
ImportDeclaration [90578,90615]
    QualifiedName: rx.subjects.SerializedSubject [90585,90614]
to
CompilationUnit [0,71409]
at 297
===
insert-tree
---
ImportDeclaration [90617,90644]
    QualifiedName: rx.subjects.Subject [90624,90643]
to
CompilationUnit [0,71409]
at 298
===
insert-tree
---
ImportDeclaration [92431,92466]
    QualifiedName: javax.annotation.PreDestroy [92438,92465]
to
CompilationUnit [0,71409]
at 299
===
insert-tree
---
ImportDeclaration [92468,92498]
    QualifiedName: javax.inject.Singleton [92475,92497]
to
CompilationUnit [0,71409]
at 300
===
insert-tree
---
ImportDeclaration [92500,92525]
    QualifiedName: java.util.HashMap [92507,92524]
to
CompilationUnit [0,71409]
at 301
===
insert-tree
---
ImportDeclaration [92527,92548]
    QualifiedName: java.util.Map [92534,92547]
to
CompilationUnit [0,71409]
at 302
===
insert-tree
---
ImportDeclaration [92552,92609]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkLink [92559,92608]
to
CompilationUnit [0,71409]
at 303
===
insert-tree
---
ImportDeclaration [92611,92670]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkRouter [92618,92669]
to
CompilationUnit [0,71409]
at 304
===
insert-tree
---
ImportDeclaration [92672,92696]
    QualifiedName: org.slf4j.Logger [92679,92695]
to
CompilationUnit [0,71409]
at 305
===
insert-tree
---
ImportDeclaration [92698,92729]
    QualifiedName: org.slf4j.LoggerFactory [92705,92728]
to
CompilationUnit [0,71409]
at 306
===
insert-tree
---
ImportDeclaration [94583,94612]
    QualifiedName: java.util.Collections [94590,94611]
to
CompilationUnit [0,71409]
at 307
===
insert-tree
---
ImportDeclaration [94614,94635]
    QualifiedName: java.util.Set [94621,94634]
to
CompilationUnit [0,71409]
at 308
===
insert-tree
---
ImportDeclaration [94637,94683]
    QualifiedName: java.util.concurrent.ConcurrentHashMap [94644,94682]
to
CompilationUnit [0,71409]
at 309
===
insert-tree
---
ImportDeclaration [94687,94744]
    QualifiedName: com.netflix.eureka2.testkit.netrouter.NetworkLink [94694,94743]
to
CompilationUnit [0,71409]
at 310
===
insert-tree
---
ImportDeclaration [94746,94777]
    QualifiedName: io.netty.buffer.ByteBuf [94753,94776]
to
CompilationUnit [0,71409]
at 311
===
insert-tree
---
ImportDeclaration [94779,94813]
    QualifiedName: io.reactivex.netty.RxNetty [94786,94812]
to
CompilationUnit [0,71409]
at 312
===
insert-tree
---
ImportDeclaration [94815,94867]
    QualifiedName: io.reactivex.netty.channel.ConnectionHandler [94822,94866]
to
CompilationUnit [0,71409]
at 313
===
insert-tree
---
ImportDeclaration [94869,94924]
    QualifiedName: io.reactivex.netty.channel.ObservableConnection [94876,94923]
to
CompilationUnit [0,71409]
at 314
===
insert-tree
---
ImportDeclaration [94926,94968]
    QualifiedName: io.reactivex.netty.client.RxClient [94933,94967]
to
CompilationUnit [0,71409]
at 315
===
insert-tree
---
ImportDeclaration [94970,95012]
    QualifiedName: io.reactivex.netty.server.RxServer [94977,95011]
to
CompilationUnit [0,71409]
at 316
===
insert-tree
---
ImportDeclaration [95037,95058]
    QualifiedName: rx.Subscriber [95044,95057]
to
CompilationUnit [0,71409]
at 318
===
insert-tree
---
ImportDeclaration [95060,95088]
    QualifiedName: rx.functions.Action0 [95067,95087]
to
CompilationUnit [0,71409]
at 319
===
insert-tree
---
ImportDeclaration [95090,95118]
    QualifiedName: rx.functions.Action1 [95097,95117]
to
CompilationUnit [0,71409]
at 320
===
insert-tree
---
ImportDeclaration [95120,95146]
    QualifiedName: rx.functions.Func1 [95127,95145]
to
CompilationUnit [0,71409]
at 321
===
insert-tree
---
ImportDeclaration [95148,95181]
    QualifiedName: rx.subjects.ReplaySubject [95155,95180]
to
CompilationUnit [0,71409]
at 322
===
insert-tree
---
ImportDeclaration [103084,103106]
    QualifiedName: org.junit.Test [103091,103105]
to
CompilationUnit [0,71409]
at 342
===
insert-tree
---
ImportDeclaration [107190,107266]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaDeploymentResource [107197,107265]
to
CompilationUnit [0,71409]
at 358
===
insert-tree
---
ImportDeclaration [107316,107337]
    QualifiedName: rx.Observable [107323,107336]
to
CompilationUnit [0,71409]
at 362
===
insert-tree
---
ImportDeclaration [107341,107451]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.EurekaDeploymentResource.anEurekaDeploymentResource [107355,107450]
to
CompilationUnit [0,71409]
at 363
===
insert-tree
---
ImportDeclaration [107453,107501]
    QualifiedName: org.hamcrest.CoreMatchers.equalTo [107467,107500]
to
CompilationUnit [0,71409]
at 364
===
insert-tree
---
ImportDeclaration [107503,107546]
    QualifiedName: org.hamcrest.CoreMatchers.is [107517,107545]
to
CompilationUnit [0,71409]
at 365
===
insert-tree
---
ImportDeclaration [107548,107590]
    QualifiedName: org.junit.Assert.assertThat [107562,107589]
to
CompilationUnit [0,71409]
at 366
===
insert-tree
---
ImportDeclaration [109389,109421]
    QualifiedName: java.nio.charset.Charset [109396,109420]
to
CompilationUnit [0,71409]
at 367
===
insert-tree
---
ImportDeclaration [109423,109460]
    QualifiedName: java.util.concurrent.TimeUnit [109430,109459]
to
CompilationUnit [0,71409]
at 368
===
insert-tree
---
ImportDeclaration [109464,109495]
    QualifiedName: io.netty.buffer.ByteBuf [109471,109494]
to
CompilationUnit [0,71409]
at 369
===
insert-tree
---
ImportDeclaration [109497,109531]
    QualifiedName: io.reactivex.netty.RxNetty [109504,109530]
to
CompilationUnit [0,71409]
at 370
===
insert-tree
---
ImportDeclaration [109533,109585]
    QualifiedName: io.reactivex.netty.channel.ConnectionHandler [109540,109584]
to
CompilationUnit [0,71409]
at 371
===
insert-tree
---
ImportDeclaration [109587,109642]
    QualifiedName: io.reactivex.netty.channel.ObservableConnection [109594,109641]
to
CompilationUnit [0,71409]
at 372
===
insert-tree
---
ImportDeclaration [109644,109686]
    QualifiedName: io.reactivex.netty.server.RxServer [109651,109685]
to
CompilationUnit [0,71409]
at 373
===
insert-tree
---
ImportDeclaration [109688,109711]
    QualifiedName: org.junit.After [109695,109710]
to
CompilationUnit [0,71409]
at 374
===
insert-tree
---
ImportDeclaration [109713,109737]
    QualifiedName: org.junit.Before [109720,109736]
to
CompilationUnit [0,71409]
at 375
===
insert-tree
---
ImportDeclaration [109786,109812]
    QualifiedName: rx.functions.Func1 [109793,109811]
to
CompilationUnit [0,71409]
at 378
===
insert-tree
---
ImportDeclaration [109814,109840]
    QualifiedName: rx.functions.Func2 [109821,109839]
to
CompilationUnit [0,71409]
at 379
===
insert-tree
---
ImportDeclaration [109844,109888]
    QualifiedName: org.hamcrest.Matchers.equalTo [109858,109887]
to
CompilationUnit [0,71409]
at 380
===
insert-tree
---
ImportDeclaration [109890,109929]
    QualifiedName: org.hamcrest.Matchers.is [109904,109928]
to
CompilationUnit [0,71409]
at 381
===
insert-tree
---
ImportDeclaration [109931,109973]
    QualifiedName: org.junit.Assert.assertThat [109945,109972]
to
CompilationUnit [0,71409]
at 382
===
insert-tree
---
ImportDeclaration [109975,110011]
    QualifiedName: org.junit.Assert.fail [109989,110010]
to
CompilationUnit [0,71409]
at 383
===
insert-node
---
TypeDeclaration [7266,11342]
to
CompilationUnit [0,71409]
at 387
===
insert-node
---
TypeDeclaration [25774,27969]
to
CompilationUnit [0,71409]
at 391
===
insert-tree
---
TypeDeclaration [28123,28318]
    Javadoc [28123,28278]
        TagElement [28131,28246]
            TextElement: Test marker for tests that are still work in progress or cover functionality [28131,28207]
            TextElement: that is yet not fully implemented. [28212,28246]
        TagElement [28255,28273]
            TextElement:  Tomasz Bak [28262,28273]
    Modifier: public [28280,28286]
    TYPE_DECLARATION_KIND: interface [28287,28296]
    SimpleName: ExperimentalTest [28297,28313]
to
CompilationUnit [0,71409]
at 392
===
insert-node
---
TypeDeclaration [63281,64347]
to
CompilationUnit [0,71409]
at 397
===
insert-tree
---
TypeDeclaration [65083,66178]
    Javadoc [65083,65114]
        TagElement [65091,65109]
            TextElement:  Tomasz Bak [65098,65109]
    MarkerAnnotation [65116,65126]
        SimpleName: Singleton [65117,65126]
    Modifier: public [65128,65134]
    TYPE_DECLARATION_KIND: class [65135,65140]
    SimpleName: EmbeddedTcpRegistrationServer [65141,65170]
    SimpleType [65179,65200]
        SimpleName: TcpRegistrationServer [65179,65200]
    FieldDeclaration [65210,65252]
        Modifier: private [65210,65217]
        Modifier: final [65218,65223]
        SimpleType [65224,65237]
            SimpleName: NetworkRouter [65224,65237]
        VariableDeclarationFragment [65238,65251]
            SimpleName: networkRouter [65238,65251]
    FieldDeclaration [65258,65280]
        Modifier: private [65258,65265]
        PrimitiveType: int [65266,65269]
        VariableDeclarationFragment [65270,65279]
            SimpleName: proxyPort [65270,65279]
    MethodDeclaration [65288,65784]
        MarkerAnnotation [65288,65295]
            SimpleName: Inject [65289,65295]
        Modifier: public [65301,65307]
        SimpleName: EmbeddedTcpRegistrationServer [65308,65337]
        SingleVariableDeclaration [65338,65362]
            SimpleType [65338,65355]
                SimpleName: WriteServerConfig [65338,65355]
            SimpleName: config [65356,65362]
        SingleVariableDeclaration [65406,65483]
            SingleMemberAnnotation [65406,65428]
                SimpleName: Named [65407,65412]
                StringLiteral: "registration" [65413,65427]
            SimpleType [65429,65456]
                SimpleName: MetricEventsListenerFactory [65429,65456]
            SimpleName: servoEventsListenerFactory [65457,65483]
        SingleVariableDeclaration [65527,65582]
            ParameterizedType [65527,65559]
                SimpleType [65527,65535]
                    SimpleName: Provider [65527,65535]
                SimpleType [65536,65558]
                    SimpleName: TcpRegistrationHandler [65536,65558]
            SimpleName: tcpRegistrationHandler [65560,65582]
        SingleVariableDeclaration [65626,65653]
            SimpleType [65626,65639]
                SimpleName: NetworkRouter [65626,65639]
            SimpleName: networkRouter [65640,65653]
        Block [65655,65784]
            SuperConstructorInvocation [65666,65732]
                SimpleName: config [65672,65678]
                SimpleName: servoEventsListenerFactory [65680,65706]
                SimpleName: tcpRegistrationHandler [65708,65730]
            ExpressionStatement [65742,65777]
                Assignment [65742,65776]
                    FieldAccess [65742,65760]
                        ThisExpression [65742,65746]
                        SimpleName: networkRouter [65747,65760]
                    ASSIGNMENT_OPERATOR: = [65761,65762]
                    SimpleName: networkRouter [65763,65776]
    MethodDeclaration [65792,65944]
        MarkerAnnotation [65792,65806]
            SimpleName: PostConstruct [65793,65806]
        MarkerAnnotation [65812,65821]
            SimpleName: Override [65813,65821]
        Modifier: public [65827,65833]
        PrimitiveType: void [65834,65838]
        SimpleName: start [65839,65844]
        Block [65847,65944]
            ExpressionStatement [65858,65872]
                SuperMethodInvocation [65858,65871]
                    SimpleName: start [65864,65869]
            ExpressionStatement [65882,65937]
                Assignment [65882,65936]
                    SimpleName: proxyPort [65882,65891]
                    ASSIGNMENT_OPERATOR: = [65892,65893]
                    MethodInvocation [65894,65936]
                        METHOD_INVOCATION_RECEIVER [65894,65907]
                            SimpleName: networkRouter [65894,65907]
                        SimpleName: bridgeTo [65908,65916]
                        METHOD_INVOCATION_ARGUMENTS [65917,65935]
                            SuperMethodInvocation [65917,65935]
                                SimpleName: serverPort [65923,65933]
    MethodDeclaration [65952,66093]
        MarkerAnnotation [65952,65963]
            SimpleName: PreDestroy [65953,65963]
        MarkerAnnotation [65969,65978]
            SimpleName: Override [65970,65978]
        Modifier: public [65984,65990]
        PrimitiveType: void [65991,65995]
        SimpleName: stop [65996,66000]
        Block [66003,66093]
            ExpressionStatement [66014,66063]
                MethodInvocation [66014,66062]
                    METHOD_INVOCATION_RECEIVER [66014,66027]
                        SimpleName: networkRouter [66014,66027]
                    SimpleName: removeBridgeTo [66028,66042]
                    METHOD_INVOCATION_ARGUMENTS [66043,66061]
                        SuperMethodInvocation [66043,66061]
                            SimpleName: serverPort [66049,66059]
            ExpressionStatement [66073,66086]
                SuperMethodInvocation [66073,66085]
                    SimpleName: stop [66079,66083]
    MethodDeclaration [66101,66175]
        MarkerAnnotation [66101,66110]
            SimpleName: Override [66102,66110]
        Modifier: public [66116,66122]
        PrimitiveType: int [66123,66126]
        SimpleName: serverPort [66127,66137]
        Block [66140,66175]
            ReturnStatement [66151,66168]
                SimpleName: proxyPort [66158,66167]
to
CompilationUnit [0,71409]
at 398
===
insert-tree
---
TypeDeclaration [66909,67996]
    Javadoc [66909,66940]
        TagElement [66917,66935]
            TextElement:  Tomasz Bak [66924,66935]
    MarkerAnnotation [66942,66952]
        SimpleName: Singleton [66943,66952]
    Modifier: public [66954,66960]
    TYPE_DECLARATION_KIND: class [66961,66966]
    SimpleName: EmbeddedTcpReplicationServer [66967,66995]
    SimpleType [67004,67024]
        SimpleName: TcpReplicationServer [67004,67024]
    FieldDeclaration [67032,67074]
        Modifier: private [67032,67039]
        Modifier: final [67040,67045]
        SimpleType [67046,67059]
            SimpleName: NetworkRouter [67046,67059]
        VariableDeclarationFragment [67060,67073]
            SimpleName: networkRouter [67060,67073]
    FieldDeclaration [67080,67102]
        Modifier: private [67080,67087]
        PrimitiveType: int [67088,67091]
        VariableDeclarationFragment [67092,67101]
            SimpleName: proxyPort [67092,67101]
    MethodDeclaration [67110,67598]
        MarkerAnnotation [67110,67117]
            SimpleName: Inject [67111,67117]
        Modifier: public [67123,67129]
        SimpleName: EmbeddedTcpReplicationServer [67130,67158]
        SingleVariableDeclaration [67159,67183]
            SimpleType [67159,67176]
                SimpleName: WriteServerConfig [67159,67176]
            SimpleName: config [67177,67183]
        SingleVariableDeclaration [67226,67279]
            ParameterizedType [67226,67257]
                SimpleType [67226,67234]
                    SimpleName: Provider [67226,67234]
                SimpleType [67235,67256]
                    SimpleName: TcpReplicationHandler [67235,67256]
            SimpleName: tcpReplicationHandler [67258,67279]
        SingleVariableDeclaration [67322,67398]
            SingleMemberAnnotation [67322,67343]
                SimpleName: Named [67323,67328]
                StringLiteral: "replication" [67329,67342]
            SimpleType [67344,67371]
                SimpleName: MetricEventsListenerFactory [67344,67371]
            SimpleName: servoEventsListenerFactory [67372,67398]
        SingleVariableDeclaration [67441,67468]
            SimpleType [67441,67454]
                SimpleName: NetworkRouter [67441,67454]
            SimpleName: networkRouter [67455,67468]
        Block [67470,67598]
            SuperConstructorInvocation [67481,67546]
                SimpleName: config [67487,67493]
                SimpleName: tcpReplicationHandler [67495,67516]
                SimpleName: servoEventsListenerFactory [67518,67544]
            ExpressionStatement [67556,67591]
                Assignment [67556,67590]
                    FieldAccess [67556,67574]
                        ThisExpression [67556,67560]
                        SimpleName: networkRouter [67561,67574]
                    ASSIGNMENT_OPERATOR: = [67575,67576]
                    SimpleName: networkRouter [67577,67590]
    MethodDeclaration [67608,67760]
        MarkerAnnotation [67608,67622]
            SimpleName: PostConstruct [67609,67622]
        MarkerAnnotation [67628,67637]
            SimpleName: Override [67629,67637]
        Modifier: public [67643,67649]
        PrimitiveType: void [67650,67654]
        SimpleName: start [67655,67660]
        Block [67663,67760]
            ExpressionStatement [67674,67688]
                SuperMethodInvocation [67674,67687]
                    SimpleName: start [67680,67685]
            ExpressionStatement [67698,67753]
                Assignment [67698,67752]
                    SimpleName: proxyPort [67698,67707]
                    ASSIGNMENT_OPERATOR: = [67708,67709]
                    MethodInvocation [67710,67752]
                        METHOD_INVOCATION_RECEIVER [67710,67723]
                            SimpleName: networkRouter [67710,67723]
                        SimpleName: bridgeTo [67724,67732]
                        METHOD_INVOCATION_ARGUMENTS [67733,67751]
                            SuperMethodInvocation [67733,67751]
                                SimpleName: serverPort [67739,67749]
    MethodDeclaration [67768,67909]
        MarkerAnnotation [67768,67779]
            SimpleName: PreDestroy [67769,67779]
        MarkerAnnotation [67785,67794]
            SimpleName: Override [67786,67794]
        Modifier: public [67800,67806]
        PrimitiveType: void [67807,67811]
        SimpleName: stop [67812,67816]
        Block [67819,67909]
            ExpressionStatement [67830,67879]
                MethodInvocation [67830,67878]
                    METHOD_INVOCATION_RECEIVER [67830,67843]
                        SimpleName: networkRouter [67830,67843]
                    SimpleName: removeBridgeTo [67844,67858]
                    METHOD_INVOCATION_ARGUMENTS [67859,67877]
                        SuperMethodInvocation [67859,67877]
                            SimpleName: serverPort [67865,67875]
            ExpressionStatement [67889,67902]
                SuperMethodInvocation [67889,67901]
                    SimpleName: stop [67895,67899]
    MethodDeclaration [67917,67991]
        MarkerAnnotation [67917,67926]
            SimpleName: Override [67918,67926]
        Modifier: public [67932,67938]
        PrimitiveType: int [67939,67942]
        SimpleName: serverPort [67943,67953]
        Block [67956,67991]
            ReturnStatement [67967,67984]
                SimpleName: proxyPort [67974,67983]
to
CompilationUnit [0,71409]
at 399
===
insert-tree
---
TypeDeclaration [86786,88086]
    Javadoc [86786,86949]
        TagElement [86795,86917]
            TextElement: A link between two servers with capabilities to inject different transmission properties [86795,86883]
            TextElement: (throughput, data loss, etc). [86888,86917]
        TagElement [86926,86944]
            TextElement:  Tomasz Bak [86933,86944]
    Modifier: public [86951,86957]
    TYPE_DECLARATION_KIND: interface [86958,86967]
    SimpleName: NetworkLink [86968,86979]
    EnumDeclaration [86989,87026]
        SimpleName: BandwidthUnit [86994,87007]
        EnumConstantDeclaration [87009,87015]
            SimpleName: Bits [87009,87013]
        EnumConstantDeclaration [87015,87019]
            SimpleName: Kb [87015,87017]
        EnumConstantDeclaration [87019,87023]
            SimpleName: Mb [87019,87021]
        EnumConstantDeclaration [87023,87025]
            SimpleName: Gb [87023,87025]
    MethodDeclaration [87034,87049]
        PrimitiveType: boolean [87034,87041]
        SimpleName: isUp [87042,87046]
    MethodDeclaration [87057,87249]
        Javadoc [87057,87225]
            TagElement [87069,87091]
                TextElement: Connect two endpoints. [87069,87091]
            TagElement [87108,87216]
                TextElement:  true if the connection actually happened (endpoints where disconnected prior to calling this method) [87115,87216]
        PrimitiveType: boolean [87231,87238]
        SimpleName: connect [87239,87246]
    MethodDeclaration [87257,87452]
        Javadoc [87257,87425]
            TagElement [87269,87294]
                TextElement: Disconnect two endpoints. [87269,87294]
            TagElement [87311,87416]
                TextElement:  true if the disconnect actually happened (endpoints where connected prior to calling this method) [87318,87416]
        PrimitiveType: boolean [87431,87438]
        SimpleName: disconnect [87439,87449]
    MethodDeclaration [87460,87625]
        Javadoc [87460,87552]
            TagElement [87472,87543]
                TextElement: Limit link bandwidth to a given throughput, queueing up excessive data. [87472,87543]
        PrimitiveType: void [87558,87562]
        SimpleName: limitBandwidthTo [87563,87579]
        SingleVariableDeclaration [87580,87594]
            PrimitiveType: int [87580,87583]
            SimpleName: throughput [87584,87594]
        SingleVariableDeclaration [87596,87623]
            SimpleType [87596,87609]
                SimpleName: BandwidthUnit [87596,87609]
            SimpleName: bandwidthUnit [87610,87623]
    MethodDeclaration [87633,87822]
        Javadoc [87633,87783]
            TagElement [87645,87694]
                TextElement: Do not impose any constraints on link throughput. [87645,87694]
            TagElement [87711,87774]
                TextElement:  true if the link's throughput was previously constraint [87718,87774]
        PrimitiveType: boolean [87789,87796]
        SimpleName: openUnlimitedBandwidth [87797,87819]
    MethodDeclaration [87830,87925]
        Javadoc [87830,87870]
            TagElement [87842,87861]
                TextElement: Fixed link latency. [87842,87861]
        PrimitiveType: void [87876,87880]
        SimpleName: injectLatency [87881,87894]
        SingleVariableDeclaration [87895,87904]
            PrimitiveType: long [87895,87899]
            SimpleName: time [87900,87904]
        SingleVariableDeclaration [87906,87923]
            SimpleType [87906,87914]
                SimpleName: TimeUnit [87906,87914]
            SimpleName: timeUnit [87915,87923]
    MethodDeclaration [87933,88083]
        Javadoc [87933,88006]
            TagElement [87945,87997]
                TextElement: Latency with variability limited by jitterAmplitude. [87945,87997]
        PrimitiveType: void [88012,88016]
        SimpleName: injectLatency [88017,88030]
        SingleVariableDeclaration [88031,88040]
            PrimitiveType: long [88031,88035]
            SimpleName: time [88036,88040]
        SingleVariableDeclaration [88042,88062]
            PrimitiveType: long [88042,88046]
            SimpleName: jitterAmplitude [88047,88062]
        SingleVariableDeclaration [88064,88081]
            SimpleType [88064,88072]
                SimpleName: TimeUnit [88064,88072]
            SimpleName: timeUnit [88073,88081]
to
CompilationUnit [0,71409]
at 404
===
insert-tree
---
TypeDeclaration [88236,89102]
    Javadoc [88236,88397]
        TagElement [88244,88365]
            TextElement: Network connector for Eureka servers and clients with capability to inject network level [88244,88332]
            TextElement: errors into the test system. [88337,88365]
        TagElement [88374,88392]
            TextElement:  Tomasz Bak [88381,88392]
    Modifier: public [88399,88405]
    TYPE_DECLARATION_KIND: interface [88406,88415]
    SimpleName: NetworkRouter [88416,88429]
    MethodDeclaration [88439,88632]
        Javadoc [88439,88597]
            TagElement [88451,88588]
                TextElement: Create bridge server endpoint connecting to the given target server. [88451,88519]
                TextElement: By default the connectivity is enabled with no restrictions. [88528,88588]
        PrimitiveType: int [88603,88606]
        SimpleName: bridgeTo [88607,88615]
        SingleVariableDeclaration [88616,88630]
            PrimitiveType: int [88616,88619]
            SimpleName: targetPort [88620,88630]
    MethodDeclaration [88640,88827]
        Javadoc [88640,88785]
            TagElement [88652,88776]
                TextElement: Shutdown and remove a bridge server belonging to the given target port. This also terminates [88652,88744]
                TextElement: all client connections. [88753,88776]
        PrimitiveType: void [88791,88795]
        SimpleName: removeBridgeTo [88796,88810]
        SingleVariableDeclaration [88811,88825]
            PrimitiveType: int [88811,88814]
            SimpleName: targetPort [88815,88825]
    MethodDeclaration [88835,89020]
        Javadoc [88835,88982]
            TagElement [88847,88973]
                TextElement: A link between two servers with capabilities to inject different transmission properties [88847,88935]
                TextElement: (throughput, data loss, etc). [88944,88973]
        SimpleType [88988,88999]
            SimpleName: NetworkLink [88988,88999]
        SimpleName: getLinkTo [89000,89009]
        SingleVariableDeclaration [89010,89018]
            PrimitiveType: int [89010,89013]
            SimpleName: port [89014,89018]
    MethodDeclaration [89028,89099]
        Javadoc [89028,89077]
            TagElement [89040,89068]
                TextElement: Shutdown all bridge servers. [89040,89068]
        PrimitiveType: void [89083,89087]
        SimpleName: shutdown [89088,89096]
to
CompilationUnit [0,71409]
at 405
===
insert-tree
---
TypeDeclaration [89329,89597]
    Javadoc [89329,89421]
        TagElement [89337,89389]
            TextElement: A factory class for  [89337,89357]
            TagElement [89357,89378]
                SimpleName: NetworkRouter [89364,89377]
            TextElement:  instances. [89378,89389]
        TagElement [89398,89416]
            TextElement:  Tomasz Bak [89405,89416]
    Modifier: public [89423,89429]
    Modifier: final [89430,89435]
    TYPE_DECLARATION_KIND: class [89436,89441]
    SimpleName: NetworkRouters [89442,89456]
    MethodDeclaration [89466,89499]
        Modifier: private [89466,89473]
        SimpleName: NetworkRouters [89474,89488]
        Block [89491,89499]
    MethodDeclaration [89507,89594]
        Modifier: public [89507,89513]
        Modifier: static [89514,89520]
        SimpleType [89521,89534]
            SimpleName: NetworkRouter [89521,89534]
        SimpleName: aRouter [89535,89542]
        Block [89545,89594]
            ReturnStatement [89556,89587]
                ClassInstanceCreation [89563,89586]
                    SimpleType [89567,89584]
                        SimpleName: NetworkRouterImpl [89567,89584]
to
CompilationUnit [0,71409]
at 406
===
insert-tree
---
TypeDeclaration [89822,89959]
    Javadoc [89822,89853]
        TagElement [89830,89848]
            TextElement:  Tomasz Bak [89837,89848]
    Modifier: public [89855,89861]
    TYPE_DECLARATION_KIND: class [89862,89867]
    SimpleName: LinkEvent [89868,89877]
    SimpleType [89886,89898]
        SimpleName: NetworkEvent [89886,89898]
    MethodDeclaration [89906,89956]
        Modifier: public [89906,89912]
        SimpleName: LinkEvent [89913,89922]
        SingleVariableDeclaration [89923,89946]
            SimpleType [89923,89934]
                SimpleName: NetworkLink [89923,89934]
            SimpleName: networkLink [89935,89946]
        Block [89948,89956]
to
CompilationUnit [0,71409]
at 407
===
insert-tree
---
TypeDeclaration [90126,90198]
    Javadoc [90126,90157]
        TagElement [90134,90152]
            TextElement:  Tomasz Bak [90141,90152]
    Modifier: public [90159,90165]
    Modifier: abstract [90166,90174]
    TYPE_DECLARATION_KIND: class [90175,90180]
    SimpleName: NetworkEvent [90181,90193]
to
CompilationUnit [0,71409]
at 408
===
insert-tree
---
TypeDeclaration [90648,92259]
    Javadoc [90648,90679]
        TagElement [90656,90674]
            TextElement:  Tomasz Bak [90663,90674]
    Modifier: public [90681,90687]
    TYPE_DECLARATION_KIND: class [90688,90693]
    SimpleName: NetworkLinkImpl [90694,90709]
    SimpleType [90721,90732]
        SimpleName: NetworkLink [90721,90732]
    FieldDeclaration [90742,90808]
        Modifier: private [90742,90749]
        Modifier: final [90750,90755]
        SimpleType [90756,90769]
            SimpleName: AtomicBoolean [90756,90769]
        VariableDeclarationFragment [90770,90807]
            SimpleName: isConnected [90770,90781]
            ClassInstanceCreation [90784,90807]
                SimpleType [90788,90801]
                    SimpleName: AtomicBoolean [90788,90801]
                BooleanLiteral: true [90802,90806]
    FieldDeclaration [90816,90939]
        Modifier: private [90816,90823]
        Modifier: final [90824,90829]
        ParameterizedType [90830,90859]
            SimpleType [90830,90837]
                SimpleName: Subject [90830,90837]
            SimpleType [90838,90847]
                SimpleName: LinkEvent [90838,90847]
            SimpleType [90849,90858]
                SimpleName: LinkEvent [90849,90858]
        VariableDeclarationFragment [90860,90938]
            SimpleName: linkEventSubject [90860,90876]
            ClassInstanceCreation [90879,90938]
                ParameterizedType [90883,90902]
                    SimpleType [90883,90900]
                        SimpleName: SerializedSubject [90883,90900]
                MethodInvocation [90903,90937]
                    METHOD_INVOCATION_RECEIVER [90903,90917]
                        SimpleName: PublishSubject [90903,90917]
                    SimpleName: create [90929,90935]
    MethodDeclaration [90947,91031]
        Modifier: public [90947,90953]
        ParameterizedType [90954,90975]
            SimpleType [90954,90964]
                SimpleName: Observable [90954,90964]
            SimpleType [90965,90974]
                SimpleName: LinkEvent [90965,90974]
        SimpleName: linkEvents [90976,90986]
        Block [90989,91031]
            ReturnStatement [91000,91024]
                SimpleName: linkEventSubject [91007,91023]
    MethodDeclaration [91039,91119]
        MarkerAnnotation [91039,91048]
            SimpleName: Override [91040,91048]
        Modifier: public [91054,91060]
        PrimitiveType: boolean [91061,91068]
        SimpleName: isUp [91069,91073]
        Block [91076,91119]
            ReturnStatement [91087,91112]
                MethodInvocation [91094,91111]
                    METHOD_INVOCATION_RECEIVER [91094,91105]
                        SimpleName: isConnected [91094,91105]
                    SimpleName: get [91106,91109]
    MethodDeclaration [91127,91370]
        MarkerAnnotation [91127,91136]
            SimpleName: Override [91128,91136]
        Modifier: public [91142,91148]
        PrimitiveType: boolean [91149,91156]
        SimpleName: connect [91157,91164]
        Block [91167,91370]
            VariableDeclarationStatement [91178,91238]
                PrimitiveType: boolean [91178,91185]
                VariableDeclarationFragment [91186,91237]
                    SimpleName: hasChanged [91186,91196]
                    MethodInvocation [91199,91237]
                        METHOD_INVOCATION_RECEIVER [91199,91210]
                            SimpleName: isConnected [91199,91210]
                        SimpleName: compareAndSet [91211,91224]
                        METHOD_INVOCATION_ARGUMENTS [91225,91236]
                            BooleanLiteral: false [91225,91230]
                            BooleanLiteral: true [91232,91236]
            IfStatement [91248,91335]
                SimpleName: hasChanged [91252,91262]
                Block [91264,91335]
                    ExpressionStatement [91279,91324]
                        MethodInvocation [91279,91323]
                            METHOD_INVOCATION_RECEIVER [91279,91295]
                                SimpleName: linkEventSubject [91279,91295]
                            SimpleName: onNext [91296,91302]
                            METHOD_INVOCATION_ARGUMENTS [91303,91322]
                                ClassInstanceCreation [91303,91322]
                                    SimpleType [91307,91316]
                                        SimpleName: LinkEvent [91307,91316]
                                    ThisExpression [91317,91321]
            ReturnStatement [91345,91363]
                SimpleName: hasChanged [91352,91362]
    MethodDeclaration [91378,91624]
        MarkerAnnotation [91378,91387]
            SimpleName: Override [91379,91387]
        Modifier: public [91393,91399]
        PrimitiveType: boolean [91400,91407]
        SimpleName: disconnect [91408,91418]
        Block [91421,91624]
            VariableDeclarationStatement [91432,91492]
                PrimitiveType: boolean [91432,91439]
                VariableDeclarationFragment [91440,91491]
                    SimpleName: hasChanged [91440,91450]
                    MethodInvocation [91453,91491]
                        METHOD_INVOCATION_RECEIVER [91453,91464]
                            SimpleName: isConnected [91453,91464]
                        SimpleName: compareAndSet [91465,91478]
                        METHOD_INVOCATION_ARGUMENTS [91479,91490]
                            BooleanLiteral: true [91479,91483]
                            BooleanLiteral: false [91485,91490]
            IfStatement [91502,91589]
                SimpleName: hasChanged [91506,91516]
                Block [91518,91589]
                    ExpressionStatement [91533,91578]
                        MethodInvocation [91533,91577]
                            METHOD_INVOCATION_RECEIVER [91533,91549]
                                SimpleName: linkEventSubject [91533,91549]
                            SimpleName: onNext [91550,91556]
                            METHOD_INVOCATION_ARGUMENTS [91557,91576]
                                ClassInstanceCreation [91557,91576]
                                    SimpleType [91561,91570]
                                        SimpleName: LinkEvent [91561,91570]
                                    ThisExpression [91571,91575]
            ReturnStatement [91599,91617]
                SimpleName: hasChanged [91606,91616]
    MethodDeclaration [91632,91794]
        MarkerAnnotation [91632,91641]
            SimpleName: Override [91633,91641]
        Modifier: public [91647,91653]
        PrimitiveType: void [91654,91658]
        SimpleName: limitBandwidthTo [91659,91675]
        SingleVariableDeclaration [91676,91690]
            PrimitiveType: int [91676,91679]
            SimpleName: throughput [91680,91690]
        SingleVariableDeclaration [91692,91719]
            SimpleType [91692,91705]
                SimpleName: BandwidthUnit [91692,91705]
            SimpleName: bandwidthUnit [91706,91719]
        Block [91721,91794]
            ThrowStatement [91732,91787]
                ClassInstanceCreation [91738,91786]
                    SimpleType [91742,91763]
                        SimpleName: IllegalStateException [91742,91763]
                    StringLiteral: "not implemented yet" [91764,91785]
    MethodDeclaration [91802,91930]
        MarkerAnnotation [91802,91811]
            SimpleName: Override [91803,91811]
        Modifier: public [91817,91823]
        PrimitiveType: boolean [91824,91831]
        SimpleName: openUnlimitedBandwidth [91832,91854]
        Block [91857,91930]
            ThrowStatement [91868,91923]
                ClassInstanceCreation [91874,91922]
                    SimpleType [91878,91899]
                        SimpleName: IllegalStateException [91878,91899]
                    StringLiteral: "not implemented yet" [91900,91921]
    MethodDeclaration [91938,92082]
        MarkerAnnotation [91938,91947]
            SimpleName: Override [91939,91947]
        Modifier: public [91953,91959]
        PrimitiveType: void [91960,91964]
        SimpleName: injectLatency [91965,91978]
        SingleVariableDeclaration [91979,91988]
            PrimitiveType: long [91979,91983]
            SimpleName: time [91984,91988]
        SingleVariableDeclaration [91990,92007]
            SimpleType [91990,91998]
                SimpleName: TimeUnit [91990,91998]
            SimpleName: timeUnit [91999,92007]
        Block [92009,92082]
            ThrowStatement [92020,92075]
                ClassInstanceCreation [92026,92074]
                    SimpleType [92030,92051]
                        SimpleName: IllegalStateException [92030,92051]
                    StringLiteral: "not implemented yet" [92052,92073]
    MethodDeclaration [92090,92256]
        MarkerAnnotation [92090,92099]
            SimpleName: Override [92091,92099]
        Modifier: public [92105,92111]
        PrimitiveType: void [92112,92116]
        SimpleName: injectLatency [92117,92130]
        SingleVariableDeclaration [92131,92140]
            PrimitiveType: long [92131,92135]
            SimpleName: time [92136,92140]
        SingleVariableDeclaration [92142,92162]
            PrimitiveType: long [92142,92146]
            SimpleName: jitterAmplitude [92147,92162]
        SingleVariableDeclaration [92164,92181]
            SimpleType [92164,92172]
                SimpleName: TimeUnit [92164,92172]
            SimpleName: timeUnit [92173,92181]
        Block [92183,92256]
            ThrowStatement [92194,92249]
                ClassInstanceCreation [92200,92248]
                    SimpleType [92204,92225]
                        SimpleName: IllegalStateException [92204,92225]
                    StringLiteral: "not implemented yet" [92226,92247]
to
CompilationUnit [0,71409]
at 409
===
insert-tree
---
TypeDeclaration [92733,94418]
    Javadoc [92733,92764]
        TagElement [92741,92759]
            TextElement:  Tomasz Bak [92748,92759]
    MarkerAnnotation [92766,92776]
        SimpleName: Singleton [92767,92776]
    Modifier: public [92778,92784]
    TYPE_DECLARATION_KIND: class [92785,92790]
    SimpleName: NetworkRouterImpl [92791,92808]
    SimpleType [92820,92833]
        SimpleName: NetworkRouter [92820,92833]
    FieldDeclaration [92843,92929]
        Modifier: private [92843,92850]
        Modifier: static [92851,92857]
        Modifier: final [92858,92863]
        SimpleType [92864,92870]
            SimpleName: Logger [92864,92870]
        VariableDeclarationFragment [92871,92928]
            SimpleName: logger [92871,92877]
            MethodInvocation [92880,92928]
                METHOD_INVOCATION_RECEIVER [92880,92893]
                    SimpleName: LoggerFactory [92880,92893]
                SimpleName: getLogger [92894,92903]
                METHOD_INVOCATION_ARGUMENTS [92904,92927]
                    TypeLiteral [92904,92927]
                        SimpleType [92904,92921]
                            SimpleName: NetworkRouterImpl [92904,92921]
    FieldDeclaration [92937,93015]
        Modifier: private [92937,92944]
        Modifier: final [92945,92950]
        ParameterizedType [92951,92975]
            SimpleType [92951,92954]
                SimpleName: Map [92951,92954]
            SimpleType [92955,92962]
                SimpleName: Integer [92955,92962]
            SimpleType [92964,92974]
                SimpleName: RouterPort [92964,92974]
        VariableDeclarationFragment [92976,93014]
            SimpleName: routerSocketsByPort1 [92976,92996]
            ClassInstanceCreation [92999,93014]
                ParameterizedType [93003,93012]
                    SimpleType [93003,93010]
                        SimpleName: HashMap [93003,93010]
    FieldDeclaration [93021,93099]
        Modifier: private [93021,93028]
        Modifier: final [93029,93034]
        ParameterizedType [93035,93059]
            SimpleType [93035,93038]
                SimpleName: Map [93035,93038]
            SimpleType [93039,93046]
                SimpleName: Integer [93039,93046]
            SimpleType [93048,93058]
                SimpleName: RouterPort [93048,93058]
        VariableDeclarationFragment [93060,93098]
            SimpleName: routerSocketsByPort2 [93060,93080]
            ClassInstanceCreation [93083,93098]
                ParameterizedType [93087,93096]
                    SimpleType [93087,93094]
                        SimpleName: HashMap [93087,93094]
    MethodDeclaration [93107,93500]
        MarkerAnnotation [93107,93116]
            SimpleName: Override [93108,93116]
        Modifier: public [93122,93128]
        PrimitiveType: int [93129,93132]
        SimpleName: bridgeTo [93133,93141]
        SingleVariableDeclaration [93142,93156]
            PrimitiveType: int [93142,93145]
            SimpleName: targetPort [93146,93156]
        Block [93158,93500]
            VariableDeclarationStatement [93169,93220]
                SimpleType [93169,93179]
                    SimpleName: RouterPort [93169,93179]
                VariableDeclarationFragment [93180,93219]
                    SimpleName: routerPort [93180,93190]
                    ClassInstanceCreation [93193,93219]
                        SimpleType [93197,93207]
                            SimpleName: RouterPort [93197,93207]
                        SimpleName: targetPort [93208,93218]
            VariableDeclarationStatement [93230,93272]
                PrimitiveType: int [93230,93233]
                VariableDeclarationFragment [93234,93271]
                    SimpleName: localPort [93234,93243]
                    MethodInvocation [93246,93271]
                        METHOD_INVOCATION_RECEIVER [93246,93256]
                            SimpleName: routerPort [93246,93256]
                        SimpleName: getLocalPort [93257,93269]
            ExpressionStatement [93284,93333]
                MethodInvocation [93284,93332]
                    METHOD_INVOCATION_RECEIVER [93284,93304]
                        SimpleName: routerSocketsByPort1 [93284,93304]
                    SimpleName: put [93305,93308]
                    METHOD_INVOCATION_ARGUMENTS [93309,93331]
                        SimpleName: targetPort [93309,93319]
                        SimpleName: routerPort [93321,93331]
            ExpressionStatement [93343,93391]
                MethodInvocation [93343,93390]
                    METHOD_INVOCATION_RECEIVER [93343,93363]
                        SimpleName: routerSocketsByPort1 [93343,93363]
                    SimpleName: put [93364,93367]
                    METHOD_INVOCATION_ARGUMENTS [93368,93389]
                        SimpleName: localPort [93368,93377]
                        SimpleName: routerPort [93379,93389]
            ExpressionStatement [93403,93464]
                MethodInvocation [93403,93463]
                    METHOD_INVOCATION_RECEIVER [93403,93409]
                        SimpleName: logger [93403,93409]
                    SimpleName: info [93410,93414]
                    METHOD_INVOCATION_ARGUMENTS [93415,93462]
                        StringLiteral: "Port {} shadowed by {}" [93415,93439]
                        SimpleName: targetPort [93441,93451]
                        SimpleName: localPort [93453,93462]
            ReturnStatement [93476,93493]
                SimpleName: localPort [93483,93492]
    MethodDeclaration [93508,93843]
        MarkerAnnotation [93508,93517]
            SimpleName: Override [93509,93517]
        Modifier: public [93523,93529]
        PrimitiveType: void [93530,93534]
        SimpleName: removeBridgeTo [93535,93549]
        SingleVariableDeclaration [93550,93564]
            PrimitiveType: int [93550,93553]
            SimpleName: targetPort [93554,93564]
        Block [93566,93843]
            VariableDeclarationStatement [93577,93641]
                SimpleType [93577,93587]
                    SimpleName: RouterPort [93577,93587]
                VariableDeclarationFragment [93588,93640]
                    SimpleName: routerPort [93588,93598]
                    MethodInvocation [93601,93640]
                        METHOD_INVOCATION_RECEIVER [93601,93621]
                            SimpleName: routerSocketsByPort1 [93601,93621]
                        SimpleName: remove [93622,93628]
                        METHOD_INVOCATION_ARGUMENTS [93629,93639]
                            SimpleName: targetPort [93629,93639]
            IfStatement [93651,93754]
                InfixExpression [93655,93673]
                    SimpleName: routerPort [93655,93665]
                    INFIX_EXPRESSION_OPERATOR: == [93666,93668]
                    NullLiteral [93669,93673]
                Block [93675,93754]
                    ExpressionStatement [93690,93743]
                        Assignment [93690,93742]
                            SimpleName: routerPort [93690,93700]
                            ASSIGNMENT_OPERATOR: = [93701,93702]
                            MethodInvocation [93703,93742]
                                METHOD_INVOCATION_RECEIVER [93703,93723]
                                    SimpleName: routerSocketsByPort2 [93703,93723]
                                SimpleName: remove [93724,93730]
                                METHOD_INVOCATION_ARGUMENTS [93731,93741]
                                    SimpleName: targetPort [93731,93741]
            IfStatement [93764,93836]
                InfixExpression [93768,93786]
                    SimpleName: routerPort [93768,93778]
                    INFIX_EXPRESSION_OPERATOR: != [93779,93781]
                    NullLiteral [93782,93786]
                Block [93788,93836]
                    ExpressionStatement [93803,93825]
                        MethodInvocation [93803,93824]
                            METHOD_INVOCATION_RECEIVER [93803,93813]
                                SimpleName: routerPort [93803,93813]
                            SimpleName: shutdown [93814,93822]
    MethodDeclaration [93851,94148]
        MarkerAnnotation [93851,93860]
            SimpleName: Override [93852,93860]
        Modifier: public [93866,93872]
        SimpleType [93873,93884]
            SimpleName: NetworkLink [93873,93884]
        SimpleName: getLinkTo [93885,93894]
        SingleVariableDeclaration [93895,93903]
            PrimitiveType: int [93895,93898]
            SimpleName: port [93899,93903]
        Block [93905,94148]
            VariableDeclarationStatement [93916,93971]
                SimpleType [93916,93926]
                    SimpleName: RouterPort [93916,93926]
                VariableDeclarationFragment [93927,93970]
                    SimpleName: routerPort [93927,93937]
                    MethodInvocation [93940,93970]
                        METHOD_INVOCATION_RECEIVER [93940,93960]
                            SimpleName: routerSocketsByPort1 [93940,93960]
                        SimpleName: get [93961,93964]
                        METHOD_INVOCATION_ARGUMENTS [93965,93969]
                            SimpleName: port [93965,93969]
            IfStatement [93981,94075]
                InfixExpression [93985,94003]
                    SimpleName: routerPort [93985,93995]
                    INFIX_EXPRESSION_OPERATOR: == [93996,93998]
                    NullLiteral [93999,94003]
                Block [94005,94075]
                    ExpressionStatement [94020,94064]
                        Assignment [94020,94063]
                            SimpleName: routerPort [94020,94030]
                            ASSIGNMENT_OPERATOR: = [94031,94032]
                            MethodInvocation [94033,94063]
                                METHOD_INVOCATION_RECEIVER [94033,94053]
                                    SimpleName: routerSocketsByPort2 [94033,94053]
                                SimpleName: get [94054,94057]
                                METHOD_INVOCATION_ARGUMENTS [94058,94062]
                                    SimpleName: port [94058,94062]
            ReturnStatement [94085,94141]
                ConditionalExpression [94092,94140]
                    InfixExpression [94092,94110]
                        SimpleName: routerPort [94092,94102]
                        INFIX_EXPRESSION_OPERATOR: == [94103,94105]
                        NullLiteral [94106,94110]
                    NullLiteral [94113,94117]
                    MethodInvocation [94120,94140]
                        METHOD_INVOCATION_RECEIVER [94120,94130]
                            SimpleName: routerPort [94120,94130]
                        SimpleName: getLink [94131,94138]
    MethodDeclaration [94156,94415]
        MarkerAnnotation [94156,94167]
            SimpleName: PreDestroy [94157,94167]
        MarkerAnnotation [94173,94182]
            SimpleName: Override [94174,94182]
        Modifier: public [94188,94194]
        PrimitiveType: void [94195,94199]
        SimpleName: shutdown [94200,94208]
        Block [94211,94415]
            EnhancedForStatement [94222,94330]
                SingleVariableDeclaration [94227,94248]
                    SimpleType [94227,94237]
                        SimpleName: RouterPort [94227,94237]
                    SimpleName: routerPort [94238,94248]
                MethodInvocation [94251,94280]
                    METHOD_INVOCATION_RECEIVER [94251,94271]
                        SimpleName: routerSocketsByPort1 [94251,94271]
                    SimpleName: values [94272,94278]
                Block [94282,94330]
                    ExpressionStatement [94297,94319]
                        MethodInvocation [94297,94318]
                            METHOD_INVOCATION_RECEIVER [94297,94307]
                                SimpleName: routerPort [94297,94307]
                            SimpleName: shutdown [94308,94316]
            ExpressionStatement [94340,94369]
                MethodInvocation [94340,94368]
                    METHOD_INVOCATION_RECEIVER [94340,94360]
                        SimpleName: routerSocketsByPort1 [94340,94360]
                    SimpleName: clear [94361,94366]
            ExpressionStatement [94379,94408]
                MethodInvocation [94379,94407]
                    METHOD_INVOCATION_RECEIVER [94379,94399]
                        SimpleName: routerSocketsByPort2 [94379,94399]
                    SimpleName: clear [94400,94405]
to
CompilationUnit [0,71409]
at 410
===
insert-tree
---
TypeDeclaration [95185,100429]
    Javadoc [95185,95296]
        TagElement [95193,95264]
            TextElement: Internal abstraction that represents a single port proxied by a router. [95193,95264]
        TagElement [95273,95291]
            TextElement:  Tomasz Bak [95280,95291]
    Modifier: public [95298,95304]
    TYPE_DECLARATION_KIND: class [95305,95310]
    SimpleName: RouterPort [95311,95321]
    FieldDeclaration [95331,95360]
        Modifier: private [95331,95338]
        Modifier: final [95339,95344]
        PrimitiveType: int [95345,95348]
        VariableDeclarationFragment [95349,95359]
            SimpleName: targetPort [95349,95359]
    FieldDeclaration [95366,95394]
        Modifier: private [95366,95373]
        Modifier: final [95374,95379]
        PrimitiveType: int [95380,95383]
        VariableDeclarationFragment [95384,95393]
            SimpleName: localPort [95384,95393]
    FieldDeclaration [95400,95435]
        Modifier: private [95400,95407]
        Modifier: final [95408,95413]
        SimpleType [95414,95429]
            SimpleName: NetworkLinkImpl [95414,95429]
        VariableDeclarationFragment [95430,95434]
            SimpleName: link [95430,95434]
    FieldDeclaration [95441,95491]
        Modifier: private [95441,95448]
        Modifier: final [95449,95454]
        ParameterizedType [95455,95481]
            SimpleType [95455,95463]
                SimpleName: RxClient [95455,95463]
            SimpleType [95464,95471]
                SimpleName: ByteBuf [95464,95471]
            SimpleType [95473,95480]
                SimpleName: ByteBuf [95473,95480]
        VariableDeclarationFragment [95482,95490]
            SimpleName: rxClient [95482,95490]
    FieldDeclaration [95499,95552]
        Modifier: private [95499,95506]
        Modifier: volatile [95507,95515]
        ParameterizedType [95516,95542]
            SimpleType [95516,95524]
                SimpleName: RxServer [95516,95524]
            SimpleType [95525,95532]
                SimpleName: ByteBuf [95525,95532]
            SimpleType [95534,95541]
                SimpleName: ByteBuf [95534,95541]
        VariableDeclarationFragment [95543,95551]
            SimpleName: rxServer [95543,95551]
    FieldDeclaration [95558,95713]
        Modifier: private [95558,95565]
        Modifier: final [95566,95571]
        ParameterizedType [95572,95603]
            SimpleType [95572,95575]
                SimpleName: Set [95572,95575]
            ParameterizedType [95576,95602]
                SimpleType [95576,95596]
                    SimpleName: ObservableConnection [95576,95596]
                WildcardType [95597,95598]
                WildcardType [95600,95601]
        VariableDeclarationFragment [95604,95712]
            SimpleName: pendingConnections [95604,95622]
            MethodInvocation [95625,95712]
                METHOD_INVOCATION_RECEIVER [95625,95636]
                    SimpleName: Collections [95625,95636]
                SimpleName: newSetFromMap [95637,95650]
                METHOD_INVOCATION_ARGUMENTS [95651,95711]
                    ClassInstanceCreation [95651,95711]
                        ParameterizedType [95655,95709]
                            SimpleType [95655,95672]
                                SimpleName: ConcurrentHashMap [95655,95672]
                            ParameterizedType [95673,95699]
                                SimpleType [95673,95693]
                                    SimpleName: ObservableConnection [95673,95693]
                                WildcardType [95694,95695]
                                WildcardType [95697,95698]
                            SimpleType [95701,95708]
                                SimpleName: Boolean [95701,95708]
    MethodDeclaration [95721,96303]
        Modifier: public [95721,95727]
        SimpleName: RouterPort [95728,95738]
        SingleVariableDeclaration [95739,95753]
            PrimitiveType: int [95739,95742]
            SimpleName: targetPort [95743,95753]
        Block [95755,96303]
            ExpressionStatement [95766,95795]
                Assignment [95766,95794]
                    FieldAccess [95766,95781]
                        ThisExpression [95766,95770]
                        SimpleName: targetPort [95771,95781]
                    ASSIGNMENT_OPERATOR: = [95782,95783]
                    SimpleName: targetPort [95784,95794]
            ExpressionStatement [95805,95839]
                Assignment [95805,95838]
                    FieldAccess [95805,95814]
                        ThisExpression [95805,95809]
                        SimpleName: link [95810,95814]
                    ASSIGNMENT_OPERATOR: = [95815,95816]
                    ClassInstanceCreation [95817,95838]
                        SimpleType [95821,95836]
                            SimpleName: NetworkLinkImpl [95821,95836]
            ExpressionStatement [95849,95939]
                Assignment [95849,95938]
                    SimpleName: rxClient [95849,95857]
                    ASSIGNMENT_OPERATOR: = [95858,95859]
                    MethodInvocation [95860,95938]
                        METHOD_INVOCATION_RECEIVER [95860,95930]
                            MethodInvocation [95860,95930]
                                METHOD_INVOCATION_RECEIVER [95860,95867]
                                    SimpleName: RxNetty [95860,95867]
                                SimpleName: newTcpClientBuilder [95886,95905]
                                METHOD_INVOCATION_ARGUMENTS [95906,95929]
                                    StringLiteral: "localhost" [95906,95917]
                                    SimpleName: targetPort [95919,95929]
                        SimpleName: build [95931,95936]
            ExpressionStatement [95949,96222]
                MethodInvocation [95949,96221]
                    METHOD_INVOCATION_RECEIVER [95949,95966]
                        MethodInvocation [95949,95966]
                            METHOD_INVOCATION_RECEIVER [95949,95953]
                                SimpleName: link [95949,95953]
                            SimpleName: linkEvents [95954,95964]
                    SimpleName: subscribe [95967,95976]
                    METHOD_INVOCATION_ARGUMENTS [95995,96210]
                        ClassInstanceCreation [95995,96210]
                            ParameterizedType [95999,96017]
                                SimpleType [95999,96006]
                                    SimpleName: Action1 [95999,96006]
                                SimpleType [96007,96016]
                                    SimpleName: LinkEvent [96007,96016]
                            AnonymousClassDeclaration [96020,96210]
                                MethodDeclaration [96043,96191]
                                    MarkerAnnotation [96043,96052]
                                        SimpleName: Override [96044,96052]
                                    Modifier: public [96074,96080]
                                    PrimitiveType: void [96081,96085]
                                    SimpleName: call [96086,96090]
                                    SingleVariableDeclaration [96091,96110]
                                        SimpleType [96091,96100]
                                            SimpleName: LinkEvent [96091,96100]
                                        SimpleName: linkEvent [96101,96110]
                                    Block [96112,96191]
                                        ExpressionStatement [96139,96168]
                                            MethodInvocation [96139,96167]
                                                SimpleName: handleLinkUpdates [96139,96156]
                                                METHOD_INVOCATION_ARGUMENTS [96157,96166]
                                                    SimpleName: linkEvent [96157,96166]
            ExpressionStatement [96232,96244]
                MethodInvocation [96232,96243]
                    SimpleName: openPort [96232,96240]
                    METHOD_INVOCATION_ARGUMENTS [96241,96242]
                        NumberLiteral: 0 [96241,96242]
            ExpressionStatement [96254,96296]
                Assignment [96254,96295]
                    FieldAccess [96254,96268]
                        ThisExpression [96254,96258]
                        SimpleName: localPort [96259,96268]
                    ASSIGNMENT_OPERATOR: = [96269,96270]
                    MethodInvocation [96271,96295]
                        METHOD_INVOCATION_RECEIVER [96271,96279]
                            SimpleName: rxServer [96271,96279]
                        SimpleName: getServerPort [96280,96293]
    MethodDeclaration [96311,96488]
        Modifier: private [96311,96318]
        PrimitiveType: void [96319,96323]
        SimpleName: handleLinkUpdates [96324,96341]
        SingleVariableDeclaration [96342,96361]
            SimpleType [96342,96351]
                SimpleName: LinkEvent [96342,96351]
            SimpleName: linkEvent [96352,96361]
        Block [96363,96488]
            IfStatement [96374,96481]
                MethodInvocation [96378,96389]
                    METHOD_INVOCATION_RECEIVER [96378,96382]
                        SimpleName: link [96378,96382]
                    SimpleName: isUp [96383,96387]
                Block [96391,96437]
                    ExpressionStatement [96406,96426]
                        MethodInvocation [96406,96425]
                            SimpleName: openPort [96406,96414]
                            METHOD_INVOCATION_ARGUMENTS [96415,96424]
                                SimpleName: localPort [96415,96424]
                Block [96443,96481]
                    ExpressionStatement [96458,96470]
                        MethodInvocation [96458,96469]
                            SimpleName: closePort [96458,96467]
    MethodDeclaration [96496,96557]
        Modifier: public [96496,96502]
        PrimitiveType: int [96503,96506]
        SimpleName: getLocalPort [96507,96519]
        Block [96522,96557]
            ReturnStatement [96533,96550]
                SimpleName: localPort [96540,96549]
    MethodDeclaration [96565,96628]
        Modifier: public [96565,96571]
        PrimitiveType: int [96572,96575]
        SimpleName: getTargetPort [96576,96589]
        Block [96592,96628]
            ReturnStatement [96603,96621]
                SimpleName: targetPort [96610,96620]
    MethodDeclaration [96636,96695]
        Modifier: public [96636,96642]
        SimpleType [96643,96654]
            SimpleName: NetworkLink [96643,96654]
        SimpleName: getLink [96655,96662]
        Block [96665,96695]
            ReturnStatement [96676,96688]
                SimpleName: link [96683,96687]
    MethodDeclaration [96703,96756]
        Modifier: public [96703,96709]
        PrimitiveType: void [96710,96714]
        SimpleName: shutdown [96715,96723]
        Block [96726,96756]
            ExpressionStatement [96737,96749]
                MethodInvocation [96737,96748]
                    SimpleName: closePort [96737,96746]
    MethodDeclaration [96764,97191]
        Modifier: private [96764,96771]
        PrimitiveType: void [96772,96776]
        SimpleName: openPort [96777,96785]
        SingleVariableDeclaration [96786,96794]
            PrimitiveType: int [96786,96789]
            SimpleName: port [96790,96794]
        Block [96796,97191]
            IfStatement [96807,96862]
                InfixExpression [96811,96827]
                    SimpleName: rxServer [96811,96819]
                    INFIX_EXPRESSION_OPERATOR: != [96820,96822]
                    NullLiteral [96823,96827]
                Block [96829,96862]
                    ReturnStatement [96844,96851]
            ExpressionStatement [96872,97184]
                Assignment [96872,97183]
                    SimpleName: rxServer [96872,96880]
                    ASSIGNMENT_OPERATOR: = [96881,96882]
                    MethodInvocation [96883,97183]
                        METHOD_INVOCATION_RECEIVER [96883,97175]
                            MethodInvocation [96883,97175]
                                METHOD_INVOCATION_RECEIVER [96883,97167]
                                    MethodInvocation [96883,97167]
                                        METHOD_INVOCATION_RECEIVER [96883,96890]
                                            SimpleName: RxNetty [96883,96890]
                                        SimpleName: newTcpServerBuilder [96891,96910]
                                        METHOD_INVOCATION_ARGUMENTS [96911,97166]
                                            SimpleName: port [96911,96915]
                                            ClassInstanceCreation [96917,97166]
                                                ParameterizedType [96921,96956]
                                                    SimpleType [96921,96938]
                                                        SimpleName: ConnectionHandler [96921,96938]
                                                    SimpleType [96939,96946]
                                                        SimpleName: ByteBuf [96939,96946]
                                                    SimpleType [96948,96955]
                                                        SimpleName: ByteBuf [96948,96955]
                                                AnonymousClassDeclaration [96959,97166]
                                                    MethodDeclaration [96974,97155]
                                                        MarkerAnnotation [96974,96983]
                                                            SimpleName: Override [96975,96983]
                                                        Modifier: public [96997,97003]
                                                        ParameterizedType [97004,97020]
                                                            SimpleType [97004,97014]
                                                                SimpleName: Observable [97004,97014]
                                                            SimpleType [97015,97019]
                                                                SimpleName: Void [97015,97019]
                                                        SimpleName: handle [97021,97027]
                                                        SingleVariableDeclaration [97028,97080]
                                                            ParameterizedType [97028,97066]
                                                                SimpleType [97028,97048]
                                                                    SimpleName: ObservableConnection [97028,97048]
                                                                SimpleType [97049,97056]
                                                                    SimpleName: ByteBuf [97049,97056]
                                                                SimpleType [97058,97065]
                                                                    SimpleName: ByteBuf [97058,97065]
                                                            SimpleName: newConnection [97067,97080]
                                                        Block [97082,97155]
                                                            ReturnStatement [97101,97140]
                                                                MethodInvocation [97108,97139]
                                                                    SimpleName: bridgeConnection [97108,97124]
                                                                    METHOD_INVOCATION_ARGUMENTS [97125,97138]
                                                                        SimpleName: newConnection [97125,97138]
                                SimpleName: build [97168,97173]
                        SimpleName: start [97176,97181]
    MethodDeclaration [97199,97604]
        Modifier: private [97199,97206]
        PrimitiveType: void [97207,97211]
        SimpleName: closePort [97212,97221]
        Block [97224,97604]
            IfStatement [97235,97597]
                InfixExpression [97239,97255]
                    SimpleName: rxServer [97239,97247]
                    INFIX_EXPRESSION_OPERATOR: != [97248,97250]
                    NullLiteral [97251,97255]
                Block [97257,97597]
                    TryStatement [97272,97383]
                        Block [97276,97330]
                            ExpressionStatement [97295,97315]
                                MethodInvocation [97295,97314]
                                    METHOD_INVOCATION_RECEIVER [97295,97303]
                                        SimpleName: rxServer [97295,97303]
                                    SimpleName: shutdown [97304,97312]
                        CatchClause [97331,97383]
                            SingleVariableDeclaration [97338,97365]
                                SimpleType [97338,97358]
                                    SimpleName: InterruptedException [97338,97358]
                                SimpleName: ignore [97359,97365]
                            Block [97367,97383]
                    ExpressionStatement [97397,97413]
                        Assignment [97397,97412]
                            SimpleName: rxServer [97397,97405]
                            ASSIGNMENT_OPERATOR: = [97406,97407]
                            NullLiteral [97408,97412]
                    EnhancedForStatement [97427,97545]
                        SingleVariableDeclaration [97432,97469]
                            ParameterizedType [97432,97458]
                                SimpleType [97432,97452]
                                    SimpleName: ObservableConnection [97432,97452]
                                WildcardType [97453,97454]
                                WildcardType [97456,97457]
                            SimpleName: connection [97459,97469]
                        SimpleName: pendingConnections [97472,97490]
                        Block [97492,97545]
                            ExpressionStatement [97511,97530]
                                MethodInvocation [97511,97529]
                                    METHOD_INVOCATION_RECEIVER [97511,97521]
                                        SimpleName: connection [97511,97521]
                                    SimpleName: close [97522,97527]
                    ExpressionStatement [97559,97586]
                        MethodInvocation [97559,97585]
                            METHOD_INVOCATION_RECEIVER [97559,97577]
                                SimpleName: pendingConnections [97559,97577]
                            SimpleName: clear [97578,97583]
    MethodDeclaration [97612,100426]
        Modifier: private [97612,97619]
        ParameterizedType [97620,97636]
            SimpleType [97620,97630]
                SimpleName: Observable [97620,97630]
            SimpleType [97631,97635]
                SimpleName: Void [97631,97635]
        SimpleName: bridgeConnection [97637,97653]
        SingleVariableDeclaration [97654,97715]
            Modifier: final [97654,97659]
            ParameterizedType [97660,97698]
                SimpleType [97660,97680]
                    SimpleName: ObservableConnection [97660,97680]
                SimpleType [97681,97688]
                    SimpleName: ByteBuf [97681,97688]
                SimpleType [97690,97697]
                    SimpleName: ByteBuf [97690,97697]
            SimpleName: clientConnection [97699,97715]
        Block [97717,100426]
            ExpressionStatement [97728,97769]
                MethodInvocation [97728,97768]
                    METHOD_INVOCATION_RECEIVER [97728,97746]
                        SimpleName: pendingConnections [97728,97746]
                    SimpleName: add [97747,97750]
                    METHOD_INVOCATION_ARGUMENTS [97751,97767]
                        SimpleName: clientConnection [97751,97767]
            VariableDeclarationStatement [97836,97908]
                Modifier: final [97836,97841]
                ParameterizedType [97842,97864]
                    SimpleType [97842,97855]
                        SimpleName: ReplaySubject [97842,97855]
                    SimpleType [97856,97863]
                        SimpleName: ByteBuf [97856,97863]
                VariableDeclarationFragment [97865,97907]
                    SimpleName: forwardingSubject [97865,97882]
                    MethodInvocation [97885,97907]
                        METHOD_INVOCATION_RECEIVER [97885,97898]
                            SimpleName: ReplaySubject [97885,97898]
                        SimpleName: create [97899,97905]
            VariableDeclarationStatement [97920,98322]
                ParameterizedType [97920,97936]
                    SimpleType [97920,97930]
                        SimpleName: Observable [97920,97930]
                    SimpleType [97931,97935]
                        SimpleName: Void [97931,97935]
                VariableDeclarationFragment [97937,98321]
                    SimpleName: clientToServerForwarder [97937,97960]
                    MethodInvocation [97963,98321]
                        METHOD_INVOCATION_RECEIVER [97963,97990]
                            MethodInvocation [97963,97990]
                                METHOD_INVOCATION_RECEIVER [97963,97979]
                                    SimpleName: clientConnection [97963,97979]
                                SimpleName: getInput [97980,97988]
                        SimpleName: flatMap [97991,97998]
                        METHOD_INVOCATION_ARGUMENTS [98017,98320]
                            ClassInstanceCreation [98017,98320]
                                ParameterizedType [98021,98053]
                                    SimpleType [98021,98026]
                                        SimpleName: Func1 [98021,98026]
                                    SimpleType [98027,98034]
                                        SimpleName: ByteBuf [98027,98034]
                                    ParameterizedType [98036,98052]
                                        SimpleType [98036,98046]
                                            SimpleName: Observable [98036,98046]
                                        SimpleType [98047,98051]
                                            SimpleName: Void [98047,98051]
                                AnonymousClassDeclaration [98056,98320]
                                    MethodDeclaration [98079,98301]
                                        MarkerAnnotation [98079,98088]
                                            SimpleName: Override [98080,98088]
                                        Modifier: public [98110,98116]
                                        ParameterizedType [98117,98133]
                                            SimpleType [98117,98127]
                                                SimpleName: Observable [98117,98127]
                                            SimpleType [98128,98132]
                                                SimpleName: Void [98128,98132]
                                        SimpleName: call [98134,98138]
                                        SingleVariableDeclaration [98139,98154]
                                            SimpleType [98139,98146]
                                                SimpleName: ByteBuf [98139,98146]
                                            SimpleName: byteBuf [98147,98154]
                                        Block [98156,98301]
                                            ExpressionStatement [98183,98226]
                                                MethodInvocation [98183,98225]
                                                    METHOD_INVOCATION_RECEIVER [98183,98200]
                                                        SimpleName: forwardingSubject [98183,98200]
                                                    SimpleName: onNext [98201,98207]
                                                    METHOD_INVOCATION_ARGUMENTS [98208,98224]
                                                        MethodInvocation [98208,98224]
                                                            METHOD_INVOCATION_RECEIVER [98208,98215]
                                                                SimpleName: byteBuf [98208,98215]
                                                            SimpleName: retain [98216,98222]
                                            ReturnStatement [98252,98278]
                                                MethodInvocation [98259,98277]
                                                    METHOD_INVOCATION_RECEIVER [98259,98269]
                                                        SimpleName: Observable [98259,98269]
                                                    SimpleName: empty [98270,98275]
            VariableDeclarationStatement [98334,100052]
                ParameterizedType [98334,98350]
                    SimpleType [98334,98344]
                        SimpleName: Observable [98334,98344]
                    SimpleType [98345,98349]
                        SimpleName: Void [98345,98349]
                VariableDeclarationFragment [98351,100051]
                    SimpleName: serverToClient [98351,98365]
                    MethodInvocation [98368,100051]
                        METHOD_INVOCATION_RECEIVER [98368,98386]
                            MethodInvocation [98368,98386]
                                METHOD_INVOCATION_RECEIVER [98368,98376]
                                    SimpleName: rxClient [98368,98376]
                                SimpleName: connect [98377,98384]
                        SimpleName: flatMap [98387,98394]
                        METHOD_INVOCATION_ARGUMENTS [98413,100050]
                            ClassInstanceCreation [98413,100050]
                                ParameterizedType [98417,98480]
                                    SimpleType [98417,98422]
                                        SimpleName: Func1 [98417,98422]
                                    ParameterizedType [98423,98461]
                                        SimpleType [98423,98443]
                                            SimpleName: ObservableConnection [98423,98443]
                                        SimpleType [98444,98451]
                                            SimpleName: ByteBuf [98444,98451]
                                        SimpleType [98453,98460]
                                            SimpleName: ByteBuf [98453,98460]
                                    ParameterizedType [98463,98479]
                                        SimpleType [98463,98473]
                                            SimpleName: Observable [98463,98473]
                                        SimpleType [98474,98478]
                                            SimpleName: Void [98474,98478]
                                AnonymousClassDeclaration [98483,100050]
                                    MethodDeclaration [98506,100031]
                                        MarkerAnnotation [98506,98515]
                                            SimpleName: Override [98507,98515]
                                        Modifier: public [98537,98543]
                                        ParameterizedType [98544,98560]
                                            SimpleType [98544,98554]
                                                SimpleName: Observable [98544,98554]
                                            SimpleType [98555,98559]
                                                SimpleName: Void [98555,98559]
                                        SimpleName: call [98561,98565]
                                        SingleVariableDeclaration [98566,98627]
                                            Modifier: final [98566,98571]
                                            ParameterizedType [98572,98610]
                                                SimpleType [98572,98592]
                                                    SimpleName: ObservableConnection [98572,98592]
                                                SimpleType [98593,98600]
                                                    SimpleName: ByteBuf [98593,98600]
                                                SimpleType [98602,98609]
                                                    SimpleName: ByteBuf [98602,98609]
                                            SimpleName: targetConnection [98611,98627]
                                        Block [98629,100031]
                                            ExpressionStatement [98656,99334]
                                                MethodInvocation [98656,99333]
                                                    METHOD_INVOCATION_RECEIVER [98656,98673]
                                                        SimpleName: forwardingSubject [98656,98673]
                                                    SimpleName: subscribe [98674,98683]
                                                    METHOD_INVOCATION_ARGUMENTS [98684,99332]
                                                        ClassInstanceCreation [98684,99332]
                                                            ParameterizedType [98688,98707]
                                                                SimpleType [98688,98698]
                                                                    SimpleName: Subscriber [98688,98698]
                                                                SimpleType [98699,98706]
                                                                    SimpleName: ByteBuf [98699,98706]
                                                            AnonymousClassDeclaration [98710,99332]
                                                                MethodDeclaration [98741,98897]
                                                                    MarkerAnnotation [98741,98750]
                                                                        SimpleName: Override [98742,98750]
                                                                    Modifier: public [98780,98786]
                                                                    PrimitiveType: void [98787,98791]
                                                                    SimpleName: onCompleted [98792,98803]
                                                                    Block [98806,98897]
                                                                        ExpressionStatement [98841,98866]
                                                                            MethodInvocation [98841,98865]
                                                                                METHOD_INVOCATION_RECEIVER [98841,98857]
                                                                                    SimpleName: targetConnection [98841,98857]
                                                                                SimpleName: close [98858,98863]
                                                                MethodDeclaration [98929,99092]
                                                                    MarkerAnnotation [98929,98938]
                                                                        SimpleName: Override [98930,98938]
                                                                    Modifier: public [98968,98974]
                                                                    PrimitiveType: void [98975,98979]
                                                                    SimpleName: onError [98980,98987]
                                                                    SingleVariableDeclaration [98988,98999]
                                                                        SimpleType [98988,98997]
                                                                            SimpleName: Throwable [98988,98997]
                                                                        SimpleName: e [98998,98999]
                                                                    Block [99001,99092]
                                                                        ExpressionStatement [99036,99061]
                                                                            MethodInvocation [99036,99060]
                                                                                METHOD_INVOCATION_RECEIVER [99036,99052]
                                                                                    SimpleName: targetConnection [99036,99052]
                                                                                SimpleName: close [99053,99058]
                                                                MethodDeclaration [99124,99305]
                                                                    MarkerAnnotation [99124,99133]
                                                                        SimpleName: Override [99125,99133]
                                                                    Modifier: public [99163,99169]
                                                                    PrimitiveType: void [99170,99174]
                                                                    SimpleName: onNext [99175,99181]
                                                                    SingleVariableDeclaration [99182,99197]
                                                                        SimpleType [99182,99189]
                                                                            SimpleName: ByteBuf [99182,99189]
                                                                        SimpleName: byteBuf [99190,99197]
                                                                    Block [99199,99305]
                                                                        ExpressionStatement [99234,99274]
                                                                            MethodInvocation [99234,99273]
                                                                                METHOD_INVOCATION_RECEIVER [99234,99250]
                                                                                    SimpleName: targetConnection [99234,99250]
                                                                                SimpleName: writeAndFlush [99251,99264]
                                                                                METHOD_INVOCATION_ARGUMENTS [99265,99272]
                                                                                    SimpleName: byteBuf [99265,99272]
                                            ReturnStatement [99362,100008]
                                                MethodInvocation [99369,100007]
                                                    METHOD_INVOCATION_RECEIVER [99369,99752]
                                                        MethodInvocation [99369,99752]
                                                            METHOD_INVOCATION_RECEIVER [99369,99396]
                                                                MethodInvocation [99369,99396]
                                                                    METHOD_INVOCATION_RECEIVER [99369,99385]
                                                                        SimpleName: targetConnection [99369,99385]
                                                                    SimpleName: getInput [99386,99394]
                                                            SimpleName: flatMap [99397,99404]
                                                            METHOD_INVOCATION_ARGUMENTS [99405,99751]
                                                                ClassInstanceCreation [99405,99751]
                                                                    ParameterizedType [99409,99441]
                                                                        SimpleType [99409,99414]
                                                                            SimpleName: Func1 [99409,99414]
                                                                        SimpleType [99415,99422]
                                                                            SimpleName: ByteBuf [99415,99422]
                                                                        ParameterizedType [99424,99440]
                                                                            SimpleType [99424,99434]
                                                                                SimpleName: Observable [99424,99434]
                                                                            SimpleType [99435,99439]
                                                                                SimpleName: Void [99435,99439]
                                                                    AnonymousClassDeclaration [99444,99751]
                                                                        MethodDeclaration [99475,99724]
                                                                            MarkerAnnotation [99475,99484]
                                                                                SimpleName: Override [99476,99484]
                                                                            Modifier: public [99514,99520]
                                                                            ParameterizedType [99521,99537]
                                                                                SimpleType [99521,99531]
                                                                                    SimpleName: Observable [99521,99531]
                                                                                SimpleType [99532,99536]
                                                                                    SimpleName: Void [99532,99536]
                                                                            SimpleName: call [99538,99542]
                                                                            SingleVariableDeclaration [99543,99558]
                                                                                SimpleType [99543,99550]
                                                                                    SimpleName: ByteBuf [99543,99550]
                                                                                SimpleName: byteBuf [99551,99558]
                                                                            Block [99560,99724]
                                                                                ExpressionStatement [99595,99612]
                                                                                    MethodInvocation [99595,99611]
                                                                                        METHOD_INVOCATION_RECEIVER [99595,99602]
                                                                                            SimpleName: byteBuf [99595,99602]
                                                                                        SimpleName: retain [99603,99609]
                                                                                ReturnStatement [99646,99693]
                                                                                    MethodInvocation [99653,99692]
                                                                                        METHOD_INVOCATION_RECEIVER [99653,99669]
                                                                                            SimpleName: clientConnection [99653,99669]
                                                                                        SimpleName: writeAndFlush [99670,99683]
                                                                                        METHOD_INVOCATION_ARGUMENTS [99684,99691]
                                                                                            SimpleName: byteBuf [99684,99691]
                                                    SimpleName: doOnError [99753,99762]
                                                    METHOD_INVOCATION_ARGUMENTS [99763,100006]
                                                        ClassInstanceCreation [99763,100006]
                                                            ParameterizedType [99767,99785]
                                                                SimpleType [99767,99774]
                                                                    SimpleName: Action1 [99767,99774]
                                                                SimpleType [99775,99784]
                                                                    SimpleName: Throwable [99775,99784]
                                                            AnonymousClassDeclaration [99788,100006]
                                                                MethodDeclaration [99819,99979]
                                                                    MarkerAnnotation [99819,99828]
                                                                        SimpleName: Override [99820,99828]
                                                                    Modifier: public [99858,99864]
                                                                    PrimitiveType: void [99865,99869]
                                                                    SimpleName: call [99870,99874]
                                                                    SingleVariableDeclaration [99875,99886]
                                                                        SimpleType [99875,99884]
                                                                            SimpleName: Throwable [99875,99884]
                                                                        SimpleName: e [99885,99886]
                                                                    Block [99888,99979]
                                                                        ExpressionStatement [99923,99948]
                                                                            MethodInvocation [99923,99947]
                                                                                METHOD_INVOCATION_RECEIVER [99923,99939]
                                                                                    SimpleName: clientConnection [99923,99939]
                                                                                SimpleName: close [99940,99945]
            ReturnStatement [100062,100419]
                MethodInvocation [100069,100418]
                    METHOD_INVOCATION_RECEIVER [100069,100126]
                        MethodInvocation [100069,100126]
                            METHOD_INVOCATION_RECEIVER [100069,100079]
                                SimpleName: Observable [100069,100079]
                            SimpleName: merge [100080,100085]
                            METHOD_INVOCATION_ARGUMENTS [100086,100125]
                                SimpleName: clientToServerForwarder [100086,100109]
                                SimpleName: serverToClient [100111,100125]
                    SimpleName: doOnTerminate [100145,100158]
                    METHOD_INVOCATION_ARGUMENTS [100159,100417]
                        ClassInstanceCreation [100159,100417]
                            SimpleType [100163,100170]
                                SimpleName: Action0 [100163,100170]
                            AnonymousClassDeclaration [100173,100417]
                                MethodDeclaration [100196,100398]
                                    MarkerAnnotation [100196,100205]
                                        SimpleName: Override [100197,100205]
                                    Modifier: public [100227,100233]
                                    PrimitiveType: void [100234,100238]
                                    SimpleName: call [100239,100243]
                                    Block [100246,100398]
                                        ExpressionStatement [100273,100305]
                                            MethodInvocation [100273,100304]
                                                METHOD_INVOCATION_RECEIVER [100273,100290]
                                                    SimpleName: forwardingSubject [100273,100290]
                                                SimpleName: onCompleted [100291,100302]
                                        ExpressionStatement [100331,100375]
                                            MethodInvocation [100331,100374]
                                                METHOD_INVOCATION_RECEIVER [100331,100349]
                                                    SimpleName: pendingConnections [100331,100349]
                                                SimpleName: remove [100350,100356]
                                                METHOD_INVOCATION_ARGUMENTS [100357,100373]
                                                    SimpleName: clientConnection [100357,100373]
to
CompilationUnit [0,71409]
at 411
===
insert-tree
---
TypeDeclaration [110015,113130]
    Javadoc [110015,110046]
        TagElement [110023,110041]
            TextElement:  Tomasz Bak [110030,110041]
    Modifier: public [110048,110054]
    TYPE_DECLARATION_KIND: class [110055,110060]
    SimpleName: RouterPortTest [110061,110075]
    FieldDeclaration [110085,110115]
        Modifier: private [110085,110092]
        SimpleType [110093,110103]
            SimpleName: RouterPort [110093,110103]
        VariableDeclarationFragment [110104,110114]
            SimpleName: routerPort [110104,110114]
    FieldDeclaration [110123,110165]
        Modifier: private [110123,110130]
        ParameterizedType [110131,110157]
            SimpleType [110131,110139]
                SimpleName: RxServer [110131,110139]
            SimpleType [110140,110147]
                SimpleName: ByteBuf [110140,110147]
            SimpleType [110149,110156]
                SimpleName: ByteBuf [110149,110156]
        VariableDeclarationFragment [110158,110164]
            SimpleName: server [110158,110164]
    MethodDeclaration [110173,110880]
        MarkerAnnotation [110173,110180]
            SimpleName: Before [110174,110180]
        Modifier: public [110186,110192]
        PrimitiveType: void [110193,110197]
        SimpleName: setUp [110198,110203]
        SimpleType [110213,110222]
            SimpleName: Exception [110213,110222]
        Block [110223,110880]
            ExpressionStatement [110234,110811]
                Assignment [110234,110810]
                    SimpleName: server [110234,110240]
                    ASSIGNMENT_OPERATOR: = [110241,110242]
                    MethodInvocation [110243,110810]
                        METHOD_INVOCATION_RECEIVER [110243,110802]
                            MethodInvocation [110243,110802]
                                METHOD_INVOCATION_RECEIVER [110243,110794]
                                    MethodInvocation [110243,110794]
                                        METHOD_INVOCATION_RECEIVER [110243,110250]
                                            SimpleName: RxNetty [110243,110250]
                                        SimpleName: newTcpServerBuilder [110251,110270]
                                        METHOD_INVOCATION_ARGUMENTS [110271,110793]
                                            NumberLiteral: 0 [110271,110272]
                                            ClassInstanceCreation [110274,110793]
                                                ParameterizedType [110278,110313]
                                                    SimpleType [110278,110295]
                                                        SimpleName: ConnectionHandler [110278,110295]
                                                    SimpleType [110296,110303]
                                                        SimpleName: ByteBuf [110296,110303]
                                                    SimpleType [110305,110312]
                                                        SimpleName: ByteBuf [110305,110312]
                                                AnonymousClassDeclaration [110316,110793]
                                                    MethodDeclaration [110331,110782]
                                                        MarkerAnnotation [110331,110340]
                                                            SimpleName: Override [110332,110340]
                                                        Modifier: public [110354,110360]
                                                        ParameterizedType [110361,110377]
                                                            SimpleType [110361,110371]
                                                                SimpleName: Observable [110361,110371]
                                                            SimpleType [110372,110376]
                                                                SimpleName: Void [110372,110376]
                                                        SimpleName: handle [110378,110384]
                                                        SingleVariableDeclaration [110385,110443]
                                                            Modifier: final [110385,110390]
                                                            ParameterizedType [110391,110429]
                                                                SimpleType [110391,110411]
                                                                    SimpleName: ObservableConnection [110391,110411]
                                                                SimpleType [110412,110419]
                                                                    SimpleName: ByteBuf [110412,110419]
                                                                SimpleType [110421,110428]
                                                                    SimpleName: ByteBuf [110421,110428]
                                                            SimpleName: newConnection [110430,110443]
                                                        Block [110445,110782]
                                                            ReturnStatement [110464,110767]
                                                                MethodInvocation [110471,110766]
                                                                    METHOD_INVOCATION_RECEIVER [110471,110495]
                                                                        MethodInvocation [110471,110495]
                                                                            METHOD_INVOCATION_RECEIVER [110471,110484]
                                                                                SimpleName: newConnection [110471,110484]
                                                                            SimpleName: getInput [110485,110493]
                                                                    SimpleName: flatMap [110496,110503]
                                                                    METHOD_INVOCATION_ARGUMENTS [110504,110765]
                                                                        ClassInstanceCreation [110504,110765]
                                                                            ParameterizedType [110508,110540]
                                                                                SimpleType [110508,110513]
                                                                                    SimpleName: Func1 [110508,110513]
                                                                                SimpleType [110514,110521]
                                                                                    SimpleName: ByteBuf [110514,110521]
                                                                                ParameterizedType [110523,110539]
                                                                                    SimpleType [110523,110533]
                                                                                        SimpleName: Observable [110523,110533]
                                                                                    SimpleType [110534,110538]
                                                                                        SimpleName: Void [110534,110538]
                                                                            AnonymousClassDeclaration [110543,110765]
                                                                                MethodDeclaration [110566,110746]
                                                                                    MarkerAnnotation [110566,110575]
                                                                                        SimpleName: Override [110567,110575]
                                                                                    Modifier: public [110597,110603]
                                                                                    ParameterizedType [110604,110620]
                                                                                        SimpleType [110604,110614]
                                                                                            SimpleName: Observable [110604,110614]
                                                                                        SimpleType [110615,110619]
                                                                                            SimpleName: Void [110615,110619]
                                                                                    SimpleName: call [110621,110625]
                                                                                    SingleVariableDeclaration [110626,110641]
                                                                                        SimpleType [110626,110633]
                                                                                            SimpleName: ByteBuf [110626,110633]
                                                                                        SimpleName: byteBuf [110634,110641]
                                                                                    Block [110643,110746]
                                                                                        ReturnStatement [110670,110723]
                                                                                            MethodInvocation [110677,110722]
                                                                                                METHOD_INVOCATION_RECEIVER [110677,110690]
                                                                                                    SimpleName: newConnection [110677,110690]
                                                                                                SimpleName: writeAndFlush [110691,110704]
                                                                                                METHOD_INVOCATION_ARGUMENTS [110705,110721]
                                                                                                    MethodInvocation [110705,110721]
                                                                                                        METHOD_INVOCATION_RECEIVER [110705,110712]
                                                                                                            SimpleName: byteBuf [110705,110712]
                                                                                                        SimpleName: retain [110713,110719]
                                SimpleName: build [110795,110800]
                        SimpleName: start [110803,110808]
            ExpressionStatement [110821,110873]
                Assignment [110821,110872]
                    SimpleName: routerPort [110821,110831]
                    ASSIGNMENT_OPERATOR: = [110832,110833]
                    ClassInstanceCreation [110834,110872]
                        SimpleType [110838,110848]
                            SimpleName: RouterPort [110838,110848]
                        MethodInvocation [110849,110871]
                            METHOD_INVOCATION_RECEIVER [110849,110855]
                                SimpleName: server [110849,110855]
                            SimpleName: getServerPort [110856,110869]
    MethodDeclaration [110888,111022]
        MarkerAnnotation [110888,110894]
            SimpleName: After [110889,110894]
        Modifier: public [110900,110906]
        PrimitiveType: void [110907,110911]
        SimpleName: tearDown [110912,110920]
        SimpleType [110930,110939]
            SimpleName: Exception [110930,110939]
        Block [110940,111022]
            IfStatement [110951,111015]
                InfixExpression [110955,110969]
                    SimpleName: server [110955,110961]
                    INFIX_EXPRESSION_OPERATOR: != [110962,110964]
                    NullLiteral [110965,110969]
                Block [110971,111015]
                    ExpressionStatement [110986,111004]
                        MethodInvocation [110986,111003]
                            METHOD_INVOCATION_RECEIVER [110986,110992]
                                SimpleName: server [110986,110992]
                            SimpleName: shutdown [110993,111001]
    MethodDeclaration [111030,111177]
        MarkerAnnotation [111030,111035]
            SimpleName: Test [111031,111035]
        Modifier: public [111041,111047]
        PrimitiveType: void [111048,111052]
        SimpleName: testDataAreForwardedToTargetPort [111053,111085]
        SimpleType [111095,111104]
            SimpleName: Exception [111095,111104]
        Block [111105,111177]
            ExpressionStatement [111116,111170]
                MethodInvocation [111116,111169]
                    SimpleName: assertThat [111116,111126]
                    METHOD_INVOCATION_ARGUMENTS [111127,111168]
                        MethodInvocation [111127,111138]
                            SimpleName: sendHello [111127,111136]
                        MethodInvocation [111140,111168]
                            SimpleName: is [111140,111142]
                            METHOD_INVOCATION_ARGUMENTS [111143,111167]
                                MethodInvocation [111143,111167]
                                    SimpleName: equalTo [111143,111150]
                                    METHOD_INVOCATION_ARGUMENTS [111151,111166]
                                        StringLiteral: "REPLY: HELLO!" [111151,111166]
    MethodDeclaration [111185,111770]
        MarkerAnnotation [111185,111190]
            SimpleName: Test [111186,111190]
        Modifier: public [111196,111202]
        PrimitiveType: void [111203,111207]
        SimpleName: testLinkCanBeDisconnectedAndConnectedAgain [111208,111250]
        SimpleType [111260,111269]
            SimpleName: Exception [111260,111269]
        Block [111270,111770]
            ExpressionStatement [111359,111393]
                MethodInvocation [111359,111392]
                    METHOD_INVOCATION_RECEIVER [111359,111379]
                        MethodInvocation [111359,111379]
                            METHOD_INVOCATION_RECEIVER [111359,111369]
                                SimpleName: routerPort [111359,111369]
                            SimpleName: getLink [111370,111377]
                    SimpleName: disconnect [111380,111390]
            TryStatement [111403,111580]
                Block [111407,111495]
                    ExpressionStatement [111422,111434]
                        MethodInvocation [111422,111433]
                            SimpleName: sendHello [111422,111431]
                    ExpressionStatement [111448,111484]
                        MethodInvocation [111448,111483]
                            SimpleName: fail [111448,111452]
                            METHOD_INVOCATION_ARGUMENTS [111453,111482]
                                StringLiteral: "Connection failure expected" [111453,111482]
                CatchClause [111496,111580]
                    SingleVariableDeclaration [111503,111514]
                        SimpleType [111503,111512]
                            SimpleName: Exception [111503,111512]
                        SimpleName: e [111513,111514]
                    Block [111516,111580]
            ExpressionStatement [111668,111699]
                MethodInvocation [111668,111698]
                    METHOD_INVOCATION_RECEIVER [111668,111688]
                        MethodInvocation [111668,111688]
                            METHOD_INVOCATION_RECEIVER [111668,111678]
                                SimpleName: routerPort [111668,111678]
                            SimpleName: getLink [111679,111686]
                    SimpleName: connect [111689,111696]
            ExpressionStatement [111709,111763]
                MethodInvocation [111709,111762]
                    SimpleName: assertThat [111709,111719]
                    METHOD_INVOCATION_ARGUMENTS [111720,111761]
                        MethodInvocation [111720,111731]
                            SimpleName: sendHello [111720,111729]
                        MethodInvocation [111733,111761]
                            SimpleName: is [111733,111735]
                            METHOD_INVOCATION_ARGUMENTS [111736,111760]
                                MethodInvocation [111736,111760]
                                    SimpleName: equalTo [111736,111743]
                                    METHOD_INVOCATION_ARGUMENTS [111744,111759]
                                        StringLiteral: "REPLY: HELLO!" [111744,111759]
    MethodDeclaration [111778,113127]
        Modifier: private [111778,111785]
        SimpleType [111786,111792]
            SimpleName: String [111786,111792]
        SimpleName: sendHello [111793,111802]
        Block [111805,113127]
            ReturnStatement [111816,113120]
                MethodInvocation [111823,113119]
                    METHOD_INVOCATION_RECEIVER [111823,113108]
                        MethodInvocation [111823,113108]
                            METHOD_INVOCATION_RECEIVER [111823,113082]
                                MethodInvocation [111823,113082]
                                    METHOD_INVOCATION_RECEIVER [111823,113051]
                                        MethodInvocation [111823,113051]
                                            METHOD_INVOCATION_RECEIVER [111823,113003]
                                                MethodInvocation [111823,113003]
                                                    METHOD_INVOCATION_RECEIVER [111823,112700]
                                                        MethodInvocation [111823,112700]
                                                            METHOD_INVOCATION_RECEIVER [111823,111944]
                                                                MethodInvocation [111823,111944]
                                                                    METHOD_INVOCATION_RECEIVER [111823,111916]
                                                                        MethodInvocation [111823,111916]
                                                                            METHOD_INVOCATION_RECEIVER [111823,111908]
                                                                                MethodInvocation [111823,111908]
                                                                                    METHOD_INVOCATION_RECEIVER [111823,111830]
                                                                                        SimpleName: RxNetty [111823,111830]
                                                                                    SimpleName: newTcpClientBuilder [111849,111868]
                                                                                    METHOD_INVOCATION_ARGUMENTS [111869,111907]
                                                                                        StringLiteral: "localhost" [111869,111880]
                                                                                        MethodInvocation [111882,111907]
                                                                                            METHOD_INVOCATION_RECEIVER [111882,111892]
                                                                                                SimpleName: routerPort [111882,111892]
                                                                                            SimpleName: getLocalPort [111893,111905]
                                                                            SimpleName: build [111909,111914]
                                                                    SimpleName: connect [111935,111942]
                                                            SimpleName: flatMap [111963,111970]
                                                            METHOD_INVOCATION_ARGUMENTS [111971,112699]
                                                                ClassInstanceCreation [111971,112699]
                                                                    ParameterizedType [111975,112040]
                                                                        SimpleType [111975,111980]
                                                                            SimpleName: Func1 [111975,111980]
                                                                        ParameterizedType [111981,112019]
                                                                            SimpleType [111981,112001]
                                                                                SimpleName: ObservableConnection [111981,112001]
                                                                            SimpleType [112002,112009]
                                                                                SimpleName: ByteBuf [112002,112009]
                                                                            SimpleType [112011,112018]
                                                                                SimpleName: ByteBuf [112011,112018]
                                                                        ParameterizedType [112021,112039]
                                                                            SimpleType [112021,112031]
                                                                                SimpleName: Observable [112021,112031]
                                                                            SimpleType [112032,112038]
                                                                                SimpleName: String [112032,112038]
                                                                    AnonymousClassDeclaration [112043,112699]
                                                                        MethodDeclaration [112066,112680]
                                                                            MarkerAnnotation [112066,112075]
                                                                                SimpleName: Override [112067,112075]
                                                                            Modifier: public [112097,112103]
                                                                            ParameterizedType [112104,112122]
                                                                                SimpleType [112104,112114]
                                                                                    SimpleName: Observable [112104,112114]
                                                                                SimpleType [112115,112121]
                                                                                    SimpleName: String [112115,112121]
                                                                            SimpleName: call [112123,112127]
                                                                            SingleVariableDeclaration [112128,112183]
                                                                                Modifier: final [112128,112133]
                                                                                ParameterizedType [112134,112172]
                                                                                    SimpleType [112134,112154]
                                                                                        SimpleName: ObservableConnection [112134,112154]
                                                                                    SimpleType [112155,112162]
                                                                                        SimpleName: ByteBuf [112155,112162]
                                                                                    SimpleType [112164,112171]
                                                                                        SimpleName: ByteBuf [112164,112171]
                                                                                SimpleName: connection [112173,112183]
                                                                            Block [112185,112680]
                                                                                ExpressionStatement [112212,112253]
                                                                                    MethodInvocation [112212,112252]
                                                                                        METHOD_INVOCATION_RECEIVER [112212,112222]
                                                                                            SimpleName: connection [112212,112222]
                                                                                        SimpleName: writeStringAndFlush [112223,112242]
                                                                                        METHOD_INVOCATION_ARGUMENTS [112243,112251]
                                                                                            StringLiteral: "HELLO!" [112243,112251]
                                                                                ReturnStatement [112279,112657]
                                                                                    MethodInvocation [112286,112656]
                                                                                        METHOD_INVOCATION_RECEIVER [112286,112307]
                                                                                            MethodInvocation [112286,112307]
                                                                                                METHOD_INVOCATION_RECEIVER [112286,112296]
                                                                                                    SimpleName: connection [112286,112296]
                                                                                                SimpleName: getInput [112297,112305]
                                                                                        SimpleName: map [112308,112311]
                                                                                        METHOD_INVOCATION_ARGUMENTS [112312,112655]
                                                                                            ClassInstanceCreation [112312,112655]
                                                                                                ParameterizedType [112316,112338]
                                                                                                    SimpleType [112316,112321]
                                                                                                        SimpleName: Func1 [112316,112321]
                                                                                                    SimpleType [112322,112329]
                                                                                                        SimpleName: ByteBuf [112322,112329]
                                                                                                    SimpleType [112331,112337]
                                                                                                        SimpleName: String [112331,112337]
                                                                                                AnonymousClassDeclaration [112341,112655]
                                                                                                    MethodDeclaration [112372,112628]
                                                                                                        MarkerAnnotation [112372,112381]
                                                                                                            SimpleName: Override [112373,112381]
                                                                                                        Modifier: public [112411,112417]
                                                                                                        SimpleType [112418,112424]
                                                                                                            SimpleName: String [112418,112424]
                                                                                                        SimpleName: call [112425,112429]
                                                                                                        SingleVariableDeclaration [112430,112445]
                                                                                                            SimpleType [112430,112437]
                                                                                                                SimpleName: ByteBuf [112430,112437]
                                                                                                            SimpleName: byteBuf [112438,112445]
                                                                                                        Block [112447,112628]
                                                                                                            ExpressionStatement [112482,112501]
                                                                                                                MethodInvocation [112482,112500]
                                                                                                                    METHOD_INVOCATION_RECEIVER [112482,112492]
                                                                                                                        SimpleName: connection [112482,112492]
                                                                                                                    SimpleName: close [112493,112498]
                                                                                                            ReturnStatement [112535,112597]
                                                                                                                InfixExpression [112542,112596]
                                                                                                                    StringLiteral: "REPLY: " [112542,112551]
                                                                                                                    INFIX_EXPRESSION_OPERATOR: + [112552,112553]
                                                                                                                    MethodInvocation [112554,112596]
                                                                                                                        METHOD_INVOCATION_RECEIVER [112554,112561]
                                                                                                                            SimpleName: byteBuf [112554,112561]
                                                                                                                        SimpleName: toString [112562,112570]
                                                                                                                        METHOD_INVOCATION_ARGUMENTS [112571,112595]
                                                                                                                            MethodInvocation [112571,112595]
                                                                                                                                METHOD_INVOCATION_RECEIVER [112571,112578]
                                                                                                                                    SimpleName: Charset [112571,112578]
                                                                                                                                SimpleName: defaultCharset [112579,112593]
                                                    SimpleName: reduce [112701,112707]
                                                    METHOD_INVOCATION_ARGUMENTS [112708,113002]
                                                        ClassInstanceCreation [112708,112727]
                                                            SimpleType [112712,112725]
                                                                SimpleName: StringBuilder [112712,112725]
                                                        ClassInstanceCreation [112729,113002]
                                                            ParameterizedType [112733,112776]
                                                                SimpleType [112733,112738]
                                                                    SimpleName: Func2 [112733,112738]
                                                                SimpleType [112739,112752]
                                                                    SimpleName: StringBuilder [112739,112752]
                                                                SimpleType [112754,112760]
                                                                    SimpleName: String [112754,112760]
                                                                SimpleType [112762,112775]
                                                                    SimpleName: StringBuilder [112762,112775]
                                                            AnonymousClassDeclaration [112779,113002]
                                                                MethodDeclaration [112802,112983]
                                                                    MarkerAnnotation [112802,112811]
                                                                        SimpleName: Override [112803,112811]
                                                                    Modifier: public [112833,112839]
                                                                    SimpleType [112840,112853]
                                                                        SimpleName: StringBuilder [112840,112853]
                                                                    SimpleName: call [112854,112858]
                                                                    SingleVariableDeclaration [112859,112884]
                                                                        SimpleType [112859,112872]
                                                                            SimpleName: StringBuilder [112859,112872]
                                                                        SimpleName: accumulator [112873,112884]
                                                                    SingleVariableDeclaration [112886,112898]
                                                                        SimpleType [112886,112892]
                                                                            SimpleName: String [112886,112892]
                                                                        SimpleName: delta [112893,112898]
                                                                    Block [112900,112983]
                                                                        ReturnStatement [112927,112960]
                                                                            MethodInvocation [112934,112959]
                                                                                METHOD_INVOCATION_RECEIVER [112934,112945]
                                                                                    SimpleName: accumulator [112934,112945]
                                                                                SimpleName: append [112946,112952]
                                                                                METHOD_INVOCATION_ARGUMENTS [112953,112958]
                                                                                    SimpleName: delta [112953,112958]
                                            SimpleName: timeout [113022,113029]
                                            METHOD_INVOCATION_ARGUMENTS [113030,113050]
                                                NumberLiteral: 10 [113030,113032]
                                                QualifiedName: TimeUnit.SECONDS [113034,113050]
                                    SimpleName: toBlocking [113070,113080]
                            SimpleName: first [113101,113106]
                    SimpleName: toString [113109,113117]
to
CompilationUnit [0,71409]
at 415
===
insert-tree
---
FieldDeclaration [1417,1459]
    Modifier: private [1417,1424]
    Modifier: static [1425,1431]
    Modifier: final [1432,1437]
    PrimitiveType: int [1438,1441]
    VariableDeclarationFragment [1442,1458]
        SimpleName: TIMEOUT_SEC [1442,1453]
        NumberLiteral: 30 [1456,1458]
to
TypeDeclaration [984,3041]
at 4
===
insert-tree
---
MethodDeclaration [3256,3411]
    Modifier: public [3256,3262]
    PrimitiveType: void [3263,3267]
    SimpleName: fillUpRegistry [3268,3282]
    SingleVariableDeclaration [3283,3292]
        PrimitiveType: int [3283,3286]
        SimpleName: count [3287,3292]
    SingleVariableDeclaration [3294,3323]
        SimpleType [3294,3306]
            SimpleName: InstanceInfo [3294,3306]
        SimpleName: instanceTemplate [3307,3323]
    SimpleType [3332,3341]
        SimpleName: Exception [3332,3341]
    Block [3342,3411]
        ExpressionStatement [3353,3404]
            MethodInvocation [3353,3403]
                SimpleName: fillUpRegistryOfServer [3353,3375]
                METHOD_INVOCATION_ARGUMENTS [3376,3402]
                    NumberLiteral: 0 [3376,3377]
                    SimpleName: count [3379,3384]
                    SimpleName: instanceTemplate [3386,3402]
to
TypeDeclaration [984,3041]
at 8
===
insert-tree
---
MethodDeclaration [3419,4245]
    Modifier: public [3419,3425]
    PrimitiveType: void [3426,3430]
    SimpleName: verifyWriteServerRegistryContent [3431,3463]
    SingleVariableDeclaration [3464,3482]
        PrimitiveType: int [3464,3467]
        SimpleName: writeServerIdx [3468,3482]
    SingleVariableDeclaration [3484,3498]
        SimpleType [3484,3490]
            SimpleName: String [3484,3490]
        SimpleName: appName [3491,3498]
    SingleVariableDeclaration [3500,3509]
        PrimitiveType: int [3500,3503]
        SimpleName: count [3504,3509]
    SimpleType [3518,3538]
        SimpleName: InterruptedException [3518,3538]
    Block [3539,4245]
        VariableDeclarationStatement [3550,3624]
            ParameterizedType [3550,3585]
                SimpleType [3550,3571]
                    SimpleName: SourcedEurekaRegistry [3550,3571]
                SimpleType [3572,3584]
                    SimpleName: InstanceInfo [3572,3584]
            VariableDeclarationFragment [3586,3623]
                SimpleName: registry [3586,3594]
                MethodInvocation [3597,3623]
                    SimpleName: registryOf [3597,3607]
                    METHOD_INVOCATION_ARGUMENTS [3608,3622]
                        SimpleName: writeServerIdx [3608,3622]
        VariableDeclarationStatement [3636,3691]
            Modifier: final [3636,3641]
            SimpleType [3642,3656]
                SimpleName: CountDownLatch [3642,3656]
            VariableDeclarationFragment [3657,3690]
                SimpleName: latch [3657,3662]
                ClassInstanceCreation [3665,3690]
                    SimpleType [3669,3683]
                        SimpleName: CountDownLatch [3669,3683]
                    SimpleName: count [3684,3689]
        ExpressionStatement [3703,4141]
            MethodInvocation [3703,4140]
                METHOD_INVOCATION_RECEIVER [3703,3759]
                    MethodInvocation [3703,3759]
                        METHOD_INVOCATION_RECEIVER [3703,3711]
                            SimpleName: registry [3703,3711]
                        SimpleName: forInterest [3712,3723]
                        METHOD_INVOCATION_ARGUMENTS [3724,3758]
                            MethodInvocation [3724,3758]
                                METHOD_INVOCATION_RECEIVER [3724,3733]
                                    SimpleName: Interests [3724,3733]
                                SimpleName: forApplications [3734,3749]
                                METHOD_INVOCATION_ARGUMENTS [3750,3757]
                                    SimpleName: appName [3750,3757]
                SimpleName: subscribe [3778,3787]
                METHOD_INVOCATION_ARGUMENTS [3788,4139]
                    ClassInstanceCreation [3788,4139]
                        ParameterizedType [3792,3833]
                            SimpleType [3792,3799]
                                SimpleName: Action1 [3792,3799]
                            ParameterizedType [3800,3832]
                                SimpleType [3800,3818]
                                    SimpleName: ChangeNotification [3800,3818]
                                SimpleType [3819,3831]
                                    SimpleName: InstanceInfo [3819,3831]
                        AnonymousClassDeclaration [3836,4139]
                            MethodDeclaration [3859,4120]
                                MarkerAnnotation [3859,3868]
                                    SimpleName: Override [3860,3868]
                                Modifier: public [3890,3896]
                                PrimitiveType: void [3897,3901]
                                SimpleName: call [3902,3906]
                                SingleVariableDeclaration [3907,3952]
                                    ParameterizedType [3907,3939]
                                        SimpleType [3907,3925]
                                            SimpleName: ChangeNotification [3907,3925]
                                        SimpleType [3926,3938]
                                            SimpleName: InstanceInfo [3926,3938]
                                    SimpleName: notification [3940,3952]
                                Block [3954,4120]
                                    IfStatement [3981,4097]
                                        InfixExpression [3985,4019]
                                            MethodInvocation [3985,4007]
                                                METHOD_INVOCATION_RECEIVER [3985,3997]
                                                    SimpleName: notification [3985,3997]
                                                SimpleName: getKind [3998,4005]
                                            INFIX_EXPRESSION_OPERATOR: == [4008,4010]
                                            QualifiedName: Kind.Add [4011,4019]
                                        Block [4021,4097]
                                            ExpressionStatement [4052,4070]
                                                MethodInvocation [4052,4069]
                                                    METHOD_INVOCATION_RECEIVER [4052,4057]
                                                        SimpleName: latch [4052,4057]
                                                    SimpleName: countDown [4058,4067]
        ExpressionStatement [4153,4238]
            MethodInvocation [4153,4237]
                SimpleName: assertTrue [4153,4163]
                METHOD_INVOCATION_ARGUMENTS [4164,4236]
                    StringLiteral: "Registry not ready in time" [4164,4192]
                    MethodInvocation [4194,4236]
                        METHOD_INVOCATION_RECEIVER [4194,4199]
                            SimpleName: latch [4194,4199]
                        SimpleName: await [4200,4205]
                        METHOD_INVOCATION_ARGUMENTS [4206,4235]
                            SimpleName: TIMEOUT_SEC [4206,4217]
                            QualifiedName: TimeUnit.SECONDS [4219,4235]
to
TypeDeclaration [984,3041]
at 9
===
insert-node
---
MethodDeclaration [4253,5227]
to
TypeDeclaration [984,3041]
at 10
===
insert-tree
---
MethodDeclaration [5235,5468]
    Modifier: private [5235,5242]
    ParameterizedType [5243,5278]
        SimpleType [5243,5264]
            SimpleName: SourcedEurekaRegistry [5243,5264]
        SimpleType [5265,5277]
            SimpleName: InstanceInfo [5265,5277]
    SimpleName: registryOf [5279,5289]
    SingleVariableDeclaration [5290,5308]
        PrimitiveType: int [5290,5293]
        SimpleName: writeServerIdx [5294,5308]
    Block [5310,5468]
        VariableDeclarationStatement [5321,5411]
            SimpleType [5321,5340]
                SimpleName: EmbeddedWriteServer [5321,5340]
            VariableDeclarationFragment [5341,5410]
                SimpleName: server [5341,5347]
                MethodInvocation [5350,5410]
                    METHOD_INVOCATION_RECEIVER [5350,5384]
                        MethodInvocation [5350,5384]
                            METHOD_INVOCATION_RECEIVER [5350,5366]
                                SimpleName: eurekaDeployment [5350,5366]
                            SimpleName: getWriteCluster [5367,5382]
                    SimpleName: getServer [5385,5394]
                    METHOD_INVOCATION_ARGUMENTS [5395,5409]
                        SimpleName: writeServerIdx [5395,5409]
        ReturnStatement [5421,5461]
            MethodInvocation [5428,5460]
                METHOD_INVOCATION_RECEIVER [5428,5434]
                    SimpleName: server [5428,5434]
                SimpleName: getEurekaServerRegistry [5435,5458]
to
TypeDeclaration [984,3041]
at 11
===
insert-tree
---
Javadoc [7266,7297]
    TagElement [7274,7292]
        TextElement:  Tomasz Bak [7281,7292]
to
TypeDeclaration [7266,11342]
at 0
===
move-tree
---
SingleMemberAnnotation [4389,4421]
    SimpleName: Category [4390,4398]
    TypeLiteral [4399,4420]
        SimpleType [4399,4414]
            SimpleName: IntegrationTest [4399,4414]
to
TypeDeclaration [7266,11342]
at 1
===
insert-node
---
Modifier: public [7333,7339]
to
TypeDeclaration [7266,11342]
at 2
===
insert-node
---
TYPE_DECLARATION_KIND: class [7340,7345]
to
TypeDeclaration [7266,11342]
at 3
===
insert-node
---
SimpleName: EurekaClientFailoverTest [7346,7370]
to
TypeDeclaration [7266,11342]
at 4
===
insert-tree
---
FieldDeclaration [7380,7465]
    Modifier: private [7380,7387]
    Modifier: static [7388,7394]
    Modifier: final [7395,7400]
    SimpleType [7401,7413]
        SimpleName: InstanceInfo [7401,7413]
    VariableDeclarationFragment [7414,7464]
        SimpleName: INSTANCE_UP [7414,7425]
        MethodInvocation [7428,7464]
            METHOD_INVOCATION_RECEIVER [7428,7456]
                QualifiedName: SampleInstanceInfo.WebServer [7428,7456]
            SimpleName: build [7457,7462]
to
TypeDeclaration [7266,11342]
at 5
===
insert-tree
---
FieldDeclaration [7471,7610]
    Modifier: private [7471,7478]
    Modifier: static [7479,7485]
    Modifier: final [7486,7491]
    SimpleType [7492,7504]
        SimpleName: InstanceInfo [7492,7504]
    VariableDeclarationFragment [7505,7609]
        SimpleName: INSTANCE_DOWN [7505,7518]
        MethodInvocation [7521,7609]
            METHOD_INVOCATION_RECEIVER [7521,7601]
                MethodInvocation [7521,7601]
                    METHOD_INVOCATION_RECEIVER [7521,7577]
                        MethodInvocation [7521,7577]
                            METHOD_INVOCATION_RECEIVER [7521,7547]
                                ClassInstanceCreation [7521,7547]
                                    SimpleType [7525,7545]
                                        QualifiedName: InstanceInfo.Builder [7525,7545]
                            SimpleName: withInstanceInfo [7548,7564]
                            METHOD_INVOCATION_ARGUMENTS [7565,7576]
                                SimpleName: INSTANCE_UP [7565,7576]
                    SimpleName: withStatus [7578,7588]
                    METHOD_INVOCATION_ARGUMENTS [7589,7600]
                        QualifiedName: Status.DOWN [7589,7600]
            SimpleName: build [7602,7607]
to
TypeDeclaration [7266,11342]
at 6
===
insert-node
---
FieldDeclaration [7618,7772]
to
TypeDeclaration [7266,11342]
at 7
===
insert-tree
---
FieldDeclaration [7780,7816]
    Modifier: private [7780,7787]
    SimpleType [7788,7801]
        SimpleName: NetworkRouter [7788,7801]
    VariableDeclarationFragment [7802,7815]
        SimpleName: networkRouter [7802,7815]
to
TypeDeclaration [7266,11342]
at 8
===
insert-tree
---
FieldDeclaration [7822,7864]
    Modifier: private [7822,7829]
    SimpleType [7830,7850]
        SimpleName: EmbeddedWriteCluster [7830,7850]
    VariableDeclarationFragment [7851,7863]
        SimpleName: writeCluster [7851,7863]
to
TypeDeclaration [7266,11342]
at 9
===
insert-tree
---
FieldDeclaration [7870,7910]
    Modifier: private [7870,7877]
    SimpleType [7878,7897]
        SimpleName: EmbeddedReadCluster [7878,7897]
    VariableDeclarationFragment [7898,7909]
        SimpleName: readCluster [7898,7909]
to
TypeDeclaration [7266,11342]
at 10
===
insert-tree
---
MethodDeclaration [7918,8246]
    MarkerAnnotation [7918,7925]
        SimpleName: Before [7919,7925]
    Modifier: public [7931,7937]
    PrimitiveType: void [7938,7942]
    SimpleName: setUp [7943,7948]
    SimpleType [7958,7967]
        SimpleName: Exception [7958,7967]
    Block [7968,8246]
        ExpressionStatement [7979,8061]
            Assignment [7979,8060]
                SimpleName: networkRouter [7979,7992]
                ASSIGNMENT_OPERATOR: = [7993,7994]
                MethodInvocation [7995,8060]
                    METHOD_INVOCATION_RECEIVER [7995,8041]
                        MethodInvocation [7995,8041]
                            METHOD_INVOCATION_RECEIVER [7995,8019]
                                SimpleName: eurekaDeploymentResource [7995,8019]
                            SimpleName: getEurekaDeployment [8020,8039]
                    SimpleName: getNetworkRouter [8042,8058]
        ExpressionStatement [8071,8151]
            Assignment [8071,8150]
                SimpleName: writeCluster [8071,8083]
                ASSIGNMENT_OPERATOR: = [8084,8085]
                MethodInvocation [8086,8150]
                    METHOD_INVOCATION_RECEIVER [8086,8132]
                        MethodInvocation [8086,8132]
                            METHOD_INVOCATION_RECEIVER [8086,8110]
                                SimpleName: eurekaDeploymentResource [8086,8110]
                            SimpleName: getEurekaDeployment [8111,8130]
                    SimpleName: getWriteCluster [8133,8148]
        ExpressionStatement [8161,8239]
            Assignment [8161,8238]
                SimpleName: readCluster [8161,8172]
                ASSIGNMENT_OPERATOR: = [8173,8174]
                MethodInvocation [8175,8238]
                    METHOD_INVOCATION_RECEIVER [8175,8221]
                        MethodInvocation [8175,8221]
                            METHOD_INVOCATION_RECEIVER [8175,8199]
                                SimpleName: eurekaDeploymentResource [8175,8199]
                            SimpleName: getEurekaDeployment [8200,8219]
                    SimpleName: getReadCluster [8222,8236]
to
TypeDeclaration [7266,11342]
at 11
===
insert-tree
---
MethodDeclaration [8254,9096]
    MarkerAnnotation [8254,8259]
        SimpleName: Test [8255,8259]
    Modifier: public [8265,8271]
    PrimitiveType: void [8272,8276]
    SimpleName: testRegistrationFailover [8277,8301]
    SimpleType [8311,8320]
        SimpleName: Exception [8311,8320]
    Block [8321,9096]
        ExpressionStatement [8332,9089]
            MethodInvocation [8332,9088]
                SimpleName: executeFailoverTest [8332,8351]
                METHOD_INVOCATION_ARGUMENTS [8352,9087]
                    ClassInstanceCreation [8352,9087]
                        SimpleType [8356,8364]
                            SimpleName: Runnable [8356,8364]
                        AnonymousClassDeclaration [8367,9087]
                            MethodDeclaration [8382,9076]
                                MarkerAnnotation [8382,8391]
                                    SimpleName: Override [8383,8391]
                                Modifier: public [8405,8411]
                                PrimitiveType: void [8412,8416]
                                SimpleName: run [8417,8420]
                                Block [8423,9076]
                                    ExpressionStatement [8537,8565]
                                        MethodInvocation [8537,8564]
                                            METHOD_INVOCATION_RECEIVER [8537,8549]
                                                SimpleName: writeCluster [8537,8549]
                                            SimpleName: scaleUpByOne [8550,8562]
                                    VariableDeclarationStatement [8583,8687]
                                        SimpleType [8583,8594]
                                            SimpleName: NetworkLink [8583,8594]
                                        VariableDeclarationFragment [8595,8686]
                                            SimpleName: registrationLink [8595,8611]
                                            MethodInvocation [8614,8686]
                                                METHOD_INVOCATION_RECEIVER [8614,8627]
                                                    SimpleName: networkRouter [8614,8627]
                                                SimpleName: getLinkTo [8628,8637]
                                                METHOD_INVOCATION_ARGUMENTS [8638,8685]
                                                    MethodInvocation [8638,8685]
                                                        METHOD_INVOCATION_RECEIVER [8638,8663]
                                                            MethodInvocation [8638,8663]
                                                                METHOD_INVOCATION_RECEIVER [8638,8650]
                                                                    SimpleName: writeCluster [8638,8650]
                                                                SimpleName: getServer [8651,8660]
                                                                METHOD_INVOCATION_ARGUMENTS [8661,8662]
                                                                    NumberLiteral: 0 [8661,8662]
                                                        SimpleName: getRegistrationPort [8664,8683]
                                    VariableDeclarationStatement [8705,8802]
                                        SimpleType [8705,8716]
                                            SimpleName: NetworkLink [8705,8716]
                                        VariableDeclarationFragment [8717,8801]
                                            SimpleName: interestLink [8717,8729]
                                            MethodInvocation [8732,8801]
                                                METHOD_INVOCATION_RECEIVER [8732,8745]
                                                    SimpleName: networkRouter [8732,8745]
                                                SimpleName: getLinkTo [8746,8755]
                                                METHOD_INVOCATION_ARGUMENTS [8756,8800]
                                                    MethodInvocation [8756,8800]
                                                        METHOD_INVOCATION_RECEIVER [8756,8781]
                                                            MethodInvocation [8756,8781]
                                                                METHOD_INVOCATION_RECEIVER [8756,8768]
                                                                    SimpleName: writeCluster [8756,8768]
                                                                SimpleName: getServer [8769,8778]
                                                                METHOD_INVOCATION_ARGUMENTS [8779,8780]
                                                                    NumberLiteral: 0 [8779,8780]
                                                        SimpleName: getDiscoveryPort [8782,8798]
                                    VariableDeclarationStatement [8820,8922]
                                        SimpleType [8820,8831]
                                            SimpleName: NetworkLink [8820,8831]
                                        VariableDeclarationFragment [8832,8921]
                                            SimpleName: replicationLink [8832,8847]
                                            MethodInvocation [8850,8921]
                                                METHOD_INVOCATION_RECEIVER [8850,8863]
                                                    SimpleName: networkRouter [8850,8863]
                                                SimpleName: getLinkTo [8864,8873]
                                                METHOD_INVOCATION_ARGUMENTS [8874,8920]
                                                    MethodInvocation [8874,8920]
                                                        METHOD_INVOCATION_RECEIVER [8874,8899]
                                                            MethodInvocation [8874,8899]
                                                                METHOD_INVOCATION_RECEIVER [8874,8886]
                                                                    SimpleName: writeCluster [8874,8886]
                                                                SimpleName: getServer [8887,8896]
                                                                METHOD_INVOCATION_ARGUMENTS [8897,8898]
                                                                    NumberLiteral: 0 [8897,8898]
                                                        SimpleName: getReplicationPort [8900,8918]
                                    ExpressionStatement [8940,8970]
                                        MethodInvocation [8940,8969]
                                            METHOD_INVOCATION_RECEIVER [8940,8956]
                                                SimpleName: registrationLink [8940,8956]
                                            SimpleName: disconnect [8957,8967]
                                    ExpressionStatement [8988,9014]
                                        MethodInvocation [8988,9013]
                                            METHOD_INVOCATION_RECEIVER [8988,9000]
                                                SimpleName: interestLink [8988,9000]
                                            SimpleName: disconnect [9001,9011]
                                    ExpressionStatement [9032,9061]
                                        MethodInvocation [9032,9060]
                                            METHOD_INVOCATION_RECEIVER [9032,9047]
                                                SimpleName: replicationLink [9032,9047]
                                            SimpleName: disconnect [9048,9058]
to
TypeDeclaration [7266,11342]
at 12
===
insert-tree
---
MethodDeclaration [9104,9611]
    MarkerAnnotation [9104,9109]
        SimpleName: Test [9105,9109]
    Modifier: public [9115,9121]
    PrimitiveType: void [9122,9126]
    SimpleName: testInterestFailover [9127,9147]
    SimpleType [9157,9166]
        SimpleName: Exception [9157,9166]
    Block [9167,9611]
        ExpressionStatement [9178,9604]
            MethodInvocation [9178,9603]
                SimpleName: executeFailoverTest [9178,9197]
                METHOD_INVOCATION_ARGUMENTS [9198,9602]
                    ClassInstanceCreation [9198,9602]
                        SimpleType [9202,9210]
                            SimpleName: Runnable [9202,9210]
                        AnonymousClassDeclaration [9213,9602]
                            MethodDeclaration [9228,9591]
                                MarkerAnnotation [9228,9237]
                                    SimpleName: Override [9229,9237]
                                Modifier: public [9251,9257]
                                PrimitiveType: void [9258,9262]
                                SimpleName: run [9263,9266]
                                Block [9269,9591]
                                    ExpressionStatement [9393,9420]
                                        MethodInvocation [9393,9419]
                                            METHOD_INVOCATION_RECEIVER [9393,9404]
                                                SimpleName: readCluster [9393,9404]
                                            SimpleName: scaleUpByOne [9405,9417]
                                    VariableDeclarationStatement [9438,9533]
                                        SimpleType [9438,9449]
                                            SimpleName: NetworkLink [9438,9449]
                                        VariableDeclarationFragment [9450,9532]
                                            SimpleName: networkLink [9450,9461]
                                            MethodInvocation [9464,9532]
                                                METHOD_INVOCATION_RECEIVER [9464,9477]
                                                    SimpleName: networkRouter [9464,9477]
                                                SimpleName: getLinkTo [9478,9487]
                                                METHOD_INVOCATION_ARGUMENTS [9488,9531]
                                                    MethodInvocation [9488,9531]
                                                        METHOD_INVOCATION_RECEIVER [9488,9512]
                                                            MethodInvocation [9488,9512]
                                                                METHOD_INVOCATION_RECEIVER [9488,9499]
                                                                    SimpleName: readCluster [9488,9499]
                                                                SimpleName: getServer [9500,9509]
                                                                METHOD_INVOCATION_ARGUMENTS [9510,9511]
                                                                    NumberLiteral: 0 [9510,9511]
                                                        SimpleName: getDiscoveryPort [9513,9529]
                                    ExpressionStatement [9551,9576]
                                        MethodInvocation [9551,9575]
                                            METHOD_INVOCATION_RECEIVER [9551,9562]
                                                SimpleName: networkLink [9551,9562]
                                            SimpleName: disconnect [9563,9573]
to
TypeDeclaration [7266,11342]
at 13
===
insert-tree
---
MethodDeclaration [9619,10767]
    Modifier: private [9619,9626]
    PrimitiveType: void [9627,9631]
    SimpleName: executeFailoverTest [9632,9651]
    SingleVariableDeclaration [9652,9676]
        SimpleType [9652,9660]
            SimpleName: Runnable [9652,9660]
        SimpleName: failureInjector [9661,9676]
    SimpleType [9685,9694]
        SimpleName: Exception [9685,9694]
    Block [9695,10767]
        VariableDeclarationStatement [9761,9859]
            ParameterizedType [9761,9812]
                SimpleType [9761,9778]
                    SimpleName: ExtTestSubscriber [9761,9778]
                ParameterizedType [9779,9811]
                    SimpleType [9779,9797]
                        SimpleName: ChangeNotification [9779,9797]
                    SimpleType [9798,9810]
                        SimpleName: InstanceInfo [9798,9810]
            VariableDeclarationFragment [9813,9858]
                SimpleName: interestSubscriber [9813,9831]
                MethodInvocation [9834,9858]
                    SimpleName: subscribeTo [9834,9845]
                    METHOD_INVOCATION_ARGUMENTS [9846,9857]
                        SimpleName: INSTANCE_UP [9846,9857]
        VariableDeclarationStatement [9892,9967]
            ParameterizedType [9892,9920]
                SimpleType [9892,9906]
                    SimpleName: PublishSubject [9892,9906]
                SimpleType [9907,9919]
                    SimpleName: InstanceInfo [9907,9919]
            VariableDeclarationFragment [9921,9966]
                SimpleName: registrationSubject [9921,9940]
                MethodInvocation [9943,9966]
                    METHOD_INVOCATION_RECEIVER [9943,9957]
                        SimpleName: PublishSubject [9943,9957]
                    SimpleName: create [9958,9964]
        VariableDeclarationStatement [9977,10105]
            SimpleType [9977,10001]
                SimpleName: EurekaRegistrationClient [9977,10001]
            VariableDeclarationFragment [10002,10104]
                SimpleName: registrationClient [10002,10020]
                MethodInvocation [10023,10104]
                    METHOD_INVOCATION_RECEIVER [10023,10069]
                        MethodInvocation [10023,10069]
                            METHOD_INVOCATION_RECEIVER [10023,10047]
                                SimpleName: eurekaDeploymentResource [10023,10047]
                            SimpleName: getEurekaDeployment [10048,10067]
                    SimpleName: registrationClientToWriteCluster [10070,10102]
        VariableDeclarationStatement [10115,10216]
            SimpleType [10115,10127]
                SimpleName: Subscription [10115,10127]
            VariableDeclarationFragment [10128,10215]
                SimpleName: registrationSubscription [10128,10152]
                MethodInvocation [10155,10215]
                    METHOD_INVOCATION_RECEIVER [10155,10203]
                        MethodInvocation [10155,10203]
                            METHOD_INVOCATION_RECEIVER [10155,10173]
                                SimpleName: registrationClient [10155,10173]
                            SimpleName: register [10174,10182]
                            METHOD_INVOCATION_ARGUMENTS [10183,10202]
                                SimpleName: registrationSubject [10183,10202]
                    SimpleName: subscribe [10204,10213]
        ExpressionStatement [10226,10266]
            MethodInvocation [10226,10265]
                METHOD_INVOCATION_RECEIVER [10226,10245]
                    SimpleName: registrationSubject [10226,10245]
                SimpleName: onNext [10246,10252]
                METHOD_INVOCATION_ARGUMENTS [10253,10264]
                    SimpleName: INSTANCE_UP [10253,10264]
        ExpressionStatement [10278,10382]
            MethodInvocation [10278,10381]
                SimpleName: assertThat [10278,10288]
                METHOD_INVOCATION_ARGUMENTS [10289,10380]
                    MethodInvocation [10289,10338]
                        METHOD_INVOCATION_RECEIVER [10289,10307]
                            SimpleName: interestSubscriber [10289,10307]
                        SimpleName: takeNext [10308,10316]
                        METHOD_INVOCATION_ARGUMENTS [10317,10337]
                            NumberLiteral: 60 [10317,10319]
                            QualifiedName: TimeUnit.SECONDS [10321,10337]
                    MethodInvocation [10340,10380]
                        SimpleName: is [10340,10342]
                        METHOD_INVOCATION_ARGUMENTS [10343,10379]
                            MethodInvocation [10343,10379]
                                SimpleName: addChangeNotificationOf [10343,10366]
                                METHOD_INVOCATION_ARGUMENTS [10367,10378]
                                    SimpleName: INSTANCE_UP [10367,10378]
        ExpressionStatement [10421,10443]
            MethodInvocation [10421,10442]
                METHOD_INVOCATION_RECEIVER [10421,10436]
                    SimpleName: failureInjector [10421,10436]
                SimpleName: run [10437,10440]
        ExpressionStatement [10522,10564]
            MethodInvocation [10522,10563]
                METHOD_INVOCATION_RECEIVER [10522,10541]
                    SimpleName: registrationSubject [10522,10541]
                SimpleName: onNext [10542,10548]
                METHOD_INVOCATION_ARGUMENTS [10549,10562]
                    SimpleName: INSTANCE_DOWN [10549,10562]
        ExpressionStatement [10576,10641]
            MethodInvocation [10576,10640]
                SimpleName: assertThat [10576,10586]
                METHOD_INVOCATION_ARGUMENTS [10587,10639]
                    MethodInvocation [10587,10628]
                        METHOD_INVOCATION_RECEIVER [10587,10611]
                            SimpleName: registrationSubscription [10587,10611]
                        SimpleName: isUnsubscribed [10612,10626]
                    MethodInvocation [10630,10639]
                        SimpleName: is [10630,10632]
                        METHOD_INVOCATION_ARGUMENTS [10633,10638]
                            BooleanLiteral: false [10633,10638]
        ExpressionStatement [10651,10760]
            MethodInvocation [10651,10759]
                SimpleName: assertThat [10651,10661]
                METHOD_INVOCATION_ARGUMENTS [10662,10758]
                    MethodInvocation [10662,10711]
                        METHOD_INVOCATION_RECEIVER [10662,10680]
                            SimpleName: interestSubscriber [10662,10680]
                        SimpleName: takeNext [10681,10689]
                        METHOD_INVOCATION_ARGUMENTS [10690,10710]
                            NumberLiteral: 60 [10690,10692]
                            QualifiedName: TimeUnit.SECONDS [10694,10710]
                    MethodInvocation [10713,10758]
                        SimpleName: is [10713,10715]
                        METHOD_INVOCATION_ARGUMENTS [10716,10757]
                            MethodInvocation [10716,10757]
                                SimpleName: modifyChangeNotificationOf [10716,10742]
                                METHOD_INVOCATION_ARGUMENTS [10743,10756]
                                    SimpleName: INSTANCE_DOWN [10743,10756]
to
TypeDeclaration [7266,11342]
at 14
===
insert-tree
---
MethodDeclaration [10775,11339]
    Modifier: private [10775,10782]
    ParameterizedType [10783,10834]
        SimpleType [10783,10800]
            SimpleName: ExtTestSubscriber [10783,10800]
        ParameterizedType [10801,10833]
            SimpleType [10801,10819]
                SimpleName: ChangeNotification [10801,10819]
            SimpleType [10820,10832]
                SimpleName: InstanceInfo [10820,10832]
    SimpleName: subscribeTo [10835,10846]
    SingleVariableDeclaration [10847,10872]
        SimpleType [10847,10859]
            SimpleName: InstanceInfo [10847,10859]
        SimpleName: instanceInfo [10860,10872]
    Block [10874,11339]
        VariableDeclarationStatement [10885,10997]
            SimpleType [10885,10905]
                SimpleName: EurekaInterestClient [10885,10905]
            VariableDeclarationFragment [10906,10996]
                SimpleName: interestClient [10906,10920]
                MethodInvocation [10923,10996]
                    METHOD_INVOCATION_RECEIVER [10923,10969]
                        MethodInvocation [10923,10969]
                            METHOD_INVOCATION_RECEIVER [10923,10947]
                                SimpleName: eurekaDeploymentResource [10923,10947]
                            SimpleName: getEurekaDeployment [10948,10967]
                    SimpleName: cannonicalInterestClient [10970,10994]
        VariableDeclarationStatement [11007,11106]
            ParameterizedType [11007,11058]
                SimpleType [11007,11024]
                    SimpleName: ExtTestSubscriber [11007,11024]
                ParameterizedType [11025,11057]
                    SimpleType [11025,11043]
                        SimpleName: ChangeNotification [11025,11043]
                    SimpleType [11044,11056]
                        SimpleName: InstanceInfo [11044,11056]
            VariableDeclarationFragment [11059,11105]
                SimpleName: interestSubscriber [11059,11077]
                ClassInstanceCreation [11080,11105]
                    ParameterizedType [11084,11103]
                        SimpleType [11084,11101]
                            SimpleName: ExtTestSubscriber [11084,11101]
        ExpressionStatement [11116,11296]
            MethodInvocation [11116,11295]
                METHOD_INVOCATION_RECEIVER [11116,11247]
                    MethodInvocation [11116,11247]
                        METHOD_INVOCATION_RECEIVER [11116,11204]
                            MethodInvocation [11116,11204]
                                METHOD_INVOCATION_RECEIVER [11116,11130]
                                    SimpleName: interestClient [11116,11130]
                                SimpleName: forInterest [11131,11142]
                                METHOD_INVOCATION_ARGUMENTS [11143,11203]
                                    MethodInvocation [11143,11203]
                                        METHOD_INVOCATION_RECEIVER [11143,11152]
                                            SimpleName: Interests [11143,11152]
                                        SimpleName: forInstance [11153,11164]
                                        METHOD_INVOCATION_ARGUMENTS [11165,11202]
                                            QualifiedName: Operator.Equals [11165,11180]
                                            MethodInvocation [11182,11202]
                                                METHOD_INVOCATION_RECEIVER [11182,11194]
                                                    SimpleName: instanceInfo [11182,11194]
                                                SimpleName: getId [11195,11200]
                        SimpleName: filter [11223,11229]
                        METHOD_INVOCATION_ARGUMENTS [11230,11246]
                            MethodInvocation [11230,11246]
                                SimpleName: dataOnlyFilter [11230,11244]
                SimpleName: subscribe [11266,11275]
                METHOD_INVOCATION_ARGUMENTS [11276,11294]
                    SimpleName: interestSubscriber [11276,11294]
        ReturnStatement [11306,11332]
            SimpleName: interestSubscriber [11313,11331]
to
TypeDeclaration [7266,11342]
at 15
===
insert-tree
---
SingleMemberAnnotation [12691,12749]
    SimpleName: Category [12692,12700]
    ArrayInitializer [12701,12748]
        TypeLiteral [12702,12723]
            SimpleType [12702,12717]
                SimpleName: IntegrationTest [12702,12717]
        TypeLiteral [12725,12747]
            SimpleType [12725,12741]
                SimpleName: ExperimentalTest [12725,12741]
to
TypeDeclaration [4357,8909]
at 0
===
insert-tree
---
FieldDeclaration [22119,22161]
    Modifier: private [22119,22126]
    SimpleType [22127,22143]
        SimpleName: EurekaDeployment [22127,22143]
    VariableDeclarationFragment [22144,22160]
        SimpleName: eurekaDeployment [22144,22160]
to
TypeDeclaration [13188,14870]
at 6
===
insert-node
---
MethodDeclaration [23693,24778]
to
TypeDeclaration [13188,14870]
at 13
===
insert-tree
---
SingleMemberAnnotation [25774,25832]
    SimpleName: Category [25775,25783]
    ArrayInitializer [25784,25831]
        TypeLiteral [25785,25806]
            SimpleType [25785,25800]
                SimpleName: IntegrationTest [25785,25800]
        TypeLiteral [25808,25830]
            SimpleType [25808,25824]
                SimpleName: ExperimentalTest [25808,25824]
to
TypeDeclaration [25774,27969]
at 0
===
insert-node
---
Modifier: public [25834,25840]
to
TypeDeclaration [25774,27969]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [25841,25846]
to
TypeDeclaration [25774,27969]
at 2
===
insert-node
---
SimpleName: EvictionInReplicationChannelTest [25847,25879]
to
TypeDeclaration [25774,27969]
at 3
===
insert-tree
---
FieldDeclaration [25889,25932]
    Modifier: private [25889,25896]
    Modifier: static [25897,25903]
    Modifier: final [25904,25909]
    PrimitiveType: int [25910,25913]
    VariableDeclarationFragment [25914,25931]
        SimpleName: CLUSTER_SIZE [25914,25926]
        NumberLiteral: 20 [25929,25931]
to
TypeDeclaration [25774,27969]
at 4
===
insert-node
---
FieldDeclaration [25940,26094]
to
TypeDeclaration [25774,27969]
at 5
===
insert-tree
---
FieldDeclaration [26102,26144]
    Modifier: private [26102,26109]
    SimpleType [26110,26126]
        SimpleName: EurekaDeployment [26110,26126]
    VariableDeclarationFragment [26127,26143]
        SimpleName: eurekaDeployment [26127,26143]
to
TypeDeclaration [25774,27969]
at 6
===
insert-tree
---
FieldDeclaration [26152,26208]
    Modifier: private [26152,26159]
    SimpleType [26160,26183]
        SimpleName: EurekaDeploymentClients [26160,26183]
    VariableDeclarationFragment [26184,26207]
        SimpleName: eurekaDeploymentClients [26184,26207]
to
TypeDeclaration [25774,27969]
at 7
===
insert-tree
---
MethodDeclaration [26216,26432]
    MarkerAnnotation [26216,26223]
        SimpleName: Before [26217,26223]
    Modifier: public [26229,26235]
    PrimitiveType: void [26236,26240]
    SimpleName: setUp [26241,26246]
    SimpleType [26256,26265]
        SimpleName: Exception [26256,26265]
    Block [26266,26432]
        ExpressionStatement [26277,26343]
            Assignment [26277,26342]
                SimpleName: eurekaDeployment [26277,26293]
                ASSIGNMENT_OPERATOR: = [26294,26295]
                MethodInvocation [26296,26342]
                    METHOD_INVOCATION_RECEIVER [26296,26320]
                        SimpleName: eurekaDeploymentResource [26296,26320]
                    SimpleName: getEurekaDeployment [26321,26340]
        ExpressionStatement [26353,26425]
            Assignment [26353,26424]
                SimpleName: eurekaDeploymentClients [26353,26376]
                ASSIGNMENT_OPERATOR: = [26377,26378]
                ClassInstanceCreation [26379,26424]
                    SimpleType [26383,26406]
                        SimpleName: EurekaDeploymentClients [26383,26406]
                    SimpleName: eurekaDeployment [26407,26423]
to
TypeDeclaration [25774,27969]
at 8
===
insert-tree
---
MethodDeclaration [26440,27966]
    Javadoc [26440,26596]
        TagElement [26452,26587]
            TextElement: Disconnecting a replication channel and connecting it again should leave the system in [26452,26538]
            TextElement: clean state with no stale registrations. [26547,26587]
    MarkerAnnotation [26602,26607]
        SimpleName: Test [26603,26607]
    Modifier: public [26613,26619]
    PrimitiveType: void [26620,26624]
    SimpleName: testRegistryEvictionOnReplicationChannelReconnect [26625,26674]
    SimpleType [26684,26693]
        SimpleName: Exception [26684,26693]
    Block [26694,27966]
        VariableDeclarationStatement [26789,26855]
            SimpleType [26789,26801]
                SimpleName: InstanceInfo [26789,26801]
            VariableDeclarationFragment [26802,26854]
                SimpleName: firstTemplate [26802,26815]
                MethodInvocation [26818,26854]
                    METHOD_INVOCATION_RECEIVER [26818,26846]
                        QualifiedName: SampleInstanceInfo.WebServer [26818,26846]
                    SimpleName: build [26847,26852]
        ExpressionStatement [26865,26944]
            MethodInvocation [26865,26943]
                METHOD_INVOCATION_RECEIVER [26865,26888]
                    SimpleName: eurekaDeploymentClients [26865,26888]
                SimpleName: fillUpRegistryOfServer [26889,26911]
                METHOD_INVOCATION_ARGUMENTS [26912,26942]
                    NumberLiteral: 1 [26912,26913]
                    SimpleName: CLUSTER_SIZE [26915,26927]
                    SimpleName: firstTemplate [26929,26942]
        ExpressionStatement [26954,27052]
            MethodInvocation [26954,27051]
                METHOD_INVOCATION_RECEIVER [26954,26977]
                    SimpleName: eurekaDeploymentClients [26954,26977]
                SimpleName: verifyWriteServerRegistryContent [26978,27010]
                METHOD_INVOCATION_ARGUMENTS [27011,27050]
                    NumberLiteral: 0 [27011,27012]
                    MethodInvocation [27014,27036]
                        METHOD_INVOCATION_RECEIVER [27014,27027]
                            SimpleName: firstTemplate [27014,27027]
                        SimpleName: getApp [27028,27034]
                    SimpleName: CLUSTER_SIZE [27038,27050]
        VariableDeclarationStatement [27105,27269]
            SimpleType [27105,27116]
                SimpleName: NetworkLink [27105,27116]
            VariableDeclarationFragment [27117,27268]
                SimpleName: replicationLink [27117,27132]
                MethodInvocation [27135,27268]
                    METHOD_INVOCATION_RECEIVER [27135,27170]
                        MethodInvocation [27135,27170]
                            METHOD_INVOCATION_RECEIVER [27135,27151]
                                SimpleName: eurekaDeployment [27135,27151]
                            SimpleName: getNetworkRouter [27152,27168]
                    SimpleName: getLinkTo [27189,27198]
                    METHOD_INVOCATION_ARGUMENTS [27199,27267]
                        MethodInvocation [27199,27267]
                            METHOD_INVOCATION_RECEIVER [27199,27246]
                                MethodInvocation [27199,27246]
                                    METHOD_INVOCATION_RECEIVER [27199,27233]
                                        MethodInvocation [27199,27233]
                                            METHOD_INVOCATION_RECEIVER [27199,27215]
                                                SimpleName: eurekaDeployment [27199,27215]
                                            SimpleName: getWriteCluster [27216,27231]
                                    SimpleName: getServer [27234,27243]
                                    METHOD_INVOCATION_ARGUMENTS [27244,27245]
                                        NumberLiteral: 0 [27244,27245]
                            SimpleName: getReplicationPort [27247,27265]
        ExpressionStatement [27279,27308]
            MethodInvocation [27279,27307]
                METHOD_INVOCATION_RECEIVER [27279,27294]
                    SimpleName: replicationLink [27279,27294]
                SimpleName: disconnect [27295,27305]
        VariableDeclarationStatement [27320,27385]
            SimpleType [27320,27332]
                SimpleName: InstanceInfo [27320,27332]
            VariableDeclarationFragment [27333,27384]
                SimpleName: secondTemplate [27333,27347]
                MethodInvocation [27350,27384]
                    METHOD_INVOCATION_RECEIVER [27350,27376]
                        QualifiedName: SampleInstanceInfo.Backend [27350,27376]
                    SimpleName: build [27377,27382]
        ExpressionStatement [27395,27475]
            MethodInvocation [27395,27474]
                METHOD_INVOCATION_RECEIVER [27395,27418]
                    SimpleName: eurekaDeploymentClients [27395,27418]
                SimpleName: fillUpRegistryOfServer [27419,27441]
                METHOD_INVOCATION_ARGUMENTS [27442,27473]
                    NumberLiteral: 1 [27442,27443]
                    SimpleName: CLUSTER_SIZE [27445,27457]
                    SimpleName: secondTemplate [27459,27473]
        ExpressionStatement [27487,27585]
            MethodInvocation [27487,27584]
                METHOD_INVOCATION_RECEIVER [27487,27510]
                    SimpleName: eurekaDeploymentClients [27487,27510]
                SimpleName: verifyWriteServerRegistryContent [27511,27543]
                METHOD_INVOCATION_ARGUMENTS [27544,27583]
                    NumberLiteral: 0 [27544,27545]
                    MethodInvocation [27547,27569]
                        METHOD_INVOCATION_RECEIVER [27547,27560]
                            SimpleName: firstTemplate [27547,27560]
                        SimpleName: getApp [27561,27567]
                    SimpleName: CLUSTER_SIZE [27571,27583]
        ExpressionStatement [27595,27678]
            MethodInvocation [27595,27677]
                METHOD_INVOCATION_RECEIVER [27595,27618]
                    SimpleName: eurekaDeploymentClients [27595,27618]
                SimpleName: verifyWriteServerHasNoInstance [27619,27649]
                METHOD_INVOCATION_ARGUMENTS [27650,27676]
                    NumberLiteral: 0 [27650,27651]
                    MethodInvocation [27653,27676]
                        METHOD_INVOCATION_RECEIVER [27653,27667]
                            SimpleName: secondTemplate [27653,27667]
                        SimpleName: getApp [27668,27674]
        ExpressionStatement [27730,27756]
            MethodInvocation [27730,27755]
                METHOD_INVOCATION_RECEIVER [27730,27745]
                    SimpleName: replicationLink [27730,27745]
                SimpleName: connect [27746,27753]
        ExpressionStatement [27768,27867]
            MethodInvocation [27768,27866]
                METHOD_INVOCATION_RECEIVER [27768,27791]
                    SimpleName: eurekaDeploymentClients [27768,27791]
                SimpleName: verifyWriteServerRegistryContent [27792,27824]
                METHOD_INVOCATION_ARGUMENTS [27825,27865]
                    NumberLiteral: 0 [27825,27826]
                    MethodInvocation [27828,27851]
                        METHOD_INVOCATION_RECEIVER [27828,27842]
                            SimpleName: secondTemplate [27828,27842]
                        SimpleName: getApp [27843,27849]
                    SimpleName: CLUSTER_SIZE [27853,27865]
        ExpressionStatement [27877,27959]
            MethodInvocation [27877,27958]
                METHOD_INVOCATION_RECEIVER [27877,27900]
                    SimpleName: eurekaDeploymentClients [27877,27900]
                SimpleName: verifyWriteServerHasNoInstance [27901,27931]
                METHOD_INVOCATION_ARGUMENTS [27932,27957]
                    NumberLiteral: 0 [27932,27933]
                    MethodInvocation [27935,27957]
                        METHOD_INVOCATION_RECEIVER [27935,27948]
                            SimpleName: firstTemplate [27935,27948]
                        SimpleName: getApp [27949,27955]
to
TypeDeclaration [25774,27969]
at 9
===
insert-node
---
Modifier: public [29742,29748]
to
TypeDeclaration [16138,27324]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [29749,29754]
to
TypeDeclaration [16138,27324]
at 2
===
insert-node
---
SimpleName: EurekaDeployment [29755,29771]
to
TypeDeclaration [16138,27324]
at 3
===
insert-tree
---
FieldDeclaration [30059,30101]
    Modifier: private [30059,30066]
    Modifier: final [30067,30072]
    SimpleType [30073,30086]
        SimpleName: NetworkRouter [30073,30086]
    VariableDeclarationFragment [30087,30100]
        SimpleName: networkRouter [30087,30100]
to
TypeDeclaration [16138,27324]
at 12
===
insert-tree
---
MethodDeclaration [31669,31748]
    Modifier: public [31669,31675]
    SimpleType [31676,31689]
        SimpleName: NetworkRouter [31676,31689]
    SimpleName: getNetworkRouter [31690,31706]
    Block [31709,31748]
        ReturnStatement [31720,31741]
            SimpleName: networkRouter [31727,31740]
to
TypeDeclaration [16138,27324]
at 21
===
insert-tree
---
FieldDeclaration [42954,42996]
    Modifier: private [42954,42961]
    Modifier: final [42962,42967]
    SimpleType [42968,42981]
        SimpleName: NetworkRouter [42968,42981]
    VariableDeclarationFragment [42982,42995]
        SimpleName: networkRouter [42982,42995]
to
TypeDeclaration [28152,32003]
at 13
===
insert-tree
---
FieldDeclaration [48333,48375]
    Modifier: private [48333,48340]
    Modifier: final [48341,48346]
    SimpleType [48347,48360]
        SimpleName: NetworkRouter [48347,48360]
    VariableDeclarationFragment [48361,48374]
        SimpleName: networkRouter [48361,48374]
to
TypeDeclaration [33190,41173]
at 11
===
insert-tree
---
FieldDeclaration [58527,58569]
    Modifier: private [58527,58534]
    Modifier: final [58535,58540]
    SimpleType [58541,58554]
        SimpleName: NetworkRouter [58541,58554]
    VariableDeclarationFragment [58555,58568]
        SimpleName: networkRouter [58555,58568]
to
TypeDeclaration [43250,46988]
at 8
===
move-tree
---
Javadoc [10042,10073]
    TagElement [10050,10068]
        TextElement:  Tomasz Bak [10057,10068]
to
TypeDeclaration [63281,64347]
at 0
===
insert-tree
---
MarkerAnnotation [63314,63324]
    SimpleName: Singleton [63315,63324]
to
TypeDeclaration [63281,64347]
at 1
===
insert-node
---
Modifier: public [63326,63332]
to
TypeDeclaration [63281,64347]
at 2
===
insert-node
---
TYPE_DECLARATION_KIND: class [63333,63338]
to
TypeDeclaration [63281,64347]
at 3
===
insert-node
---
SimpleName: EmbeddedTcpDiscoveryServer [63339,63365]
to
TypeDeclaration [63281,64347]
at 4
===
insert-tree
---
SimpleType [63374,63392]
    SimpleName: TcpDiscoveryServer [63374,63392]
to
TypeDeclaration [63281,64347]
at 5
===
insert-tree
---
FieldDeclaration [63402,63444]
    Modifier: private [63402,63409]
    Modifier: final [63410,63415]
    SimpleType [63416,63429]
        SimpleName: NetworkRouter [63416,63429]
    VariableDeclarationFragment [63430,63443]
        SimpleName: networkRouter [63430,63443]
to
TypeDeclaration [63281,64347]
at 6
===
insert-tree
---
FieldDeclaration [63450,63472]
    Modifier: private [63450,63457]
    PrimitiveType: int [63458,63461]
    VariableDeclarationFragment [63462,63471]
        SimpleName: proxyPort [63462,63471]
to
TypeDeclaration [63281,64347]
at 7
===
insert-tree
---
MethodDeclaration [63480,63953]
    MarkerAnnotation [63480,63487]
        SimpleName: Inject [63481,63487]
    Modifier: public [63493,63499]
    SimpleName: EmbeddedTcpDiscoveryServer [63500,63526]
    SingleVariableDeclaration [63527,63552]
        SimpleType [63527,63545]
            SimpleName: EurekaServerConfig [63527,63545]
        SimpleName: config [63546,63552]
    SingleVariableDeclaration [63593,63667]
        SingleMemberAnnotation [63593,63612]
            SimpleName: Named [63594,63599]
            StringLiteral: "discovery" [63600,63611]
        SimpleType [63613,63640]
            SimpleName: MetricEventsListenerFactory [63613,63640]
        SimpleName: servoEventsListenerFactory [63641,63667]
    SingleVariableDeclaration [63708,63757]
        ParameterizedType [63708,63737]
            SimpleType [63708,63716]
                SimpleName: Provider [63708,63716]
            SimpleType [63717,63736]
                SimpleName: TcpDiscoveryHandler [63717,63736]
        SimpleName: tcpDiscoveryHandler [63738,63757]
    SingleVariableDeclaration [63798,63825]
        SimpleType [63798,63811]
            SimpleName: NetworkRouter [63798,63811]
        SimpleName: networkRouter [63812,63825]
    Block [63827,63953]
        SuperConstructorInvocation [63838,63901]
            SimpleName: config [63844,63850]
            SimpleName: servoEventsListenerFactory [63852,63878]
            SimpleName: tcpDiscoveryHandler [63880,63899]
        ExpressionStatement [63911,63946]
            Assignment [63911,63945]
                FieldAccess [63911,63929]
                    ThisExpression [63911,63915]
                    SimpleName: networkRouter [63916,63929]
                ASSIGNMENT_OPERATOR: = [63930,63931]
                SimpleName: networkRouter [63932,63945]
to
TypeDeclaration [63281,64347]
at 8
===
insert-tree
---
MethodDeclaration [63961,64113]
    MarkerAnnotation [63961,63975]
        SimpleName: PostConstruct [63962,63975]
    MarkerAnnotation [63981,63990]
        SimpleName: Override [63982,63990]
    Modifier: public [63996,64002]
    PrimitiveType: void [64003,64007]
    SimpleName: start [64008,64013]
    Block [64016,64113]
        ExpressionStatement [64027,64041]
            SuperMethodInvocation [64027,64040]
                SimpleName: start [64033,64038]
        ExpressionStatement [64051,64106]
            Assignment [64051,64105]
                SimpleName: proxyPort [64051,64060]
                ASSIGNMENT_OPERATOR: = [64061,64062]
                MethodInvocation [64063,64105]
                    METHOD_INVOCATION_RECEIVER [64063,64076]
                        SimpleName: networkRouter [64063,64076]
                    SimpleName: bridgeTo [64077,64085]
                    METHOD_INVOCATION_ARGUMENTS [64086,64104]
                        SuperMethodInvocation [64086,64104]
                            SimpleName: serverPort [64092,64102]
to
TypeDeclaration [63281,64347]
at 9
===
insert-tree
---
MethodDeclaration [64121,64262]
    MarkerAnnotation [64121,64132]
        SimpleName: PreDestroy [64122,64132]
    MarkerAnnotation [64138,64147]
        SimpleName: Override [64139,64147]
    Modifier: public [64153,64159]
    PrimitiveType: void [64160,64164]
    SimpleName: stop [64165,64169]
    Block [64172,64262]
        ExpressionStatement [64183,64232]
            MethodInvocation [64183,64231]
                METHOD_INVOCATION_RECEIVER [64183,64196]
                    SimpleName: networkRouter [64183,64196]
                SimpleName: removeBridgeTo [64197,64211]
                METHOD_INVOCATION_ARGUMENTS [64212,64230]
                    SuperMethodInvocation [64212,64230]
                        SimpleName: serverPort [64218,64228]
        ExpressionStatement [64242,64255]
            SuperMethodInvocation [64242,64254]
                SimpleName: stop [64248,64252]
to
TypeDeclaration [63281,64347]
at 10
===
insert-tree
---
MethodDeclaration [64270,64344]
    MarkerAnnotation [64270,64279]
        SimpleName: Override [64271,64279]
    Modifier: public [64285,64291]
    PrimitiveType: int [64292,64295]
    SimpleName: serverPort [64296,64306]
    Block [64309,64344]
        ReturnStatement [64320,64337]
            SimpleName: proxyPort [64327,64336]
to
TypeDeclaration [63281,64347]
at 11
===
insert-tree
---
FieldDeclaration [69651,69693]
    Modifier: private [69651,69658]
    Modifier: final [69659,69664]
    SimpleType [69665,69678]
        SimpleName: NetworkRouter [69665,69678]
    VariableDeclarationFragment [69679,69692]
        SimpleName: networkRouter [69679,69692]
to
TypeDeclaration [48291,52491]
at 7
===
insert-tree
---
FieldDeclaration [75095,75138]
    Modifier: private [75095,75102]
    Modifier: final [75103,75108]
    PrimitiveType: boolean [75109,75116]
    VariableDeclarationFragment [75117,75137]
        SimpleName: networkRouterEnabled [75117,75137]
to
TypeDeclaration [53155,56744]
at 8
===
insert-tree
---
MethodDeclaration [75918,76240]
    Modifier: private [75918,75925]
    SimpleName: EurekaDeploymentResource [75926,75950]
    SingleVariableDeclaration [75951,75990]
        SimpleType [75951,75982]
            SimpleName: EurekaDeploymentResourceBuilder [75951,75982]
        SimpleName: builder [75983,75990]
    Block [75992,76240]
        ExpressionStatement [76003,76052]
            Assignment [76003,76051]
                FieldAccess [76003,76024]
                    ThisExpression [76003,76007]
                    SimpleName: writeClusterSize [76008,76024]
                ASSIGNMENT_OPERATOR: = [76025,76026]
                QualifiedName: builder.writeClusterSize [76027,76051]
        ExpressionStatement [76062,76109]
            Assignment [76062,76108]
                FieldAccess [76062,76082]
                    ThisExpression [76062,76066]
                    SimpleName: readClusterSize [76067,76082]
                ASSIGNMENT_OPERATOR: = [76083,76084]
                QualifiedName: builder.readClusterSize [76085,76108]
        ExpressionStatement [76119,76166]
            Assignment [76119,76165]
                FieldAccess [76119,76139]
                    ThisExpression [76119,76123]
                    SimpleName: transportConfig [76124,76139]
                ASSIGNMENT_OPERATOR: = [76140,76141]
                QualifiedName: builder.transportConfig [76142,76165]
        ExpressionStatement [76176,76233]
            Assignment [76176,76232]
                FieldAccess [76176,76201]
                    ThisExpression [76176,76180]
                    SimpleName: networkRouterEnabled [76181,76201]
                ASSIGNMENT_OPERATOR: = [76202,76203]
                QualifiedName: builder.networkRouterEnabled [76204,76232]
to
TypeDeclaration [53155,56744]
at 12
===
insert-tree
---
MethodDeclaration [79128,79340]
    Modifier: public [79128,79134]
    Modifier: static [79135,79141]
    SimpleType [79142,79173]
        SimpleName: EurekaDeploymentResourceBuilder [79142,79173]
    SimpleName: anEurekaDeploymentResource [79174,79200]
    SingleVariableDeclaration [79201,79221]
        PrimitiveType: int [79201,79204]
        SimpleName: writeClusterSize [79205,79221]
    SingleVariableDeclaration [79223,79242]
        PrimitiveType: int [79223,79226]
        SimpleName: readClusterSize [79227,79242]
    Block [79244,79340]
        ReturnStatement [79255,79333]
            ClassInstanceCreation [79262,79332]
                SimpleType [79266,79297]
                    SimpleName: EurekaDeploymentResourceBuilder [79266,79297]
                SimpleName: writeClusterSize [79298,79314]
                SimpleName: readClusterSize [79316,79331]
to
TypeDeclaration [53155,56744]
at 23
===
insert-tree
---
TypeDeclaration [79348,80339]
    Modifier: public [79348,79354]
    Modifier: static [79355,79361]
    TYPE_DECLARATION_KIND: class [79362,79367]
    SimpleName: EurekaDeploymentResourceBuilder [79368,79399]
    FieldDeclaration [79413,79448]
        Modifier: private [79413,79420]
        Modifier: final [79421,79426]
        PrimitiveType: int [79427,79430]
        VariableDeclarationFragment [79431,79447]
            SimpleName: writeClusterSize [79431,79447]
    FieldDeclaration [79458,79492]
        Modifier: private [79458,79465]
        Modifier: final [79466,79471]
        PrimitiveType: int [79472,79475]
        VariableDeclarationFragment [79476,79491]
            SimpleName: readClusterSize [79476,79491]
    FieldDeclaration [79504,79550]
        Modifier: private [79504,79511]
        SimpleType [79512,79533]
            SimpleName: EurekaTransportConfig [79512,79533]
        VariableDeclarationFragment [79534,79549]
            SimpleName: transportConfig [79534,79549]
    FieldDeclaration [79560,79597]
        Modifier: private [79560,79567]
        PrimitiveType: boolean [79568,79575]
        VariableDeclarationFragment [79576,79596]
            SimpleName: networkRouterEnabled [79576,79596]
    MethodDeclaration [79609,79811]
        Modifier: public [79609,79615]
        SimpleName: EurekaDeploymentResourceBuilder [79616,79647]
        SingleVariableDeclaration [79648,79668]
            PrimitiveType: int [79648,79651]
            SimpleName: writeClusterSize [79652,79668]
        SingleVariableDeclaration [79670,79689]
            PrimitiveType: int [79670,79673]
            SimpleName: readClusterSize [79674,79689]
        Block [79691,79811]
            ExpressionStatement [79706,79747]
                Assignment [79706,79746]
                    FieldAccess [79706,79727]
                        ThisExpression [79706,79710]
                        SimpleName: writeClusterSize [79711,79727]
                    ASSIGNMENT_OPERATOR: = [79728,79729]
                    SimpleName: writeClusterSize [79730,79746]
            ExpressionStatement [79761,79800]
                Assignment [79761,79799]
                    FieldAccess [79761,79781]
                        ThisExpression [79761,79765]
                        SimpleName: readClusterSize [79766,79781]
                    ASSIGNMENT_OPERATOR: = [79782,79783]
                    SimpleName: readClusterSize [79784,79799]
    MethodDeclaration [79823,80011]
        Modifier: public [79823,79829]
        SimpleType [79830,79861]
            SimpleName: EurekaDeploymentResourceBuilder [79830,79861]
        SimpleName: withNetworkRouter [79862,79879]
        SingleVariableDeclaration [79880,79908]
            PrimitiveType: boolean [79880,79887]
            SimpleName: networkRouterEnabled [79888,79908]
        Block [79910,80011]
            ExpressionStatement [79925,79974]
                Assignment [79925,79973]
                    FieldAccess [79925,79950]
                        ThisExpression [79925,79929]
                        SimpleName: networkRouterEnabled [79930,79950]
                    ASSIGNMENT_OPERATOR: = [79951,79952]
                    SimpleName: networkRouterEnabled [79953,79973]
            ReturnStatement [79988,80000]
                ThisExpression [79995,79999]
    MethodDeclaration [80023,80212]
        Modifier: public [80023,80029]
        SimpleType [80030,80061]
            SimpleName: EurekaDeploymentResourceBuilder [80030,80061]
        SimpleName: withTransportConfig [80062,80081]
        SingleVariableDeclaration [80082,80119]
            SimpleType [80082,80103]
                SimpleName: EurekaTransportConfig [80082,80103]
            SimpleName: transportConfig [80104,80119]
        Block [80121,80212]
            ExpressionStatement [80136,80175]
                Assignment [80136,80174]
                    FieldAccess [80136,80156]
                        ThisExpression [80136,80140]
                        SimpleName: transportConfig [80141,80156]
                    ASSIGNMENT_OPERATOR: = [80157,80158]
                    SimpleName: transportConfig [80159,80174]
            ReturnStatement [80189,80201]
                ThisExpression [80196,80200]
    MethodDeclaration [80224,80332]
        Modifier: public [80224,80230]
        SimpleType [80231,80255]
            SimpleName: EurekaDeploymentResource [80231,80255]
        SimpleName: build [80256,80261]
        Block [80264,80332]
            ReturnStatement [80279,80321]
                ClassInstanceCreation [80286,80320]
                    SimpleType [80290,80314]
                        SimpleName: EurekaDeploymentResource [80290,80314]
                    ThisExpression [80315,80319]
to
TypeDeclaration [53155,56744]
at 24
===
update-node
---
SimpleName: fillUpRegistry [1500,1514]
replace fillUpRegistry by fillUpRegistryOfServer
===
insert-tree
---
SingleVariableDeclaration [1691,1704]
    PrimitiveType: int [1691,1694]
    SimpleName: serverIdx [1695,1704]
to
MethodDeclaration [1488,3038]
at 3
===
insert-node
---
Modifier: public [4253,4259]
to
MethodDeclaration [4253,5227]
at 0
===
insert-node
---
PrimitiveType: void [4260,4264]
to
MethodDeclaration [4253,5227]
at 1
===
insert-node
---
SimpleName: verifyWriteServerHasNoInstance [4265,4295]
to
MethodDeclaration [4253,5227]
at 2
===
insert-tree
---
SingleVariableDeclaration [4296,4314]
    PrimitiveType: int [4296,4299]
    SimpleName: writeServerIdx [4300,4314]
to
MethodDeclaration [4253,5227]
at 3
===
insert-tree
---
SingleVariableDeclaration [4316,4330]
    SimpleType [4316,4322]
        SimpleName: String [4316,4322]
    SimpleName: appName [4323,4330]
to
MethodDeclaration [4253,5227]
at 4
===
insert-tree
---
SimpleType [4339,4359]
    SimpleName: InterruptedException [4339,4359]
to
MethodDeclaration [4253,5227]
at 5
===
insert-node
---
Block [4360,5227]
to
MethodDeclaration [4253,5227]
at 6
===
move-tree
---
MarkerAnnotation [13308,13313]
    SimpleName: Rule [13309,13313]
to
FieldDeclaration [7618,7772]
at 0
===
insert-node
---
Modifier: public [7629,7635]
to
FieldDeclaration [7618,7772]
at 1
===
insert-node
---
Modifier: final [7636,7641]
to
FieldDeclaration [7618,7772]
at 2
===
move-tree
---
SimpleType [13332,13356]
    SimpleName: EurekaDeploymentResource [13332,13356]
to
FieldDeclaration [7618,7772]
at 3
===
insert-tree
---
VariableDeclarationFragment [7667,7771]
    SimpleName: eurekaDeploymentResource [7667,7691]
    MethodInvocation [7707,7771]
        METHOD_INVOCATION_RECEIVER [7707,7763]
            MethodInvocation [7707,7763]
                METHOD_INVOCATION_RECEIVER [7707,7739]
                    MethodInvocation [7707,7739]
                        SimpleName: anEurekaDeploymentResource [7707,7733]
                        METHOD_INVOCATION_ARGUMENTS [7734,7738]
                            NumberLiteral: 1 [7734,7735]
                            NumberLiteral: 1 [7737,7738]
                SimpleName: withNetworkRouter [7740,7757]
                METHOD_INVOCATION_ARGUMENTS [7758,7762]
                    BooleanLiteral: true [7758,7762]
        SimpleName: build [7764,7769]
to
FieldDeclaration [7618,7772]
at 4
===
insert-node
---
ArrayInitializer [18476,18523]
to
SingleMemberAnnotation [10075,10107]
at 1
===
insert-tree
---
MarkerAnnotation [21959,21964]
    SimpleName: Rule [21960,21964]
to
FieldDeclaration [13308,13419]
at 0
===
insert-tree
---
SimpleType [21983,22007]
    SimpleName: EurekaDeploymentResource [21983,22007]
to
FieldDeclaration [13308,13419]
at 3
===
insert-tree
---
NormalAnnotation [23693,23715]
    SimpleName: Test [23694,23698]
    MemberValuePair [23699,23714]
        SimpleName: timeout [23699,23706]
        NumberLiteral: 30000 [23709,23714]
to
MethodDeclaration [23693,24778]
at 0
===
insert-node
---
Modifier: public [23721,23727]
to
MethodDeclaration [23693,24778]
at 1
===
insert-node
---
PrimitiveType: void [23728,23732]
to
MethodDeclaration [23693,24778]
at 2
===
insert-node
---
SimpleName: testReadServerFailoversToAnotherWriteServerIfFirstOneCrashes [23733,23793]
to
MethodDeclaration [23693,24778]
at 3
===
insert-tree
---
SimpleType [23803,23812]
    SimpleName: Exception [23803,23812]
to
MethodDeclaration [23693,24778]
at 4
===
insert-node
---
Block [23813,24778]
to
MethodDeclaration [23693,24778]
at 5
===
insert-tree
---
MarkerAnnotation [25940,25945]
    SimpleName: Rule [25941,25945]
to
FieldDeclaration [25940,26094]
at 0
===
insert-node
---
Modifier: public [25951,25957]
to
FieldDeclaration [25940,26094]
at 1
===
insert-node
---
Modifier: final [25958,25963]
to
FieldDeclaration [25940,26094]
at 2
===
move-tree
---
SimpleType [13388,13412]
    SimpleName: EurekaDeploymentResource [13388,13412]
to
FieldDeclaration [25940,26094]
at 3
===
insert-tree
---
VariableDeclarationFragment [25989,26093]
    SimpleName: eurekaDeploymentResource [25989,26013]
    MethodInvocation [26029,26093]
        METHOD_INVOCATION_RECEIVER [26029,26085]
            MethodInvocation [26029,26085]
                METHOD_INVOCATION_RECEIVER [26029,26061]
                    MethodInvocation [26029,26061]
                        SimpleName: anEurekaDeploymentResource [26029,26055]
                        METHOD_INVOCATION_ARGUMENTS [26056,26060]
                            NumberLiteral: 2 [26056,26057]
                            NumberLiteral: 0 [26059,26060]
                SimpleName: withNetworkRouter [26062,26079]
                METHOD_INVOCATION_ARGUMENTS [26080,26084]
                    BooleanLiteral: true [26080,26084]
        SimpleName: build [26086,26091]
to
FieldDeclaration [25940,26094]
at 4
===
insert-tree
---
SingleVariableDeclaration [30732,30759]
    SimpleType [30732,30745]
        SimpleName: NetworkRouter [30732,30745]
    SimpleName: networkRouter [30746,30759]
to
MethodDeclaration [16743,17562]
at 7
===
insert-tree
---
FieldDeclaration [37108,37145]
    Modifier: private [37108,37115]
    PrimitiveType: boolean [37116,37123]
    VariableDeclarationFragment [37124,37144]
        SimpleName: networkRouterEnabled [37124,37144]
to
TypeDeclaration [23065,27321]
at 8
===
insert-tree
---
MethodDeclaration [37836,38016]
    Modifier: public [37836,37842]
    SimpleType [37843,37866]
        SimpleName: EurekaDeploymentBuilder [37843,37866]
    SimpleName: withNetworkRouter [37867,37884]
    SingleVariableDeclaration [37885,37913]
        PrimitiveType: boolean [37885,37892]
        SimpleName: networkRouterEnabled [37893,37913]
    Block [37915,38016]
        ExpressionStatement [37930,37979]
            Assignment [37930,37978]
                FieldAccess [37930,37955]
                    ThisExpression [37930,37934]
                    SimpleName: networkRouterEnabled [37935,37955]
                ASSIGNMENT_OPERATOR: = [37956,37957]
                SimpleName: networkRouterEnabled [37958,37978]
        ReturnStatement [37993,38005]
            ThisExpression [38000,38004]
to
TypeDeclaration [23065,27321]
at 17
===
insert-tree
---
SingleVariableDeclaration [43387,43414]
    SimpleType [43387,43400]
        SimpleName: NetworkRouter [43387,43400]
    SimpleName: networkRouter [43401,43414]
to
MethodDeclaration [28763,29169]
at 7
===
insert-tree
---
SingleVariableDeclaration [43926,43953]
    SimpleType [43926,43939]
        SimpleName: NetworkRouter [43926,43939]
    SimpleName: networkRouter [43940,43953]
to
MethodDeclaration [29177,29818]
at 8
===
insert-tree
---
SingleVariableDeclaration [48537,48564]
    SimpleType [48537,48550]
        SimpleName: NetworkRouter [48537,48550]
    SimpleName: networkRouter [48551,48564]
to
MethodDeclaration [33707,33874]
at 5
===
insert-tree
---
SingleVariableDeclaration [48773,48800]
    SimpleType [48773,48786]
        SimpleName: NetworkRouter [48773,48786]
    SimpleName: networkRouter [48787,48800]
to
MethodDeclaration [33882,34182]
at 6
===
insert-tree
---
SingleVariableDeclaration [58842,58869]
    SimpleType [58842,58855]
        SimpleName: NetworkRouter [58842,58855]
    SimpleName: networkRouter [58856,58869]
to
MethodDeclaration [43536,44092]
at 6
===
insert-tree
---
SingleVariableDeclaration [69979,70006]
    SimpleType [69979,69992]
        SimpleName: NetworkRouter [69979,69992]
    SimpleName: networkRouter [69993,70006]
to
MethodDeclaration [48584,49106]
at 5
===
insert-tree
---
Javadoc [75196,75277]
    TagElement [75208,75268]
        TextElement: Use builder instead  [75208,75228]
        TagElement [75228,75267]
            SimpleName: EurekaDeploymentResourceBuilder [75235,75266]
        TextElement: . [75267,75268]
to
MethodDeclaration [53457,53640]
at 0
===
insert-tree
---
MarkerAnnotation [75283,75294]
    SimpleName: Deprecated [75284,75294]
to
MethodDeclaration [53457,53640]
at 1
===
insert-tree
---
Javadoc [75491,75572]
    TagElement [75503,75563]
        TextElement: Use builder instead  [75503,75523]
        TagElement [75523,75562]
            SimpleName: EurekaDeploymentResourceBuilder [75530,75561]
        TextElement: . [75562,75563]
to
MethodDeclaration [53648,53919]
at 0
===
insert-tree
---
MarkerAnnotation [75578,75589]
    SimpleName: Deprecated [75579,75589]
to
MethodDeclaration [53648,53919]
at 1
===
update-node
---
SimpleName: testRegistrationAndDiscoveryServices [70182,70218]
replace testRegistrationAndDiscoveryServices by testRegistrationAndInterestServices
===
move-tree
---
VariableDeclarationStatement [70249,70492]
    SimpleType [70249,70273]
        SimpleName: EurekaRegistrationClient [70249,70273]
    VariableDeclarationFragment [70274,70491]
        SimpleName: registrationClient [70274,70292]
        MethodInvocation [70295,70491]
            METHOD_INVOCATION_RECEIVER [70295,70465]
                MethodInvocation [70295,70465]
                    METHOD_INVOCATION_RECEIVER [70295,70333]
                        MethodInvocation [70295,70333]
                            METHOD_INVOCATION_RECEIVER [70295,70302]
                                SimpleName: Eurekas [70295,70302]
                            SimpleName: newRegistrationClientBuilder [70303,70331]
                    SimpleName: withServerResolver [70352,70370]
                    METHOD_INVOCATION_ARGUMENTS [70371,70464]
                        MethodInvocation [70371,70464]
                            METHOD_INVOCATION_RECEIVER [70371,70412]
                                MethodInvocation [70371,70412]
                                    METHOD_INVOCATION_RECEIVER [70371,70386]
                                        SimpleName: ServerResolvers [70371,70386]
                                    SimpleName: fromHostname [70387,70399]
                                    METHOD_INVOCATION_ARGUMENTS [70400,70411]
                                        StringLiteral: "localhost" [70400,70411]
                            SimpleName: withPort [70413,70421]
                            METHOD_INVOCATION_ARGUMENTS [70422,70463]
                                MethodInvocation [70422,70463]
                                    METHOD_INVOCATION_RECEIVER [70422,70441]
                                        SimpleName: writeServerResource [70422,70441]
                                    SimpleName: getRegistrationPort [70442,70461]
            SimpleName: build [70484,70489]
to
Block [70238,71406]
at 1
===
insert-tree
---
VariableDeclarationStatement [1952,2093]
    ParameterizedType [1952,1987]
        SimpleType [1952,1973]
            SimpleName: SourcedEurekaRegistry [1952,1973]
        SimpleType [1974,1986]
            SimpleName: InstanceInfo [1974,1986]
    VariableDeclarationFragment [1988,2092]
        SimpleName: eurekaServerRegistry [1988,2008]
        MethodInvocation [2011,2092]
            METHOD_INVOCATION_RECEIVER [2011,2066]
                MethodInvocation [2011,2066]
                    METHOD_INVOCATION_RECEIVER [2011,2045]
                        MethodInvocation [2011,2045]
                            METHOD_INVOCATION_RECEIVER [2011,2027]
                                SimpleName: eurekaDeployment [2011,2027]
                            SimpleName: getWriteCluster [2028,2043]
                    SimpleName: getServer [2046,2055]
                    METHOD_INVOCATION_ARGUMENTS [2056,2065]
                        SimpleName: serverIdx [2056,2065]
            SimpleName: getEurekaServerRegistry [2067,2090]
to
Block [1574,3038]
at 2
===
insert-node
---
VariableDeclarationStatement [4371,4445]
to
Block [4360,5227]
at 0
===
insert-tree
---
VariableDeclarationStatement [4457,4508]
    Modifier: final [4457,4462]
    SimpleType [4463,4477]
        SimpleName: CountDownLatch [4463,4477]
    VariableDeclarationFragment [4478,4507]
        SimpleName: latch [4478,4483]
        ClassInstanceCreation [4486,4507]
            SimpleType [4490,4504]
                SimpleName: CountDownLatch [4490,4504]
            NumberLiteral: 1 [4505,4506]
to
Block [4360,5227]
at 1
===
insert-tree
---
ExpressionStatement [4684,5122]
    MethodInvocation [4684,5121]
        METHOD_INVOCATION_RECEIVER [4684,4740]
            MethodInvocation [4684,4740]
                METHOD_INVOCATION_RECEIVER [4684,4692]
                    SimpleName: registry [4684,4692]
                SimpleName: forInterest [4693,4704]
                METHOD_INVOCATION_ARGUMENTS [4705,4739]
                    MethodInvocation [4705,4739]
                        METHOD_INVOCATION_RECEIVER [4705,4714]
                            SimpleName: Interests [4705,4714]
                        SimpleName: forApplications [4715,4730]
                        METHOD_INVOCATION_ARGUMENTS [4731,4738]
                            SimpleName: appName [4731,4738]
        SimpleName: subscribe [4759,4768]
        METHOD_INVOCATION_ARGUMENTS [4769,5120]
            ClassInstanceCreation [4769,5120]
                ParameterizedType [4773,4814]
                    SimpleType [4773,4780]
                        SimpleName: Action1 [4773,4780]
                    ParameterizedType [4781,4813]
                        SimpleType [4781,4799]
                            SimpleName: ChangeNotification [4781,4799]
                        SimpleType [4800,4812]
                            SimpleName: InstanceInfo [4800,4812]
                AnonymousClassDeclaration [4817,5120]
                    MethodDeclaration [4840,5101]
                        MarkerAnnotation [4840,4849]
                            SimpleName: Override [4841,4849]
                        Modifier: public [4871,4877]
                        PrimitiveType: void [4878,4882]
                        SimpleName: call [4883,4887]
                        SingleVariableDeclaration [4888,4933]
                            ParameterizedType [4888,4920]
                                SimpleType [4888,4906]
                                    SimpleName: ChangeNotification [4888,4906]
                                SimpleType [4907,4919]
                                    SimpleName: InstanceInfo [4907,4919]
                            SimpleName: notification [4921,4933]
                        Block [4935,5101]
                            IfStatement [4962,5078]
                                InfixExpression [4966,5000]
                                    MethodInvocation [4966,4988]
                                        METHOD_INVOCATION_RECEIVER [4966,4978]
                                            SimpleName: notification [4966,4978]
                                        SimpleName: getKind [4979,4986]
                                    INFIX_EXPRESSION_OPERATOR: == [4989,4991]
                                    QualifiedName: Kind.Add [4992,5000]
                                Block [5002,5078]
                                    ExpressionStatement [5033,5051]
                                        MethodInvocation [5033,5050]
                                            METHOD_INVOCATION_RECEIVER [5033,5038]
                                                SimpleName: latch [5033,5038]
                                            SimpleName: countDown [5039,5048]
to
Block [4360,5227]
at 2
===
insert-tree
---
ExpressionStatement [5132,5220]
    MethodInvocation [5132,5219]
        SimpleName: assertFalse [5132,5143]
        METHOD_INVOCATION_ARGUMENTS [5144,5218]
            StringLiteral: "Unexpected items in the registry found" [5144,5184]
            MethodInvocation [5186,5218]
                METHOD_INVOCATION_RECEIVER [5186,5191]
                    SimpleName: latch [5186,5191]
                SimpleName: await [5192,5197]
                METHOD_INVOCATION_ARGUMENTS [5198,5217]
                    NumberLiteral: 1 [5198,5199]
                    QualifiedName: TimeUnit.SECONDS [5201,5217]
to
Block [4360,5227]
at 3
===
move-tree
---
TypeLiteral [10085,10106]
    SimpleType [10085,10100]
        SimpleName: IntegrationTest [10085,10100]
to
ArrayInitializer [18476,18523]
at 0
===
insert-tree
---
TypeLiteral [18500,18522]
    SimpleType [18500,18516]
        SimpleName: ExperimentalTest [18500,18516]
to
ArrayInitializer [18476,18523]
at 1
===
insert-node
---
MethodInvocation [22048,22112]
to
VariableDeclarationFragment [13357,13418]
at 1
===
insert-tree
---
ExpressionStatement [22366,22432]
    Assignment [22366,22431]
        SimpleName: eurekaDeployment [22366,22382]
        ASSIGNMENT_OPERATOR: = [22383,22384]
        MethodInvocation [22385,22431]
            METHOD_INVOCATION_RECEIVER [22385,22409]
                SimpleName: eurekaDeploymentResource [22385,22409]
            SimpleName: getEurekaDeployment [22410,22429]
to
Block [13613,13856]
at 0
===
insert-tree
---
VariableDeclarationStatement [23870,23973]
    ParameterizedType [23870,23921]
        SimpleType [23870,23887]
            SimpleName: ExtTestSubscriber [23870,23887]
        ParameterizedType [23888,23920]
            SimpleType [23888,23906]
                SimpleName: ChangeNotification [23888,23906]
            SimpleType [23907,23919]
                SimpleName: InstanceInfo [23907,23919]
    VariableDeclarationFragment [23922,23972]
        SimpleName: notificationSubscriber [23922,23944]
        ClassInstanceCreation [23947,23972]
            ParameterizedType [23951,23970]
                SimpleType [23951,23968]
                    SimpleName: ExtTestSubscriber [23951,23968]
to
Block [23813,24778]
at 0
===
insert-tree
---
ExpressionStatement [23983,24158]
    MethodInvocation [23983,24157]
        METHOD_INVOCATION_RECEIVER [23983,24105]
            MethodInvocation [23983,24105]
                METHOD_INVOCATION_RECEIVER [23983,24062]
                    MethodInvocation [23983,24062]
                        METHOD_INVOCATION_RECEIVER [23983,23997]
                            SimpleName: interestClient [23983,23997]
                        SimpleName: forInterest [23998,24009]
                        METHOD_INVOCATION_ARGUMENTS [24010,24061]
                            MethodInvocation [24010,24061]
                                METHOD_INVOCATION_RECEIVER [24010,24019]
                                    SimpleName: Interests [24010,24019]
                                SimpleName: forApplications [24020,24035]
                                METHOD_INVOCATION_ARGUMENTS [24036,24060]
                                    MethodInvocation [24036,24060]
                                        METHOD_INVOCATION_RECEIVER [24036,24051]
                                            SimpleName: registeringInfo [24036,24051]
                                        SimpleName: getApp [24052,24058]
                SimpleName: filter [24081,24087]
                METHOD_INVOCATION_ARGUMENTS [24088,24104]
                    MethodInvocation [24088,24104]
                        SimpleName: dataOnlyFilter [24088,24102]
        SimpleName: subscribe [24124,24133]
        METHOD_INVOCATION_ARGUMENTS [24134,24156]
            SimpleName: notificationSubscriber [24134,24156]
to
Block [23813,24778]
at 1
===
insert-tree
---
ExpressionStatement [24235,24285]
    MethodInvocation [24235,24284]
        METHOD_INVOCATION_RECEIVER [24235,24269]
            MethodInvocation [24235,24269]
                METHOD_INVOCATION_RECEIVER [24235,24251]
                    SimpleName: eurekaDeployment [24235,24251]
                SimpleName: getWriteCluster [24252,24267]
        SimpleName: scaleUpByOne [24270,24282]
to
Block [23813,24778]
at 2
===
move-tree
---
VariableDeclarationStatement [1750,1883]
    ParameterizedType [1750,1785]
        SimpleType [1750,1771]
            SimpleName: SourcedEurekaRegistry [1750,1771]
        SimpleType [1772,1784]
            SimpleName: InstanceInfo [1772,1784]
    VariableDeclarationFragment [1786,1882]
        SimpleName: eurekaServerRegistry [1786,1806]
        MethodInvocation [1809,1882]
            METHOD_INVOCATION_RECEIVER [1809,1856]
                MethodInvocation [1809,1856]
                    METHOD_INVOCATION_RECEIVER [1809,1843]
                        MethodInvocation [1809,1843]
                            METHOD_INVOCATION_RECEIVER [1809,1825]
                                SimpleName: eurekaDeployment [1809,1825]
                            SimpleName: getWriteCluster [1826,1841]
                    SimpleName: getServer [1844,1853]
                    METHOD_INVOCATION_ARGUMENTS [1854,1855]
                        NumberLiteral: 0 [1854,1855]
            SimpleName: getEurekaServerRegistry [1857,1880]
to
Block [23813,24778]
at 3
===
insert-tree
---
ExpressionStatement [24531,24556]
    MethodInvocation [24531,24555]
        METHOD_INVOCATION_RECEIVER [24531,24542]
            SimpleName: networkLink [24531,24542]
        SimpleName: disconnect [24543,24553]
to
Block [23813,24778]
at 4
===
insert-tree
---
ExpressionStatement [24589,24663]
    MethodInvocation [24589,24662]
        METHOD_INVOCATION_RECEIVER [24589,24650]
            MethodInvocation [24589,24650]
                METHOD_INVOCATION_RECEIVER [24589,24607]
                    SimpleName: registrationClient [24589,24607]
                SimpleName: register [24608,24616]
                METHOD_INVOCATION_ARGUMENTS [24617,24649]
                    MethodInvocation [24617,24649]
                        METHOD_INVOCATION_RECEIVER [24617,24627]
                            SimpleName: Observable [24617,24627]
                        SimpleName: just [24628,24632]
                        METHOD_INVOCATION_ARGUMENTS [24633,24648]
                            SimpleName: registeringInfo [24633,24648]
        SimpleName: subscribe [24651,24660]
to
Block [23813,24778]
at 5
===
insert-tree
---
ExpressionStatement [24673,24771]
    MethodInvocation [24673,24770]
        SimpleName: assertThat [24673,24683]
        METHOD_INVOCATION_ARGUMENTS [24684,24769]
            MethodInvocation [24684,24723]
                METHOD_INVOCATION_RECEIVER [24684,24706]
                    SimpleName: notificationSubscriber [24684,24706]
                SimpleName: takeNextOrWait [24707,24721]
            MethodInvocation [24725,24769]
                SimpleName: is [24725,24727]
                METHOD_INVOCATION_ARGUMENTS [24728,24768]
                    MethodInvocation [24728,24768]
                        SimpleName: addChangeNotificationOf [24728,24751]
                        METHOD_INVOCATION_ARGUMENTS [24752,24767]
                            SimpleName: registeringInfo [24752,24767]
to
Block [23813,24778]
at 6
===
insert-tree
---
ExpressionStatement [31050,31085]
    Assignment [31050,31084]
        FieldAccess [31050,31068]
            ThisExpression [31050,31054]
            SimpleName: networkRouter [31055,31068]
        ASSIGNMENT_OPERATOR: = [31069,31070]
        SimpleName: networkRouter [31071,31084]
to
Block [17134,17562]
at 5
===
insert-tree
---
ExpressionStatement [44262,44297]
    Assignment [44262,44296]
        FieldAccess [44262,44280]
            ThisExpression [44262,44266]
            SimpleName: networkRouter [44267,44280]
        ASSIGNMENT_OPERATOR: = [44281,44282]
        SimpleName: networkRouter [44283,44296]
to
Block [29514,29818]
at 7
===
insert-tree
---
ExpressionStatement [48998,49033]
    Assignment [48998,49032]
        FieldAccess [48998,49016]
            ThisExpression [48998,49002]
            SimpleName: networkRouter [49003,49016]
        ASSIGNMENT_OPERATOR: = [49017,49018]
        SimpleName: networkRouter [49019,49032]
to
Block [33989,34182]
at 5
===
insert-tree
---
ExpressionStatement [59196,59231]
    Assignment [59196,59230]
        FieldAccess [59196,59214]
            ThisExpression [59196,59200]
            SimpleName: networkRouter [59201,59214]
        ASSIGNMENT_OPERATOR: = [59215,59216]
        SimpleName: networkRouter [59217,59230]
to
Block [43872,44092]
at 4
===
insert-tree
---
ExpressionStatement [70287,70322]
    Assignment [70287,70321]
        FieldAccess [70287,70305]
            ThisExpression [70287,70291]
            SimpleName: networkRouter [70292,70305]
        ASSIGNMENT_OPERATOR: = [70306,70307]
        SimpleName: networkRouter [70308,70321]
to
Block [48935,49106]
at 3
===
insert-tree
---
ExpressionStatement [75869,75903]
    Assignment [75869,75902]
        FieldAccess [75869,75894]
            ThisExpression [75869,75873]
            SimpleName: networkRouterEnabled [75874,75894]
        ASSIGNMENT_OPERATOR: = [75895,75896]
        BooleanLiteral: false [75897,75902]
to
Block [53762,53919]
at 3
===
update-node
---
SimpleName: WriteServerResource [70066,70085]
replace WriteServerResource by EurekaDeploymentResource
===
update-node
---
SimpleName: writeServerResource [70086,70105]
replace writeServerResource by eurekaDeploymentResource
===
insert-node
---
MethodInvocation [107749,107841]
to
VariableDeclarationFragment [70086,70133]
at 1
===
insert-tree
---
VariableDeclarationStatement [107956,108068]
    SimpleType [107956,107975]
        SimpleName: EmbeddedWriteServer [107956,107975]
    VariableDeclarationFragment [107976,108067]
        SimpleName: writeServer [107976,107987]
        MethodInvocation [107990,108067]
            METHOD_INVOCATION_RECEIVER [107990,108054]
                MethodInvocation [107990,108054]
                    METHOD_INVOCATION_RECEIVER [107990,108036]
                        MethodInvocation [107990,108036]
                            METHOD_INVOCATION_RECEIVER [107990,108014]
                                SimpleName: eurekaDeploymentResource [107990,108014]
                            SimpleName: getEurekaDeployment [108015,108034]
                    SimpleName: getWriteCluster [108037,108052]
            SimpleName: getServer [108055,108064]
            METHOD_INVOCATION_ARGUMENTS [108065,108066]
                NumberLiteral: 0 [108065,108066]
to
Block [70238,71406]
at 0
===
move-tree
---
ParameterizedType [1750,1785]
    SimpleType [1750,1771]
        SimpleName: SourcedEurekaRegistry [1750,1771]
    SimpleType [1772,1784]
        SimpleName: InstanceInfo [1772,1784]
to
VariableDeclarationStatement [4371,4445]
at 0
===
insert-tree
---
VariableDeclarationFragment [4407,4444]
    SimpleName: registry [4407,4415]
    MethodInvocation [4418,4444]
        SimpleName: registryOf [4418,4428]
        METHOD_INVOCATION_ARGUMENTS [4429,4443]
            SimpleName: writeServerIdx [4429,4443]
to
VariableDeclarationStatement [4371,4445]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [22048,22104]
to
MethodInvocation [22048,22112]
at 0
===
insert-node
---
SimpleName: build [22105,22110]
to
MethodInvocation [22048,22112]
at 1
===
insert-tree
---
SimpleType [24363,24374]
    SimpleName: NetworkLink [24363,24374]
to
VariableDeclarationStatement [1750,1883]
at 0
===
insert-tree
---
VariableDeclarationStatement [39266,39351]
    SimpleType [39266,39279]
        SimpleName: NetworkRouter [39266,39279]
    VariableDeclarationFragment [39280,39350]
        SimpleName: networkRouter [39280,39293]
        ConditionalExpression [39296,39350]
            SimpleName: networkRouterEnabled [39296,39316]
            MethodInvocation [39319,39343]
                METHOD_INVOCATION_RECEIVER [39319,39333]
                    SimpleName: NetworkRouters [39319,39333]
                SimpleName: aRouter [39334,39341]
            NullLiteral [39346,39350]
to
Block [25056,27314]
at 1
===
insert-node
---
SimpleName: networkRouter [43527,43540]
to
ConstructorInvocation [29062,29162]
at 6
===
insert-node
---
SimpleName: networkRouter [48636,48649]
to
ConstructorInvocation [33808,33867]
at 4
===
insert-node
---
METHOD_INVOCATION_RECEIVER [107749,107819]
to
MethodInvocation [107749,107841]
at 0
===
insert-node
---
SimpleName: build [107834,107839]
to
MethodInvocation [107749,107841]
at 1
===
move-tree
---
SimpleType [70249,70273]
    SimpleName: EurekaRegistrationClient [70249,70273]
to
VariableDeclarationStatement [70504,70732]
at 0
===
move-tree
---
SimpleType [70504,70524]
    SimpleName: EurekaInterestClient [70504,70524]
to
VariableDeclarationStatement [70249,70492]
at 0
===
insert-node
---
MethodInvocation [22048,22104]
to
METHOD_INVOCATION_RECEIVER [22048,22104]
at 0
===
insert-node
---
SimpleName: networkLink [24375,24386]
to
VariableDeclarationFragment [1786,1882]
at 0
===
insert-node
---
MethodInvocation [24389,24520]
to
VariableDeclarationFragment [1786,1882]
at 1
===
insert-node
---
SimpleName: networkRouter [45736,45749]
to
ClassInstanceCreation [31067,31185]
at 5
===
insert-node
---
SimpleName: networkRouter [51143,51156]
to
ClassInstanceCreation [36109,36333]
at 4
===
insert-node
---
MethodInvocation [78641,78964]
to
Assignment [56301,56585]
at 2
===
insert-node
---
MethodInvocation [107749,107819]
to
METHOD_INVOCATION_RECEIVER [107749,107819]
at 0
===
update-node
---
SimpleName: interestClient [70525,70539]
replace interestClient by registrationClient
===
update-node
---
SimpleName: registrationClient [70274,70292]
replace registrationClient by interestClient
===
insert-node
---
InfixExpression [1921,1940]
to
ClassInstanceCreation [1705,1739]
at 2
===
insert-node
---
METHOD_INVOCATION_RECEIVER [22048,22080]
to
MethodInvocation [22048,22104]
at 0
===
insert-node
---
SimpleName: withNetworkRouter [22081,22098]
to
MethodInvocation [22048,22104]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [22099,22103]
    BooleanLiteral: true [22099,22103]
to
MethodInvocation [22048,22104]
at 2
===
insert-node
---
METHOD_INVOCATION_RECEIVER [24389,24424]
to
MethodInvocation [24389,24520]
at 0
===
insert-node
---
SimpleName: getLinkTo [24443,24452]
to
MethodInvocation [24389,24520]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [24453,24519]
to
MethodInvocation [24389,24520]
at 2
===
insert-node
---
SimpleName: networkRouter [41470,41483]
to
ClassInstanceCreation [27194,27302]
at 6
===
insert-tree
---
ClassInstanceCreation [60789,61195]
    SimpleType [60793,60807]
        SimpleName: AbstractModule [60793,60807]
    AnonymousClassDeclaration [60810,61195]
        MethodDeclaration [60833,61176]
            MarkerAnnotation [60833,60842]
                SimpleName: Override [60834,60842]
            Modifier: protected [60864,60873]
            PrimitiveType: void [60874,60878]
            SimpleName: configure [60879,60888]
            Block [60891,61176]
                IfStatement [60918,61153]
                    InfixExpression [60922,60943]
                        SimpleName: networkRouter [60922,60935]
                        INFIX_EXPRESSION_OPERATOR: != [60936,60938]
                        NullLiteral [60939,60943]
                    Block [60945,61153]
                        ExpressionStatement [60976,61028]
                            MethodInvocation [60976,61027]
                                METHOD_INVOCATION_RECEIVER [60976,61001]
                                    MethodInvocation [60976,61001]
                                        SimpleName: bind [60976,60980]
                                        METHOD_INVOCATION_ARGUMENTS [60981,61000]
                                            TypeLiteral [60981,61000]
                                                SimpleType [60981,60994]
                                                    SimpleName: NetworkRouter [60981,60994]
                                SimpleName: toInstance [61002,61012]
                                METHOD_INVOCATION_ARGUMENTS [61013,61026]
                                    SimpleName: networkRouter [61013,61026]
                        ExpressionStatement [61058,61126]
                            MethodInvocation [61058,61125]
                                METHOD_INVOCATION_RECEIVER [61058,61088]
                                    MethodInvocation [61058,61088]
                                        SimpleName: bind [61058,61062]
                                        METHOD_INVOCATION_ARGUMENTS [61063,61087]
                                            TypeLiteral [61063,61087]
                                                SimpleType [61063,61081]
                                                    SimpleName: TcpDiscoveryServer [61063,61081]
                                SimpleName: to [61089,61091]
                                METHOD_INVOCATION_ARGUMENTS [61092,61124]
                                    TypeLiteral [61092,61124]
                                        SimpleType [61092,61118]
                                            SimpleName: EmbeddedTcpDiscoveryServer [61092,61118]
to
ArrayInitializer [45535,45726]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [78641,78938]
to
MethodInvocation [78641,78964]
at 0
===
insert-node
---
SimpleName: build [78957,78962]
to
MethodInvocation [78641,78964]
at 1
===
insert-node
---
NullLiteral [82930,82934]
to
ClassInstanceCreation [59235,59345]
at 5
===
insert-node
---
NullLiteral [85869,85873]
to
ClassInstanceCreation [62215,62278]
at 4
===
insert-node
---
NullLiteral [101531,101535]
to
ClassInstanceCreation [64004,64256]
at 6
===
insert-node
---
NullLiteral [103646,103650]
to
ClassInstanceCreation [66152,66366]
at 4
===
insert-node
---
METHOD_INVOCATION_RECEIVER [107749,107781]
to
MethodInvocation [107749,107819]
at 0
===
insert-node
---
SimpleName: withNetworkRouter [107796,107813]
to
MethodInvocation [107749,107819]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [107814,107818]
    BooleanLiteral: true [107814,107818]
to
MethodInvocation [107749,107819]
at 2
===
update-node
---
StringLiteral: "write0" [1730,1738]
replace "write0" by "write"
===
move-tree
---
StringLiteral: "write0" [1730,1738]
to
InfixExpression [1921,1940]
at 0
===
insert-node
---
INFIX_EXPRESSION_OPERATOR: + [1929,1930]
to
InfixExpression [1921,1940]
at 1
===
insert-node
---
SimpleName: serverIdx [1931,1940]
to
InfixExpression [1921,1940]
at 2
===
insert-node
---
MethodInvocation [22048,22080]
to
METHOD_INVOCATION_RECEIVER [22048,22080]
at 0
===
insert-node
---
MethodInvocation [24389,24424]
to
METHOD_INVOCATION_RECEIVER [24389,24424]
at 0
===
move-tree
---
MethodInvocation [1809,1882]
    METHOD_INVOCATION_RECEIVER [1809,1856]
        MethodInvocation [1809,1856]
            METHOD_INVOCATION_RECEIVER [1809,1843]
                MethodInvocation [1809,1843]
                    METHOD_INVOCATION_RECEIVER [1809,1825]
                        SimpleName: eurekaDeployment [1809,1825]
                    SimpleName: getWriteCluster [1826,1841]
            SimpleName: getServer [1844,1853]
            METHOD_INVOCATION_ARGUMENTS [1854,1855]
                NumberLiteral: 0 [1854,1855]
    SimpleName: getEurekaServerRegistry [1857,1880]
to
METHOD_INVOCATION_ARGUMENTS [24453,24519]
at 0
===
insert-node
---
SimpleName: networkRouter [39505,39518]
to
ClassInstanceCreation [25251,25354]
at 5
===
insert-node
---
SimpleName: networkRouter [39819,39832]
to
ClassInstanceCreation [25460,25653]
at 7
===
move-tree
---
MethodInvocation [56320,56585]
    METHOD_INVOCATION_RECEIVER [56320,56559]
        MethodInvocation [56320,56559]
            METHOD_INVOCATION_RECEIVER [56320,56504]
                MethodInvocation [56320,56504]
                    METHOD_INVOCATION_RECEIVER [56320,56461]
                        MethodInvocation [56320,56461]
                            METHOD_INVOCATION_RECEIVER [56320,56406]
                                MethodInvocation [56320,56406]
                                    METHOD_INVOCATION_RECEIVER [56320,56349]
                                        ClassInstanceCreation [56320,56349]
                                            SimpleType [56324,56347]
                                                SimpleName: EurekaDeploymentBuilder [56324,56347]
                                    SimpleName: withWriteClusterSize [56368,56388]
                                    METHOD_INVOCATION_ARGUMENTS [56389,56405]
                                        SimpleName: writeClusterSize [56389,56405]
                            SimpleName: withReadClusterSize [56425,56444]
                            METHOD_INVOCATION_ARGUMENTS [56445,56460]
                                SimpleName: readClusterSize [56445,56460]
                    SimpleName: withEphemeralPorts [56480,56498]
                    METHOD_INVOCATION_ARGUMENTS [56499,56503]
                        BooleanLiteral: true [56499,56503]
            SimpleName: withTransportConfig [56523,56542]
            METHOD_INVOCATION_ARGUMENTS [56543,56558]
                SimpleName: transportConfig [56543,56558]
    SimpleName: build [56578,56583]
to
METHOD_INVOCATION_RECEIVER [78641,78938]
at 0
===
insert-node
---
MethodInvocation [107749,107781]
to
METHOD_INVOCATION_RECEIVER [107749,107781]
at 0
===
insert-node
---
SimpleName: anEurekaDeploymentResource [22048,22074]
to
MethodInvocation [22048,22080]
at 0
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [22075,22079]
to
MethodInvocation [22048,22080]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [24389,24405]
to
MethodInvocation [24389,24424]
at 0
===
insert-node
---
SimpleName: getNetworkRouter [24406,24422]
to
MethodInvocation [24389,24424]
at 1
===
update-node
---
SimpleName: getEurekaServerRegistry [1857,1880]
replace getEurekaServerRegistry by getDiscoveryPort
===
insert-node
---
SimpleName: withNetworkRouter [78899,78916]
to
MethodInvocation [56320,56585]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [78917,78937]
to
MethodInvocation [56320,56585]
at 2
===
update-node
---
SimpleName: WriteServerResource [70112,70131]
replace WriteServerResource by anEurekaDeploymentResource
===
move-tree
---
SimpleName: WriteServerResource [70112,70131]
to
MethodInvocation [107749,107781]
at 0
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [107776,107780]
    NumberLiteral: 1 [107776,107777]
    NumberLiteral: 0 [107779,107780]
to
MethodInvocation [107749,107781]
at 1
===
move-tree
---
METHOD_INVOCATION_RECEIVER [70295,70333]
    MethodInvocation [70295,70333]
        METHOD_INVOCATION_RECEIVER [70295,70302]
            SimpleName: Eurekas [70295,70302]
        SimpleName: newRegistrationClientBuilder [70303,70331]
to
MethodInvocation [70542,70705]
at 0
===
move-tree
---
METHOD_INVOCATION_RECEIVER [70542,70576]
    MethodInvocation [70542,70576]
        METHOD_INVOCATION_RECEIVER [70542,70549]
            SimpleName: Eurekas [70542,70549]
        SimpleName: newInterestClientBuilder [70550,70574]
to
MethodInvocation [70295,70465]
at 0
===
update-node
---
NumberLiteral: 3 [13413,13414]
replace 3 by 1
===
move-tree
---
NumberLiteral: 3 [13413,13414]
to
METHOD_INVOCATION_ARGUMENTS [22075,22079]
at 0
===
update-node
---
NumberLiteral: 6 [13416,13417]
replace 6 by 1
===
move-tree
---
NumberLiteral: 6 [13416,13417]
to
METHOD_INVOCATION_ARGUMENTS [22075,22079]
at 1
===
update-node
---
SimpleName: eurekaServerRegistry [1786,1806]
replace eurekaServerRegistry by eurekaDeployment
===
move-tree
---
SimpleName: eurekaServerRegistry [1786,1806]
to
METHOD_INVOCATION_RECEIVER [24389,24405]
at 0
===
update-node
---
SimpleName: build [56578,56583]
replace build by networkRouterEnabled
===
move-tree
---
SimpleName: build [56578,56583]
to
METHOD_INVOCATION_ARGUMENTS [78917,78937]
at 0
===
insert-tree
---
IfStatement [70867,71308]
    InfixExpression [70871,70892]
        SimpleName: networkRouter [70871,70884]
        INFIX_EXPRESSION_OPERATOR: != [70885,70887]
        NullLiteral [70888,70892]
    Block [70894,71308]
        ExpressionStatement [70925,70977]
            MethodInvocation [70925,70976]
                METHOD_INVOCATION_RECEIVER [70925,70950]
                    MethodInvocation [70925,70950]
                        SimpleName: bind [70925,70929]
                        METHOD_INVOCATION_ARGUMENTS [70930,70949]
                            TypeLiteral [70930,70949]
                                SimpleType [70930,70943]
                                    SimpleName: NetworkRouter [70930,70943]
                SimpleName: toInstance [70951,70961]
                METHOD_INVOCATION_ARGUMENTS [70962,70975]
                    SimpleName: networkRouter [70962,70975]
        ExpressionStatement [71007,71081]
            MethodInvocation [71007,71080]
                METHOD_INVOCATION_RECEIVER [71007,71040]
                    MethodInvocation [71007,71040]
                        SimpleName: bind [71007,71011]
                        METHOD_INVOCATION_ARGUMENTS [71012,71039]
                            TypeLiteral [71012,71039]
                                SimpleType [71012,71033]
                                    SimpleName: TcpRegistrationServer [71012,71033]
                SimpleName: to [71041,71043]
                METHOD_INVOCATION_ARGUMENTS [71044,71079]
                    TypeLiteral [71044,71079]
                        SimpleType [71044,71073]
                            SimpleName: EmbeddedTcpRegistrationServer [71044,71073]
        ExpressionStatement [71111,71179]
            MethodInvocation [71111,71178]
                METHOD_INVOCATION_RECEIVER [71111,71141]
                    MethodInvocation [71111,71141]
                        SimpleName: bind [71111,71115]
                        METHOD_INVOCATION_ARGUMENTS [71116,71140]
                            TypeLiteral [71116,71140]
                                SimpleType [71116,71134]
                                    SimpleName: TcpDiscoveryServer [71116,71134]
                SimpleName: to [71142,71144]
                METHOD_INVOCATION_ARGUMENTS [71145,71177]
                    TypeLiteral [71145,71177]
                        SimpleType [71145,71171]
                            SimpleName: EmbeddedTcpDiscoveryServer [71145,71171]
        ExpressionStatement [71209,71281]
            MethodInvocation [71209,71280]
                METHOD_INVOCATION_RECEIVER [71209,71241]
                    MethodInvocation [71209,71241]
                        SimpleName: bind [71209,71213]
                        METHOD_INVOCATION_ARGUMENTS [71214,71240]
                            TypeLiteral [71214,71240]
                                SimpleType [71214,71234]
                                    SimpleName: TcpReplicationServer [71214,71234]
                SimpleName: to [71242,71244]
                METHOD_INVOCATION_ARGUMENTS [71245,71279]
                    TypeLiteral [71245,71279]
                        SimpleType [71245,71273]
                            SimpleName: EmbeddedTcpReplicationServer [71245,71273]
to
Block [49354,49641]
at 2
===
update-node
---
SimpleName: getDiscoveryPort [70685,70701]
replace getDiscoveryPort by getRegistrationPort
===
update-node
---
SimpleName: getRegistrationPort [70442,70461]
replace getRegistrationPort by getDiscoveryPort
===
update-node
---
SimpleName: writeServerResource [70665,70684]
replace writeServerResource by writeServer
===
update-node
---
SimpleName: writeServerResource [70422,70441]
replace writeServerResource by writeServer
===
delete-tree
---
PackageDeclaration [69123,69175]
    QualifiedName: com.netflix.eureka2.testkit.embedded.server [69131,69174]
===
delete-tree
---
ImportDeclaration [3616,3676]
    QualifiedName: com.netflix.eureka2.junit.categories.LongRunningTest [3623,3675]
===
delete-tree
---
ImportDeclaration [69736,69807]
    QualifiedName: com.netflix.eureka2.testkit.junit.resources.WriteServerResource [69743,69806]
===
delete-tree
---
ImportDeclaration [69882,69924]
    QualifiedName: org.hamcrest.CoreMatchers [69896,69921]
===
delete-tree
---
ImportDeclaration [69926,69959]
    QualifiedName: org.junit.Assert [69940,69956]
===
delete-tree
---
Javadoc [4357,4387]
    TagElement [4365,4382]
        TextElement:  David Liu [4372,4382]
===
delete-node
---
ClassInstanceCreation [13384,13418]
===
delete-node
---
Modifier: public [16171,16177]
===
delete-node
---
TYPE_DECLARATION_KIND: class [16178,16183]
===
delete-node
---
SimpleName: EurekaDeployment [16184,16200]
===
delete-node
---
SimpleType [70112,70131]
===
delete-node
---
ClassInstanceCreation [70108,70133]
