===
move-tree
---
ImportDeclaration [10301,10329]
    QualifiedName: java.util.Collection [10308,10328]
to
CompilationUnit [0,107451]
at 20
===
move-tree
---
ImportDeclaration [10437,10458]
    QualifiedName: java.util.Map [10444,10457]
to
CompilationUnit [0,107451]
at 21
===
move-tree
---
ImportDeclaration [7306,7334]
    QualifiedName: java.util.Collection [7313,7333]
to
CompilationUnit [0,107451]
at 31
===
move-tree
---
ImportDeclaration [7336,7357]
    QualifiedName: java.util.Map [7343,7356]
to
CompilationUnit [0,107451]
at 35
===
move-tree
---
ImportDeclaration [20752,20801]
    QualifiedName: org.sonar.api.issue.internal.DefaultIssue [20759,20800]
to
CompilationUnit [0,107451]
at 40
===
move-tree
---
ImportDeclaration [20803,20858]
    QualifiedName: org.sonar.api.issue.internal.IssueChangeContext [20810,20857]
to
CompilationUnit [0,107451]
at 41
===
move-tree
---
ImportDeclaration [20917,20951]
    QualifiedName: org.sonar.api.rule.RuleKey [20924,20950]
to
CompilationUnit [0,107451]
at 42
===
move-tree
---
ImportDeclaration [20990,21022]
    QualifiedName: org.sonar.api.rules.Rule [20997,21021]
to
CompilationUnit [0,107451]
at 43
===
move-tree
---
ImportDeclaration [21590,21626]
    QualifiedName: org.sonar.server.db.DbClient [21597,21625]
to
CompilationUnit [0,107451]
at 56
===
move-tree
---
ImportDeclaration [21628,21669]
    QualifiedName: org.sonar.server.es.SearchOptions [21635,21668]
to
CompilationUnit [0,107451]
at 57
===
move-tree
---
ImportDeclaration [21829,21874]
    QualifiedName: org.sonar.server.issue.index.IssueDoc [21836,21873]
to
CompilationUnit [0,107451]
at 61
===
move-tree
---
ImportDeclaration [21925,21992]
    QualifiedName: org.sonar.server.issue.notification.IssueChangeNotification [21932,21991]
to
CompilationUnit [0,107451]
at 62
===
move-tree
---
ImportDeclaration [22102,22143]
    QualifiedName: org.sonar.server.user.UserSession [22109,22142]
to
CompilationUnit [0,107451]
at 66
===
move-tree
---
ImportDeclaration [10592,10641]
    QualifiedName: org.sonar.api.issue.internal.DefaultIssue [10599,10640]
to
CompilationUnit [0,107451]
at 75
===
move-tree
---
ImportDeclaration [10643,10698]
    QualifiedName: org.sonar.api.issue.internal.IssueChangeContext [10650,10697]
to
CompilationUnit [0,107451]
at 75
===
move-tree
---
ImportDeclaration [10700,10734]
    QualifiedName: org.sonar.api.rule.RuleKey [10707,10733]
to
CompilationUnit [0,107451]
at 75
===
move-tree
---
ImportDeclaration [10736,10768]
    QualifiedName: org.sonar.api.rules.Rule [10743,10767]
to
CompilationUnit [0,107451]
at 77
===
move-tree
---
ImportDeclaration [11133,11169]
    QualifiedName: org.sonar.server.db.DbClient [11140,11168]
to
CompilationUnit [0,107451]
at 90
===
move-tree
---
ImportDeclaration [11171,11212]
    QualifiedName: org.sonar.server.es.SearchOptions [11178,11211]
to
CompilationUnit [0,107451]
at 90
===
move-tree
---
ImportDeclaration [11271,11316]
    QualifiedName: org.sonar.server.issue.index.IssueDoc [11278,11315]
to
CompilationUnit [0,107451]
at 93
===
move-tree
---
ImportDeclaration [11318,11385]
    QualifiedName: org.sonar.server.issue.notification.IssueChangeNotification [11325,11384]
to
CompilationUnit [0,107451]
at 94
===
move-tree
---
ImportDeclaration [11436,11477]
    QualifiedName: org.sonar.server.user.UserSession [11443,11476]
to
CompilationUnit [0,107451]
at 96
===
move-tree
---
ImportDeclaration [44967,45004]
    QualifiedName: org.sonar.api.notifications [44974,45001]
to
CompilationUnit [0,107451]
at 116
===
move-tree
---
ImportDeclaration [22278,22311]
    QualifiedName: javax.annotation.Nullable [22285,22310]
to
CompilationUnit [0,107451]
at 116
===
move-tree
---
ImportDeclaration [42258,42286]
    QualifiedName: java.util.Collection [42265,42285]
to
CompilationUnit [0,107451]
at 117
===
move-tree
---
ImportDeclaration [34981,35019]
    QualifiedName: com.google.common.base.Objects [34988,35018]
to
CompilationUnit [0,107451]
at 117
===
move-tree
---
ImportDeclaration [42217,42254]
    QualifiedName: org.sonar.api.notifications [42224,42251]
to
CompilationUnit [0,107451]
at 120
===
move-tree
---
ImportDeclaration [38779,38816]
    QualifiedName: org.sonar.api.notifications [38786,38813]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [35141,35169]
    QualifiedName: java.util.Collection [35148,35168]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [38700,38742]
    QualifiedName: com.google.common.collect.Multimap [38707,38741]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [35065,35102]
    QualifiedName: org.sonar.api.notifications [35072,35099]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [22344,22372]
    QualifiedName: java.util.Collection [22351,22371]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [22453,22474]
    QualifiedName: java.util.Map [22460,22473]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [35021,35063]
    QualifiedName: com.google.common.collect.Multimap [35028,35062]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [22429,22451]
    QualifiedName: java.util.List [22436,22450]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [35106,35139]
    QualifiedName: javax.annotation.Nullable [35113,35138]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [38850,38871]
    QualifiedName: java.util.Map [38857,38870]
to
CompilationUnit [0,107451]
at 127
===
move-tree
---
ImportDeclaration [45038,45059]
    QualifiedName: java.util.Map [45045,45058]
to
CompilationUnit [0,107451]
at 137
===
move-tree
---
ImportDeclaration [99400,99446]
    QualifiedName: com.google.common.collect.HashMultimap [99407,99445]
to
CompilationUnit [0,107451]
at 466
===
move-tree
---
ImportDeclaration [99768,99804]
    QualifiedName: org.mockito.Mockito [99782,99801]
to
CompilationUnit [0,107451]
at 467
===
move-tree
---
ImportDeclaration [96365,96411]
    QualifiedName: com.google.common.collect.HashMultimap [96372,96410]
to
CompilationUnit [0,107451]
at 468
===
move-tree
---
ImportDeclaration [99448,99490]
    QualifiedName: com.google.common.collect.Multimap [99455,99489]
to
CompilationUnit [0,107451]
at 469
===
move-tree
---
ImportDeclaration [87127,87159]
    QualifiedName: org.junit.runner.RunWith [87134,87158]
to
CompilationUnit [0,107451]
at 470
===
move-tree
---
ImportDeclaration [87187,87233]
    QualifiedName: org.mockito.runners.MockitoJUnitRunner [87194,87232]
to
CompilationUnit [0,107451]
at 471
===
move-tree
---
ImportDeclaration [87235,87272]
    QualifiedName: org.sonar.api.notifications [87242,87269]
to
CompilationUnit [0,107451]
at 472
===
move-tree
---
ImportDeclaration [96733,96769]
    QualifiedName: org.mockito.Mockito [96747,96766]
to
CompilationUnit [0,107451]
at 473
===
move-tree
---
ImportDeclaration [91858,91904]
    QualifiedName: com.google.common.collect.HashMultimap [91865,91903]
to
CompilationUnit [0,107451]
at 474
===
move-tree
---
ImportDeclaration [96413,96455]
    QualifiedName: com.google.common.collect.Multimap [96420,96454]
to
CompilationUnit [0,107451]
at 475
===
move-tree
---
ImportDeclaration [91974,92007]
    QualifiedName: org.sonar.api.issue.Issue [91981,92006]
to
CompilationUnit [0,107451]
at 476
===
move-tree
---
ImportDeclaration [87520,87556]
    QualifiedName: org.mockito.Mockito [87534,87553]
to
CompilationUnit [0,107451]
at 477
===
move-tree
---
ImportDeclaration [86985,87031]
    QualifiedName: com.google.common.collect.HashMultimap [86992,87030]
to
CompilationUnit [0,107451]
at 478
===
move-tree
---
ImportDeclaration [91906,91948]
    QualifiedName: com.google.common.collect.Multimap [91913,91947]
to
CompilationUnit [0,107451]
at 479
===
move-tree
---
ImportDeclaration [79030,79054]
    QualifiedName: org.junit.Before [79037,79053]
to
CompilationUnit [0,107451]
at 479
===
move-tree
---
ImportDeclaration [79145,79172]
    QualifiedName: org.mockito.Mockito [79152,79171]
to
CompilationUnit [0,107451]
at 479
===
move-tree
---
ImportDeclaration [83642,83688]
    QualifiedName: com.google.common.collect.HashMultimap [83649,83687]
to
CompilationUnit [0,107451]
at 480
===
move-tree
---
ImportDeclaration [87033,87075]
    QualifiedName: com.google.common.collect.Multimap [87040,87074]
to
CompilationUnit [0,107451]
at 481
===
move-tree
---
ImportDeclaration [79080,79102]
    QualifiedName: org.junit.Test [79087,79101]
to
CompilationUnit [0,107451]
at 481
===
move-tree
---
ImportDeclaration [79225,79273]
    QualifiedName: org.sonar.api.notifications.Notification [79232,79272]
to
CompilationUnit [0,107451]
at 481
===
move-tree
---
ImportDeclaration [83984,84020]
    QualifiedName: org.mockito.Mockito [83998,84017]
to
CompilationUnit [0,107451]
at 482
===
move-tree
---
ImportDeclaration [83690,83732]
    QualifiedName: com.google.common.collect.Multimap [83697,83731]
to
CompilationUnit [0,107451]
at 483
===
move-tree
---
ImportDeclaration [83758,83806]
    QualifiedName: org.sonar.api.notifications.Notification [83765,83805]
to
CompilationUnit [0,107451]
at 490
===
move-tree
---
ImportDeclaration [99592,99647]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [99599,99646]
to
CompilationUnit [0,107451]
at 491
===
move-tree
---
ImportDeclaration [87161,87185]
    QualifiedName: org.mockito.Mock [87168,87184]
to
CompilationUnit [0,107451]
at 500
===
move-tree
---
ImportDeclaration [96557,96612]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [96564,96611]
to
CompilationUnit [0,107451]
at 501
===
move-tree
---
ImportDeclaration [80205,80245]
    QualifiedName: org.mockito.Mockito.never [80219,80244]
to
CompilationUnit [0,107451]
at 501
===
move-tree
---
ImportDeclaration [99542,99590]
    QualifiedName: org.sonar.api.notifications.Notification [99549,99589]
to
CompilationUnit [0,107451]
at 510
===
insert-tree
---
ImportDeclaration [1865,1922]
    QualifiedName: org.sonar.server.notification.NotificationService [1872,1921]
to
CompilationUnit [0,107451]
at 16
===
insert-tree
---
ImportDeclaration [7327,7387]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [7334,7386]
to
CompilationUnit [0,107451]
at 23
===
insert-tree
---
ImportDeclaration [7389,7457]
    QualifiedName: org.sonar.server.notification.NotificationDispatcherMetadata [7396,7456]
to
CompilationUnit [0,107451]
at 24
===
insert-tree
---
ImportDeclaration [7459,7516]
    QualifiedName: org.sonar.server.notification.NotificationManager [7466,7515]
to
CompilationUnit [0,107451]
at 25
===
insert-tree
---
ImportDeclaration [10960,11017]
    QualifiedName: org.sonar.server.notification.NotificationManager [10967,11016]
to
CompilationUnit [0,107451]
at 53
===
insert-tree
---
ImportDeclaration [20836,20893]
    QualifiedName: org.sonar.server.notification.NotificationManager [20843,20892]
to
CompilationUnit [0,107451]
at 74
===
insert-tree
---
ImportDeclaration [22256,22289]
    QualifiedName: javax.annotation.Nullable [22263,22288]
to
CompilationUnit [0,107451]
at 106
===
insert-tree
---
ImportDeclaration [22322,22350]
    QualifiedName: java.util.Collection [22329,22349]
to
CompilationUnit [0,107451]
at 108
===
insert-tree
---
ImportDeclaration [22407,22429]
    QualifiedName: java.util.List [22414,22428]
to
CompilationUnit [0,107451]
at 111
===
insert-tree
---
ImportDeclaration [22431,22452]
    QualifiedName: java.util.Map [22438,22451]
to
CompilationUnit [0,107451]
at 112
===
insert-tree
---
ImportDeclaration [34999,35041]
    QualifiedName: com.google.common.collect.Multimap [35006,35040]
to
CompilationUnit [0,107451]
at 117
===
insert-tree
---
ImportDeclaration [35149,35209]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [35156,35208]
to
CompilationUnit [0,107451]
at 121
===
insert-tree
---
ImportDeclaration [35211,35279]
    QualifiedName: org.sonar.server.notification.NotificationDispatcherMetadata [35218,35278]
to
CompilationUnit [0,107451]
at 122
===
insert-tree
---
ImportDeclaration [35281,35338]
    QualifiedName: org.sonar.server.notification.NotificationManager [35288,35337]
to
CompilationUnit [0,107451]
at 123
===
insert-tree
---
ImportDeclaration [38684,38726]
    QualifiedName: com.google.common.collect.Multimap [38691,38725]
to
CompilationUnit [0,107451]
at 125
===
insert-tree
---
ImportDeclaration [38834,38855]
    QualifiedName: java.util.Map [38841,38854]
to
CompilationUnit [0,107451]
at 129
===
insert-tree
---
ImportDeclaration [38857,38917]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [38864,38916]
to
CompilationUnit [0,107451]
at 130
===
insert-tree
---
ImportDeclaration [38919,38987]
    QualifiedName: org.sonar.server.notification.NotificationDispatcherMetadata [38926,38986]
to
CompilationUnit [0,107451]
at 131
===
insert-tree
---
ImportDeclaration [38989,39046]
    QualifiedName: org.sonar.server.notification.NotificationManager [38996,39045]
to
CompilationUnit [0,107451]
at 132
===
insert-tree
---
ImportDeclaration [42278,42338]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [42285,42337]
to
CompilationUnit [0,107451]
at 139
===
insert-tree
---
ImportDeclaration [42340,42408]
    QualifiedName: org.sonar.server.notification.NotificationDispatcherMetadata [42347,42407]
to
CompilationUnit [0,107451]
at 140
===
insert-tree
---
ImportDeclaration [42410,42467]
    QualifiedName: org.sonar.server.notification.NotificationManager [42417,42466]
to
CompilationUnit [0,107451]
at 141
===
insert-tree
---
ImportDeclaration [45057,45117]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [45064,45116]
to
CompilationUnit [0,107451]
at 146
===
insert-tree
---
ImportDeclaration [45119,45187]
    QualifiedName: org.sonar.server.notification.NotificationDispatcherMetadata [45126,45186]
to
CompilationUnit [0,107451]
at 147
===
insert-tree
---
ImportDeclaration [45189,45246]
    QualifiedName: org.sonar.server.notification.NotificationManager [45196,45245]
to
CompilationUnit [0,107451]
at 148
===
insert-tree
---
ImportDeclaration [47724,47779]
    QualifiedName: com.google.common.annotations.VisibleForTesting [47731,47778]
to
CompilationUnit [0,107451]
at 149
===
insert-tree
---
ImportDeclaration [47781,47820]
    QualifiedName: com.google.common.base.Function [47788,47819]
to
CompilationUnit [0,107451]
at 150
===
insert-tree
---
ImportDeclaration [47822,47868]
    QualifiedName: com.google.common.collect.HashMultimap [47829,47867]
to
CompilationUnit [0,107451]
at 151
===
insert-tree
---
ImportDeclaration [47870,47909]
    QualifiedName: com.google.common.collect.Lists [47877,47908]
to
CompilationUnit [0,107451]
at 152
===
insert-tree
---
ImportDeclaration [47955,48000]
    QualifiedName: com.google.common.collect.SetMultimap [47962,47999]
to
CompilationUnit [0,107451]
at 154
===
insert-tree
---
ImportDeclaration [48002,48029]
    QualifiedName: java.io.IOException [48009,48028]
to
CompilationUnit [0,107451]
at 155
===
insert-tree
---
ImportDeclaration [48031,48068]
    QualifiedName: java.io.InvalidClassException [48038,48067]
to
CompilationUnit [0,107451]
at 156
===
insert-tree
---
ImportDeclaration [48070,48094]
    QualifiedName: java.util.Arrays [48077,48093]
to
CompilationUnit [0,107451]
at 157
===
insert-tree
---
ImportDeclaration [48155,48203]
    QualifiedName: org.sonar.api.notifications.Notification [48162,48202]
to
CompilationUnit [0,107451]
at 160
===
insert-tree
---
ImportDeclaration [48205,48260]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [48212,48259]
to
CompilationUnit [0,107451]
at 161
===
insert-tree
---
ImportDeclaration [48262,48304]
    QualifiedName: org.sonar.api.utils.SonarException [48269,48303]
to
CompilationUnit [0,107451]
at 162
===
insert-tree
---
ImportDeclaration [48306,48344]
    QualifiedName: org.sonar.api.utils.log.Logger [48313,48343]
to
CompilationUnit [0,107451]
at 163
===
insert-tree
---
ImportDeclaration [48346,48385]
    QualifiedName: org.sonar.api.utils.log.Loggers [48353,48384]
to
CompilationUnit [0,107451]
at 164
===
insert-tree
---
ImportDeclaration [48387,48446]
    QualifiedName: org.sonar.core.notification.db.NotificationQueueDao [48394,48445]
to
CompilationUnit [0,107451]
at 165
===
insert-tree
---
ImportDeclaration [48448,48507]
    QualifiedName: org.sonar.core.notification.db.NotificationQueueDto [48455,48506]
to
CompilationUnit [0,107451]
at 166
===
insert-tree
---
ImportDeclaration [48509,48556]
    QualifiedName: org.sonar.core.properties.PropertiesDao [48516,48555]
to
CompilationUnit [0,107451]
at 167
===
insert-tree
---
ImportDeclaration [54632,54671]
    QualifiedName: com.google.common.collect.Lists [54639,54670]
to
CompilationUnit [0,107451]
at 168
===
insert-tree
---
ImportDeclaration [54673,54712]
    QualifiedName: org.sonar.api.server.ServerSide [54680,54711]
to
CompilationUnit [0,107451]
at 169
===
insert-tree
---
ImportDeclaration [54714,54769]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [54721,54768]
to
CompilationUnit [0,107451]
at 170
===
insert-tree
---
ImportDeclaration [54771,54809]
    QualifiedName: org.sonar.api.utils.log.Logger [54778,54808]
to
CompilationUnit [0,107451]
at 171
===
insert-tree
---
ImportDeclaration [54811,54850]
    QualifiedName: org.sonar.api.utils.log.Loggers [54818,54849]
to
CompilationUnit [0,107451]
at 172
===
insert-tree
---
ImportDeclaration [54854,54887]
    QualifiedName: javax.annotation.Nullable [54861,54886]
to
CompilationUnit [0,107451]
at 173
===
insert-tree
---
ImportDeclaration [54891,54915]
    QualifiedName: java.util.Arrays [54898,54914]
to
CompilationUnit [0,107451]
at 174
===
insert-tree
---
ImportDeclaration [54917,54939]
    QualifiedName: java.util.List [54924,54938]
to
CompilationUnit [0,107451]
at 175
===
insert-tree
---
ImportDeclaration [58141,58184]
    QualifiedName: org.apache.commons.lang.StringUtils [58148,58183]
to
CompilationUnit [0,107451]
at 176
===
insert-tree
---
ImportDeclaration [58186,58222]
    QualifiedName: org.sonar.api.ExtensionPoint [58193,58221]
to
CompilationUnit [0,107451]
at 177
===
insert-tree
---
ImportDeclaration [58224,58272]
    QualifiedName: org.sonar.api.notifications.Notification [58231,58271]
to
CompilationUnit [0,107451]
at 178
===
insert-tree
---
ImportDeclaration [58274,58329]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [58281,58328]
to
CompilationUnit [0,107451]
at 179
===
insert-tree
---
ImportDeclaration [58331,58370]
    QualifiedName: org.sonar.api.server.ServerSide [58338,58369]
to
CompilationUnit [0,107451]
at 180
===
insert-tree
---
ImportDeclaration [62700,62738]
    QualifiedName: com.google.common.collect.Maps [62707,62737]
to
CompilationUnit [0,107451]
at 181
===
insert-tree
---
ImportDeclaration [62763,62802]
    QualifiedName: org.sonar.api.server.ServerSide [62770,62801]
to
CompilationUnit [0,107451]
at 183
===
insert-tree
---
ImportDeclaration [65978,66000]
    QualifiedName: java.util.List [65985,65999]
to
CompilationUnit [0,107451]
at 188
===
insert-tree
---
ImportDeclaration [66002,66035]
    QualifiedName: javax.annotation.Nullable [66009,66034]
to
CompilationUnit [0,107451]
at 189
===
insert-tree
---
ImportDeclaration [66037,66085]
    QualifiedName: org.sonar.api.notifications.Notification [66044,66084]
to
CompilationUnit [0,107451]
at 190
===
insert-tree
---
ImportDeclaration [66087,66142]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [66094,66141]
to
CompilationUnit [0,107451]
at 191
===
insert-tree
---
ImportDeclaration [68982,69037]
    QualifiedName: com.google.common.annotations.VisibleForTesting [68989,69036]
to
CompilationUnit [0,107451]
at 192
===
insert-tree
---
ImportDeclaration [69039,69085]
    QualifiedName: com.google.common.collect.HashMultimap [69046,69084]
to
CompilationUnit [0,107451]
at 193
===
insert-tree
---
ImportDeclaration [69087,69134]
    QualifiedName: com.google.common.collect.ImmutableList [69094,69133]
to
CompilationUnit [0,107451]
at 194
===
insert-tree
---
ImportDeclaration [69136,69181]
    QualifiedName: com.google.common.collect.SetMultimap [69143,69180]
to
CompilationUnit [0,107451]
at 195
===
insert-tree
---
ImportDeclaration [69183,69210]
    QualifiedName: java.util.ArrayList [69190,69209]
to
CompilationUnit [0,107451]
at 196
===
insert-tree
---
ImportDeclaration [69289,69310]
    QualifiedName: java.util.Set [69296,69309]
to
CompilationUnit [0,107451]
at 203
===
insert-tree
---
ImportDeclaration [69312,69350]
    QualifiedName: java.util.concurrent.Executors [69319,69349]
to
CompilationUnit [0,107451]
at 204
===
insert-tree
---
ImportDeclaration [69352,69405]
    QualifiedName: java.util.concurrent.ScheduledExecutorService [69359,69404]
to
CompilationUnit [0,107451]
at 205
===
insert-tree
---
ImportDeclaration [69407,69444]
    QualifiedName: java.util.concurrent.TimeUnit [69414,69443]
to
CompilationUnit [0,107451]
at 206
===
insert-tree
---
ImportDeclaration [69446,69481]
    QualifiedName: org.picocontainer.Startable [69453,69480]
to
CompilationUnit [0,107451]
at 207
===
insert-tree
---
ImportDeclaration [69483,69515]
    QualifiedName: org.sonar.api.Properties [69490,69514]
to
CompilationUnit [0,107451]
at 208
===
insert-tree
---
ImportDeclaration [69517,69547]
    QualifiedName: org.sonar.api.Property [69524,69546]
to
CompilationUnit [0,107451]
at 209
===
insert-tree
---
ImportDeclaration [69549,69588]
    QualifiedName: org.sonar.api.server.ServerSide [69556,69587]
to
CompilationUnit [0,107451]
at 210
===
insert-tree
---
ImportDeclaration [69590,69627]
    QualifiedName: org.sonar.api.config.Settings [69597,69626]
to
CompilationUnit [0,107451]
at 211
===
insert-tree
---
ImportDeclaration [69629,69677]
    QualifiedName: org.sonar.api.notifications.Notification [69636,69676]
to
CompilationUnit [0,107451]
at 212
===
insert-tree
---
ImportDeclaration [69679,69734]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [69686,69733]
to
CompilationUnit [0,107451]
at 213
===
insert-tree
---
ImportDeclaration [69736,69774]
    QualifiedName: org.sonar.api.utils.log.Logger [69743,69773]
to
CompilationUnit [0,107451]
at 214
===
insert-tree
---
ImportDeclaration [69776,69815]
    QualifiedName: org.sonar.api.utils.log.Loggers [69783,69814]
to
CompilationUnit [0,107451]
at 215
===
insert-tree
---
ImportDeclaration [69817,69869]
    QualifiedName: org.sonar.jpa.session.DatabaseSessionFactory [69824,69868]
to
CompilationUnit [0,107451]
at 216
===
insert-tree
---
ImportDeclaration [69871,69907]
    QualifiedName: org.sonar.server.db.DbClient [69878,69906]
to
CompilationUnit [0,107451]
at 217
===
insert-tree
---
ImportDeclaration [77793,77836]
    QualifiedName: org.apache.commons.lang.StringUtils [77800,77835]
to
CompilationUnit [0,107451]
at 218
===
insert-tree
---
ImportDeclaration [77882,77919]
    QualifiedName: org.sonar.api.measures.Metric [77889,77918]
to
CompilationUnit [0,107451]
at 220
===
insert-tree
---
ImportDeclaration [77921,77969]
    QualifiedName: org.sonar.api.notifications.Notification [77928,77968]
to
CompilationUnit [0,107451]
at 221
===
insert-tree
---
ImportDeclaration [77971,78032]
    QualifiedName: org.sonar.plugins.emailnotifications.api.EmailMessage [77978,78031]
to
CompilationUnit [0,107451]
at 222
===
insert-tree
---
ImportDeclaration [78034,78096]
    QualifiedName: org.sonar.plugins.emailnotifications.api.EmailTemplate [78041,78095]
to
CompilationUnit [0,107451]
at 223
===
insert-tree
---
ImportDeclaration [82237,82275]
    QualifiedName: java.net.MalformedURLException [82244,82274]
to
CompilationUnit [0,107451]
at 224
===
insert-tree
---
ImportDeclaration [82277,82297]
    QualifiedName: java.net.URL [82284,82296]
to
CompilationUnit [0,107451]
at 225
===
insert-tree
---
ImportDeclaration [82299,82342]
    QualifiedName: org.apache.commons.lang.StringUtils [82306,82341]
to
CompilationUnit [0,107451]
at 226
===
insert-tree
---
ImportDeclaration [82344,82390]
    QualifiedName: org.apache.commons.mail.EmailException [82351,82389]
to
CompilationUnit [0,107451]
at 227
===
insert-tree
---
ImportDeclaration [82392,82435]
    QualifiedName: org.apache.commons.mail.SimpleEmail [82399,82434]
to
CompilationUnit [0,107451]
at 228
===
insert-tree
---
ImportDeclaration [82437,82479]
    QualifiedName: org.sonar.api.config.EmailSettings [82444,82478]
to
CompilationUnit [0,107451]
at 229
===
insert-tree
---
ImportDeclaration [82481,82522]
    QualifiedName: org.sonar.api.database.model.User [82488,82521]
to
CompilationUnit [0,107451]
at 230
===
insert-tree
---
ImportDeclaration [82524,82572]
    QualifiedName: org.sonar.api.notifications.Notification [82531,82571]
to
CompilationUnit [0,107451]
at 231
===
insert-tree
---
ImportDeclaration [82574,82629]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [82581,82628]
to
CompilationUnit [0,107451]
at 232
===
insert-tree
---
ImportDeclaration [82631,82672]
    QualifiedName: org.sonar.api.security.UserFinder [82638,82671]
to
CompilationUnit [0,107451]
at 233
===
insert-tree
---
ImportDeclaration [82674,82716]
    QualifiedName: org.sonar.api.utils.SonarException [82681,82715]
to
CompilationUnit [0,107451]
at 234
===
insert-tree
---
ImportDeclaration [82718,82756]
    QualifiedName: org.sonar.api.utils.log.Logger [82725,82755]
to
CompilationUnit [0,107451]
at 235
===
insert-tree
---
ImportDeclaration [82758,82797]
    QualifiedName: org.sonar.api.utils.log.Loggers [82765,82796]
to
CompilationUnit [0,107451]
at 236
===
insert-tree
---
ImportDeclaration [82799,82860]
    QualifiedName: org.sonar.plugins.emailnotifications.api.EmailMessage [82806,82859]
to
CompilationUnit [0,107451]
at 237
===
insert-tree
---
ImportDeclaration [82862,82924]
    QualifiedName: org.sonar.plugins.emailnotifications.api.EmailTemplate [82869,82923]
to
CompilationUnit [0,107451]
at 238
===
insert-tree
---
ImportDeclaration [91606,91660]
    QualifiedName: javax.annotation.ParametersAreNonnullByDefault [91613,91659]
to
CompilationUnit [0,107451]
at 239
===
insert-tree
---
ImportDeclaration [92734,92788]
    QualifiedName: javax.annotation.ParametersAreNonnullByDefault [92741,92787]
to
CompilationUnit [0,107451]
at 240
===
insert-tree
---
ImportDeclaration [93850,93872]
    QualifiedName: java.util.List [93857,93871]
to
CompilationUnit [0,107451]
at 241
===
insert-tree
---
ImportDeclaration [93874,93916]
    QualifiedName: org.sonar.api.config.EmailSettings [93881,93915]
to
CompilationUnit [0,107451]
at 242
===
insert-tree
---
ImportDeclaration [94818,94882]
    QualifiedName: org.sonar.server.notification.DefaultNotificationManager [94825,94881]
to
CompilationUnit [0,107451]
at 260
===
insert-tree
---
ImportDeclaration [102454,102510]
    QualifiedName: org.sonar.server.notification.NotificationCenter [102461,102509]
to
CompilationUnit [0,107451]
at 394
===
insert-tree
---
ImportDeclaration [102512,102569]
    QualifiedName: org.sonar.server.notification.NotificationService [102519,102568]
to
CompilationUnit [0,107451]
at 395
===
insert-tree
---
ImportDeclaration [102571,102634]
    QualifiedName: org.sonar.server.notification.email.AlertsEmailTemplate [102578,102633]
to
CompilationUnit [0,107451]
at 396
===
insert-tree
---
ImportDeclaration [102636,102704]
    QualifiedName: org.sonar.server.notification.email.EmailNotificationChannel [102643,102703]
to
CompilationUnit [0,107451]
at 397
===
insert-tree
---
ImportDeclaration [125148,125172]
    QualifiedName: org.junit.Before [125155,125171]
to
CompilationUnit [0,107451]
at 552
===
insert-tree
---
ImportDeclaration [125198,125220]
    QualifiedName: org.junit.Test [125205,125219]
to
CompilationUnit [0,107451]
at 554
===
insert-tree
---
ImportDeclaration [125263,125290]
    QualifiedName: org.mockito.Mockito [125270,125289]
to
CompilationUnit [0,107451]
at 556
===
insert-tree
---
ImportDeclaration [125343,125391]
    QualifiedName: org.sonar.api.notifications.Notification [125350,125390]
to
CompilationUnit [0,107451]
at 558
===
insert-tree
---
ImportDeclaration [126132,126189]
    QualifiedName: org.sonar.server.notification.NotificationService [126139,126188]
to
CompilationUnit [0,107451]
at 572
===
insert-tree
---
ImportDeclaration [126281,126320]
    QualifiedName: org.mockito.Mockito.mock [126295,126319]
to
CompilationUnit [0,107451]
at 576
===
insert-tree
---
ImportDeclaration [126322,126362]
    QualifiedName: org.mockito.Mockito.never [126336,126361]
to
CompilationUnit [0,107451]
at 577
===
insert-tree
---
ImportDeclaration [126364,126405]
    QualifiedName: org.mockito.Mockito.verify [126378,126404]
to
CompilationUnit [0,107451]
at 578
===
insert-tree
---
ImportDeclaration [126407,126446]
    QualifiedName: org.mockito.Mockito.when [126421,126445]
to
CompilationUnit [0,107451]
at 579
===
insert-tree
---
ImportDeclaration [129807,129849]
    QualifiedName: com.google.common.collect.Multimap [129814,129848]
to
CompilationUnit [0,107451]
at 581
===
insert-tree
---
ImportDeclaration [129851,129873]
    QualifiedName: org.junit.Test [129858,129872]
to
CompilationUnit [0,107451]
at 582
===
insert-tree
---
ImportDeclaration [129875,129923]
    QualifiedName: org.sonar.api.notifications.Notification [129882,129922]
to
CompilationUnit [0,107451]
at 583
===
insert-tree
---
ImportDeclaration [129925,129980]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [129932,129979]
to
CompilationUnit [0,107451]
at 584
===
insert-tree
---
ImportDeclaration [129982,130042]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [129989,130041]
to
CompilationUnit [0,107451]
at 585
===
insert-tree
---
ImportDeclaration [130044,130101]
    QualifiedName: org.sonar.server.notification.NotificationManager [130051,130100]
to
CompilationUnit [0,107451]
at 586
===
insert-tree
---
ImportDeclaration [133198,133222]
    QualifiedName: org.junit.Before [133205,133221]
to
CompilationUnit [0,107451]
at 590
===
insert-tree
---
ImportDeclaration [133224,133246]
    QualifiedName: org.junit.Test [133231,133245]
to
CompilationUnit [0,107451]
at 591
===
insert-tree
---
ImportDeclaration [133282,133306]
    QualifiedName: org.mockito.Mock [133289,133305]
to
CompilationUnit [0,107451]
at 593
===
insert-tree
---
ImportDeclaration [133395,133455]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [133402,133454]
to
CompilationUnit [0,107451]
at 596
===
insert-tree
---
ImportDeclaration [133457,133525]
    QualifiedName: org.sonar.server.notification.NotificationDispatcherMetadata [133464,133524]
to
CompilationUnit [0,107451]
at 597
===
insert-tree
---
ImportDeclaration [133527,133584]
    QualifiedName: org.sonar.server.notification.NotificationManager [133534,133583]
to
CompilationUnit [0,107451]
at 598
===
insert-tree
---
ImportDeclaration [133588,133645]
    QualifiedName: org.assertj.core.api.Assertions.assertThat [133602,133644]
to
CompilationUnit [0,107451]
at 599
===
insert-tree
---
ImportDeclaration [138077,138099]
    QualifiedName: org.junit.Test [138084,138098]
to
CompilationUnit [0,107451]
at 603
===
insert-tree
---
ImportDeclaration [138136,138184]
    QualifiedName: org.sonar.api.notifications.Notification [138143,138183]
to
CompilationUnit [0,107451]
at 605
===
insert-tree
---
ImportDeclaration [138186,138241]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [138193,138240]
to
CompilationUnit [0,107451]
at 606
===
insert-tree
---
ImportDeclaration [138243,138303]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [138250,138302]
to
CompilationUnit [0,107451]
at 607
===
insert-tree
---
ImportDeclaration [138305,138373]
    QualifiedName: org.sonar.server.notification.NotificationDispatcherMetadata [138312,138372]
to
CompilationUnit [0,107451]
at 608
===
insert-tree
---
ImportDeclaration [138375,138432]
    QualifiedName: org.sonar.server.notification.NotificationManager [138382,138431]
to
CompilationUnit [0,107451]
at 609
===
insert-tree
---
ImportDeclaration [138436,138493]
    QualifiedName: org.assertj.core.api.Assertions.assertThat [138450,138492]
to
CompilationUnit [0,107451]
at 610
===
insert-tree
---
ImportDeclaration [142616,142638]
    QualifiedName: org.junit.Test [142623,142637]
to
CompilationUnit [0,107451]
at 615
===
insert-tree
---
ImportDeclaration [142640,142688]
    QualifiedName: org.sonar.api.notifications.Notification [142647,142687]
to
CompilationUnit [0,107451]
at 616
===
insert-tree
---
ImportDeclaration [142690,142745]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [142697,142744]
to
CompilationUnit [0,107451]
at 617
===
insert-tree
---
ImportDeclaration [142747,142807]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [142754,142806]
to
CompilationUnit [0,107451]
at 618
===
insert-tree
---
ImportDeclaration [142809,142866]
    QualifiedName: org.sonar.server.notification.NotificationManager [142816,142865]
to
CompilationUnit [0,107451]
at 619
===
insert-tree
---
ImportDeclaration [145629,145653]
    QualifiedName: org.junit.Before [145636,145652]
to
CompilationUnit [0,107451]
at 623
===
insert-tree
---
ImportDeclaration [145729,145784]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [145736,145783]
to
CompilationUnit [0,107451]
at 626
===
insert-tree
---
ImportDeclaration [145786,145846]
    QualifiedName: org.sonar.server.notification.NotificationDispatcher [145793,145845]
to
CompilationUnit [0,107451]
at 627
===
insert-tree
---
ImportDeclaration [145848,145905]
    QualifiedName: org.sonar.server.notification.NotificationManager [145855,145904]
to
CompilationUnit [0,107451]
at 628
===
insert-tree
---
ImportDeclaration [148604,148643]
    QualifiedName: com.google.common.collect.Lists [148611,148642]
to
CompilationUnit [0,107451]
at 630
===
insert-tree
---
ImportDeclaration [148689,148713]
    QualifiedName: org.junit.Before [148696,148712]
to
CompilationUnit [0,107451]
at 632
===
insert-tree
---
ImportDeclaration [148715,148737]
    QualifiedName: org.junit.Test [148722,148736]
to
CompilationUnit [0,107451]
at 633
===
insert-tree
---
ImportDeclaration [148739,148766]
    QualifiedName: org.mockito.InOrder [148746,148765]
to
CompilationUnit [0,107451]
at 634
===
insert-tree
---
ImportDeclaration [148768,148792]
    QualifiedName: org.mockito.Mock [148775,148791]
to
CompilationUnit [0,107451]
at 635
===
insert-tree
---
ImportDeclaration [148794,148832]
    QualifiedName: org.mockito.MockitoAnnotations [148801,148831]
to
CompilationUnit [0,107451]
at 636
===
insert-tree
---
ImportDeclaration [148834,148882]
    QualifiedName: org.sonar.api.notifications.Notification [148841,148881]
to
CompilationUnit [0,107451]
at 637
===
insert-tree
---
ImportDeclaration [148884,148939]
    QualifiedName: org.sonar.api.notifications.NotificationChannel [148891,148938]
to
CompilationUnit [0,107451]
at 638
===
insert-tree
---
ImportDeclaration [148941,149000]
    QualifiedName: org.sonar.core.notification.db.NotificationQueueDao [148948,148999]
to
CompilationUnit [0,107451]
at 639
===
insert-tree
---
ImportDeclaration [149002,149061]
    QualifiedName: org.sonar.core.notification.db.NotificationQueueDto [149009,149060]
to
CompilationUnit [0,107451]
at 640
===
insert-tree
---
ImportDeclaration [149063,149110]
    QualifiedName: org.sonar.core.properties.PropertiesDao [149070,149109]
to
CompilationUnit [0,107451]
at 641
===
insert-tree
---
ImportDeclaration [149112,149161]
    QualifiedName: org.sonar.jpa.test.AbstractDbUnitTestCase [149119,149160]
to
CompilationUnit [0,107451]
at 642
===
insert-tree
---
ImportDeclaration [149165,149202]
    QualifiedName: java.io.InvalidClassException [149172,149201]
to
CompilationUnit [0,107451]
at 643
===
insert-tree
---
ImportDeclaration [149204,149228]
    QualifiedName: java.util.Arrays [149211,149227]
to
CompilationUnit [0,107451]
at 644
===
insert-tree
---
ImportDeclaration [149230,149258]
    QualifiedName: java.util.Collection [149237,149257]
to
CompilationUnit [0,107451]
at 645
===
insert-tree
---
ImportDeclaration [149260,149282]
    QualifiedName: java.util.List [149267,149281]
to
CompilationUnit [0,107451]
at 646
===
insert-tree
---
ImportDeclaration [149284,149305]
    QualifiedName: java.util.Map [149291,149304]
to
CompilationUnit [0,107451]
at 647
===
insert-tree
---
ImportDeclaration [149309,149366]
    QualifiedName: org.assertj.core.api.Assertions.assertThat [149323,149365]
to
CompilationUnit [0,107451]
at 648
===
insert-tree
---
ImportDeclaration [149368,149407]
    QualifiedName: org.mockito.Matchers.any [149382,149406]
to
CompilationUnit [0,107451]
at 649
===
insert-tree
---
ImportDeclaration [149409,149451]
    QualifiedName: org.mockito.Mockito.inOrder [149423,149450]
to
CompilationUnit [0,107451]
at 650
===
insert-tree
---
ImportDeclaration [149494,149533]
    QualifiedName: org.mockito.Mockito.only [149508,149532]
to
CompilationUnit [0,107451]
at 652
===
insert-tree
---
ImportDeclaration [149535,149573]
    QualifiedName: org.mockito.Mockito.spy [149549,149572]
to
CompilationUnit [0,107451]
at 653
===
insert-tree
---
ImportDeclaration [149575,149615]
    QualifiedName: org.mockito.Mockito.times [149589,149614]
to
CompilationUnit [0,107451]
at 654
===
insert-tree
---
ImportDeclaration [156521,156545]
    QualifiedName: org.junit.Before [156528,156544]
to
CompilationUnit [0,107451]
at 657
===
insert-tree
---
ImportDeclaration [156571,156595]
    QualifiedName: org.mockito.Mock [156578,156594]
to
CompilationUnit [0,107451]
at 659
===
insert-tree
---
ImportDeclaration [156597,156635]
    QualifiedName: org.mockito.MockitoAnnotations [156604,156634]
to
CompilationUnit [0,107451]
at 660
===
insert-tree
---
ImportDeclaration [156696,156753]
    QualifiedName: org.assertj.core.api.Assertions.assertThat [156710,156752]
to
CompilationUnit [0,107451]
at 662
===
insert-tree
---
ImportDeclaration [160003,160042]
    QualifiedName: org.hamcrest.Matchers.is [160017,160041]
to
CompilationUnit [0,107451]
at 663
===
insert-tree
---
ImportDeclaration [160044,160086]
    QualifiedName: org.junit.Assert.assertThat [160058,160085]
to
CompilationUnit [0,107451]
at 664
===
insert-tree
---
ImportDeclaration [160090,160112]
    QualifiedName: org.junit.Test [160097,160111]
to
CompilationUnit [0,107451]
at 665
===
insert-tree
---
ImportDeclaration [163478,163502]
    QualifiedName: org.junit.Before [163485,163501]
to
CompilationUnit [0,107451]
at 676
===
insert-tree
---
ImportDeclaration [163504,163526]
    QualifiedName: org.junit.Test [163511,163525]
to
CompilationUnit [0,107451]
at 677
===
insert-tree
---
ImportDeclaration [163554,163592]
    QualifiedName: org.mockito.MockitoAnnotations [163561,163591]
to
CompilationUnit [0,107451]
at 679
===
insert-tree
---
ImportDeclaration [163594,163642]
    QualifiedName: org.sonar.api.notifications.Notification [163601,163641]
to
CompilationUnit [0,107451]
at 680
===
insert-tree
---
ImportDeclaration [163703,163742]
    QualifiedName: org.hamcrest.Matchers.is [163717,163741]
to
CompilationUnit [0,107451]
at 682
===
insert-tree
---
ImportDeclaration [163744,163786]
    QualifiedName: org.junit.Assert.assertThat [163758,163785]
to
CompilationUnit [0,107451]
at 683
===
insert-tree
---
ImportDeclaration [163830,163870]
    QualifiedName: org.mockito.Mockito.times [163844,163869]
to
CompilationUnit [0,107451]
at 685
===
insert-tree
---
ImportDeclaration [163872,163913]
    QualifiedName: org.mockito.Mockito.verify [163886,163912]
to
CompilationUnit [0,107451]
at 686
===
insert-tree
---
ImportDeclaration [163915,163954]
    QualifiedName: org.mockito.Mockito.when [163929,163953]
to
CompilationUnit [0,107451]
at 687
===
insert-tree
---
ImportDeclaration [166998,167036]
    QualifiedName: com.google.common.collect.Sets [167005,167035]
to
CompilationUnit [0,107451]
at 688
===
insert-tree
---
ImportDeclaration [167062,167109]
    QualifiedName: org.mockito.invocation.InvocationOnMock [167069,167108]
to
CompilationUnit [0,107451]
at 690
===
insert-tree
---
ImportDeclaration [167111,167146]
    QualifiedName: org.mockito.stubbing.Answer [167118,167145]
to
CompilationUnit [0,107451]
at 691
===
insert-tree
---
ImportDeclaration [167148,167185]
    QualifiedName: org.sonar.api.config.Settings [167155,167184]
to
CompilationUnit [0,107451]
at 692
===
insert-tree
---
ImportDeclaration [167294,167341]
    QualifiedName: org.sonar.core.properties.PropertiesDao [167301,167340]
to
CompilationUnit [0,107451]
at 695
===
insert-tree
---
ImportDeclaration [167343,167395]
    QualifiedName: org.sonar.jpa.session.DatabaseSessionFactory [167350,167394]
to
CompilationUnit [0,107451]
at 696
===
insert-tree
---
ImportDeclaration [167397,167433]
    QualifiedName: org.sonar.server.db.DbClient [167404,167432]
to
CompilationUnit [0,107451]
at 697
===
insert-tree
---
ImportDeclaration [167437,167461]
    QualifiedName: java.util.Arrays [167444,167460]
to
CompilationUnit [0,107451]
at 698
===
insert-tree
---
ImportDeclaration [177683,177707]
    QualifiedName: org.junit.Before [177690,177706]
to
CompilationUnit [0,107451]
at 704
===
insert-tree
---
ImportDeclaration [177709,177731]
    QualifiedName: org.junit.Test [177716,177730]
to
CompilationUnit [0,107451]
at 705
===
insert-tree
---
ImportDeclaration [177785,177842]
    QualifiedName: org.assertj.core.api.Assertions.assertThat [177799,177841]
to
CompilationUnit [0,107451]
at 707
===
insert-tree
---
ImportDeclaration [180751,180793]
    QualifiedName: org.sonar.api.config.EmailSettings [180758,180792]
to
CompilationUnit [0,107451]
at 710
===
insert-tree
---
ImportDeclaration [180845,180906]
    QualifiedName: org.sonar.plugins.emailnotifications.api.EmailMessage [180852,180905]
to
CompilationUnit [0,107451]
at 712
===
insert-tree
---
ImportDeclaration [180910,180949]
    QualifiedName: org.hamcrest.Matchers.is [180924,180948]
to
CompilationUnit [0,107451]
at 713
===
insert-tree
---
ImportDeclaration [180951,180997]
    QualifiedName: org.hamcrest.Matchers.nullValue [180965,180996]
to
CompilationUnit [0,107451]
at 714
===
insert-tree
---
ImportDeclaration [180999,181041]
    QualifiedName: org.junit.Assert.assertThat [181013,181040]
to
CompilationUnit [0,107451]
at 715
===
insert-tree
---
ImportDeclaration [181043,181082]
    QualifiedName: org.mockito.Mockito.mock [181057,181081]
to
CompilationUnit [0,107451]
at 716
===
insert-tree
---
ImportDeclaration [181084,181123]
    QualifiedName: org.mockito.Mockito.when [181098,181122]
to
CompilationUnit [0,107451]
at 717
===
insert-tree
---
ImportDeclaration [186116,186143]
    QualifiedName: java.io.IOException [186123,186142]
to
CompilationUnit [0,107451]
at 718
===
insert-tree
---
ImportDeclaration [186145,186174]
    QualifiedName: java.net.ServerSocket [186152,186173]
to
CompilationUnit [0,107451]
at 719
===
insert-tree
---
ImportDeclaration [186176,186198]
    QualifiedName: java.util.List [186183,186197]
to
CompilationUnit [0,107451]
at 720
===
insert-tree
---
ImportDeclaration [186200,186239]
    QualifiedName: javax.mail.internet.MimeMessage [186207,186238]
to
CompilationUnit [0,107451]
at 721
===
insert-tree
---
ImportDeclaration [186241,186287]
    QualifiedName: org.apache.commons.mail.EmailException [186248,186286]
to
CompilationUnit [0,107451]
at 722
===
insert-tree
---
ImportDeclaration [186289,186312]
    QualifiedName: org.junit.After [186296,186311]
to
CompilationUnit [0,107451]
at 723
===
insert-tree
---
ImportDeclaration [186340,186362]
    QualifiedName: org.junit.Rule [186347,186361]
to
CompilationUnit [0,107451]
at 727
===
insert-tree
---
ImportDeclaration [186388,186429]
    QualifiedName: org.junit.rules.ExpectedException [186395,186428]
to
CompilationUnit [0,107451]
at 729
===
insert-tree
---
ImportDeclaration [186431,186473]
    QualifiedName: org.sonar.api.config.EmailSettings [186438,186472]
to
CompilationUnit [0,107451]
at 730
===
insert-tree
---
ImportDeclaration [186475,186536]
    QualifiedName: org.sonar.plugins.emailnotifications.api.EmailMessage [186482,186535]
to
CompilationUnit [0,107451]
at 731
===
insert-tree
---
ImportDeclaration [186538,186573]
    QualifiedName: org.subethamail.wiser.Wiser [186545,186572]
to
CompilationUnit [0,107451]
at 732
===
insert-tree
---
ImportDeclaration [186575,186617]
    QualifiedName: org.subethamail.wiser.WiserMessage [186582,186616]
to
CompilationUnit [0,107451]
at 733
===
insert-tree
---
ImportDeclaration [186621,186663]
    QualifiedName: junit.framework.Assert.fail [186635,186662]
to
CompilationUnit [0,107451]
at 734
===
insert-tree
---
ImportDeclaration [186665,186722]
    QualifiedName: org.assertj.core.api.Assertions.assertThat [186679,186721]
to
CompilationUnit [0,107451]
at 735
===
insert-tree
---
ImportDeclaration [186724,186763]
    QualifiedName: org.mockito.Mockito.mock [186738,186762]
to
CompilationUnit [0,107451]
at 736
===
insert-tree
---
ImportDeclaration [186765,186804]
    QualifiedName: org.mockito.Mockito.when [186779,186803]
to
CompilationUnit [0,107451]
at 737
===
insert-tree
---
TypeDeclaration [48560,53586]
    Modifier: public [48560,48566]
    TYPE_DECLARATION_KIND: class [48567,48572]
    SimpleName: DefaultNotificationManager [48573,48599]
    SimpleType [48611,48630]
        SimpleName: NotificationManager [48611,48630]
    FieldDeclaration [48638,48718]
        Modifier: private [48638,48645]
        Modifier: static [48646,48652]
        Modifier: final [48653,48658]
        SimpleType [48659,48665]
            SimpleName: Logger [48659,48665]
        VariableDeclarationFragment [48666,48717]
            SimpleName: LOG [48666,48669]
            MethodInvocation [48672,48717]
                METHOD_INVOCATION_RECEIVER [48672,48679]
                    SimpleName: Loggers [48672,48679]
                SimpleName: get [48680,48683]
                METHOD_INVOCATION_ARGUMENTS [48684,48716]
                    TypeLiteral [48684,48716]
                        SimpleType [48684,48710]
                            SimpleName: DefaultNotificationManager [48684,48710]
    FieldDeclaration [48724,48812]
        Modifier: private [48724,48731]
        Modifier: static [48732,48738]
        Modifier: final [48739,48744]
        SimpleType [48745,48751]
            SimpleName: String [48745,48751]
        VariableDeclarationFragment [48752,48811]
            SimpleName: UNABLE_TO_READ_NOTIFICATION [48752,48779]
            StringLiteral: "Unable to read notification" [48782,48811]
    FieldDeclaration [48818,48869]
        Modifier: private [48818,48825]
        ArrayType [48826,48847]
            SimpleType [48826,48845]
                SimpleName: NotificationChannel [48826,48845]
            Dimension [48845,48847]
        VariableDeclarationFragment [48848,48868]
            SimpleName: notificationChannels [48848,48868]
    FieldDeclaration [48873,48923]
        Modifier: private [48873,48880]
        SimpleType [48881,48901]
            SimpleName: NotificationQueueDao [48881,48901]
        VariableDeclarationFragment [48902,48922]
            SimpleName: notificationQueueDao [48902,48922]
    FieldDeclaration [48927,48963]
        Modifier: private [48927,48934]
        SimpleType [48935,48948]
            SimpleName: PropertiesDao [48935,48948]
        VariableDeclarationFragment [48949,48962]
            SimpleName: propertiesDao [48949,48962]
    FieldDeclaration [48969,49027]
        Modifier: private [48969,48976]
        PrimitiveType: boolean [48977,48984]
        VariableDeclarationFragment [48985,49026]
            SimpleName: alreadyLoggedDeserializationIssue [48985,49018]
            BooleanLiteral: false [49021,49026]
    MethodDeclaration [49033,49369]
        Javadoc [49033,49082]
            TagElement [49043,49075]
                TextElement: Default constructor used by Pico [49043,49075]
        Modifier: public [49086,49092]
        SimpleName: DefaultNotificationManager [49093,49119]
        SingleVariableDeclaration [49120,49150]
            ArrayType [49120,49141]
                SimpleType [49120,49139]
                    SimpleName: NotificationChannel [49120,49139]
                Dimension [49139,49141]
            SimpleName: channels [49142,49150]
        SingleVariableDeclaration [49152,49193]
            SimpleType [49152,49172]
                SimpleName: NotificationQueueDao [49152,49172]
            SimpleName: notificationQueueDao [49173,49193]
        SingleVariableDeclaration [49195,49222]
            SimpleType [49195,49208]
                SimpleName: PropertiesDao [49195,49208]
            SimpleName: propertiesDao [49209,49222]
        Block [49224,49369]
            ExpressionStatement [49231,49268]
                Assignment [49231,49267]
                    FieldAccess [49231,49256]
                        ThisExpression [49231,49235]
                        SimpleName: notificationChannels [49236,49256]
                    ASSIGNMENT_OPERATOR: = [49257,49258]
                    SimpleName: channels [49259,49267]
            ExpressionStatement [49274,49323]
                Assignment [49274,49322]
                    FieldAccess [49274,49299]
                        ThisExpression [49274,49278]
                        SimpleName: notificationQueueDao [49279,49299]
                    ASSIGNMENT_OPERATOR: = [49300,49301]
                    SimpleName: notificationQueueDao [49302,49322]
            ExpressionStatement [49329,49364]
                Assignment [49329,49363]
                    FieldAccess [49329,49347]
                        ThisExpression [49329,49333]
                        SimpleName: propertiesDao [49334,49347]
                    ASSIGNMENT_OPERATOR: = [49348,49349]
                    SimpleName: propertiesDao [49350,49363]
    MethodDeclaration [49375,49622]
        Javadoc [49375,49430]
            TagElement [49385,49423]
                TextElement: Constructor if no notification channel [49385,49423]
        Modifier: public [49434,49440]
        SimpleName: DefaultNotificationManager [49441,49467]
        SingleVariableDeclaration [49468,49509]
            SimpleType [49468,49488]
                SimpleName: NotificationQueueDao [49468,49488]
            SimpleName: notificationQueueDao [49489,49509]
        SingleVariableDeclaration [49511,49538]
            SimpleType [49511,49524]
                SimpleName: PropertiesDao [49511,49524]
            SimpleName: propertiesDao [49525,49538]
        Block [49540,49622]
            ConstructorInvocation [49547,49617]
                ArrayCreation [49552,49578]
                    ArrayType [49556,49578]
                        SimpleType [49556,49575]
                            SimpleName: NotificationChannel [49556,49575]
                        Dimension [49575,49578]
                            NumberLiteral: 0 [49576,49577]
                SimpleName: notificationQueueDao [49580,49600]
                SimpleName: propertiesDao [49602,49615]
    MethodDeclaration [49628,49884]
        Javadoc [49628,49658]
            TagElement [49638,49651]
                TagElement [49638,49651]
        MarkerAnnotation [49662,49671]
            SimpleName: Override [49663,49671]
        Modifier: public [49675,49681]
        PrimitiveType: void [49682,49686]
        SimpleName: scheduleForSending [49687,49705]
        SingleVariableDeclaration [49706,49731]
            SimpleType [49706,49718]
                SimpleName: Notification [49706,49718]
            SimpleName: notification [49719,49731]
        Block [49733,49884]
            VariableDeclarationStatement [49740,49825]
                SimpleType [49740,49760]
                    SimpleName: NotificationQueueDto [49740,49760]
                VariableDeclarationFragment [49761,49824]
                    SimpleName: dto [49761,49764]
                    MethodInvocation [49767,49824]
                        METHOD_INVOCATION_RECEIVER [49767,49787]
                            SimpleName: NotificationQueueDto [49767,49787]
                        SimpleName: toNotificationQueueDto [49788,49810]
                        METHOD_INVOCATION_ARGUMENTS [49811,49823]
                            SimpleName: notification [49811,49823]
            ExpressionStatement [49831,49879]
                MethodInvocation [49831,49878]
                    METHOD_INVOCATION_RECEIVER [49831,49851]
                        SimpleName: notificationQueueDao [49831,49851]
                    SimpleName: insert [49852,49858]
                    METHOD_INVOCATION_ARGUMENTS [49859,49877]
                        MethodInvocation [49859,49877]
                            METHOD_INVOCATION_RECEIVER [49859,49865]
                                SimpleName: Arrays [49859,49865]
                            SimpleName: asList [49866,49872]
                            METHOD_INVOCATION_ARGUMENTS [49873,49876]
                                SimpleName: dto [49873,49876]
    MethodDeclaration [49890,50270]
        MarkerAnnotation [49890,49899]
            SimpleName: Override [49891,49899]
        Modifier: public [49903,49909]
        PrimitiveType: void [49910,49914]
        SimpleName: scheduleForSending [49915,49933]
        SingleVariableDeclaration [49934,49965]
            ParameterizedType [49934,49952]
                SimpleType [49934,49938]
                    SimpleName: List [49934,49938]
                SimpleType [49939,49951]
                    SimpleName: Notification [49939,49951]
            SimpleName: notification [49953,49965]
        Block [49967,50270]
            ExpressionStatement [49974,50265]
                MethodInvocation [49974,50264]
                    METHOD_INVOCATION_RECEIVER [49974,49994]
                        SimpleName: notificationQueueDao [49974,49994]
                    SimpleName: insert [49995,50001]
                    METHOD_INVOCATION_ARGUMENTS [50002,50263]
                        MethodInvocation [50002,50263]
                            METHOD_INVOCATION_RECEIVER [50002,50007]
                                SimpleName: Lists [50002,50007]
                            SimpleName: transform [50008,50017]
                            METHOD_INVOCATION_ARGUMENTS [50018,50262]
                                SimpleName: notification [50018,50030]
                                ClassInstanceCreation [50032,50262]
                                    ParameterizedType [50036,50080]
                                        SimpleType [50036,50044]
                                            SimpleName: Function [50036,50044]
                                        SimpleType [50045,50057]
                                            SimpleName: Notification [50045,50057]
                                        SimpleType [50059,50079]
                                            SimpleName: NotificationQueueDto [50059,50079]
                                    AnonymousClassDeclaration [50083,50262]
                                        MethodDeclaration [50092,50255]
                                            MarkerAnnotation [50092,50101]
                                                SimpleName: Override [50093,50101]
                                            Modifier: public [50109,50115]
                                            SimpleType [50116,50136]
                                                SimpleName: NotificationQueueDto [50116,50136]
                                            SimpleName: apply [50137,50142]
                                            SingleVariableDeclaration [50143,50168]
                                                SimpleType [50143,50155]
                                                    SimpleName: Notification [50143,50155]
                                                SimpleName: notification [50156,50168]
                                            Block [50170,50255]
                                                ReturnStatement [50181,50246]
                                                    MethodInvocation [50188,50245]
                                                        METHOD_INVOCATION_RECEIVER [50188,50208]
                                                            SimpleName: NotificationQueueDto [50188,50208]
                                                        SimpleName: toNotificationQueueDto [50209,50231]
                                                        METHOD_INVOCATION_ARGUMENTS [50232,50244]
                                                            SimpleName: notification [50232,50244]
    MethodDeclaration [50276,50685]
        Javadoc [50276,50348]
            TagElement [50286,50341]
                TextElement: Give the notification queue so that it can be processed [50286,50341]
        Modifier: public [50352,50358]
        SimpleType [50359,50371]
            SimpleName: Notification [50359,50371]
        SimpleName: getFromQueue [50372,50384]
        Block [50387,50685]
            VariableDeclarationStatement [50394,50412]
                PrimitiveType: int [50394,50397]
                VariableDeclarationFragment [50398,50411]
                    SimpleName: batchSize [50398,50407]
                    NumberLiteral: 1 [50410,50411]
            VariableDeclarationStatement [50418,50507]
                ParameterizedType [50418,50444]
                    SimpleType [50418,50422]
                        SimpleName: List [50418,50422]
                    SimpleType [50423,50443]
                        SimpleName: NotificationQueueDto [50423,50443]
                VariableDeclarationFragment [50445,50506]
                    SimpleName: notificationDtos [50445,50461]
                    MethodInvocation [50464,50506]
                        METHOD_INVOCATION_RECEIVER [50464,50484]
                            SimpleName: notificationQueueDao [50464,50484]
                        SimpleName: findOldest [50485,50495]
                        METHOD_INVOCATION_ARGUMENTS [50496,50505]
                            SimpleName: batchSize [50496,50505]
            IfStatement [50513,50573]
                MethodInvocation [50517,50543]
                    METHOD_INVOCATION_RECEIVER [50517,50533]
                        SimpleName: notificationDtos [50517,50533]
                    SimpleName: isEmpty [50534,50541]
                Block [50545,50573]
                    ReturnStatement [50554,50566]
                        NullLiteral [50561,50565]
            ExpressionStatement [50579,50625]
                MethodInvocation [50579,50624]
                    METHOD_INVOCATION_RECEIVER [50579,50599]
                        SimpleName: notificationQueueDao [50579,50599]
                    SimpleName: delete [50600,50606]
                    METHOD_INVOCATION_ARGUMENTS [50607,50623]
                        SimpleName: notificationDtos [50607,50623]
            ReturnStatement [50633,50680]
                MethodInvocation [50640,50679]
                    SimpleName: convertToNotification [50640,50661]
                    METHOD_INVOCATION_ARGUMENTS [50662,50678]
                        SimpleName: notificationDtos [50662,50678]
    MethodDeclaration [50691,51378]
        Modifier: private [50691,50698]
        SimpleType [50699,50711]
            SimpleName: Notification [50699,50711]
        SimpleName: convertToNotification [50712,50733]
        SingleVariableDeclaration [50734,50774]
            ParameterizedType [50734,50760]
                SimpleType [50734,50738]
                    SimpleName: List [50734,50738]
                SimpleType [50739,50759]
                    SimpleName: NotificationQueueDto [50739,50759]
            SimpleName: notifications [50761,50774]
        Block [50776,51378]
            TryStatement [50783,51373]
                Block [50787,50941]
                    ReturnStatement [50889,50934]
                        MethodInvocation [50896,50933]
                            METHOD_INVOCATION_RECEIVER [50896,50916]
                                MethodInvocation [50896,50916]
                                    METHOD_INVOCATION_RECEIVER [50896,50909]
                                        SimpleName: notifications [50896,50909]
                                    SimpleName: get [50910,50913]
                                    METHOD_INVOCATION_ARGUMENTS [50914,50915]
                                        NumberLiteral: 0 [50914,50915]
                            SimpleName: toNotification [50917,50931]
                CatchClause [50942,51168]
                    SingleVariableDeclaration [50949,50972]
                        SimpleType [50949,50970]
                            SimpleName: InvalidClassException [50949,50970]
                        SimpleName: e [50971,50972]
                    Block [50974,51168]
                        IfStatement [51004,51141]
                            PrefixExpression [51008,51042]
                                PREFIX_EXPRESSION_OPERATOR: ! [51008,51009]
                                SimpleName: alreadyLoggedDeserializationIssue [51009,51042]
                            Block [51044,51141]
                                ExpressionStatement [51055,51081]
                                    MethodInvocation [51055,51080]
                                        SimpleName: logDeserializationIssue [51055,51078]
                                ExpressionStatement [51091,51132]
                                    Assignment [51091,51131]
                                        SimpleName: alreadyLoggedDeserializationIssue [51091,51124]
                                        ASSIGNMENT_OPERATOR: = [51125,51126]
                                        BooleanLiteral: true [51127,51131]
                        ReturnStatement [51149,51161]
                            NullLiteral [51156,51160]
                CatchClause [51169,51266]
                    SingleVariableDeclaration [51176,51189]
                        SimpleType [51176,51187]
                            SimpleName: IOException [51176,51187]
                        SimpleName: e [51188,51189]
                    Block [51191,51266]
                        ThrowStatement [51200,51257]
                            ClassInstanceCreation [51206,51256]
                                SimpleType [51210,51224]
                                    SimpleName: SonarException [51210,51224]
                                SimpleName: UNABLE_TO_READ_NOTIFICATION [51225,51252]
                                SimpleName: e [51254,51255]
                CatchClause [51267,51373]
                    SingleVariableDeclaration [51274,51298]
                        SimpleType [51274,51296]
                            SimpleName: ClassNotFoundException [51274,51296]
                        SimpleName: e [51297,51298]
                    Block [51300,51373]
                        ThrowStatement [51309,51366]
                            ClassInstanceCreation [51315,51365]
                                SimpleType [51319,51333]
                                    SimpleName: SonarException [51319,51333]
                                SimpleName: UNABLE_TO_READ_NOTIFICATION [51334,51361]
                                SimpleName: e [51363,51364]
    MethodDeclaration [51384,51579]
        MarkerAnnotation [51384,51402]
            SimpleName: VisibleForTesting [51385,51402]
        PrimitiveType: void [51406,51410]
        SimpleName: logDeserializationIssue [51411,51434]
        Block [51437,51579]
            ExpressionStatement [51444,51574]
                MethodInvocation [51444,51573]
                    METHOD_INVOCATION_RECEIVER [51444,51447]
                        SimpleName: LOG [51444,51447]
                    SimpleName: warn [51448,51452]
                    METHOD_INVOCATION_ARGUMENTS [51453,51572]
                        StringLiteral: "It is impossible to send pending notifications which existed prior to the upgrade of SonarQube. They will be ignored." [51453,51572]
    MethodDeclaration [51585,51653]
        Modifier: public [51585,51591]
        PrimitiveType: long [51592,51596]
        SimpleName: count [51597,51602]
        Block [51605,51653]
            ReturnStatement [51612,51648]
                MethodInvocation [51619,51647]
                    METHOD_INVOCATION_RECEIVER [51619,51639]
                        SimpleName: notificationQueueDao [51619,51639]
                    SimpleName: count [51640,51645]
    MethodDeclaration [51659,52647]
        Javadoc [51659,51689]
            TagElement [51669,51682]
                TagElement [51669,51682]
        MarkerAnnotation [51693,51702]
            SimpleName: Override [51694,51702]
        Modifier: public [51706,51712]
        ParameterizedType [51713,51750]
            SimpleType [51713,51721]
                SimpleName: Multimap [51713,51721]
            SimpleType [51722,51728]
                SimpleName: String [51722,51728]
            SimpleType [51730,51749]
                SimpleName: NotificationChannel [51730,51749]
        SimpleName: findSubscribedRecipientsForDispatcher [51751,51788]
        SingleVariableDeclaration [51789,51822]
            SimpleType [51789,51811]
                SimpleName: NotificationDispatcher [51789,51811]
            SimpleName: dispatcher [51812,51822]
        SingleVariableDeclaration [51824,51852]
            MarkerAnnotation [51824,51833]
                SimpleName: Nullable [51825,51833]
            SimpleType [51834,51841]
                SimpleName: Integer [51834,51841]
            SimpleName: resourceId [51842,51852]
        Block [51854,52647]
            VariableDeclarationStatement [51861,51904]
                SimpleType [51861,51867]
                    SimpleName: String [51861,51867]
                VariableDeclarationFragment [51868,51903]
                    SimpleName: dispatcherKey [51868,51881]
                    MethodInvocation [51884,51903]
                        METHOD_INVOCATION_RECEIVER [51884,51894]
                            SimpleName: dispatcher [51884,51894]
                        SimpleName: getKey [51895,51901]
            VariableDeclarationStatement [51912,51988]
                ParameterizedType [51912,51952]
                    SimpleType [51912,51923]
                        SimpleName: SetMultimap [51912,51923]
                    SimpleType [51924,51930]
                        SimpleName: String [51924,51930]
                    SimpleType [51932,51951]
                        SimpleName: NotificationChannel [51932,51951]
                VariableDeclarationFragment [51953,51987]
                    SimpleName: recipients [51953,51963]
                    MethodInvocation [51966,51987]
                        METHOD_INVOCATION_RECEIVER [51966,51978]
                            SimpleName: HashMultimap [51966,51978]
                        SimpleName: create [51979,51985]
            EnhancedForStatement [51994,52616]
                SingleVariableDeclaration [51999,52026]
                    SimpleType [51999,52018]
                        SimpleName: NotificationChannel [51999,52018]
                    SimpleName: channel [52019,52026]
                SimpleName: notificationChannels [52029,52049]
                Block [52051,52616]
                    VariableDeclarationStatement [52060,52097]
                        SimpleType [52060,52066]
                            SimpleName: String [52060,52066]
                        VariableDeclarationFragment [52067,52096]
                            SimpleName: channelKey [52067,52077]
                            MethodInvocation [52080,52096]
                                METHOD_INVOCATION_RECEIVER [52080,52087]
                                    SimpleName: channel [52080,52087]
                                SimpleName: getKey [52088,52094]
                    ExpressionStatement [52199,52327]
                        MethodInvocation [52199,52326]
                            SimpleName: addUsersToRecipientListForChannel [52199,52232]
                            METHOD_INVOCATION_ARGUMENTS [52233,52325]
                                MethodInvocation [52233,52304]
                                    METHOD_INVOCATION_RECEIVER [52233,52246]
                                        SimpleName: propertiesDao [52233,52246]
                                    SimpleName: findUsersForNotification [52247,52271]
                                    METHOD_INVOCATION_ARGUMENTS [52272,52303]
                                        SimpleName: dispatcherKey [52272,52285]
                                        SimpleName: channelKey [52287,52297]
                                        NullLiteral [52299,52303]
                                SimpleName: recipients [52306,52316]
                                SimpleName: channel [52318,52325]
                    IfStatement [52337,52609]
                        InfixExpression [52341,52359]
                            SimpleName: resourceId [52341,52351]
                            INFIX_EXPRESSION_OPERATOR: != [52352,52354]
                            NullLiteral [52355,52359]
                        Block [52361,52609]
                            ExpressionStatement [52454,52600]
                                MethodInvocation [52454,52599]
                                    SimpleName: addUsersToRecipientListForChannel [52454,52487]
                                    METHOD_INVOCATION_ARGUMENTS [52488,52598]
                                        MethodInvocation [52488,52577]
                                            METHOD_INVOCATION_RECEIVER [52488,52501]
                                                SimpleName: propertiesDao [52488,52501]
                                            SimpleName: findUsersForNotification [52502,52526]
                                            METHOD_INVOCATION_ARGUMENTS [52527,52576]
                                                SimpleName: dispatcherKey [52527,52540]
                                                SimpleName: channelKey [52542,52552]
                                                MethodInvocation [52554,52576]
                                                    METHOD_INVOCATION_RECEIVER [52554,52564]
                                                        SimpleName: resourceId [52554,52564]
                                                    SimpleName: longValue [52565,52574]
                                        SimpleName: recipients [52579,52589]
                                        SimpleName: channel [52591,52598]
            ReturnStatement [52624,52642]
                SimpleName: recipients [52631,52641]
    MethodDeclaration [52653,53194]
        MarkerAnnotation [52653,52662]
            SimpleName: Override [52654,52662]
        Modifier: public [52666,52672]
        ParameterizedType [52673,52710]
            SimpleType [52673,52681]
                SimpleName: Multimap [52673,52681]
            SimpleType [52682,52688]
                SimpleName: String [52682,52688]
            SimpleType [52690,52709]
                SimpleName: NotificationChannel [52690,52709]
        SimpleName: findNotificationSubscribers [52711,52738]
        SingleVariableDeclaration [52739,52772]
            SimpleType [52739,52761]
                SimpleName: NotificationDispatcher [52739,52761]
            SimpleName: dispatcher [52762,52772]
        SingleVariableDeclaration [52774,52803]
            MarkerAnnotation [52774,52783]
                SimpleName: Nullable [52775,52783]
            SimpleType [52784,52790]
                SimpleName: String [52784,52790]
            SimpleName: componentKey [52791,52803]
        Block [52805,53194]
            VariableDeclarationStatement [52812,52855]
                SimpleType [52812,52818]
                    SimpleName: String [52812,52818]
                VariableDeclarationFragment [52819,52854]
                    SimpleName: dispatcherKey [52819,52832]
                    MethodInvocation [52835,52854]
                        METHOD_INVOCATION_RECEIVER [52835,52845]
                            SimpleName: dispatcher [52835,52845]
                        SimpleName: getKey [52846,52852]
            VariableDeclarationStatement [52863,52939]
                ParameterizedType [52863,52903]
                    SimpleType [52863,52874]
                        SimpleName: SetMultimap [52863,52874]
                    SimpleType [52875,52881]
                        SimpleName: String [52875,52881]
                    SimpleType [52883,52902]
                        SimpleName: NotificationChannel [52883,52902]
                VariableDeclarationFragment [52904,52938]
                    SimpleName: recipients [52904,52914]
                    MethodInvocation [52917,52938]
                        METHOD_INVOCATION_RECEIVER [52917,52929]
                            SimpleName: HashMultimap [52917,52929]
                        SimpleName: create [52930,52936]
            EnhancedForStatement [52945,53163]
                SingleVariableDeclaration [52950,52977]
                    SimpleType [52950,52969]
                        SimpleName: NotificationChannel [52950,52969]
                    SimpleName: channel [52970,52977]
                SimpleName: notificationChannels [52980,53000]
                Block [53002,53163]
                    ExpressionStatement [53011,53156]
                        MethodInvocation [53011,53155]
                            SimpleName: addUsersToRecipientListForChannel [53011,53044]
                            METHOD_INVOCATION_ARGUMENTS [53045,53154]
                                MethodInvocation [53045,53133]
                                    METHOD_INVOCATION_RECEIVER [53045,53058]
                                        SimpleName: propertiesDao [53045,53058]
                                    SimpleName: findNotificationSubscribers [53059,53086]
                                    METHOD_INVOCATION_ARGUMENTS [53087,53132]
                                        SimpleName: dispatcherKey [53087,53100]
                                        MethodInvocation [53102,53118]
                                            METHOD_INVOCATION_RECEIVER [53102,53109]
                                                SimpleName: channel [53102,53109]
                                            SimpleName: getKey [53110,53116]
                                        SimpleName: componentKey [53120,53132]
                                SimpleName: recipients [53135,53145]
                                SimpleName: channel [53147,53154]
            ReturnStatement [53171,53189]
                SimpleName: recipients [53178,53188]
    MethodDeclaration [53200,53327]
        MarkerAnnotation [53200,53218]
            SimpleName: VisibleForTesting [53201,53218]
        Modifier: protected [53222,53231]
        ParameterizedType [53232,53257]
            SimpleType [53232,53236]
                SimpleName: List [53232,53236]
            SimpleType [53237,53256]
                SimpleName: NotificationChannel [53237,53256]
        SimpleName: getChannels [53258,53269]
        Block [53272,53327]
            ReturnStatement [53279,53322]
                MethodInvocation [53286,53321]
                    METHOD_INVOCATION_RECEIVER [53286,53292]
                        SimpleName: Arrays [53286,53292]
                    SimpleName: asList [53293,53299]
                    METHOD_INVOCATION_ARGUMENTS [53300,53320]
                        SimpleName: notificationChannels [53300,53320]
    MethodDeclaration [53333,53581]
        Modifier: private [53333,53340]
        Modifier: static [53341,53347]
        PrimitiveType: void [53348,53352]
        SimpleName: addUsersToRecipientListForChannel [53353,53386]
        SingleVariableDeclaration [53387,53405]
            ParameterizedType [53387,53399]
                SimpleType [53387,53391]
                    SimpleName: List [53387,53391]
                SimpleType [53392,53398]
                    SimpleName: String [53392,53398]
            SimpleName: users [53400,53405]
        SingleVariableDeclaration [53407,53458]
            ParameterizedType [53407,53447]
                SimpleType [53407,53418]
                    SimpleName: SetMultimap [53407,53418]
                SimpleType [53419,53425]
                    SimpleName: String [53419,53425]
                SimpleType [53427,53446]
                    SimpleName: NotificationChannel [53427,53446]
            SimpleName: recipients [53448,53458]
        SingleVariableDeclaration [53460,53487]
            SimpleType [53460,53479]
                SimpleName: NotificationChannel [53460,53479]
            SimpleName: channel [53480,53487]
        Block [53489,53581]
            EnhancedForStatement [53496,53576]
                SingleVariableDeclaration [53501,53516]
                    SimpleType [53501,53507]
                        SimpleName: String [53501,53507]
                    SimpleName: username [53508,53516]
                SimpleName: users [53519,53524]
                Block [53526,53576]
                    ExpressionStatement [53535,53569]
                        MethodInvocation [53535,53568]
                            METHOD_INVOCATION_RECEIVER [53535,53545]
                                SimpleName: recipients [53535,53545]
                            SimpleName: put [53546,53549]
                            METHOD_INVOCATION_ARGUMENTS [53550,53567]
                                SimpleName: username [53550,53558]
                                SimpleName: channel [53560,53567]
to
CompilationUnit [0,107451]
at 800
===
insert-tree
---
TypeDeclaration [54943,57091]
    Javadoc [54943,54966]
        TagElement [54951,54961]
            TextElement:  3.5 [54957,54961]
    MarkerAnnotation [54968,54979]
        SimpleName: ServerSide [54969,54979]
    Modifier: public [54981,54987]
    TYPE_DECLARATION_KIND: class [54988,54993]
    SimpleName: NotificationCenter [54994,55012]
    FieldDeclaration [55020,55092]
        Modifier: private [55020,55027]
        Modifier: static [55028,55034]
        Modifier: final [55035,55040]
        SimpleType [55041,55047]
            SimpleName: Logger [55041,55047]
        VariableDeclarationFragment [55048,55091]
            SimpleName: LOG [55048,55051]
            MethodInvocation [55054,55091]
                METHOD_INVOCATION_RECEIVER [55054,55061]
                    SimpleName: Loggers [55054,55061]
                SimpleName: get [55062,55065]
                METHOD_INVOCATION_ARGUMENTS [55066,55090]
                    TypeLiteral [55066,55090]
                        SimpleType [55066,55084]
                            SimpleName: NotificationCenter [55066,55084]
    FieldDeclaration [55098,55165]
        Modifier: private [55098,55105]
        Modifier: final [55106,55111]
        ArrayType [55112,55144]
            SimpleType [55112,55142]
                SimpleName: NotificationDispatcherMetadata [55112,55142]
            Dimension [55142,55144]
        VariableDeclarationFragment [55145,55164]
            SimpleName: dispatchersMetadata [55145,55164]
    FieldDeclaration [55169,55214]
        Modifier: private [55169,55176]
        Modifier: final [55177,55182]
        ArrayType [55183,55204]
            SimpleType [55183,55202]
                SimpleName: NotificationChannel [55183,55202]
            Dimension [55202,55204]
        VariableDeclarationFragment [55205,55213]
            SimpleName: channels [55205,55213]
    MethodDeclaration [55220,55463]
        Javadoc [55220,55279]
            TagElement [55230,55272]
                TextElement: Constructor for  [55230,55246]
                TagElement [55246,55272]
                    SimpleName: NotificationCenter [55253,55271]
        Modifier: public [55283,55289]
        SimpleName: NotificationCenter [55290,55308]
        SingleVariableDeclaration [55309,55350]
            ArrayType [55309,55341]
                SimpleType [55309,55339]
                    SimpleName: NotificationDispatcherMetadata [55309,55339]
                Dimension [55339,55341]
            SimpleName: metadata [55342,55350]
        SingleVariableDeclaration [55352,55382]
            ArrayType [55352,55373]
                SimpleType [55352,55371]
                    SimpleName: NotificationChannel [55352,55371]
                Dimension [55371,55373]
            SimpleName: channels [55374,55382]
        Block [55384,55463]
            ExpressionStatement [55391,55427]
                Assignment [55391,55426]
                    FieldAccess [55391,55415]
                        ThisExpression [55391,55395]
                        SimpleName: dispatchersMetadata [55396,55415]
                    ASSIGNMENT_OPERATOR: = [55416,55417]
                    SimpleName: metadata [55418,55426]
            ExpressionStatement [55433,55458]
                Assignment [55433,55457]
                    FieldAccess [55433,55446]
                        ThisExpression [55433,55437]
                        SimpleName: channels [55438,55446]
                    ASSIGNMENT_OPERATOR: = [55447,55448]
                    SimpleName: channels [55449,55457]
    MethodDeclaration [55469,55739]
        Javadoc [55469,55523]
            TagElement [55479,55516]
                TextElement: Default constructor when no channels. [55479,55516]
        Modifier: public [55527,55533]
        SimpleName: NotificationCenter [55534,55552]
        SingleVariableDeclaration [55553,55594]
            ArrayType [55553,55585]
                SimpleType [55553,55583]
                    SimpleName: NotificationDispatcherMetadata [55553,55583]
                Dimension [55583,55585]
            SimpleName: metadata [55586,55594]
        Block [55596,55739]
            ConstructorInvocation [55603,55646]
                SimpleName: metadata [55608,55616]
                ArrayCreation [55618,55644]
                    ArrayType [55622,55644]
                        SimpleType [55622,55641]
                            SimpleName: NotificationChannel [55622,55641]
                        Dimension [55641,55644]
                            NumberLiteral: 0 [55642,55643]
            ExpressionStatement [55652,55734]
                MethodInvocation [55652,55733]
                    METHOD_INVOCATION_RECEIVER [55652,55655]
                        SimpleName: LOG [55652,55655]
                    SimpleName: warn [55656,55660]
                    METHOD_INVOCATION_ARGUMENTS [55661,55732]
                        StringLiteral: "There is no notification channel - no notification will be delivered!" [55661,55732]
    MethodDeclaration [55745,55938]
        Javadoc [55745,55810]
            TagElement [55755,55803]
                TextElement: Default constructor when no dispatcher metadata. [55755,55803]
        Modifier: public [55814,55820]
        SimpleName: NotificationCenter [55821,55839]
        SingleVariableDeclaration [55840,55870]
            ArrayType [55840,55861]
                SimpleType [55840,55859]
                    SimpleName: NotificationChannel [55840,55859]
                Dimension [55859,55861]
            SimpleName: channels [55862,55870]
        Block [55872,55938]
            ConstructorInvocation [55879,55933]
                ArrayCreation [55884,55921]
                    ArrayType [55888,55921]
                        SimpleType [55888,55918]
                            SimpleName: NotificationDispatcherMetadata [55888,55918]
                        Dimension [55918,55921]
                            NumberLiteral: 0 [55919,55920]
                SimpleName: channels [55923,55931]
    MethodDeclaration [55944,56185]
        Javadoc [55944,55981]
            TagElement [55954,55974]
                TextElement: Default constructor. [55954,55974]
        Modifier: public [55985,55991]
        SimpleName: NotificationCenter [55992,56010]
        Block [56013,56185]
            ConstructorInvocation [56020,56092]
                ArrayCreation [56025,56062]
                    ArrayType [56029,56062]
                        SimpleType [56029,56059]
                            SimpleName: NotificationDispatcherMetadata [56029,56059]
                        Dimension [56059,56062]
                            NumberLiteral: 0 [56060,56061]
                ArrayCreation [56064,56090]
                    ArrayType [56068,56090]
                        SimpleType [56068,56087]
                            SimpleName: NotificationChannel [56068,56087]
                        Dimension [56087,56090]
                            NumberLiteral: 0 [56088,56089]
            ExpressionStatement [56098,56180]
                MethodInvocation [56098,56179]
                    METHOD_INVOCATION_RECEIVER [56098,56101]
                        SimpleName: LOG [56098,56101]
                    SimpleName: warn [56102,56106]
                    METHOD_INVOCATION_ARGUMENTS [56107,56178]
                        StringLiteral: "There is no notification channel - no notification will be delivered!" [56107,56178]
    MethodDeclaration [56191,56337]
        Javadoc [56191,56243]
            TagElement [56201,56236]
                TextElement: Returns all the available channels. [56201,56236]
        Modifier: public [56247,56253]
        ParameterizedType [56254,56279]
            SimpleType [56254,56258]
                SimpleName: List [56254,56258]
            SimpleType [56259,56278]
                SimpleName: NotificationChannel [56259,56278]
        SimpleName: getChannels [56280,56291]
        Block [56294,56337]
            ReturnStatement [56301,56332]
                MethodInvocation [56308,56331]
                    METHOD_INVOCATION_RECEIVER [56308,56314]
                        SimpleName: Arrays [56308,56314]
                    SimpleName: asList [56315,56321]
                    METHOD_INVOCATION_ARGUMENTS [56322,56330]
                        SimpleName: channels [56322,56330]
    MethodDeclaration [56343,57086]
        Javadoc [56343,56583]
            TagElement [56353,56576]
                TextElement: Returns all the available dispatchers which metadata matches the given property and its value. [56353,56447]
                TextElement: <br/> [56454,56459]
                TextElement: If "propertyValue" is null, the verification is done on the existence of such a property (whatever the value). [56466,56576]
        Modifier: public [56587,56593]
        ParameterizedType [56594,56606]
            SimpleType [56594,56598]
                SimpleName: List [56594,56598]
            SimpleType [56599,56605]
                SimpleName: String [56599,56605]
        SimpleName: getDispatcherKeysForProperty [56607,56635]
        SingleVariableDeclaration [56636,56654]
            SimpleType [56636,56642]
                SimpleName: String [56636,56642]
            SimpleName: propertyKey [56643,56654]
        SingleVariableDeclaration [56656,56686]
            MarkerAnnotation [56656,56665]
                SimpleName: Nullable [56657,56665]
            SimpleType [56666,56672]
                SimpleName: String [56666,56672]
            SimpleName: propertyValue [56673,56686]
        Block [56688,57086]
            VariableDeclarationStatement [56695,56736]
                ParameterizedType [56695,56707]
                    SimpleType [56695,56699]
                        SimpleName: List [56695,56699]
                    SimpleType [56700,56706]
                        SimpleName: String [56700,56706]
                VariableDeclarationFragment [56708,56735]
                    SimpleName: keys [56708,56712]
                    MethodInvocation [56715,56735]
                        METHOD_INVOCATION_RECEIVER [56715,56720]
                            SimpleName: Lists [56715,56720]
                        SimpleName: newArrayList [56721,56733]
            EnhancedForStatement [56742,57063]
                SingleVariableDeclaration [56747,56786]
                    SimpleType [56747,56777]
                        SimpleName: NotificationDispatcherMetadata [56747,56777]
                    SimpleName: metadata [56778,56786]
                SimpleName: dispatchersMetadata [56789,56808]
                Block [56810,57063]
                    VariableDeclarationStatement [56819,56870]
                        SimpleType [56819,56825]
                            SimpleName: String [56819,56825]
                        VariableDeclarationFragment [56826,56869]
                            SimpleName: dispatcherKey [56826,56839]
                            MethodInvocation [56842,56869]
                                METHOD_INVOCATION_RECEIVER [56842,56850]
                                    SimpleName: metadata [56842,56850]
                                SimpleName: getDispatcherKey [56851,56867]
                    VariableDeclarationStatement [56878,56927]
                        SimpleType [56878,56884]
                            SimpleName: String [56878,56884]
                        VariableDeclarationFragment [56885,56926]
                            SimpleName: value [56885,56890]
                            MethodInvocation [56893,56926]
                                METHOD_INVOCATION_RECEIVER [56893,56901]
                                    SimpleName: metadata [56893,56901]
                                SimpleName: getProperty [56902,56913]
                                METHOD_INVOCATION_ARGUMENTS [56914,56925]
                                    SimpleName: propertyKey [56914,56925]
                    IfStatement [56935,57056]
                        InfixExpression [56939,57010]
                            InfixExpression [56939,56952]
                                SimpleName: value [56939,56944]
                                INFIX_EXPRESSION_OPERATOR: != [56945,56947]
                                NullLiteral [56948,56952]
                            INFIX_EXPRESSION_OPERATOR: && [56953,56955]
                            ParenthesizedExpression [56956,57010]
                                InfixExpression [56957,57009]
                                    InfixExpression [56957,56978]
                                        SimpleName: propertyValue [56957,56970]
                                        INFIX_EXPRESSION_OPERATOR: == [56971,56973]
                                        NullLiteral [56974,56978]
                                    INFIX_EXPRESSION_OPERATOR: || [56979,56981]
                                    MethodInvocation [56982,57009]
                                        METHOD_INVOCATION_RECEIVER [56982,56987]
                                            SimpleName: value [56982,56987]
                                        SimpleName: equals [56988,56994]
                                        METHOD_INVOCATION_ARGUMENTS [56995,57008]
                                            SimpleName: propertyValue [56995,57008]
                        Block [57012,57056]
                            ExpressionStatement [57023,57047]
                                MethodInvocation [57023,57046]
                                    METHOD_INVOCATION_RECEIVER [57023,57027]
                                        SimpleName: keys [57023,57027]
                                    SimpleName: add [57028,57031]
                                    METHOD_INVOCATION_ARGUMENTS [57032,57045]
                                        SimpleName: dispatcherKey [57032,57045]
            ReturnStatement [57069,57081]
                SimpleName: keys [57076,57080]
to
CompilationUnit [0,107451]
at 801
===
insert-tree
---
TypeDeclaration [58374,61642]
    Javadoc [58374,58978]
        TagElement [58382,58952]
            TextElement: <p> [58382,58385]
            TextElement: Plugins should extend this class to provide logic to determine which users are interested in receiving notifications, [58390,58507]
            TextElement: along with which delivery channels they selected. [58512,58561]
            TextElement: </p> [58566,58570]
            TextElement: For example: [58575,58587]
            TextElement: <ul> [58592,58596]
            TextElement: <li>notify me by email when someone comments an issue reported by me</li> [58601,58674]
            TextElement: <li>notify me by twitter when someone comments an issue assigned to me</li> [58679,58754]
            TextElement: <li>notify me by Jabber when someone mentions me in an issue comment</li> [58759,58832]
            TextElement: <li>send me by SMS when there are system notifications (like password reset, account creation, ...)</li> [58837,58941]
            TextElement: </ul>  [58946,58952]
        TagElement [58962,58973]
            TextElement:  2.10 [58968,58973]
    MarkerAnnotation [58980,58991]
        SimpleName: ServerSide [58981,58991]
    MarkerAnnotation [58993,59008]
        SimpleName: ExtensionPoint [58994,59008]
    Modifier: public [59010,59016]
    Modifier: abstract [59017,59025]
    TYPE_DECLARATION_KIND: class [59026,59031]
    SimpleName: NotificationDispatcher [59032,59054]
    FieldDeclaration [59062,59100]
        Modifier: private [59062,59069]
        Modifier: final [59070,59075]
        SimpleType [59076,59082]
            SimpleName: String [59076,59082]
        VariableDeclarationFragment [59083,59099]
            SimpleName: notificationType [59083,59099]
    TypeDeclaration [59106,59861]
        Javadoc [59106,59244]
            TagElement [59116,59237]
                TextElement: Additional information related to the notification, which will be used [59116,59186]
                TextElement: to know who should receive the notification. [59193,59237]
        Modifier: public [59248,59254]
        TYPE_DECLARATION_KIND: interface [59255,59264]
        SimpleName: Context [59265,59272]
        MethodDeclaration [59280,59546]
            Javadoc [59280,59492]
                TagElement [59292,59395]
                    TextElement: This method is not used any longer. Calling it will result in an  [59292,59357]
                    TagElement [59357,59394]
                        SimpleName: UnsupportedOperationException [59364,59393]
                    TextElement: . [59394,59395]
                TagElement [59413,59483]
                    TextElement:  Use  [59424,59429]
                    TagElement [59429,59474]
                        MethodRef [59436,59473]
                            SimpleName: addUser [59437,59444]
                            MethodRefParameter [59445,59451]
                                SimpleType [59445,59451]
                                    SimpleName: String [59445,59451]
                            MethodRefParameter [59453,59472]
                                SimpleType [59453,59472]
                                    SimpleName: NotificationChannel [59453,59472]
                    TextElement:  instead. [59474,59483]
            MarkerAnnotation [59498,59509]
                SimpleName: Deprecated [59499,59509]
            PrimitiveType: void [59515,59519]
            SimpleName: addUser [59520,59527]
            SingleVariableDeclaration [59528,59544]
                SimpleType [59528,59534]
                    SimpleName: String [59528,59534]
                SimpleName: userLogin [59535,59544]
        MethodDeclaration [59554,59856]
            Javadoc [59554,59778]
                TagElement [59566,59639]
                    TextElement: Adds a user that will be notified through the given notification channel. [59566,59639]
                TagElement [59657,59688]
                    SimpleName: userLogin [59664,59673]
                    TextElement:  the user login [59673,59688]
                TagElement [59697,59769]
                    SimpleName: notificationChannel [59704,59723]
                    TextElement:  the notification channel to use for this user [59723,59769]
            PrimitiveType: void [59784,59788]
            SimpleName: addUser [59789,59796]
            SingleVariableDeclaration [59797,59813]
                SimpleType [59797,59803]
                    SimpleName: String [59797,59803]
                SimpleName: userLogin [59804,59813]
            SingleVariableDeclaration [59815,59854]
                SimpleType [59815,59834]
                    SimpleName: NotificationChannel [59815,59834]
                SimpleName: notificationChannel [59835,59854]
    MethodDeclaration [59867,60147]
        Javadoc [59867,60035]
            TagElement [59877,59938]
                TextElement: Creates a new dispatcher for notifications of the given type. [59877,59938]
            TagElement [59952,60028]
                SimpleName: notificationType [59959,59975]
                TextElement:  the type of notifications handled by this dispatcher [59975,60028]
        Modifier: public [60039,60045]
        SimpleName: NotificationDispatcher [60046,60068]
        SingleVariableDeclaration [60069,60092]
            SimpleType [60069,60075]
                SimpleName: String [60069,60075]
            SimpleName: notificationType [60076,60092]
        Block [60094,60147]
            ExpressionStatement [60101,60142]
                Assignment [60101,60141]
                    FieldAccess [60101,60122]
                        ThisExpression [60101,60105]
                        SimpleName: notificationType [60106,60122]
                    ASSIGNMENT_OPERATOR: = [60123,60124]
                    SimpleName: notificationType [60125,60141]
    MethodDeclaration [60153,60470]
        Javadoc [60153,60413]
            TagElement [60163,60406]
                TextElement: Creates a new generic dispatcher, used for any kind of notification.  [60163,60232]
                TextElement: <p/> [60239,60243]
                TextElement: Should be avoided and replaced by the other constructor - as it is easier to understand that a [60250,60344]
                TextElement: dispatcher listens for a specific type of notification. [60351,60406]
        Modifier: public [60417,60423]
        SimpleName: NotificationDispatcher [60424,60446]
        Block [60449,60470]
            ConstructorInvocation [60456,60465]
                StringLiteral: "" [60461,60463]
    MethodDeclaration [60476,60802]
        Javadoc [60476,60729]
            TagElement [60486,60722]
                TextElement: The unique key of this dispatcher. By default it's the class name without the package prefix. [60486,60579]
                TextElement: <p/> [60586,60590]
                TextElement: The related label in l10n bundles is 'notification.dispatcher.<key>', for example 'notification.dispatcher.NewFalsePositive'. [60597,60722]
        Modifier: public [60733,60739]
        SimpleType [60740,60746]
            SimpleName: String [60740,60746]
        SimpleName: getKey [60747,60753]
        Block [60756,60802]
            ReturnStatement [60763,60797]
                MethodInvocation [60770,60796]
                    METHOD_INVOCATION_RECEIVER [60770,60780]
                        MethodInvocation [60770,60780]
                            SimpleName: getClass [60770,60778]
                    SimpleName: getSimpleName [60781,60794]
    MethodDeclaration [60808,60899]
        Javadoc [60808,60835]
            TagElement [60818,60828]
                TextElement:  5.1 [60824,60828]
        Modifier: public [60839,60845]
        SimpleType [60846,60852]
            SimpleName: String [60846,60852]
        SimpleName: getType [60853,60860]
        Block [60863,60899]
            ReturnStatement [60870,60894]
                SimpleName: notificationType [60877,60893]
    MethodDeclaration [60905,61217]
        Javadoc [60905,60965]
            TagElement [60915,60958]
                TextElement: <p> [60915,60918]
                TextElement: Performs the dispatch. [60925,60947]
                TextElement: </p> [60954,60958]
        Modifier: public [60969,60975]
        Modifier: final [60976,60981]
        PrimitiveType: void [60982,60986]
        SimpleName: performDispatch [60987,61002]
        SingleVariableDeclaration [61003,61028]
            SimpleType [61003,61015]
                SimpleName: Notification [61003,61015]
            SimpleName: notification [61016,61028]
        SingleVariableDeclaration [61030,61045]
            SimpleType [61030,61037]
                SimpleName: Context [61030,61037]
            SimpleName: context [61038,61045]
        Block [61047,61217]
            IfStatement [61054,61212]
                InfixExpression [61058,61162]
                    MethodInvocation [61058,61118]
                        METHOD_INVOCATION_RECEIVER [61058,61069]
                            SimpleName: StringUtils [61058,61069]
                        SimpleName: equals [61070,61076]
                        METHOD_INVOCATION_ARGUMENTS [61077,61117]
                            MethodInvocation [61077,61099]
                                METHOD_INVOCATION_RECEIVER [61077,61089]
                                    SimpleName: notification [61077,61089]
                                SimpleName: getType [61090,61097]
                            SimpleName: notificationType [61101,61117]
                    INFIX_EXPRESSION_OPERATOR: || [61119,61121]
                    MethodInvocation [61122,61162]
                        METHOD_INVOCATION_RECEIVER [61122,61133]
                            SimpleName: StringUtils [61122,61133]
                        SimpleName: equals [61134,61140]
                        METHOD_INVOCATION_ARGUMENTS [61141,61161]
                            StringLiteral: "" [61141,61143]
                            SimpleName: notificationType [61145,61161]
                Block [61164,61212]
                    ExpressionStatement [61173,61205]
                        MethodInvocation [61173,61204]
                            SimpleName: dispatch [61173,61181]
                            METHOD_INVOCATION_ARGUMENTS [61182,61203]
                                SimpleName: notification [61182,61194]
                                SimpleName: context [61196,61203]
    MethodDeclaration [61223,61565]
        Javadoc [61223,61487]
            TagElement [61233,61480]
                TextElement: <p> [61233,61236]
                TextElement: Implements the logic that defines which users will receive the notification. [61243,61319]
                TextElement: </p> [61326,61330]
                TextElement: The purpose of this method is to populate the context object with users, based on the type of notification and the content of the notification. [61337,61480]
        Modifier: public [61491,61497]
        Modifier: abstract [61498,61506]
        PrimitiveType: void [61507,61511]
        SimpleName: dispatch [61512,61520]
        SingleVariableDeclaration [61521,61546]
            SimpleType [61521,61533]
                SimpleName: Notification [61521,61533]
            SimpleName: notification [61534,61546]
        SingleVariableDeclaration [61548,61563]
            SimpleType [61548,61555]
                SimpleName: Context [61548,61555]
            SimpleName: context [61556,61563]
    MethodDeclaration [61571,61637]
        MarkerAnnotation [61571,61580]
            SimpleName: Override [61572,61580]
        Modifier: public [61584,61590]
        SimpleType [61591,61597]
            SimpleName: String [61591,61597]
        SimpleName: toString [61598,61606]
        Block [61609,61637]
            ReturnStatement [61616,61632]
                MethodInvocation [61623,61631]
                    SimpleName: getKey [61623,61629]
to
CompilationUnit [0,107451]
at 802
===
insert-tree
---
TypeDeclaration [62806,64887]
    Javadoc [62806,63092]
        TagElement [62814,63068]
            TextElement: <p> [62814,62817]
            TextElement: Notification dispatchers (see  [62822,62852]
            TagElement [62852,62882]
                SimpleName: NotificationDispatcher [62859,62881]
            TextElement: ) can define their own metadata class in order [62882,62928]
            TextElement: to tell more about them. [62933,62957]
            TextElement: <p/> [62962,62966]
            TextElement: Instances of these classes must be declared in  [62971,63018]
            TagElement [63018,63067]
                MethodRef [63025,63066]
                    QualifiedName: org.sonar.api.SonarPlugin [63025,63050]
                    SimpleName: getExtensions [63051,63064]
            TextElement: . [63067,63068]
        TagElement [63077,63087]
            TextElement:  3.5 [63083,63087]
    MarkerAnnotation [63094,63105]
        SimpleName: ServerSide [63095,63105]
    Modifier: public [63107,63113]
    Modifier: final [63114,63119]
    TYPE_DECLARATION_KIND: class [63120,63125]
    SimpleName: NotificationDispatcherMetadata [63126,63156]
    FieldDeclaration [63164,63234]
        Modifier: public [63164,63170]
        Modifier: static [63171,63177]
        Modifier: final [63178,63183]
        SimpleType [63184,63190]
            SimpleName: String [63184,63190]
        VariableDeclarationFragment [63191,63233]
            SimpleName: GLOBAL_NOTIFICATION [63191,63210]
            StringLiteral: "globalNotification" [63213,63233]
    FieldDeclaration [63238,63317]
        Modifier: public [63238,63244]
        Modifier: static [63245,63251]
        Modifier: final [63252,63257]
        SimpleType [63258,63264]
            SimpleName: String [63258,63264]
        VariableDeclarationFragment [63265,63316]
            SimpleName: PER_PROJECT_NOTIFICATION [63265,63289]
            StringLiteral: "perProjectNotification" [63292,63316]
    FieldDeclaration [63323,63352]
        Modifier: private [63323,63330]
        SimpleType [63331,63337]
            SimpleName: String [63331,63337]
        VariableDeclarationFragment [63338,63351]
            SimpleName: dispatcherKey [63338,63351]
    FieldDeclaration [63356,63395]
        Modifier: private [63356,63363]
        ParameterizedType [63364,63383]
            SimpleType [63364,63367]
                SimpleName: Map [63364,63367]
            SimpleType [63368,63374]
                SimpleName: String [63368,63374]
            SimpleType [63376,63382]
                SimpleName: String [63376,63382]
        VariableDeclarationFragment [63384,63394]
            SimpleName: properties [63384,63394]
    MethodDeclaration [63401,63551]
        Modifier: private [63401,63408]
        SimpleName: NotificationDispatcherMetadata [63409,63439]
        SingleVariableDeclaration [63440,63460]
            SimpleType [63440,63446]
                SimpleName: String [63440,63446]
            SimpleName: dispatcherKey [63447,63460]
        Block [63462,63551]
            ExpressionStatement [63469,63504]
                Assignment [63469,63503]
                    FieldAccess [63469,63487]
                        ThisExpression [63469,63473]
                        SimpleName: dispatcherKey [63474,63487]
                    ASSIGNMENT_OPERATOR: = [63488,63489]
                    SimpleName: dispatcherKey [63490,63503]
            ExpressionStatement [63510,63546]
                Assignment [63510,63545]
                    FieldAccess [63510,63525]
                        ThisExpression [63510,63514]
                        SimpleName: properties [63515,63525]
                    ASSIGNMENT_OPERATOR: = [63526,63527]
                    MethodInvocation [63528,63545]
                        METHOD_INVOCATION_RECEIVER [63528,63532]
                            SimpleName: Maps [63528,63532]
                        SimpleName: newHashMap [63533,63543]
    MethodDeclaration [63557,63928]
        Javadoc [63557,63781]
            TagElement [63567,63774]
                TextElement: Creates a new metadata instance for the given dispatcher. [63567,63624]
                TextElement: <p/> [63631,63635]
                TextElement: By default the key is the class name without package. It can be changed by overriding [63642,63727]
                TagElement [63734,63773]
                    MethodRef [63741,63772]
                        SimpleName: NotificationDispatcher [63741,63763]
                        SimpleName: getKey [63764,63770]
                TextElement: . [63773,63774]
        Modifier: public [63785,63791]
        Modifier: static [63792,63798]
        SimpleType [63799,63829]
            SimpleName: NotificationDispatcherMetadata [63799,63829]
        SimpleName: create [63830,63836]
        SingleVariableDeclaration [63837,63857]
            SimpleType [63837,63843]
                SimpleName: String [63837,63843]
            SimpleName: dispatcherKey [63844,63857]
        Block [63859,63928]
            ReturnStatement [63866,63923]
                ClassInstanceCreation [63873,63922]
                    SimpleType [63877,63907]
                        SimpleName: NotificationDispatcherMetadata [63877,63907]
                    SimpleName: dispatcherKey [63908,63921]
    MethodDeclaration [63934,64128]
        Javadoc [63934,63991]
            TagElement [63944,63984]
                TextElement: Sets a property on this metadata object. [63944,63984]
        Modifier: public [63995,64001]
        SimpleType [64002,64032]
            SimpleName: NotificationDispatcherMetadata [64002,64032]
        SimpleName: setProperty [64033,64044]
        SingleVariableDeclaration [64045,64055]
            SimpleType [64045,64051]
                SimpleName: String [64045,64051]
            SimpleName: key [64052,64055]
        SingleVariableDeclaration [64057,64069]
            SimpleType [64057,64063]
                SimpleName: String [64057,64063]
            SimpleName: value [64064,64069]
        Block [64071,64128]
            ExpressionStatement [64078,64105]
                MethodInvocation [64078,64104]
                    METHOD_INVOCATION_RECEIVER [64078,64088]
                        SimpleName: properties [64078,64088]
                    SimpleName: put [64089,64092]
                    METHOD_INVOCATION_ARGUMENTS [64093,64103]
                        SimpleName: key [64093,64096]
                        SimpleName: value [64098,64103]
            ReturnStatement [64111,64123]
                ThisExpression [64118,64122]
    MethodDeclaration [64134,64269]
        Javadoc [64134,64188]
            TagElement [64144,64181]
                TextElement: Gives the property for the given key. [64144,64181]
        Modifier: public [64192,64198]
        SimpleType [64199,64205]
            SimpleName: String [64199,64205]
        SimpleName: getProperty [64206,64217]
        SingleVariableDeclaration [64218,64228]
            SimpleType [64218,64224]
                SimpleName: String [64218,64224]
            SimpleName: key [64225,64228]
        Block [64230,64269]
            ReturnStatement [64237,64264]
                MethodInvocation [64244,64263]
                    METHOD_INVOCATION_RECEIVER [64244,64254]
                        SimpleName: properties [64244,64254]
                    SimpleName: get [64255,64258]
                    METHOD_INVOCATION_ARGUMENTS [64259,64262]
                        SimpleName: key [64259,64262]
    MethodDeclaration [64275,64403]
        Javadoc [64275,64333]
            TagElement [64285,64326]
                TextElement: Returns the unique key of the dispatcher. [64285,64326]
        Modifier: public [64337,64343]
        SimpleType [64344,64350]
            SimpleName: String [64344,64350]
        SimpleName: getDispatcherKey [64351,64367]
        Block [64370,64403]
            ReturnStatement [64377,64398]
                SimpleName: dispatcherKey [64384,64397]
    MethodDeclaration [64409,64480]
        MarkerAnnotation [64409,64418]
            SimpleName: Override [64410,64418]
        Modifier: public [64422,64428]
        SimpleType [64429,64435]
            SimpleName: String [64429,64435]
        SimpleName: toString [64436,64444]
        Block [64447,64480]
            ReturnStatement [64454,64475]
                SimpleName: dispatcherKey [64461,64474]
    MethodDeclaration [64486,64799]
        MarkerAnnotation [64486,64495]
            SimpleName: Override [64487,64495]
        Modifier: public [64499,64505]
        PrimitiveType: boolean [64506,64513]
        SimpleName: equals [64514,64520]
        SingleVariableDeclaration [64521,64529]
            SimpleType [64521,64527]
                SimpleName: Object [64521,64527]
            SimpleName: o [64528,64529]
        Block [64531,64799]
            IfStatement [64538,64581]
                InfixExpression [64542,64551]
                    ThisExpression [64542,64546]
                    INFIX_EXPRESSION_OPERATOR: == [64547,64549]
                    SimpleName: o [64550,64551]
                Block [64553,64581]
                    ReturnStatement [64562,64574]
                        BooleanLiteral: true [64569,64573]
            IfStatement [64587,64661]
                InfixExpression [64591,64630]
                    InfixExpression [64591,64600]
                        SimpleName: o [64591,64592]
                        INFIX_EXPRESSION_OPERATOR: == [64593,64595]
                        NullLiteral [64596,64600]
                    INFIX_EXPRESSION_OPERATOR: || [64601,64603]
                    InfixExpression [64604,64630]
                        MethodInvocation [64604,64614]
                            SimpleName: getClass [64604,64612]
                        INFIX_EXPRESSION_OPERATOR: != [64615,64617]
                        MethodInvocation [64618,64630]
                            METHOD_INVOCATION_RECEIVER [64618,64619]
                                SimpleName: o [64618,64619]
                            SimpleName: getClass [64620,64628]
                Block [64632,64661]
                    ReturnStatement [64641,64654]
                        BooleanLiteral: false [64648,64653]
            VariableDeclarationStatement [64667,64740]
                SimpleType [64667,64697]
                    SimpleName: NotificationDispatcherMetadata [64667,64697]
                VariableDeclarationFragment [64698,64739]
                    SimpleName: that [64698,64702]
                    CastExpression [64705,64739]
                        SimpleType [64706,64736]
                            SimpleName: NotificationDispatcherMetadata [64706,64736]
                        SimpleName: o [64738,64739]
            ReturnStatement [64746,64794]
                MethodInvocation [64753,64793]
                    METHOD_INVOCATION_RECEIVER [64753,64766]
                        SimpleName: dispatcherKey [64753,64766]
                    SimpleName: equals [64767,64773]
                    METHOD_INVOCATION_ARGUMENTS [64774,64792]
                        QualifiedName: that.dispatcherKey [64774,64792]
    MethodDeclaration [64805,64884]
        MarkerAnnotation [64805,64814]
            SimpleName: Override [64806,64814]
        Modifier: public [64818,64824]
        PrimitiveType: int [64825,64828]
        SimpleName: hashCode [64829,64837]
        Block [64840,64884]
            ReturnStatement [64847,64879]
                MethodInvocation [64854,64878]
                    METHOD_INVOCATION_RECEIVER [64854,64867]
                        SimpleName: dispatcherKey [64854,64867]
                    SimpleName: hashCode [64868,64876]
to
CompilationUnit [0,107451]
at 803
===
insert-tree
---
TypeDeclaration [66146,67935]
    Javadoc [66146,66532]
        TagElement [66154,66527]
            TextElement: <p> [66154,66157]
            TextElement: The notification manager receives notifications and is in charge of storing them so that they are processed by the notification service. [66162,66298]
            TextElement: </p> [66303,66307]
            TextElement: <p> [66312,66315]
            TextElement: Pico provides an instance of this class, and plugins just need to create notifications and pass them to this manager with [66320,66441]
            TextElement: the  [66446,66450]
            TagElement [66450,66510]
                MethodRef [66457,66509]
                    SimpleName: NotificationManager [66457,66476]
                    SimpleName: scheduleForSending [66477,66495]
                    MethodRefParameter [66496,66508]
                        SimpleType [66496,66508]
                            SimpleName: Notification [66496,66508]
            TextElement:  method. [66510,66518]
            TextElement: </p> [66523,66527]
    Modifier: public [66534,66540]
    TYPE_DECLARATION_KIND: interface [66541,66550]
    SimpleName: NotificationManager [66551,66570]
    MethodDeclaration [66578,66790]
        Javadoc [66578,66735]
            TagElement [66588,66678]
                TextElement: Receives a notification and stores it so that it is processed by the notification service. [66588,66678]
            TagElement [66691,66728]
                SimpleName: notification [66698,66710]
                TextElement:  the notification. [66710,66728]
        PrimitiveType: void [66739,66743]
        SimpleName: scheduleForSending [66744,66762]
        SingleVariableDeclaration [66763,66788]
            SimpleType [66763,66775]
                SimpleName: Notification [66763,66775]
            SimpleName: notification [66776,66788]
    MethodDeclaration [66796,67040]
        Javadoc [66796,66978]
            TagElement [66806,66900]
                TextElement: Receives notifications and stores them so that they are processed by the notification service. [66806,66900]
            TagElement [66913,66952]
                SimpleName: notifications [66920,66933]
                TextElement:  the notifications. [66933,66952]
            TagElement [66959,66971]
                TextElement:  3.7.1 [66965,66971]
        PrimitiveType: void [66982,66986]
        SimpleName: scheduleForSending [66987,67005]
        SingleVariableDeclaration [67006,67038]
            ParameterizedType [67006,67024]
                SimpleType [67006,67010]
                    SimpleName: List [67006,67010]
                SimpleType [67011,67023]
                    SimpleName: Notification [67011,67023]
            SimpleName: notifications [67025,67038]
    MethodDeclaration [67046,67794]
        Javadoc [67046,67649]
            TagElement [67056,67402]
                TextElement: <p> [67056,67059]
                TextElement: Returns the list of users who subscribed to the given dispatcher, along with the notification channels (email, twitter, ...) that they choose [67066,67207]
                TextElement: for this dispatcher. [67214,67234]
                TextElement: </p> [67241,67245]
                TextElement: <p> [67252,67255]
                TextElement: The resource ID can be null in case of notifications that have nothing to do with a specific project (like system notifications). [67262,67391]
                TextElement: </p> [67398,67402]
            TagElement [67415,67489]
                SimpleName: dispatcher [67422,67432]
                TextElement:  the dispatcher for which this list of users is requested [67432,67489]
            TagElement [67496,67570]
                SimpleName: resourceId [67503,67513]
                TextElement:  the optional resource which is concerned by this request [67513,67570]
            TagElement [67577,67642]
                TextElement:  the list of user login along with the subscribed channels [67584,67642]
        ParameterizedType [67653,67690]
            SimpleType [67653,67661]
                SimpleName: Multimap [67653,67661]
            SimpleType [67662,67668]
                SimpleName: String [67662,67668]
            SimpleType [67670,67689]
                SimpleName: NotificationChannel [67670,67689]
        SimpleName: findSubscribedRecipientsForDispatcher [67691,67728]
        SingleVariableDeclaration [67729,67762]
            SimpleType [67729,67751]
                SimpleName: NotificationDispatcher [67729,67751]
            SimpleName: dispatcher [67752,67762]
        SingleVariableDeclaration [67764,67792]
            MarkerAnnotation [67764,67773]
                SimpleName: Nullable [67765,67773]
            SimpleType [67774,67781]
                SimpleName: Integer [67774,67781]
            SimpleName: resourceId [67782,67792]
    MethodDeclaration [67800,67932]
        ParameterizedType [67800,67837]
            SimpleType [67800,67808]
                SimpleName: Multimap [67800,67808]
            SimpleType [67809,67815]
                SimpleName: String [67809,67815]
            SimpleType [67817,67836]
                SimpleName: NotificationChannel [67817,67836]
        SimpleName: findNotificationSubscribers [67838,67865]
        SingleVariableDeclaration [67866,67899]
            SimpleType [67866,67888]
                SimpleName: NotificationDispatcher [67866,67888]
            SimpleName: dispatcher [67889,67899]
        SingleVariableDeclaration [67901,67930]
            MarkerAnnotation [67901,67910]
                SimpleName: Nullable [67902,67910]
            SimpleType [67911,67917]
                SimpleName: String [67911,67917]
            SimpleName: componentKey [67918,67930]
to
CompilationUnit [0,107451]
at 804
===
insert-tree
---
TypeDeclaration [69937,76734]
    SingleMemberAnnotation [69937,70360]
        SimpleName: Properties [69938,69948]
        ArrayInitializer [69949,70359]
            NormalAnnotation [69954,70130]
                SimpleName: Property [69955,69963]
                MemberValuePair [69970,70010]
                    SimpleName: key [69970,69973]
                    QualifiedName: NotificationService.PROPERTY_DELAY [69976,70010]
                MemberValuePair [70017,70036]
                    SimpleName: defaultValue [70017,70029]
                    StringLiteral: "60" [70032,70036]
                MemberValuePair [70043,70086]
                    SimpleName: name [70043,70047]
                    StringLiteral: "Delay of notifications, in seconds" [70050,70086]
                MemberValuePair [70093,70108]
                    SimpleName: project [70093,70100]
                    BooleanLiteral: false [70103,70108]
                MemberValuePair [70115,70129]
                    SimpleName: global [70115,70121]
                    BooleanLiteral: false [70124,70129]
            NormalAnnotation [70135,70356]
                SimpleName: Property [70136,70144]
                MemberValuePair [70151,70215]
                    SimpleName: key [70151,70154]
                    QualifiedName: NotificationService.PROPERTY_DELAY_BEFORE_REPORTING_STATUS [70157,70215]
                MemberValuePair [70222,70242]
                    SimpleName: defaultValue [70222,70234]
                    StringLiteral: "600" [70237,70242]
                MemberValuePair [70249,70312]
                    SimpleName: name [70249,70253]
                    StringLiteral: "Delay before reporting notification status, in seconds" [70256,70312]
                MemberValuePair [70319,70334]
                    SimpleName: project [70319,70326]
                    BooleanLiteral: false [70329,70334]
                MemberValuePair [70341,70355]
                    SimpleName: global [70341,70347]
                    BooleanLiteral: false [70350,70355]
    MarkerAnnotation [70362,70373]
        SimpleName: ServerSide [70363,70373]
    Modifier: public [70375,70381]
    TYPE_DECLARATION_KIND: class [70382,70387]
    SimpleName: NotificationService [70388,70407]
    SimpleType [70419,70428]
        SimpleName: Startable [70419,70428]
    FieldDeclaration [70436,70509]
        Modifier: private [70436,70443]
        Modifier: static [70444,70450]
        Modifier: final [70451,70456]
        SimpleType [70457,70463]
            SimpleName: Logger [70457,70463]
        VariableDeclarationFragment [70464,70508]
            SimpleName: LOG [70464,70467]
            MethodInvocation [70470,70508]
                METHOD_INVOCATION_RECEIVER [70470,70477]
                    SimpleName: Loggers [70470,70477]
                SimpleName: get [70478,70481]
                METHOD_INVOCATION_ARGUMENTS [70482,70507]
                    TypeLiteral [70482,70507]
                        SimpleType [70482,70501]
                            SimpleName: NotificationService [70482,70501]
    FieldDeclaration [70515,70587]
        Modifier: public [70515,70521]
        Modifier: static [70522,70528]
        Modifier: final [70529,70534]
        SimpleType [70535,70541]
            SimpleName: String [70535,70541]
        VariableDeclarationFragment [70542,70586]
            SimpleName: PROPERTY_DELAY [70542,70556]
            StringLiteral: "sonar.notifications.delay" [70559,70586]
    FieldDeclaration [70591,70715]
        Modifier: public [70591,70597]
        Modifier: static [70598,70604]
        Modifier: final [70605,70610]
        SimpleType [70611,70617]
            SimpleName: String [70611,70617]
        VariableDeclarationFragment [70618,70714]
            SimpleName: PROPERTY_DELAY_BEFORE_REPORTING_STATUS [70618,70656]
            StringLiteral: "sonar.notifications.runningDelayBeforeReportingStatus" [70659,70714]
    FieldDeclaration [70721,70755]
        Modifier: private [70721,70728]
        Modifier: final [70729,70734]
        PrimitiveType: long [70735,70739]
        VariableDeclarationFragment [70740,70754]
            SimpleName: delayInSeconds [70740,70754]
    FieldDeclaration [70759,70814]
        Modifier: private [70759,70766]
        Modifier: final [70767,70772]
        PrimitiveType: long [70773,70777]
        VariableDeclarationFragment [70778,70813]
            SimpleName: delayBeforeReportingStatusInSeconds [70778,70813]
    FieldDeclaration [70818,70878]
        Modifier: private [70818,70825]
        Modifier: final [70826,70831]
        SimpleType [70832,70854]
            SimpleName: DatabaseSessionFactory [70832,70854]
        VariableDeclarationFragment [70855,70877]
            SimpleName: databaseSessionFactory [70855,70877]
    FieldDeclaration [70882,70931]
        Modifier: private [70882,70889]
        Modifier: final [70890,70895]
        SimpleType [70896,70922]
            SimpleName: DefaultNotificationManager [70896,70922]
        VariableDeclarationFragment [70923,70930]
            SimpleName: manager [70923,70930]
    FieldDeclaration [70935,70990]
        Modifier: private [70935,70942]
        Modifier: final [70943,70948]
        ParameterizedType [70949,70977]
            SimpleType [70949,70953]
                SimpleName: List [70949,70953]
            SimpleType [70954,70976]
                SimpleName: NotificationDispatcher [70954,70976]
        VariableDeclarationFragment [70978,70989]
            SimpleName: dispatchers [70978,70989]
    FieldDeclaration [70994,71026]
        Modifier: private [70994,71001]
        Modifier: final [71002,71007]
        SimpleType [71008,71016]
            SimpleName: DbClient [71008,71016]
        VariableDeclarationFragment [71017,71025]
            SimpleName: dbClient [71017,71025]
    FieldDeclaration [71032,71081]
        Modifier: private [71032,71039]
        SimpleType [71040,71064]
            SimpleName: ScheduledExecutorService [71040,71064]
        VariableDeclarationFragment [71065,71080]
            SimpleName: executorService [71065,71080]
    FieldDeclaration [71085,71118]
        Modifier: private [71085,71092]
        PrimitiveType: boolean [71093,71100]
        VariableDeclarationFragment [71101,71117]
            SimpleName: stopping [71101,71109]
            BooleanLiteral: false [71112,71117]
    MethodDeclaration [71124,71755]
        Javadoc [71124,71184]
            TagElement [71134,71177]
                TextElement: Constructor for  [71134,71150]
                TagElement [71150,71177]
                    SimpleName: NotificationService [71157,71176]
        Modifier: public [71188,71194]
        SimpleName: NotificationService [71195,71214]
        SingleVariableDeclaration [71215,71232]
            SimpleType [71215,71223]
                SimpleName: Settings [71215,71223]
            SimpleName: settings [71224,71232]
        SingleVariableDeclaration [71234,71268]
            SimpleType [71234,71260]
                SimpleName: DefaultNotificationManager [71234,71260]
            SimpleName: manager [71261,71268]
        SingleVariableDeclaration [71270,71287]
            SimpleType [71270,71278]
                SimpleName: DbClient [71270,71278]
            SimpleName: dbClient [71279,71287]
        SingleVariableDeclaration [71319,71364]
            SimpleType [71319,71341]
                SimpleName: DatabaseSessionFactory [71319,71341]
            SimpleName: databaseSessionFactory [71342,71364]
        SingleVariableDeclaration [71366,71402]
            ArrayType [71366,71390]
                SimpleType [71366,71388]
                    SimpleName: NotificationDispatcher [71366,71388]
                Dimension [71388,71390]
            SimpleName: dispatchers [71391,71402]
        Block [71404,71755]
            ExpressionStatement [71411,71464]
                Assignment [71411,71463]
                    FieldAccess [71411,71438]
                        ThisExpression [71411,71415]
                        SimpleName: databaseSessionFactory [71416,71438]
                    ASSIGNMENT_OPERATOR: = [71439,71440]
                    SimpleName: databaseSessionFactory [71441,71463]
            ExpressionStatement [71470,71525]
                Assignment [71470,71524]
                    FieldAccess [71470,71489]
                        ThisExpression [71470,71474]
                        SimpleName: delayInSeconds [71475,71489]
                    ASSIGNMENT_OPERATOR: = [71490,71491]
                    MethodInvocation [71492,71524]
                        METHOD_INVOCATION_RECEIVER [71492,71500]
                            SimpleName: settings [71492,71500]
                        SimpleName: getLong [71501,71508]
                        METHOD_INVOCATION_ARGUMENTS [71509,71523]
                            SimpleName: PROPERTY_DELAY [71509,71523]
            ExpressionStatement [71531,71631]
                Assignment [71531,71630]
                    FieldAccess [71531,71571]
                        ThisExpression [71531,71535]
                        SimpleName: delayBeforeReportingStatusInSeconds [71536,71571]
                    ASSIGNMENT_OPERATOR: = [71572,71573]
                    MethodInvocation [71574,71630]
                        METHOD_INVOCATION_RECEIVER [71574,71582]
                            SimpleName: settings [71574,71582]
                        SimpleName: getLong [71583,71590]
                        METHOD_INVOCATION_ARGUMENTS [71591,71629]
                            SimpleName: PROPERTY_DELAY_BEFORE_REPORTING_STATUS [71591,71629]
            ExpressionStatement [71637,71660]
                Assignment [71637,71659]
                    FieldAccess [71637,71649]
                        ThisExpression [71637,71641]
                        SimpleName: manager [71642,71649]
                    ASSIGNMENT_OPERATOR: = [71650,71651]
                    SimpleName: manager [71652,71659]
            ExpressionStatement [71666,71691]
                Assignment [71666,71690]
                    FieldAccess [71666,71679]
                        ThisExpression [71666,71670]
                        SimpleName: dbClient [71671,71679]
                    ASSIGNMENT_OPERATOR: = [71680,71681]
                    SimpleName: dbClient [71682,71690]
            ExpressionStatement [71697,71750]
                Assignment [71697,71749]
                    FieldAccess [71697,71713]
                        ThisExpression [71697,71701]
                        SimpleName: dispatchers [71702,71713]
                    ASSIGNMENT_OPERATOR: = [71714,71715]
                    MethodInvocation [71716,71749]
                        METHOD_INVOCATION_RECEIVER [71716,71729]
                            SimpleName: ImmutableList [71716,71729]
                        SimpleName: copyOf [71730,71736]
                        METHOD_INVOCATION_ARGUMENTS [71737,71748]
                            SimpleName: dispatchers [71737,71748]
    MethodDeclaration [71761,72101]
        Javadoc [71761,71818]
            TagElement [71771,71811]
                TextElement: Default constructor when no dispatchers. [71771,71811]
        Modifier: public [71822,71828]
        SimpleName: NotificationService [71829,71848]
        SingleVariableDeclaration [71849,71866]
            SimpleType [71849,71857]
                SimpleName: Settings [71849,71857]
            SimpleName: settings [71858,71866]
        SingleVariableDeclaration [71868,71902]
            SimpleType [71868,71894]
                SimpleName: DefaultNotificationManager [71868,71894]
            SimpleName: manager [71895,71902]
        SingleVariableDeclaration [71904,71921]
            SimpleType [71904,71912]
                SimpleName: DbClient [71904,71912]
            SimpleName: dbClient [71913,71921]
        SingleVariableDeclaration [71953,71998]
            SimpleType [71953,71975]
                SimpleName: DatabaseSessionFactory [71953,71975]
            SimpleName: databaseSessionFactory [71976,71998]
        Block [72000,72101]
            ConstructorInvocation [72007,72096]
                SimpleName: settings [72012,72020]
                SimpleName: manager [72022,72029]
                SimpleName: dbClient [72031,72039]
                SimpleName: databaseSessionFactory [72041,72063]
                ArrayCreation [72065,72094]
                    ArrayType [72069,72094]
                        SimpleType [72069,72091]
                            SimpleName: NotificationDispatcher [72069,72091]
                        Dimension [72091,72094]
                            NumberLiteral: 0 [72092,72093]
    MethodDeclaration [72107,72763]
        MarkerAnnotation [72107,72116]
            SimpleName: Override [72108,72116]
        Modifier: public [72120,72126]
        PrimitiveType: void [72127,72131]
        SimpleName: start [72132,72137]
        Block [72140,72763]
            ExpressionStatement [72147,72210]
                Assignment [72147,72209]
                    SimpleName: executorService [72147,72162]
                    ASSIGNMENT_OPERATOR: = [72163,72164]
                    MethodInvocation [72165,72209]
                        METHOD_INVOCATION_RECEIVER [72165,72174]
                            SimpleName: Executors [72165,72174]
                        SimpleName: newSingleThreadScheduledExecutor [72175,72207]
            ExpressionStatement [72216,72679]
                MethodInvocation [72216,72678]
                    METHOD_INVOCATION_RECEIVER [72216,72231]
                        SimpleName: executorService [72216,72231]
                    SimpleName: scheduleWithFixedDelay [72232,72254]
                    METHOD_INVOCATION_ARGUMENTS [72255,72677]
                        ClassInstanceCreation [72255,72640]
                            SimpleType [72259,72267]
                                SimpleName: Runnable [72259,72267]
                            AnonymousClassDeclaration [72270,72640]
                                MethodDeclaration [72279,72633]
                                    MarkerAnnotation [72279,72288]
                                        SimpleName: Override [72280,72288]
                                    Modifier: public [72296,72302]
                                    PrimitiveType: void [72303,72307]
                                    SimpleName: run [72308,72311]
                                    Block [72314,72633]
                                        TryStatement [72325,72624]
                                            Block [72329,72368]
                                                ExpressionStatement [72342,72357]
                                                    MethodInvocation [72342,72356]
                                                        SimpleName: processQueue [72342,72354]
                                            CatchClause [72369,72458]
                                                SingleVariableDeclaration [72376,72387]
                                                    SimpleType [72376,72385]
                                                        SimpleName: Exception [72376,72385]
                                                    SimpleName: e [72386,72387]
                                                Block [72389,72458]
                                                    ExpressionStatement [72402,72447]
                                                        MethodInvocation [72402,72446]
                                                            METHOD_INVOCATION_RECEIVER [72402,72405]
                                                                SimpleName: LOG [72402,72405]
                                                            SimpleName: error [72406,72411]
                                                            METHOD_INVOCATION_ARGUMENTS [72412,72445]
                                                                StringLiteral: "Error in NotificationService" [72412,72442]
                                                                SimpleName: e [72444,72445]
                                            Block [72467,72624]
                                                ExpressionStatement [72582,72613]
                                                    MethodInvocation [72582,72612]
                                                        METHOD_INVOCATION_RECEIVER [72582,72604]
                                                            SimpleName: databaseSessionFactory [72582,72604]
                                                        SimpleName: clear [72605,72610]
                        NumberLiteral: 0 [72642,72643]
                        SimpleName: delayInSeconds [72645,72659]
                        QualifiedName: TimeUnit.SECONDS [72661,72677]
            ExpressionStatement [72685,72758]
                MethodInvocation [72685,72757]
                    METHOD_INVOCATION_RECEIVER [72685,72688]
                        SimpleName: LOG [72685,72688]
                    SimpleName: info [72689,72693]
                    METHOD_INVOCATION_ARGUMENTS [72694,72756]
                        StringLiteral: "Notification service started (delay {} sec.)" [72694,72740]
                        SimpleName: delayInSeconds [72742,72756]
    MethodDeclaration [72769,73099]
        MarkerAnnotation [72769,72778]
            SimpleName: Override [72770,72778]
        Modifier: public [72782,72788]
        PrimitiveType: void [72789,72793]
        SimpleName: stop [72794,72798]
        Block [72801,73099]
            TryStatement [72808,73047]
                Block [72812,72941]
                    ExpressionStatement [72821,72837]
                        Assignment [72821,72836]
                            SimpleName: stopping [72821,72829]
                            ASSIGNMENT_OPERATOR: = [72830,72831]
                            BooleanLiteral: true [72832,72836]
                    ExpressionStatement [72845,72872]
                        MethodInvocation [72845,72871]
                            METHOD_INVOCATION_RECEIVER [72845,72860]
                                SimpleName: executorService [72845,72860]
                            SimpleName: shutdown [72861,72869]
                    ExpressionStatement [72880,72934]
                        MethodInvocation [72880,72933]
                            METHOD_INVOCATION_RECEIVER [72880,72895]
                                SimpleName: executorService [72880,72895]
                            SimpleName: awaitTermination [72896,72912]
                            METHOD_INVOCATION_ARGUMENTS [72913,72932]
                                NumberLiteral: 5 [72913,72914]
                                QualifiedName: TimeUnit.SECONDS [72916,72932]
                CatchClause [72942,73047]
                    SingleVariableDeclaration [72949,72971]
                        SimpleType [72949,72969]
                            SimpleName: InterruptedException [72949,72969]
                        SimpleName: e [72970,72971]
                    Block [72973,73047]
                        ExpressionStatement [72982,73040]
                            MethodInvocation [72982,73039]
                                METHOD_INVOCATION_RECEIVER [72982,72985]
                                    SimpleName: LOG [72982,72985]
                                SimpleName: error [72986,72991]
                                METHOD_INVOCATION_ARGUMENTS [72992,73038]
                                    StringLiteral: "Error during stop of notification service" [72992,73035]
                                    SimpleName: e [73037,73038]
            ExpressionStatement [73053,73094]
                MethodInvocation [73053,73093]
                    METHOD_INVOCATION_RECEIVER [73053,73056]
                        SimpleName: LOG [73053,73056]
                    SimpleName: info [73057,73061]
                    METHOD_INVOCATION_ARGUMENTS [73062,73092]
                        StringLiteral: "Notification service stopped" [73062,73092]
    MethodDeclaration [73105,73814]
        MarkerAnnotation [73105,73123]
            SimpleName: VisibleForTesting [73106,73123]
        Modifier: synchronized [73127,73139]
        PrimitiveType: void [73140,73144]
        SimpleName: processQueue [73145,73157]
        Block [73160,73814]
            VariableDeclarationStatement [73167,73186]
                PrimitiveType: long [73167,73171]
                VariableDeclarationFragment [73172,73185]
                    SimpleName: start [73172,73177]
                    MethodInvocation [73180,73185]
                        SimpleName: now [73180,73183]
            VariableDeclarationStatement [73192,73213]
                PrimitiveType: long [73192,73196]
                VariableDeclarationFragment [73197,73212]
                    SimpleName: lastLog [73197,73204]
                    SimpleName: start [73207,73212]
            VariableDeclarationStatement [73219,73243]
                PrimitiveType: long [73219,73223]
                VariableDeclarationFragment [73224,73242]
                    SimpleName: notifSentCount [73224,73238]
                    NumberLiteral: 0 [73241,73242]
            VariableDeclarationStatement [73251,73301]
                SimpleType [73251,73263]
                    SimpleName: Notification [73251,73263]
                VariableDeclarationFragment [73264,73300]
                    SimpleName: notifToSend [73264,73275]
                    MethodInvocation [73278,73300]
                        METHOD_INVOCATION_RECEIVER [73278,73285]
                            SimpleName: manager [73278,73285]
                        SimpleName: getFromQueue [73286,73298]
            WhileStatement [73307,73809]
                InfixExpression [73314,73333]
                    SimpleName: notifToSend [73314,73325]
                    INFIX_EXPRESSION_OPERATOR: != [73326,73328]
                    NullLiteral [73329,73333]
                Block [73335,73809]
                    ExpressionStatement [73344,73365]
                        MethodInvocation [73344,73364]
                            SimpleName: deliver [73344,73351]
                            METHOD_INVOCATION_ARGUMENTS [73352,73363]
                                SimpleName: notifToSend [73352,73363]
                    ExpressionStatement [73373,73390]
                        PostfixExpression [73373,73389]
                            SimpleName: notifSentCount [73373,73387]
                            POSTFIX_EXPRESSION_OPERATOR: ++ [73387,73389]
                    IfStatement [73398,73438]
                        SimpleName: stopping [73402,73410]
                        Block [73412,73438]
                            BreakStatement [73423,73429]
                    VariableDeclarationStatement [73446,73463]
                        PrimitiveType: long [73446,73450]
                        VariableDeclarationFragment [73451,73462]
                            SimpleName: now [73451,73454]
                            MethodInvocation [73457,73462]
                                SimpleName: now [73457,73460]
                    IfStatement [73471,73757]
                        InfixExpression [73475,73533]
                            InfixExpression [73475,73488]
                                SimpleName: now [73475,73478]
                                INFIX_EXPRESSION_OPERATOR: - [73479,73480]
                                SimpleName: lastLog [73481,73488]
                            INFIX_EXPRESSION_OPERATOR: > [73489,73490]
                            InfixExpression [73491,73533]
                                SimpleName: delayBeforeReportingStatusInSeconds [73491,73526]
                                INFIX_EXPRESSION_OPERATOR: * [73527,73528]
                                NumberLiteral: 1000 [73529,73533]
                        Block [73535,73757]
                            VariableDeclarationStatement [73546,73589]
                                PrimitiveType: long [73546,73550]
                                VariableDeclarationFragment [73551,73588]
                                    SimpleName: remainingNotifCount [73551,73570]
                                    MethodInvocation [73573,73588]
                                        METHOD_INVOCATION_RECEIVER [73573,73580]
                                            SimpleName: manager [73573,73580]
                                        SimpleName: count [73581,73586]
                            ExpressionStatement [73599,73613]
                                Assignment [73599,73612]
                                    SimpleName: lastLog [73599,73606]
                                    ASSIGNMENT_OPERATOR: = [73607,73608]
                                    SimpleName: now [73609,73612]
                            VariableDeclarationStatement [73623,73677]
                                PrimitiveType: long [73623,73627]
                                VariableDeclarationFragment [73628,73676]
                                    SimpleName: spentTimeInMinutes [73628,73646]
                                    InfixExpression [73649,73676]
                                        ParenthesizedExpression [73649,73662]
                                            InfixExpression [73650,73661]
                                                SimpleName: now [73650,73653]
                                                INFIX_EXPRESSION_OPERATOR: - [73654,73655]
                                                SimpleName: start [73656,73661]
                                        INFIX_EXPRESSION_OPERATOR: / [73663,73664]
                                        ParenthesizedExpression [73665,73676]
                                            InfixExpression [73666,73675]
                                                NumberLiteral: 60 [73666,73668]
                                                INFIX_EXPRESSION_OPERATOR: * [73669,73670]
                                                NumberLiteral: 1000 [73671,73675]
                            ExpressionStatement [73687,73748]
                                MethodInvocation [73687,73747]
                                    SimpleName: log [73687,73690]
                                    METHOD_INVOCATION_ARGUMENTS [73691,73746]
                                        SimpleName: notifSentCount [73691,73705]
                                        SimpleName: remainingNotifCount [73707,73726]
                                        SimpleName: spentTimeInMinutes [73728,73746]
                    ExpressionStatement [73765,73802]
                        Assignment [73765,73801]
                            SimpleName: notifToSend [73765,73776]
                            ASSIGNMENT_OPERATOR: = [73777,73778]
                            MethodInvocation [73779,73801]
                                METHOD_INVOCATION_RECEIVER [73779,73786]
                                    SimpleName: manager [73779,73786]
                                SimpleName: getFromQueue [73787,73799]
    MethodDeclaration [73820,74107]
        MarkerAnnotation [73820,73838]
            SimpleName: VisibleForTesting [73821,73838]
        PrimitiveType: void [73842,73846]
        SimpleName: log [73847,73850]
        SingleVariableDeclaration [73851,73870]
            PrimitiveType: long [73851,73855]
            SimpleName: notifSentCount [73856,73870]
        SingleVariableDeclaration [73872,73896]
            PrimitiveType: long [73872,73876]
            SimpleName: remainingNotifCount [73877,73896]
        SingleVariableDeclaration [73898,73921]
            PrimitiveType: long [73898,73902]
            SimpleName: spentTimeInMinutes [73903,73921]
        Block [73923,74107]
            ExpressionStatement [73930,74102]
                MethodInvocation [73930,74101]
                    METHOD_INVOCATION_RECEIVER [73930,73933]
                        SimpleName: LOG [73930,73933]
                    SimpleName: info [73934,73938]
                    METHOD_INVOCATION_ARGUMENTS [73939,74100]
                        StringLiteral: "{} notifications sent during the past {} minutes and {} still waiting to be sent" [73939,74021]
                        ArrayCreation [74030,74100]
                            ArrayType [74034,74042]
                                SimpleType [74034,74040]
                                    SimpleName: Object [74034,74040]
                                Dimension [74040,74042]
                            ArrayInitializer [74043,74100]
                                SimpleName: notifSentCount [74044,74058]
                                SimpleName: spentTimeInMinutes [74060,74078]
                                SimpleName: remainingNotifCount [74080,74099]
    MethodDeclaration [74113,74192]
        MarkerAnnotation [74113,74131]
            SimpleName: VisibleForTesting [74114,74131]
        PrimitiveType: long [74135,74139]
        SimpleName: now [74140,74143]
        Block [74146,74192]
            ReturnStatement [74153,74187]
                MethodInvocation [74160,74186]
                    METHOD_INVOCATION_RECEIVER [74160,74166]
                        SimpleName: System [74160,74166]
                    SimpleName: currentTimeMillis [74167,74184]
    MethodDeclaration [74198,75190]
        Modifier: public [74198,74204]
        PrimitiveType: void [74205,74209]
        SimpleName: deliver [74210,74217]
        SingleVariableDeclaration [74218,74243]
            SimpleType [74218,74230]
                SimpleName: Notification [74218,74230]
            SimpleName: notification [74231,74243]
        Block [74245,75190]
            VariableDeclarationStatement [74252,74334]
                Modifier: final [74252,74257]
                ParameterizedType [74258,74298]
                    SimpleType [74258,74269]
                        SimpleName: SetMultimap [74258,74269]
                    SimpleType [74270,74276]
                        SimpleName: String [74270,74276]
                    SimpleType [74278,74297]
                        SimpleName: NotificationChannel [74278,74297]
                VariableDeclarationFragment [74299,74333]
                    SimpleName: recipients [74299,74309]
                    MethodInvocation [74312,74333]
                        METHOD_INVOCATION_RECEIVER [74312,74324]
                            SimpleName: HashMultimap [74312,74324]
                        SimpleName: create [74325,74331]
            EnhancedForStatement [74340,75144]
                SingleVariableDeclaration [74345,74378]
                    SimpleType [74345,74367]
                        SimpleName: NotificationDispatcher [74345,74367]
                    SimpleName: dispatcher [74368,74378]
                SimpleName: dispatchers [74381,74392]
                Block [74394,75144]
                    VariableDeclarationStatement [74403,74848]
                        SimpleType [74403,74433]
                            QualifiedName: NotificationDispatcher.Context [74403,74433]
                        VariableDeclarationFragment [74434,74847]
                            SimpleName: context [74434,74441]
                            ClassInstanceCreation [74444,74847]
                                SimpleType [74448,74478]
                                    QualifiedName: NotificationDispatcher.Context [74448,74478]
                                AnonymousClassDeclaration [74481,74847]
                                    MethodDeclaration [74492,74606]
                                        MarkerAnnotation [74492,74501]
                                            SimpleName: Override [74493,74501]
                                        Modifier: public [74511,74517]
                                        PrimitiveType: void [74518,74522]
                                        SimpleName: addUser [74523,74530]
                                        SingleVariableDeclaration [74531,74546]
                                            SimpleType [74531,74537]
                                                SimpleName: String [74531,74537]
                                            SimpleName: username [74538,74546]
                                        Block [74548,74606]
                                    MethodDeclaration [74618,74838]
                                        MarkerAnnotation [74618,74627]
                                            SimpleName: Override [74619,74627]
                                        Modifier: public [74637,74643]
                                        PrimitiveType: void [74644,74648]
                                        SimpleName: addUser [74649,74656]
                                        SingleVariableDeclaration [74657,74673]
                                            SimpleType [74657,74663]
                                                SimpleName: String [74657,74663]
                                            SimpleName: userLogin [74664,74673]
                                        SingleVariableDeclaration [74675,74714]
                                            SimpleType [74675,74694]
                                                SimpleName: NotificationChannel [74675,74694]
                                            SimpleName: notificationChannel [74695,74714]
                                        Block [74716,74838]
                                            IfStatement [74729,74827]
                                                InfixExpression [74733,74750]
                                                    SimpleName: userLogin [74733,74742]
                                                    INFIX_EXPRESSION_OPERATOR: != [74743,74745]
                                                    NullLiteral [74746,74750]
                                                Block [74752,74827]
                                                    ExpressionStatement [74767,74814]
                                                        MethodInvocation [74767,74813]
                                                            METHOD_INVOCATION_RECEIVER [74767,74777]
                                                                SimpleName: recipients [74767,74777]
                                                            SimpleName: put [74778,74781]
                                                            METHOD_INVOCATION_ARGUMENTS [74782,74812]
                                                                SimpleName: userLogin [74782,74791]
                                                                SimpleName: notificationChannel [74793,74812]
                    TryStatement [74856,75137]
                        Block [74860,74930]
                            ExpressionStatement [74871,74921]
                                MethodInvocation [74871,74920]
                                    METHOD_INVOCATION_RECEIVER [74871,74881]
                                        SimpleName: dispatcher [74871,74881]
                                    SimpleName: performDispatch [74882,74897]
                                    METHOD_INVOCATION_ARGUMENTS [74898,74919]
                                        SimpleName: notification [74898,74910]
                                        SimpleName: context [74912,74919]
                        CatchClause [74931,75137]
                            SingleVariableDeclaration [74938,74949]
                                SimpleType [74938,74947]
                                    SimpleName: Exception [74938,74947]
                                SimpleName: e [74948,74949]
                            Block [74951,75137]
                                ExpressionStatement [75040,75128]
                                    MethodInvocation [75040,75127]
                                        METHOD_INVOCATION_RECEIVER [75040,75043]
                                            SimpleName: LOG [75040,75043]
                                        SimpleName: warn [75044,75048]
                                        METHOD_INVOCATION_ARGUMENTS [75049,75126]
                                            InfixExpression [75049,75123]
                                                StringLiteral: "Unable to dispatch notification " [75049,75083]
                                                INFIX_EXPRESSION_OPERATOR: + [75084,75085]
                                                SimpleName: notification [75086,75098]
                                                StringLiteral: " using " [75101,75110]
                                                SimpleName: dispatcher [75113,75123]
                                            SimpleName: e [75125,75126]
            ExpressionStatement [75150,75185]
                MethodInvocation [75150,75184]
                    SimpleName: dispatch [75150,75158]
                    METHOD_INVOCATION_ARGUMENTS [75159,75183]
                        SimpleName: notification [75159,75171]
                        SimpleName: recipients [75173,75183]
    MethodDeclaration [75196,75962]
        Modifier: private [75196,75203]
        PrimitiveType: void [75204,75208]
        SimpleName: dispatch [75209,75217]
        SingleVariableDeclaration [75218,75243]
            SimpleType [75218,75230]
                SimpleName: Notification [75218,75230]
            SimpleName: notification [75231,75243]
        SingleVariableDeclaration [75245,75296]
            ParameterizedType [75245,75285]
                SimpleType [75245,75256]
                    SimpleName: SetMultimap [75245,75256]
                SimpleType [75257,75263]
                    SimpleName: String [75257,75263]
                SimpleType [75265,75284]
                    SimpleName: NotificationChannel [75265,75284]
            SimpleName: recipients [75286,75296]
        Block [75298,75962]
            EnhancedForStatement [75305,75957]
                SingleVariableDeclaration [75310,75366]
                    ParameterizedType [75310,75360]
                        SimpleType [75310,75319]
                            QualifiedName: Map.Entry [75310,75319]
                        SimpleType [75320,75326]
                            SimpleName: String [75320,75326]
                        ParameterizedType [75328,75359]
                            SimpleType [75328,75338]
                                SimpleName: Collection [75328,75338]
                            SimpleType [75339,75358]
                                SimpleName: NotificationChannel [75339,75358]
                    SimpleName: entry [75361,75366]
                MethodInvocation [75369,75398]
                    METHOD_INVOCATION_RECEIVER [75369,75387]
                        MethodInvocation [75369,75387]
                            METHOD_INVOCATION_RECEIVER [75369,75379]
                                SimpleName: recipients [75369,75379]
                            SimpleName: asMap [75380,75385]
                    SimpleName: entrySet [75388,75396]
                Block [75400,75957]
                    VariableDeclarationStatement [75409,75442]
                        SimpleType [75409,75415]
                            SimpleName: String [75409,75415]
                        VariableDeclarationFragment [75416,75441]
                            SimpleName: username [75416,75424]
                            MethodInvocation [75427,75441]
                                METHOD_INVOCATION_RECEIVER [75427,75432]
                                    SimpleName: entry [75427,75432]
                                SimpleName: getKey [75433,75439]
                    VariableDeclarationStatement [75450,75514]
                        ParameterizedType [75450,75481]
                            SimpleType [75450,75460]
                                SimpleName: Collection [75450,75460]
                            SimpleType [75461,75480]
                                SimpleName: NotificationChannel [75461,75480]
                        VariableDeclarationFragment [75482,75513]
                            SimpleName: userChannels [75482,75494]
                            MethodInvocation [75497,75513]
                                METHOD_INVOCATION_RECEIVER [75497,75502]
                                    SimpleName: entry [75497,75502]
                                SimpleName: getValue [75503,75511]
                    ExpressionStatement [75522,75578]
                        MethodInvocation [75522,75577]
                            METHOD_INVOCATION_RECEIVER [75522,75525]
                                SimpleName: LOG [75522,75525]
                            SimpleName: debug [75526,75531]
                            METHOD_INVOCATION_ARGUMENTS [75532,75576]
                                StringLiteral: "For user {} via {}" [75532,75552]
                                SimpleName: username [75554,75562]
                                SimpleName: userChannels [75564,75576]
                    EnhancedForStatement [75586,75950]
                        SingleVariableDeclaration [75591,75618]
                            SimpleType [75591,75610]
                                SimpleName: NotificationChannel [75591,75610]
                            SimpleName: channel [75611,75618]
                        SimpleName: userChannels [75621,75633]
                        Block [75635,75950]
                            TryStatement [75646,75941]
                                Block [75650,75714]
                                    ExpressionStatement [75663,75703]
                                        MethodInvocation [75663,75702]
                                            METHOD_INVOCATION_RECEIVER [75663,75670]
                                                SimpleName: channel [75663,75670]
                                            SimpleName: deliver [75671,75678]
                                            METHOD_INVOCATION_ARGUMENTS [75679,75701]
                                                SimpleName: notification [75679,75691]
                                                SimpleName: username [75693,75701]
                                CatchClause [75715,75941]
                                    SingleVariableDeclaration [75722,75733]
                                        SimpleType [75722,75731]
                                            SimpleName: Exception [75722,75731]
                                        SimpleName: e [75732,75733]
                                    Block [75735,75941]
                                        ExpressionStatement [75822,75930]
                                            MethodInvocation [75822,75929]
                                                METHOD_INVOCATION_RECEIVER [75822,75825]
                                                    SimpleName: LOG [75822,75825]
                                                SimpleName: warn [75826,75830]
                                                METHOD_INVOCATION_ARGUMENTS [75831,75928]
                                                    InfixExpression [75831,75925]
                                                        StringLiteral: "Unable to deliver notification " [75831,75864]
                                                        INFIX_EXPRESSION_OPERATOR: + [75865,75866]
                                                        SimpleName: notification [75867,75879]
                                                        StringLiteral: " for user " [75882,75894]
                                                        SimpleName: username [75897,75905]
                                                        StringLiteral: " via " [75908,75915]
                                                        SimpleName: channel [75918,75925]
                                                    SimpleName: e [75927,75928]
    MethodDeclaration [75968,76077]
        MarkerAnnotation [75968,75986]
            SimpleName: VisibleForTesting [75969,75986]
        Modifier: protected [75990,75999]
        ParameterizedType [76000,76028]
            SimpleType [76000,76004]
                SimpleName: List [76000,76004]
            SimpleType [76005,76027]
                SimpleName: NotificationDispatcher [76005,76027]
        SimpleName: getDispatchers [76029,76043]
        Block [76046,76077]
            ReturnStatement [76053,76072]
                SimpleName: dispatchers [76060,76071]
    MethodDeclaration [76083,76731]
        Javadoc [76083,76258]
            TagElement [76093,76251]
                TextElement: Returns true if at least one user is subscribed to at least one notifications with given types. [76093,76188]
                TextElement: Subscription can be globally or on the specific project. [76195,76251]
        Modifier: public [76262,76268]
        PrimitiveType: boolean [76269,76276]
        SimpleName: hasProjectSubscribersForTypes [76277,76306]
        SingleVariableDeclaration [76307,76325]
            SimpleType [76307,76313]
                SimpleName: String [76307,76313]
            SimpleName: projectUuid [76314,76325]
        SingleVariableDeclaration [76327,76356]
            ParameterizedType [76327,76338]
                SimpleType [76327,76330]
                    SimpleName: Set [76327,76330]
                SimpleType [76331,76337]
                    SimpleName: String [76331,76337]
            SimpleName: notificationTypes [76339,76356]
        Block [76358,76731]
            VariableDeclarationStatement [76365,76419]
                ParameterizedType [76365,76383]
                    SimpleType [76365,76375]
                        SimpleName: Collection [76365,76375]
                    SimpleType [76376,76382]
                        SimpleName: String [76376,76382]
                VariableDeclarationFragment [76384,76418]
                    SimpleName: dispatcherKeys [76384,76398]
                    ClassInstanceCreation [76401,76418]
                        ParameterizedType [76405,76416]
                            SimpleType [76405,76414]
                                SimpleName: ArrayList [76405,76414]
            EnhancedForStatement [76425,76609]
                SingleVariableDeclaration [76430,76463]
                    SimpleType [76430,76452]
                        SimpleName: NotificationDispatcher [76430,76452]
                    SimpleName: dispatcher [76453,76463]
                SimpleName: dispatchers [76466,76477]
                Block [76479,76609]
                    IfStatement [76488,76602]
                        MethodInvocation [76492,76540]
                            METHOD_INVOCATION_RECEIVER [76492,76509]
                                SimpleName: notificationTypes [76492,76509]
                            SimpleName: contains [76510,76518]
                            METHOD_INVOCATION_ARGUMENTS [76519,76539]
                                MethodInvocation [76519,76539]
                                    METHOD_INVOCATION_RECEIVER [76519,76529]
                                        SimpleName: dispatcher [76519,76529]
                                    SimpleName: getType [76530,76537]
                        Block [76542,76602]
                            ExpressionStatement [76553,76593]
                                MethodInvocation [76553,76592]
                                    METHOD_INVOCATION_RECEIVER [76553,76567]
                                        SimpleName: dispatcherKeys [76553,76567]
                                    SimpleName: add [76568,76571]
                                    METHOD_INVOCATION_ARGUMENTS [76572,76591]
                                        MethodInvocation [76572,76591]
                                            METHOD_INVOCATION_RECEIVER [76572,76582]
                                                SimpleName: dispatcher [76572,76582]
                                            SimpleName: getKey [76583,76589]
            ReturnStatement [76617,76726]
                MethodInvocation [76624,76725]
                    METHOD_INVOCATION_RECEIVER [76624,76648]
                        MethodInvocation [76624,76648]
                            METHOD_INVOCATION_RECEIVER [76624,76632]
                                SimpleName: dbClient [76624,76632]
                            SimpleName: propertiesDao [76633,76646]
                    SimpleName: hasProjectNotificationSubscribersForDispatchers [76649,76696]
                    METHOD_INVOCATION_ARGUMENTS [76697,76724]
                        SimpleName: projectUuid [76697,76708]
                        SimpleName: dispatcherKeys [76710,76724]
to
CompilationUnit [0,107451]
at 805
===
insert-tree
---
TypeDeclaration [78100,81173]
    Javadoc [78100,78180]
        TagElement [78108,78156]
            TextElement: Creates email message for notification "alerts". [78108,78156]
        TagElement [78165,78175]
            TextElement:  3.5 [78171,78175]
    Modifier: public [78182,78188]
    TYPE_DECLARATION_KIND: class [78189,78194]
    SimpleName: AlertsEmailTemplate [78195,78214]
    SimpleType [78223,78236]
        SimpleName: EmailTemplate [78223,78236]
    FieldDeclaration [78244,78280]
        Modifier: private [78244,78251]
        SimpleType [78252,78265]
            SimpleName: EmailSettings [78252,78265]
        VariableDeclarationFragment [78266,78279]
            SimpleName: configuration [78266,78279]
    MethodDeclaration [78286,78389]
        Modifier: public [78286,78292]
        SimpleName: AlertsEmailTemplate [78293,78312]
        SingleVariableDeclaration [78313,78340]
            SimpleType [78313,78326]
                SimpleName: EmailSettings [78313,78326]
            SimpleName: configuration [78327,78340]
        Block [78342,78389]
            ExpressionStatement [78349,78384]
                Assignment [78349,78383]
                    FieldAccess [78349,78367]
                        ThisExpression [78349,78353]
                        SimpleName: configuration [78354,78367]
                    ASSIGNMENT_OPERATOR: = [78368,78369]
                    SimpleName: configuration [78370,78383]
    MethodDeclaration [78395,79468]
        MarkerAnnotation [78395,78404]
            SimpleName: Override [78396,78404]
        Modifier: public [78408,78414]
        SimpleType [78415,78427]
            SimpleName: EmailMessage [78415,78427]
        SimpleName: format [78428,78434]
        SingleVariableDeclaration [78435,78460]
            SimpleType [78435,78447]
                SimpleName: Notification [78435,78447]
            SimpleName: notification [78448,78460]
        Block [78462,79468]
            IfStatement [78469,78543]
                PrefixExpression [78473,78513]
                    PREFIX_EXPRESSION_OPERATOR: ! [78473,78474]
                    MethodInvocation [78474,78513]
                        METHOD_INVOCATION_RECEIVER [78474,78482]
                            StringLiteral: "alerts" [78474,78482]
                        SimpleName: equals [78483,78489]
                        METHOD_INVOCATION_ARGUMENTS [78490,78512]
                            MethodInvocation [78490,78512]
                                METHOD_INVOCATION_RECEIVER [78490,78502]
                                    SimpleName: notification [78490,78502]
                                SimpleName: getType [78503,78510]
                Block [78515,78543]
                    ReturnStatement [78524,78536]
                        NullLiteral [78531,78535]
            VariableDeclarationStatement [78582,78641]
                SimpleType [78582,78588]
                    SimpleName: String [78582,78588]
                VariableDeclarationFragment [78589,78640]
                    SimpleName: projectId [78589,78598]
                    MethodInvocation [78601,78640]
                        METHOD_INVOCATION_RECEIVER [78601,78613]
                            SimpleName: notification [78601,78613]
                        SimpleName: getFieldValue [78614,78627]
                        METHOD_INVOCATION_ARGUMENTS [78628,78639]
                            StringLiteral: "projectId" [78628,78639]
            VariableDeclarationStatement [78647,78708]
                SimpleType [78647,78653]
                    SimpleName: String [78647,78653]
                VariableDeclarationFragment [78654,78707]
                    SimpleName: projectKey [78654,78664]
                    MethodInvocation [78667,78707]
                        METHOD_INVOCATION_RECEIVER [78667,78679]
                            SimpleName: notification [78667,78679]
                        SimpleName: getFieldValue [78680,78693]
                        METHOD_INVOCATION_ARGUMENTS [78694,78706]
                            StringLiteral: "projectKey" [78694,78706]
            VariableDeclarationStatement [78714,78777]
                SimpleType [78714,78720]
                    SimpleName: String [78714,78720]
                VariableDeclarationFragment [78721,78776]
                    SimpleName: projectName [78721,78732]
                    MethodInvocation [78735,78776]
                        METHOD_INVOCATION_RECEIVER [78735,78747]
                            SimpleName: notification [78735,78747]
                        SimpleName: getFieldValue [78748,78761]
                        METHOD_INVOCATION_ARGUMENTS [78762,78775]
                            StringLiteral: "projectName" [78762,78775]
            VariableDeclarationStatement [78783,78842]
                SimpleType [78783,78789]
                    SimpleName: String [78783,78789]
                VariableDeclarationFragment [78790,78841]
                    SimpleName: alertName [78790,78799]
                    MethodInvocation [78802,78841]
                        METHOD_INVOCATION_RECEIVER [78802,78814]
                            SimpleName: notification [78802,78814]
                        SimpleName: getFieldValue [78815,78828]
                        METHOD_INVOCATION_ARGUMENTS [78829,78840]
                            StringLiteral: "alertName" [78829,78840]
            VariableDeclarationStatement [78848,78907]
                SimpleType [78848,78854]
                    SimpleName: String [78848,78854]
                VariableDeclarationFragment [78855,78906]
                    SimpleName: alertText [78855,78864]
                    MethodInvocation [78867,78906]
                        METHOD_INVOCATION_RECEIVER [78867,78879]
                            SimpleName: notification [78867,78879]
                        SimpleName: getFieldValue [78880,78893]
                        METHOD_INVOCATION_ARGUMENTS [78894,78905]
                            StringLiteral: "alertText" [78894,78905]
            VariableDeclarationStatement [78913,78974]
                SimpleType [78913,78919]
                    SimpleName: String [78913,78919]
                VariableDeclarationFragment [78920,78973]
                    SimpleName: alertLevel [78920,78930]
                    MethodInvocation [78933,78973]
                        METHOD_INVOCATION_RECEIVER [78933,78945]
                            SimpleName: notification [78933,78945]
                        SimpleName: getFieldValue [78946,78959]
                        METHOD_INVOCATION_ARGUMENTS [78960,78972]
                            StringLiteral: "alertLevel" [78960,78972]
            VariableDeclarationStatement [78980,79064]
                PrimitiveType: boolean [78980,78987]
                VariableDeclarationFragment [78988,79063]
                    SimpleName: isNewAlert [78988,78998]
                    MethodInvocation [79001,79063]
                        METHOD_INVOCATION_RECEIVER [79001,79008]
                            SimpleName: Boolean [79001,79008]
                        SimpleName: parseBoolean [79009,79021]
                        METHOD_INVOCATION_ARGUMENTS [79022,79062]
                            MethodInvocation [79022,79062]
                                METHOD_INVOCATION_RECEIVER [79022,79034]
                                    SimpleName: notification [79022,79034]
                                SimpleName: getFieldValue [79035,79048]
                                METHOD_INVOCATION_ARGUMENTS [79049,79061]
                                    StringLiteral: "isNewAlert" [79049,79061]
            VariableDeclarationStatement [79094,79164]
                SimpleType [79094,79100]
                    SimpleName: String [79094,79100]
                VariableDeclarationFragment [79101,79163]
                    SimpleName: subject [79101,79108]
                    MethodInvocation [79111,79163]
                        SimpleName: generateSubject [79111,79126]
                        METHOD_INVOCATION_ARGUMENTS [79127,79162]
                            SimpleName: projectName [79127,79138]
                            SimpleName: alertLevel [79140,79150]
                            SimpleName: isNewAlert [79152,79162]
            VariableDeclarationStatement [79170,79270]
                SimpleType [79170,79176]
                    SimpleName: String [79170,79176]
                VariableDeclarationFragment [79177,79269]
                    SimpleName: messageBody [79177,79188]
                    MethodInvocation [79191,79269]
                        SimpleName: generateMessageBody [79191,79210]
                        METHOD_INVOCATION_ARGUMENTS [79211,79268]
                            SimpleName: projectName [79211,79222]
                            SimpleName: projectKey [79224,79234]
                            SimpleName: alertName [79236,79245]
                            SimpleName: alertText [79247,79256]
                            SimpleName: isNewAlert [79258,79268]
            ReturnStatement [79333,79463]
                MethodInvocation [79340,79462]
                    METHOD_INVOCATION_RECEIVER [79340,79430]
                        MethodInvocation [79340,79430]
                            METHOD_INVOCATION_RECEIVER [79340,79402]
                                MethodInvocation [79340,79402]
                                    METHOD_INVOCATION_RECEIVER [79340,79358]
                                        ClassInstanceCreation [79340,79358]
                                            SimpleType [79344,79356]
                                                SimpleName: EmailMessage [79344,79356]
                                    SimpleName: setMessageId [79367,79379]
                                    METHOD_INVOCATION_ARGUMENTS [79380,79401]
                                        InfixExpression [79380,79401]
                                            StringLiteral: "alerts/" [79380,79389]
                                            INFIX_EXPRESSION_OPERATOR: + [79390,79391]
                                            SimpleName: projectId [79392,79401]
                            SimpleName: setSubject [79411,79421]
                            METHOD_INVOCATION_ARGUMENTS [79422,79429]
                                SimpleName: subject [79422,79429]
                    SimpleName: setMessage [79439,79449]
                    METHOD_INVOCATION_ARGUMENTS [79450,79461]
                        SimpleName: messageBody [79450,79461]
    MethodDeclaration [79474,80075]
        Modifier: private [79474,79481]
        Modifier: static [79482,79488]
        SimpleType [79489,79495]
            SimpleName: String [79489,79495]
        SimpleName: generateSubject [79496,79511]
        SingleVariableDeclaration [79512,79530]
            SimpleType [79512,79518]
                SimpleName: String [79512,79518]
            SimpleName: projectName [79519,79530]
        SingleVariableDeclaration [79532,79549]
            SimpleType [79532,79538]
                SimpleName: String [79532,79538]
            SimpleName: alertLevel [79539,79549]
        SingleVariableDeclaration [79551,79569]
            PrimitiveType: boolean [79551,79558]
            SimpleName: isNewAlert [79559,79569]
        Block [79571,80075]
            VariableDeclarationStatement [79578,79629]
                SimpleType [79578,79591]
                    SimpleName: StringBuilder [79578,79591]
                VariableDeclarationFragment [79592,79628]
                    SimpleName: subjectBuilder [79592,79606]
                    ClassInstanceCreation [79609,79628]
                        SimpleType [79613,79626]
                            SimpleName: StringBuilder [79613,79626]
            IfStatement [79635,80031]
                MethodInvocation [79639,79684]
                    METHOD_INVOCATION_RECEIVER [79639,79665]
                        MethodInvocation [79639,79665]
                            METHOD_INVOCATION_RECEIVER [79639,79654]
                                QualifiedName: Metric.Level.OK [79639,79654]
                            SimpleName: toString [79655,79663]
                    SimpleName: equals [79666,79672]
                    METHOD_INVOCATION_ARGUMENTS [79673,79683]
                        SimpleName: alertLevel [79673,79683]
                Block [79686,79780]
                    ExpressionStatement [79695,79773]
                        MethodInvocation [79695,79772]
                            METHOD_INVOCATION_RECEIVER [79695,79742]
                                MethodInvocation [79695,79742]
                                    METHOD_INVOCATION_RECEIVER [79695,79722]
                                        MethodInvocation [79695,79722]
                                            METHOD_INVOCATION_RECEIVER [79695,79709]
                                                SimpleName: subjectBuilder [79695,79709]
                                            SimpleName: append [79710,79716]
                                            METHOD_INVOCATION_ARGUMENTS [79717,79721]
                                                StringLiteral: "\"" [79717,79721]
                                    SimpleName: append [79723,79729]
                                    METHOD_INVOCATION_ARGUMENTS [79730,79741]
                                        SimpleName: projectName [79730,79741]
                            SimpleName: append [79743,79749]
                            METHOD_INVOCATION_ARGUMENTS [79750,79771]
                                StringLiteral: "\" is back to green" [79750,79771]
                IfStatement [79786,80031]
                    SimpleName: isNewAlert [79790,79800]
                    Block [79802,79917]
                        ExpressionStatement [79811,79910]
                            MethodInvocation [79811,79909]
                                METHOD_INVOCATION_RECEIVER [79811,79896]
                                    MethodInvocation [79811,79896]
                                        METHOD_INVOCATION_RECEIVER [79811,79876]
                                            MethodInvocation [79811,79876]
                                                METHOD_INVOCATION_RECEIVER [79811,79825]
                                                    SimpleName: subjectBuilder [79811,79825]
                                                SimpleName: append [79826,79832]
                                                METHOD_INVOCATION_ARGUMENTS [79833,79875]
                                                    StringLiteral: "New quality gate threshold reached on \"" [79833,79875]
                                        SimpleName: append [79877,79883]
                                        METHOD_INVOCATION_ARGUMENTS [79884,79895]
                                            SimpleName: projectName [79884,79895]
                                SimpleName: append [79897,79903]
                                METHOD_INVOCATION_ARGUMENTS [79904,79908]
                                    StringLiteral: "\"" [79904,79908]
                    Block [79923,80031]
                        ExpressionStatement [79932,80024]
                            MethodInvocation [79932,80023]
                                METHOD_INVOCATION_RECEIVER [79932,80010]
                                    MethodInvocation [79932,80010]
                                        METHOD_INVOCATION_RECEIVER [79932,79990]
                                            MethodInvocation [79932,79990]
                                                METHOD_INVOCATION_RECEIVER [79932,79946]
                                                    SimpleName: subjectBuilder [79932,79946]
                                                SimpleName: append [79947,79953]
                                                METHOD_INVOCATION_ARGUMENTS [79954,79989]
                                                    StringLiteral: "Quality gate status changed on \"" [79954,79989]
                                        SimpleName: append [79991,79997]
                                        METHOD_INVOCATION_ARGUMENTS [79998,80009]
                                            SimpleName: projectName [79998,80009]
                                SimpleName: append [80011,80017]
                                METHOD_INVOCATION_ARGUMENTS [80018,80022]
                                    StringLiteral: "\"" [80018,80022]
            ReturnStatement [80037,80070]
                MethodInvocation [80044,80069]
                    METHOD_INVOCATION_RECEIVER [80044,80058]
                        SimpleName: subjectBuilder [80044,80058]
                    SimpleName: toString [80059,80067]
    MethodDeclaration [80081,81168]
        Modifier: private [80081,80088]
        SimpleType [80089,80095]
            SimpleName: String [80089,80095]
        SimpleName: generateMessageBody [80096,80115]
        SingleVariableDeclaration [80116,80134]
            SimpleType [80116,80122]
                SimpleName: String [80116,80122]
            SimpleName: projectName [80123,80134]
        SingleVariableDeclaration [80136,80153]
            SimpleType [80136,80142]
                SimpleName: String [80136,80142]
            SimpleName: projectKey [80143,80153]
        SingleVariableDeclaration [80155,80171]
            SimpleType [80155,80161]
                SimpleName: String [80155,80161]
            SimpleName: alertName [80162,80171]
        SingleVariableDeclaration [80173,80189]
            SimpleType [80173,80179]
                SimpleName: String [80173,80179]
            SimpleName: alertText [80180,80189]
        SingleVariableDeclaration [80191,80209]
            PrimitiveType: boolean [80191,80198]
            SimpleName: isNewAlert [80199,80209]
        Block [80211,81168]
            VariableDeclarationStatement [80218,80266]
                SimpleType [80218,80231]
                    SimpleName: StringBuilder [80218,80231]
                VariableDeclarationFragment [80232,80265]
                    SimpleName: messageBody [80232,80243]
                    ClassInstanceCreation [80246,80265]
                        SimpleType [80250,80263]
                            SimpleName: StringBuilder [80250,80263]
            ExpressionStatement [80272,80337]
                MethodInvocation [80272,80336]
                    METHOD_INVOCATION_RECEIVER [80272,80323]
                        MethodInvocation [80272,80323]
                            METHOD_INVOCATION_RECEIVER [80272,80303]
                                MethodInvocation [80272,80303]
                                    METHOD_INVOCATION_RECEIVER [80272,80283]
                                        SimpleName: messageBody [80272,80283]
                                    SimpleName: append [80284,80290]
                                    METHOD_INVOCATION_ARGUMENTS [80291,80302]
                                        StringLiteral: "Project: " [80291,80302]
                            SimpleName: append [80304,80310]
                            METHOD_INVOCATION_ARGUMENTS [80311,80322]
                                SimpleName: projectName [80311,80322]
                    SimpleName: append [80324,80330]
                    METHOD_INVOCATION_ARGUMENTS [80331,80335]
                        StringLiteral: "\n" [80331,80335]
            ExpressionStatement [80343,80420]
                MethodInvocation [80343,80419]
                    METHOD_INVOCATION_RECEIVER [80343,80404]
                        MethodInvocation [80343,80404]
                            METHOD_INVOCATION_RECEIVER [80343,80386]
                                MethodInvocation [80343,80386]
                                    METHOD_INVOCATION_RECEIVER [80343,80354]
                                        SimpleName: messageBody [80343,80354]
                                    SimpleName: append [80355,80361]
                                    METHOD_INVOCATION_ARGUMENTS [80362,80385]
                                        StringLiteral: "Quality gate status: " [80362,80385]
                            SimpleName: append [80387,80393]
                            METHOD_INVOCATION_ARGUMENTS [80394,80403]
                                SimpleName: alertName [80394,80403]
                    SimpleName: append [80405,80411]
                    METHOD_INVOCATION_ARGUMENTS [80412,80418]
                        StringLiteral: "\n\n" [80412,80418]
            VariableDeclarationStatement [80428,80480]
                ArrayType [80428,80436]
                    SimpleType [80428,80434]
                        SimpleName: String [80428,80434]
                    Dimension [80434,80436]
                VariableDeclarationFragment [80437,80479]
                    SimpleName: alerts [80437,80443]
                    MethodInvocation [80446,80479]
                        METHOD_INVOCATION_RECEIVER [80446,80457]
                            SimpleName: StringUtils [80446,80457]
                        SimpleName: split [80458,80463]
                        METHOD_INVOCATION_ARGUMENTS [80464,80478]
                            SimpleName: alertText [80464,80473]
                            StringLiteral: "," [80475,80478]
            IfStatement [80486,80972]
                InfixExpression [80490,80507]
                    QualifiedName: alerts.length [80490,80503]
                    INFIX_EXPRESSION_OPERATOR: > [80504,80505]
                    NumberLiteral: 0 [80506,80507]
                Block [80509,80972]
                    IfStatement [80518,80674]
                        SimpleName: isNewAlert [80522,80532]
                        Block [80534,80603]
                            ExpressionStatement [80545,80594]
                                MethodInvocation [80545,80593]
                                    METHOD_INVOCATION_RECEIVER [80545,80556]
                                        SimpleName: messageBody [80545,80556]
                                    SimpleName: append [80557,80563]
                                    METHOD_INVOCATION_ARGUMENTS [80564,80592]
                                        StringLiteral: "New quality gate threshold" [80564,80592]
                        Block [80609,80674]
                            ExpressionStatement [80620,80665]
                                MethodInvocation [80620,80664]
                                    METHOD_INVOCATION_RECEIVER [80620,80631]
                                        SimpleName: messageBody [80620,80631]
                                    SimpleName: append [80632,80638]
                                    METHOD_INVOCATION_ARGUMENTS [80639,80663]
                                        StringLiteral: "Quality gate threshold" [80639,80663]
                    IfStatement [80682,80965]
                        InfixExpression [80686,80704]
                            QualifiedName: alerts.length [80686,80699]
                            INFIX_EXPRESSION_OPERATOR: == [80700,80702]
                            NumberLiteral: 1 [80703,80704]
                        Block [80706,80789]
                            ExpressionStatement [80717,80780]
                                MethodInvocation [80717,80779]
                                    METHOD_INVOCATION_RECEIVER [80717,80766]
                                        MethodInvocation [80717,80766]
                                            METHOD_INVOCATION_RECEIVER [80717,80741]
                                                MethodInvocation [80717,80741]
                                                    METHOD_INVOCATION_RECEIVER [80717,80728]
                                                        SimpleName: messageBody [80717,80728]
                                                    SimpleName: append [80729,80735]
                                                    METHOD_INVOCATION_ARGUMENTS [80736,80740]
                                                        StringLiteral: ": " [80736,80740]
                                            SimpleName: append [80742,80748]
                                            METHOD_INVOCATION_ARGUMENTS [80749,80765]
                                                MethodInvocation [80749,80765]
                                                    METHOD_INVOCATION_RECEIVER [80749,80758]
                                                        ArrayAccess [80749,80758]
                                                            SimpleName: alerts [80749,80755]
                                                            NumberLiteral: 0 [80756,80757]
                                                    SimpleName: trim [80759,80763]
                                    SimpleName: append [80767,80773]
                                    METHOD_INVOCATION_ARGUMENTS [80774,80778]
                                        StringLiteral: "\n" [80774,80778]
                        Block [80795,80965]
                            ExpressionStatement [80806,80833]
                                MethodInvocation [80806,80832]
                                    METHOD_INVOCATION_RECEIVER [80806,80817]
                                        SimpleName: messageBody [80806,80817]
                                    SimpleName: append [80818,80824]
                                    METHOD_INVOCATION_ARGUMENTS [80825,80831]
                                        StringLiteral: "s:\n" [80825,80831]
                            EnhancedForStatement [80843,80956]
                                SingleVariableDeclaration [80848,80860]
                                    SimpleType [80848,80854]
                                        SimpleName: String [80848,80854]
                                    SimpleName: alert [80855,80860]
                                SimpleName: alerts [80863,80869]
                                Block [80871,80956]
                                    ExpressionStatement [80884,80945]
                                        MethodInvocation [80884,80944]
                                            METHOD_INVOCATION_RECEIVER [80884,80931]
                                                MethodInvocation [80884,80931]
                                                    METHOD_INVOCATION_RECEIVER [80884,80910]
                                                        MethodInvocation [80884,80910]
                                                            METHOD_INVOCATION_RECEIVER [80884,80895]
                                                                SimpleName: messageBody [80884,80895]
                                                            SimpleName: append [80896,80902]
                                                            METHOD_INVOCATION_ARGUMENTS [80903,80909]
                                                                StringLiteral: "  - " [80903,80909]
                                                    SimpleName: append [80911,80917]
                                                    METHOD_INVOCATION_ARGUMENTS [80918,80930]
                                                        MethodInvocation [80918,80930]
                                                            METHOD_INVOCATION_RECEIVER [80918,80923]
                                                                SimpleName: alert [80918,80923]
                                                            SimpleName: trim [80924,80928]
                                            SimpleName: append [80932,80938]
                                            METHOD_INVOCATION_ARGUMENTS [80939,80943]
                                                StringLiteral: "\n" [80939,80943]
            ExpressionStatement [80980,81125]
                MethodInvocation [80980,81124]
                    METHOD_INVOCATION_RECEIVER [80980,81105]
                        MethodInvocation [80980,81105]
                            METHOD_INVOCATION_RECEIVER [80980,81077]
                                MethodInvocation [80980,81077]
                                    METHOD_INVOCATION_RECEIVER [80980,81036]
                                        MethodInvocation [80980,81036]
                                            METHOD_INVOCATION_RECEIVER [80980,81004]
                                                MethodInvocation [80980,81004]
                                                    METHOD_INVOCATION_RECEIVER [80980,80991]
                                                        SimpleName: messageBody [80980,80991]
                                                    SimpleName: append [80992,80998]
                                                    METHOD_INVOCATION_ARGUMENTS [80999,81003]
                                                        StringLiteral: "\n" [80999,81003]
                                            SimpleName: append [81005,81011]
                                            METHOD_INVOCATION_ARGUMENTS [81012,81035]
                                                StringLiteral: "See it in SonarQube: " [81012,81035]
                                    SimpleName: append [81037,81043]
                                    METHOD_INVOCATION_ARGUMENTS [81044,81076]
                                        MethodInvocation [81044,81076]
                                            METHOD_INVOCATION_RECEIVER [81044,81057]
                                                SimpleName: configuration [81044,81057]
                                            SimpleName: getServerBaseURL [81058,81074]
                            SimpleName: append [81078,81084]
                            METHOD_INVOCATION_ARGUMENTS [81085,81104]
                                StringLiteral: "/dashboard/index/" [81085,81104]
                    SimpleName: append [81106,81112]
                    METHOD_INVOCATION_ARGUMENTS [81113,81123]
                        SimpleName: projectKey [81113,81123]
            ReturnStatement [81133,81163]
                MethodInvocation [81140,81162]
                    METHOD_INVOCATION_RECEIVER [81140,81151]
                        SimpleName: messageBody [81140,81151]
                    SimpleName: toString [81152,81160]
to
CompilationUnit [0,107451]
at 806
===
insert-tree
---
TypeDeclaration [82928,90522]
    Javadoc [82928,83362]
        TagElement [82936,83337]
            TextElement: References: [82936,82947]
            TextElement: <ul> [82952,82956]
            TextElement: <li><a href="http://tools.ietf.org/html/rfc4021">Registration of Mail and MIME Header Fields</a></li> [82961,83062]
            TextElement: <li><a href="http://tools.ietf.org/html/rfc2919">List-Id: A Structured Field and Namespace for the Identification of Mailing Lists</a></li> [83067,83206]
            TextElement: <li><a href="https://github.com/blog/798-threaded-email-notifications">GitHub: Threaded Email Notifications</a></li> [83211,83327]
            TextElement: </ul> [83332,83337]
        TagElement [83346,83357]
            TextElement:  2.10 [83352,83357]
    Modifier: public [83364,83370]
    TYPE_DECLARATION_KIND: class [83371,83376]
    SimpleName: EmailNotificationChannel [83377,83401]
    SimpleType [83410,83429]
        SimpleName: NotificationChannel [83410,83429]
    FieldDeclaration [83437,83515]
        Modifier: private [83437,83444]
        Modifier: static [83445,83451]
        Modifier: final [83452,83457]
        SimpleType [83458,83464]
            SimpleName: Logger [83458,83464]
        VariableDeclarationFragment [83465,83514]
            SimpleName: LOG [83465,83468]
            MethodInvocation [83471,83514]
                METHOD_INVOCATION_RECEIVER [83471,83478]
                    SimpleName: Loggers [83471,83478]
                SimpleName: get [83479,83482]
                METHOD_INVOCATION_ARGUMENTS [83483,83513]
                    TypeLiteral [83483,83513]
                        SimpleType [83483,83507]
                            SimpleName: EmailNotificationChannel [83483,83507]
    FieldDeclaration [83521,83719]
        Javadoc [83521,83667]
            TagElement [83531,83597]
                MethodRef [83536,83597]
                    QualifiedName: org.apache.commons.mail.Email [83536,83565]
                    SimpleName: setSocketConnectionTimeout [83566,83592]
                    MethodRefParameter [83593,83596]
                        PrimitiveType: int [83593,83596]
            TagElement [83604,83660]
                MethodRef [83609,83660]
                    QualifiedName: org.apache.commons.mail.Email [83609,83638]
                    SimpleName: setSocketTimeout [83639,83655]
                    MethodRefParameter [83656,83659]
                        PrimitiveType: int [83656,83659]
        Modifier: private [83671,83678]
        Modifier: static [83679,83685]
        Modifier: final [83686,83691]
        PrimitiveType: int [83692,83695]
        VariableDeclarationFragment [83696,83718]
            SimpleName: SOCKET_TIMEOUT [83696,83710]
            NumberLiteral: 30000 [83713,83718]
    FieldDeclaration [83725,83971]
        Javadoc [83725,83912]
            TagElement [83735,83905]
                TextElement: Email Header Field: "List-ID". [83735,83765]
                TextElement: Value of this field should contain mailing list identifier as specified in <a href="http://tools.ietf.org/html/rfc2919">RFC 2919</a>. [83772,83905]
        Modifier: private [83916,83923]
        Modifier: static [83924,83930]
        Modifier: final [83931,83936]
        SimpleType [83937,83943]
            SimpleName: String [83937,83943]
        VariableDeclarationFragment [83944,83970]
            SimpleName: LIST_ID_HEADER [83944,83958]
            StringLiteral: "List-ID" [83961,83970]
    FieldDeclaration [83977,84242]
        Javadoc [83977,84173]
            TagElement [83987,84166]
                TextElement: Email Header Field: "List-Archive". [83987,84022]
                TextElement: Value of this field should contain URL of mailing list archive as specified in <a href="http://tools.ietf.org/html/rfc2369">RFC 2369</a>. [84029,84166]
        Modifier: private [84177,84184]
        Modifier: static [84185,84191]
        Modifier: final [84192,84197]
        SimpleType [84198,84204]
            SimpleName: String [84198,84204]
        VariableDeclarationFragment [84205,84241]
            SimpleName: LIST_ARCHIVE_HEADER [84205,84224]
            StringLiteral: "List-Archive" [84227,84241]
    FieldDeclaration [84248,84509]
        Javadoc [84248,84442]
            TagElement [84258,84435]
                TextElement: Email Header Field: "In-Reply-To". [84258,84292]
                TextElement: Value of this field should contain related message identifier as specified in <a href="http://tools.ietf.org/html/rfc2822">RFC 2822</a>. [84299,84435]
        Modifier: private [84446,84453]
        Modifier: static [84454,84460]
        Modifier: final [84461,84466]
        SimpleType [84467,84473]
            SimpleName: String [84467,84473]
        VariableDeclarationFragment [84474,84508]
            SimpleName: IN_REPLY_TO_HEADER [84474,84492]
            StringLiteral: "In-Reply-To" [84495,84508]
    FieldDeclaration [84515,84772]
        Javadoc [84515,84707]
            TagElement [84525,84700]
                TextElement: Email Header Field: "References". [84525,84558]
                TextElement: Value of this field should contain related message identifier as specified in <a href="http://tools.ietf.org/html/rfc2822">RFC 2822</a> [84565,84700]
        Modifier: private [84711,84718]
        Modifier: static [84719,84725]
        Modifier: final [84726,84731]
        SimpleType [84732,84738]
            SimpleName: String [84732,84738]
        VariableDeclarationFragment [84739,84771]
            SimpleName: REFERENCES_HEADER [84739,84756]
            StringLiteral: "References" [84759,84771]
    FieldDeclaration [84778,84838]
        Modifier: private [84778,84785]
        Modifier: static [84786,84792]
        Modifier: final [84793,84798]
        SimpleType [84799,84805]
            SimpleName: String [84799,84805]
        VariableDeclarationFragment [84806,84837]
            SimpleName: FROM_NAME_DEFAULT [84806,84823]
            StringLiteral: "SonarQube" [84826,84837]
    FieldDeclaration [84842,84903]
        Modifier: private [84842,84849]
        Modifier: static [84850,84856]
        Modifier: final [84857,84862]
        SimpleType [84863,84869]
            SimpleName: String [84863,84869]
        VariableDeclarationFragment [84870,84902]
            SimpleName: SUBJECT_DEFAULT [84870,84885]
            StringLiteral: "Notification" [84888,84902]
    FieldDeclaration [84909,84945]
        Modifier: private [84909,84916]
        SimpleType [84917,84930]
            SimpleName: EmailSettings [84917,84930]
        VariableDeclarationFragment [84931,84944]
            SimpleName: configuration [84931,84944]
    FieldDeclaration [84949,84983]
        Modifier: private [84949,84956]
        ArrayType [84957,84972]
            SimpleType [84957,84970]
                SimpleName: EmailTemplate [84957,84970]
            Dimension [84970,84972]
        VariableDeclarationFragment [84973,84982]
            SimpleName: templates [84973,84982]
    FieldDeclaration [84987,85017]
        Modifier: private [84987,84994]
        SimpleType [84995,85005]
            SimpleName: UserFinder [84995,85005]
        VariableDeclarationFragment [85006,85016]
            SimpleName: userFinder [85006,85016]
    MethodDeclaration [85023,85249]
        Modifier: public [85023,85029]
        SimpleName: EmailNotificationChannel [85030,85054]
        SingleVariableDeclaration [85055,85082]
            SimpleType [85055,85068]
                SimpleName: EmailSettings [85055,85068]
            SimpleName: configuration [85069,85082]
        SingleVariableDeclaration [85084,85109]
            ArrayType [85084,85099]
                SimpleType [85084,85097]
                    SimpleName: EmailTemplate [85084,85097]
                Dimension [85097,85099]
            SimpleName: templates [85100,85109]
        SingleVariableDeclaration [85111,85132]
            SimpleType [85111,85121]
                SimpleName: UserFinder [85111,85121]
            SimpleName: userFinder [85122,85132]
        Block [85134,85249]
            ExpressionStatement [85141,85176]
                Assignment [85141,85175]
                    FieldAccess [85141,85159]
                        ThisExpression [85141,85145]
                        SimpleName: configuration [85146,85159]
                    ASSIGNMENT_OPERATOR: = [85160,85161]
                    SimpleName: configuration [85162,85175]
            ExpressionStatement [85182,85209]
                Assignment [85182,85208]
                    FieldAccess [85182,85196]
                        ThisExpression [85182,85186]
                        SimpleName: templates [85187,85196]
                    ASSIGNMENT_OPERATOR: = [85197,85198]
                    SimpleName: templates [85199,85208]
            ExpressionStatement [85215,85244]
                Assignment [85215,85243]
                    FieldAccess [85215,85230]
                        ThisExpression [85215,85219]
                        SimpleName: userFinder [85220,85230]
                    ASSIGNMENT_OPERATOR: = [85231,85232]
                    SimpleName: userFinder [85233,85243]
    MethodDeclaration [85255,85690]
        MarkerAnnotation [85255,85264]
            SimpleName: Override [85256,85264]
        Modifier: public [85268,85274]
        PrimitiveType: void [85275,85279]
        SimpleName: deliver [85280,85287]
        SingleVariableDeclaration [85288,85313]
            SimpleType [85288,85300]
                SimpleName: Notification [85288,85300]
            SimpleName: notification [85301,85313]
        SingleVariableDeclaration [85315,85330]
            SimpleType [85315,85321]
                SimpleName: String [85315,85321]
            SimpleName: username [85322,85330]
        Block [85332,85690]
            VariableDeclarationStatement [85339,85384]
                SimpleType [85339,85343]
                    SimpleName: User [85339,85343]
                VariableDeclarationFragment [85344,85383]
                    SimpleName: user [85344,85348]
                    MethodInvocation [85351,85383]
                        METHOD_INVOCATION_RECEIVER [85351,85361]
                            SimpleName: userFinder [85351,85361]
                        SimpleName: findByLogin [85362,85373]
                        METHOD_INVOCATION_ARGUMENTS [85374,85382]
                            SimpleName: username [85374,85382]
            IfStatement [85390,85516]
                MethodInvocation [85394,85430]
                    METHOD_INVOCATION_RECEIVER [85394,85405]
                        SimpleName: StringUtils [85394,85405]
                    SimpleName: isBlank [85406,85413]
                    METHOD_INVOCATION_ARGUMENTS [85414,85429]
                        MethodInvocation [85414,85429]
                            METHOD_INVOCATION_RECEIVER [85414,85418]
                                SimpleName: user [85414,85418]
                            SimpleName: getEmail [85419,85427]
                Block [85432,85516]
                    ExpressionStatement [85441,85494]
                        MethodInvocation [85441,85493]
                            METHOD_INVOCATION_RECEIVER [85441,85444]
                                SimpleName: LOG [85441,85444]
                            SimpleName: debug [85445,85450]
                            METHOD_INVOCATION_ARGUMENTS [85451,85492]
                                InfixExpression [85451,85492]
                                    StringLiteral: "Email not defined for user: " [85451,85481]
                                    INFIX_EXPRESSION_OPERATOR: + [85482,85483]
                                    SimpleName: username [85484,85492]
                    ReturnStatement [85502,85509]
            VariableDeclarationStatement [85522,85571]
                SimpleType [85522,85534]
                    SimpleName: EmailMessage [85522,85534]
                VariableDeclarationFragment [85535,85570]
                    SimpleName: emailMessage [85535,85547]
                    MethodInvocation [85550,85570]
                        SimpleName: format [85550,85556]
                        METHOD_INVOCATION_ARGUMENTS [85557,85569]
                            SimpleName: notification [85557,85569]
            IfStatement [85577,85685]
                InfixExpression [85581,85601]
                    SimpleName: emailMessage [85581,85593]
                    INFIX_EXPRESSION_OPERATOR: != [85594,85596]
                    NullLiteral [85597,85601]
                Block [85603,85685]
                    ExpressionStatement [85612,85648]
                        MethodInvocation [85612,85647]
                            METHOD_INVOCATION_RECEIVER [85612,85624]
                                SimpleName: emailMessage [85612,85624]
                            SimpleName: setTo [85625,85630]
                            METHOD_INVOCATION_ARGUMENTS [85631,85646]
                                MethodInvocation [85631,85646]
                                    METHOD_INVOCATION_RECEIVER [85631,85635]
                                        SimpleName: user [85631,85635]
                                    SimpleName: getEmail [85636,85644]
                    ExpressionStatement [85656,85678]
                        MethodInvocation [85656,85677]
                            SimpleName: deliver [85656,85663]
                            METHOD_INVOCATION_ARGUMENTS [85664,85676]
                                SimpleName: emailMessage [85664,85676]
    MethodDeclaration [85696,86027]
        Modifier: private [85696,85703]
        SimpleType [85704,85716]
            SimpleName: EmailMessage [85704,85716]
        SimpleName: format [85717,85723]
        SingleVariableDeclaration [85724,85749]
            SimpleType [85724,85736]
                SimpleName: Notification [85724,85736]
            SimpleName: notification [85737,85749]
        Block [85751,86027]
            EnhancedForStatement [85758,85926]
                SingleVariableDeclaration [85763,85785]
                    SimpleType [85763,85776]
                        SimpleName: EmailTemplate [85763,85776]
                    SimpleName: template [85777,85785]
                SimpleName: templates [85788,85797]
                Block [85799,85926]
                    VariableDeclarationStatement [85808,85859]
                        SimpleType [85808,85820]
                            SimpleName: EmailMessage [85808,85820]
                        VariableDeclarationFragment [85821,85858]
                            SimpleName: email [85821,85826]
                            MethodInvocation [85829,85858]
                                METHOD_INVOCATION_RECEIVER [85829,85837]
                                    SimpleName: template [85829,85837]
                                SimpleName: format [85838,85844]
                                METHOD_INVOCATION_ARGUMENTS [85845,85857]
                                    SimpleName: notification [85845,85857]
                    IfStatement [85867,85919]
                        InfixExpression [85871,85884]
                            SimpleName: email [85871,85876]
                            INFIX_EXPRESSION_OPERATOR: != [85877,85879]
                            NullLiteral [85880,85884]
                        Block [85886,85919]
                            ReturnStatement [85897,85910]
                                SimpleName: email [85904,85909]
            ExpressionStatement [85932,86004]
                MethodInvocation [85932,86003]
                    METHOD_INVOCATION_RECEIVER [85932,85935]
                        SimpleName: LOG [85932,85935]
                    SimpleName: warn [85936,85940]
                    METHOD_INVOCATION_ARGUMENTS [85941,86002]
                        StringLiteral: "Email template not found for notification: {}" [85941,85988]
                        SimpleName: notification [85990,86002]
            ReturnStatement [86010,86022]
                NullLiteral [86017,86021]
    MethodDeclaration [86033,86420]
        Javadoc [86033,86088]
            TagElement [86043,86081]
                TextElement: Visibility has been relaxed for tests. [86043,86081]
        PrimitiveType: void [86092,86096]
        SimpleName: deliver [86097,86104]
        SingleVariableDeclaration [86105,86130]
            SimpleType [86105,86117]
                SimpleName: EmailMessage [86105,86117]
            SimpleName: emailMessage [86118,86130]
        Block [86132,86420]
            IfStatement [86139,86291]
                MethodInvocation [86143,86191]
                    METHOD_INVOCATION_RECEIVER [86143,86154]
                        SimpleName: StringUtils [86143,86154]
                    SimpleName: isBlank [86155,86162]
                    METHOD_INVOCATION_ARGUMENTS [86163,86190]
                        MethodInvocation [86163,86190]
                            METHOD_INVOCATION_RECEIVER [86163,86176]
                                SimpleName: configuration [86163,86176]
                            SimpleName: getSmtpHost [86177,86188]
                Block [86193,86291]
                    ExpressionStatement [86202,86269]
                        MethodInvocation [86202,86268]
                            METHOD_INVOCATION_RECEIVER [86202,86205]
                                SimpleName: LOG [86202,86205]
                            SimpleName: debug [86206,86211]
                            METHOD_INVOCATION_ARGUMENTS [86212,86267]
                                StringLiteral: "SMTP host was not configured - email will not be sent" [86212,86267]
                    ReturnStatement [86277,86284]
            TryStatement [86297,86415]
                Block [86301,86336]
                    ExpressionStatement [86310,86329]
                        MethodInvocation [86310,86328]
                            SimpleName: send [86310,86314]
                            METHOD_INVOCATION_ARGUMENTS [86315,86327]
                                SimpleName: emailMessage [86315,86327]
                CatchClause [86337,86415]
                    SingleVariableDeclaration [86344,86360]
                        SimpleType [86344,86358]
                            SimpleName: EmailException [86344,86358]
                        SimpleName: e [86359,86360]
                    Block [86362,86415]
                        ExpressionStatement [86371,86408]
                            MethodInvocation [86371,86407]
                                METHOD_INVOCATION_RECEIVER [86371,86374]
                                    SimpleName: LOG [86371,86374]
                                SimpleName: error [86375,86380]
                                METHOD_INVOCATION_ARGUMENTS [86381,86406]
                                    StringLiteral: "Unable to send email" [86381,86403]
                                    SimpleName: e [86405,86406]
    MethodDeclaration [86426,88961]
        Modifier: private [86426,86433]
        PrimitiveType: void [86434,86438]
        SimpleName: send [86439,86443]
        SingleVariableDeclaration [86444,86469]
            SimpleType [86444,86456]
                SimpleName: EmailMessage [86444,86456]
            SimpleName: emailMessage [86457,86469]
        SimpleType [86478,86492]
            SimpleName: EmailException [86478,86492]
        Block [86493,88961]
            VariableDeclarationStatement [86556,86629]
                SimpleType [86556,86567]
                    SimpleName: ClassLoader [86556,86567]
                VariableDeclarationFragment [86568,86628]
                    SimpleName: classloader [86568,86579]
                    MethodInvocation [86582,86628]
                        METHOD_INVOCATION_RECEIVER [86582,86604]
                            MethodInvocation [86582,86604]
                                METHOD_INVOCATION_RECEIVER [86582,86588]
                                    SimpleName: Thread [86582,86588]
                                SimpleName: currentThread [86589,86602]
                        SimpleName: getContextClassLoader [86605,86626]
            ExpressionStatement [86635,86709]
                MethodInvocation [86635,86708]
                    METHOD_INVOCATION_RECEIVER [86635,86657]
                        MethodInvocation [86635,86657]
                            METHOD_INVOCATION_RECEIVER [86635,86641]
                                SimpleName: Thread [86635,86641]
                            SimpleName: currentThread [86642,86655]
                    SimpleName: setContextClassLoader [86658,86679]
                    METHOD_INVOCATION_ARGUMENTS [86680,86707]
                        MethodInvocation [86680,86707]
                            METHOD_INVOCATION_RECEIVER [86680,86690]
                                MethodInvocation [86680,86690]
                                    SimpleName: getClass [86680,86688]
                            SimpleName: getClassLoader [86691,86705]
            TryStatement [86717,88956]
                Block [86721,88873]
                    ExpressionStatement [86730,86775]
                        MethodInvocation [86730,86774]
                            METHOD_INVOCATION_RECEIVER [86730,86733]
                                SimpleName: LOG [86730,86733]
                            SimpleName: debug [86734,86739]
                            METHOD_INVOCATION_ARGUMENTS [86740,86773]
                                StringLiteral: "Sending email: {}" [86740,86759]
                                SimpleName: emailMessage [86761,86773]
                    VariableDeclarationStatement [86783,86802]
                        SimpleType [86783,86789]
                            SimpleName: String [86783,86789]
                        VariableDeclarationFragment [86790,86801]
                            SimpleName: host [86790,86794]
                            NullLiteral [86797,86801]
                    TryStatement [86810,86955]
                        Block [86814,86893]
                            ExpressionStatement [86825,86884]
                                Assignment [86825,86883]
                                    SimpleName: host [86825,86829]
                                    ASSIGNMENT_OPERATOR: = [86830,86831]
                                    MethodInvocation [86832,86883]
                                        METHOD_INVOCATION_RECEIVER [86832,86873]
                                            ClassInstanceCreation [86832,86873]
                                                SimpleType [86836,86839]
                                                    SimpleName: URL [86836,86839]
                                                MethodInvocation [86840,86872]
                                                    METHOD_INVOCATION_RECEIVER [86840,86853]
                                                        SimpleName: configuration [86840,86853]
                                                    SimpleName: getServerBaseURL [86854,86870]
                                        SimpleName: getHost [86874,86881]
                        CatchClause [86894,86955]
                            SingleVariableDeclaration [86901,86924]
                                SimpleType [86901,86922]
                                    SimpleName: MalformedURLException [86901,86922]
                                SimpleName: e [86923,86924]
                            Block [86926,86955]
                    VariableDeclarationStatement [86965,87003]
                        SimpleType [86965,86976]
                            SimpleName: SimpleEmail [86965,86976]
                        VariableDeclarationFragment [86977,87002]
                            SimpleName: email [86977,86982]
                            ClassInstanceCreation [86985,87002]
                                SimpleType [86989,87000]
                                    SimpleName: SimpleEmail [86989,87000]
                    IfStatement [87011,87815]
                        MethodInvocation [87015,87043]
                            METHOD_INVOCATION_RECEIVER [87015,87026]
                                SimpleName: StringUtils [87015,87026]
                            SimpleName: isNotBlank [87027,87037]
                            METHOD_INVOCATION_ARGUMENTS [87038,87042]
                                SimpleName: host [87038,87042]
                        Block [87045,87815]
                            IfStatement [87334,87604]
                                MethodInvocation [87338,87389]
                                    METHOD_INVOCATION_RECEIVER [87338,87349]
                                        SimpleName: StringUtils [87338,87349]
                                    SimpleName: isNotEmpty [87350,87360]
                                    METHOD_INVOCATION_ARGUMENTS [87361,87388]
                                        MethodInvocation [87361,87388]
                                            METHOD_INVOCATION_RECEIVER [87361,87373]
                                                SimpleName: emailMessage [87361,87373]
                                            SimpleName: getMessageId [87374,87386]
                                Block [87391,87604]
                                    VariableDeclarationStatement [87404,87476]
                                        SimpleType [87404,87410]
                                            SimpleName: String [87404,87410]
                                        VariableDeclarationFragment [87411,87475]
                                            SimpleName: messageId [87411,87420]
                                            InfixExpression [87423,87475]
                                                StringLiteral: "<" [87423,87426]
                                                INFIX_EXPRESSION_OPERATOR: + [87427,87428]
                                                MethodInvocation [87429,87456]
                                                    METHOD_INVOCATION_RECEIVER [87429,87441]
                                                        SimpleName: emailMessage [87429,87441]
                                                    SimpleName: getMessageId [87442,87454]
                                                StringLiteral: "@" [87459,87462]
                                                SimpleName: host [87465,87469]
                                                StringLiteral: ">" [87472,87475]
                                    ExpressionStatement [87488,87535]
                                        MethodInvocation [87488,87534]
                                            METHOD_INVOCATION_RECEIVER [87488,87493]
                                                SimpleName: email [87488,87493]
                                            SimpleName: addHeader [87494,87503]
                                            METHOD_INVOCATION_ARGUMENTS [87504,87533]
                                                SimpleName: IN_REPLY_TO_HEADER [87504,87522]
                                                SimpleName: messageId [87524,87533]
                                    ExpressionStatement [87547,87593]
                                        MethodInvocation [87547,87592]
                                            METHOD_INVOCATION_RECEIVER [87547,87552]
                                                SimpleName: email [87547,87552]
                                            SimpleName: addHeader [87553,87562]
                                            METHOD_INVOCATION_ARGUMENTS [87563,87591]
                                                SimpleName: REFERENCES_HEADER [87563,87580]
                                                SimpleName: messageId [87582,87591]
                            ExpressionStatement [87659,87725]
                                MethodInvocation [87659,87724]
                                    METHOD_INVOCATION_RECEIVER [87659,87664]
                                        SimpleName: email [87659,87664]
                                    SimpleName: addHeader [87665,87674]
                                    METHOD_INVOCATION_ARGUMENTS [87675,87723]
                                        SimpleName: LIST_ID_HEADER [87675,87689]
                                        InfixExpression [87691,87723]
                                            StringLiteral: "SonarQube <sonar." [87691,87710]
                                            INFIX_EXPRESSION_OPERATOR: + [87711,87712]
                                            SimpleName: host [87713,87717]
                                            StringLiteral: ">" [87720,87723]
                            ExpressionStatement [87735,87806]
                                MethodInvocation [87735,87805]
                                    METHOD_INVOCATION_RECEIVER [87735,87740]
                                        SimpleName: email [87735,87740]
                                    SimpleName: addHeader [87741,87750]
                                    METHOD_INVOCATION_ARGUMENTS [87751,87804]
                                        SimpleName: LIST_ARCHIVE_HEADER [87751,87770]
                                        MethodInvocation [87772,87804]
                                            METHOD_INVOCATION_RECEIVER [87772,87785]
                                                SimpleName: configuration [87772,87785]
                                            SimpleName: getServerBaseURL [87786,87802]
                    ExpressionStatement [87857,87883]
                        MethodInvocation [87857,87882]
                            METHOD_INVOCATION_RECEIVER [87857,87862]
                                SimpleName: email [87857,87862]
                            SimpleName: setCharset [87863,87873]
                            METHOD_INVOCATION_ARGUMENTS [87874,87881]
                                StringLiteral: "UTF-8" [87874,87881]
                    VariableDeclarationStatement [87891,88013]
                        SimpleType [87891,87897]
                            SimpleName: String [87891,87897]
                        VariableDeclarationFragment [87898,88012]
                            SimpleName: from [87898,87902]
                            ConditionalExpression [87905,88012]
                                MethodInvocation [87905,87948]
                                    METHOD_INVOCATION_RECEIVER [87905,87916]
                                        SimpleName: StringUtils [87905,87916]
                                    SimpleName: isBlank [87917,87924]
                                    METHOD_INVOCATION_ARGUMENTS [87925,87947]
                                        MethodInvocation [87925,87947]
                                            METHOD_INVOCATION_RECEIVER [87925,87937]
                                                SimpleName: emailMessage [87925,87937]
                                            SimpleName: getFrom [87938,87945]
                                SimpleName: FROM_NAME_DEFAULT [87951,87968]
                                ParenthesizedExpression [87971,88012]
                                    InfixExpression [87972,88011]
                                        MethodInvocation [87972,87994]
                                            METHOD_INVOCATION_RECEIVER [87972,87984]
                                                SimpleName: emailMessage [87972,87984]
                                            SimpleName: getFrom [87985,87992]
                                        INFIX_EXPRESSION_OPERATOR: + [87995,87996]
                                        StringLiteral: " (SonarQube)" [87997,88011]
                    ExpressionStatement [88021,88066]
                        MethodInvocation [88021,88065]
                            METHOD_INVOCATION_RECEIVER [88021,88026]
                                SimpleName: email [88021,88026]
                            SimpleName: setFrom [88027,88034]
                            METHOD_INVOCATION_ARGUMENTS [88035,88064]
                                MethodInvocation [88035,88058]
                                    METHOD_INVOCATION_RECEIVER [88035,88048]
                                        SimpleName: configuration [88035,88048]
                                    SimpleName: getFrom [88049,88056]
                                SimpleName: from [88060,88064]
                    ExpressionStatement [88074,88113]
                        MethodInvocation [88074,88112]
                            METHOD_INVOCATION_RECEIVER [88074,88079]
                                SimpleName: email [88074,88079]
                            SimpleName: addTo [88080,88085]
                            METHOD_INVOCATION_ARGUMENTS [88086,88111]
                                MethodInvocation [88086,88106]
                                    METHOD_INVOCATION_RECEIVER [88086,88098]
                                        SimpleName: emailMessage [88086,88098]
                                    SimpleName: getTo [88099,88104]
                                StringLiteral: " " [88108,88111]
                    VariableDeclarationStatement [88121,88308]
                        SimpleType [88121,88127]
                            SimpleName: String [88121,88127]
                        VariableDeclarationFragment [88128,88307]
                            SimpleName: subject [88128,88135]
                            InfixExpression [88138,88307]
                                MethodInvocation [88138,88226]
                                    METHOD_INVOCATION_RECEIVER [88138,88149]
                                        SimpleName: StringUtils [88138,88149]
                                    SimpleName: defaultIfBlank [88150,88164]
                                    METHOD_INVOCATION_ARGUMENTS [88165,88225]
                                        InfixExpression [88165,88221]
                                            MethodInvocation [88165,88215]
                                                METHOD_INVOCATION_RECEIVER [88165,88176]
                                                    SimpleName: StringUtils [88165,88176]
                                                SimpleName: trimToEmpty [88177,88188]
                                                METHOD_INVOCATION_ARGUMENTS [88189,88214]
                                                    MethodInvocation [88189,88214]
                                                        METHOD_INVOCATION_RECEIVER [88189,88202]
                                                            SimpleName: configuration [88189,88202]
                                                        SimpleName: getPrefix [88203,88212]
                                            INFIX_EXPRESSION_OPERATOR: + [88216,88217]
                                            StringLiteral: " " [88218,88221]
                                        StringLiteral: "" [88223,88225]
                                INFIX_EXPRESSION_OPERATOR: + [88236,88237]
                                MethodInvocation [88238,88307]
                                    METHOD_INVOCATION_RECEIVER [88238,88249]
                                        SimpleName: StringUtils [88238,88249]
                                    SimpleName: defaultString [88250,88263]
                                    METHOD_INVOCATION_ARGUMENTS [88264,88306]
                                        MethodInvocation [88264,88289]
                                            METHOD_INVOCATION_RECEIVER [88264,88276]
                                                SimpleName: emailMessage [88264,88276]
                                            SimpleName: getSubject [88277,88287]
                                        SimpleName: SUBJECT_DEFAULT [88291,88306]
                    ExpressionStatement [88316,88342]
                        MethodInvocation [88316,88341]
                            METHOD_INVOCATION_RECEIVER [88316,88321]
                                SimpleName: email [88316,88321]
                            SimpleName: setSubject [88322,88332]
                            METHOD_INVOCATION_ARGUMENTS [88333,88340]
                                SimpleName: subject [88333,88340]
                    ExpressionStatement [88350,88390]
                        MethodInvocation [88350,88389]
                            METHOD_INVOCATION_RECEIVER [88350,88355]
                                SimpleName: email [88350,88355]
                            SimpleName: setMsg [88356,88362]
                            METHOD_INVOCATION_ARGUMENTS [88363,88388]
                                MethodInvocation [88363,88388]
                                    METHOD_INVOCATION_RECEIVER [88363,88375]
                                        SimpleName: emailMessage [88363,88375]
                                    SimpleName: getMessage [88376,88386]
                    ExpressionStatement [88413,88460]
                        MethodInvocation [88413,88459]
                            METHOD_INVOCATION_RECEIVER [88413,88418]
                                SimpleName: email [88413,88418]
                            SimpleName: setHostName [88419,88430]
                            METHOD_INVOCATION_ARGUMENTS [88431,88458]
                                MethodInvocation [88431,88458]
                                    METHOD_INVOCATION_RECEIVER [88431,88444]
                                        SimpleName: configuration [88431,88444]
                                    SimpleName: getSmtpHost [88445,88456]
                    ExpressionStatement [88468,88501]
                        MethodInvocation [88468,88500]
                            SimpleName: configureSecureConnection [88468,88493]
                            METHOD_INVOCATION_ARGUMENTS [88494,88499]
                                SimpleName: email [88494,88499]
                    IfStatement [88509,88739]
                        InfixExpression [88513,88627]
                            MethodInvocation [88513,88568]
                                METHOD_INVOCATION_RECEIVER [88513,88524]
                                    SimpleName: StringUtils [88513,88524]
                                SimpleName: isNotBlank [88525,88535]
                                METHOD_INVOCATION_ARGUMENTS [88536,88567]
                                    MethodInvocation [88536,88567]
                                        METHOD_INVOCATION_RECEIVER [88536,88549]
                                            SimpleName: configuration [88536,88549]
                                        SimpleName: getSmtpUsername [88550,88565]
                            INFIX_EXPRESSION_OPERATOR: || [88569,88571]
                            MethodInvocation [88572,88627]
                                METHOD_INVOCATION_RECEIVER [88572,88583]
                                    SimpleName: StringUtils [88572,88583]
                                SimpleName: isNotBlank [88584,88594]
                                METHOD_INVOCATION_ARGUMENTS [88595,88626]
                                    MethodInvocation [88595,88626]
                                        METHOD_INVOCATION_RECEIVER [88595,88608]
                                            SimpleName: configuration [88595,88608]
                                        SimpleName: getSmtpPassword [88609,88624]
                        Block [88629,88739]
                            ExpressionStatement [88640,88730]
                                MethodInvocation [88640,88729]
                                    METHOD_INVOCATION_RECEIVER [88640,88645]
                                        SimpleName: email [88640,88645]
                                    SimpleName: setAuthentication [88646,88663]
                                    METHOD_INVOCATION_ARGUMENTS [88664,88728]
                                        MethodInvocation [88664,88695]
                                            METHOD_INVOCATION_RECEIVER [88664,88677]
                                                SimpleName: configuration [88664,88677]
                                            SimpleName: getSmtpUsername [88678,88693]
                                        MethodInvocation [88697,88728]
                                            METHOD_INVOCATION_RECEIVER [88697,88710]
                                                SimpleName: configuration [88697,88710]
                                            SimpleName: getSmtpPassword [88711,88726]
                    ExpressionStatement [88747,88796]
                        MethodInvocation [88747,88795]
                            METHOD_INVOCATION_RECEIVER [88747,88752]
                                SimpleName: email [88747,88752]
                            SimpleName: setSocketConnectionTimeout [88753,88779]
                            METHOD_INVOCATION_ARGUMENTS [88780,88794]
                                SimpleName: SOCKET_TIMEOUT [88780,88794]
                    ExpressionStatement [88804,88843]
                        MethodInvocation [88804,88842]
                            METHOD_INVOCATION_RECEIVER [88804,88809]
                                SimpleName: email [88804,88809]
                            SimpleName: setSocketTimeout [88810,88826]
                            METHOD_INVOCATION_ARGUMENTS [88827,88841]
                                SimpleName: SOCKET_TIMEOUT [88827,88841]
                    ExpressionStatement [88851,88864]
                        MethodInvocation [88851,88863]
                            METHOD_INVOCATION_RECEIVER [88851,88856]
                                SimpleName: email [88851,88856]
                            SimpleName: send [88857,88861]
                Block [88882,88956]
                    ExpressionStatement [88891,88949]
                        MethodInvocation [88891,88948]
                            METHOD_INVOCATION_RECEIVER [88891,88913]
                                MethodInvocation [88891,88913]
                                    METHOD_INVOCATION_RECEIVER [88891,88897]
                                        SimpleName: Thread [88891,88897]
                                    SimpleName: currentThread [88898,88911]
                            SimpleName: setContextClassLoader [88914,88935]
                            METHOD_INVOCATION_ARGUMENTS [88936,88947]
                                SimpleName: classloader [88936,88947]
    MethodDeclaration [88967,89950]
        Modifier: private [88967,88974]
        PrimitiveType: void [88975,88979]
        SimpleName: configureSecureConnection [88980,89005]
        SingleVariableDeclaration [89006,89023]
            SimpleType [89006,89017]
                SimpleName: SimpleEmail [89006,89017]
            SimpleName: email [89018,89023]
        Block [89025,89950]
            IfStatement [89032,89945]
                MethodInvocation [89036,89108]
                    METHOD_INVOCATION_RECEIVER [89036,89047]
                        SimpleName: StringUtils [89036,89047]
                    SimpleName: equalsIgnoreCase [89048,89064]
                    METHOD_INVOCATION_ARGUMENTS [89065,89107]
                        MethodInvocation [89065,89100]
                            METHOD_INVOCATION_RECEIVER [89065,89078]
                                SimpleName: configuration [89065,89078]
                            SimpleName: getSecureConnection [89079,89098]
                        StringLiteral: "ssl" [89102,89107]
                Block [89110,89454]
                    ExpressionStatement [89119,89147]
                        MethodInvocation [89119,89146]
                            METHOD_INVOCATION_RECEIVER [89119,89124]
                                SimpleName: email [89119,89124]
                            SimpleName: setSSLOnConnect [89125,89140]
                            METHOD_INVOCATION_ARGUMENTS [89141,89145]
                                BooleanLiteral: true [89141,89145]
                    ExpressionStatement [89155,89221]
                        MethodInvocation [89155,89220]
                            METHOD_INVOCATION_RECEIVER [89155,89160]
                                SimpleName: email [89155,89160]
                            SimpleName: setSslSmtpPort [89161,89175]
                            METHOD_INVOCATION_ARGUMENTS [89176,89219]
                                MethodInvocation [89176,89219]
                                    METHOD_INVOCATION_RECEIVER [89176,89182]
                                        SimpleName: String [89176,89182]
                                    SimpleName: valueOf [89183,89190]
                                    METHOD_INVOCATION_ARGUMENTS [89191,89218]
                                        MethodInvocation [89191,89218]
                                            METHOD_INVOCATION_RECEIVER [89191,89204]
                                                SimpleName: configuration [89191,89204]
                                            SimpleName: getSmtpPort [89205,89216]
                    ExpressionStatement [89400,89447]
                        MethodInvocation [89400,89446]
                            METHOD_INVOCATION_RECEIVER [89400,89405]
                                SimpleName: email [89400,89405]
                            SimpleName: setSmtpPort [89406,89417]
                            METHOD_INVOCATION_ARGUMENTS [89418,89445]
                                MethodInvocation [89418,89445]
                                    METHOD_INVOCATION_RECEIVER [89418,89431]
                                        SimpleName: configuration [89418,89431]
                                    SimpleName: getSmtpPort [89432,89443]
                IfStatement [89460,89945]
                    MethodInvocation [89464,89541]
                        METHOD_INVOCATION_RECEIVER [89464,89475]
                            SimpleName: StringUtils [89464,89475]
                        SimpleName: equalsIgnoreCase [89476,89492]
                        METHOD_INVOCATION_ARGUMENTS [89493,89540]
                            MethodInvocation [89493,89528]
                                METHOD_INVOCATION_RECEIVER [89493,89506]
                                    SimpleName: configuration [89493,89506]
                                SimpleName: getSecureConnection [89507,89526]
                            StringLiteral: "starttls" [89530,89540]
                    Block [89543,89685]
                        ExpressionStatement [89552,89583]
                            MethodInvocation [89552,89582]
                                METHOD_INVOCATION_RECEIVER [89552,89557]
                                    SimpleName: email [89552,89557]
                                SimpleName: setStartTLSEnabled [89558,89576]
                                METHOD_INVOCATION_ARGUMENTS [89577,89581]
                                    BooleanLiteral: true [89577,89581]
                        ExpressionStatement [89591,89623]
                            MethodInvocation [89591,89622]
                                METHOD_INVOCATION_RECEIVER [89591,89596]
                                    SimpleName: email [89591,89596]
                                SimpleName: setStartTLSRequired [89597,89616]
                                METHOD_INVOCATION_ARGUMENTS [89617,89621]
                                    BooleanLiteral: true [89617,89621]
                        ExpressionStatement [89631,89678]
                            MethodInvocation [89631,89677]
                                METHOD_INVOCATION_RECEIVER [89631,89636]
                                    SimpleName: email [89631,89636]
                                SimpleName: setSmtpPort [89637,89648]
                                METHOD_INVOCATION_ARGUMENTS [89649,89676]
                                    MethodInvocation [89649,89676]
                                        METHOD_INVOCATION_RECEIVER [89649,89662]
                                            SimpleName: configuration [89649,89662]
                                        SimpleName: getSmtpPort [89663,89674]
                    IfStatement [89691,89945]
                        MethodInvocation [89695,89751]
                            METHOD_INVOCATION_RECEIVER [89695,89706]
                                SimpleName: StringUtils [89695,89706]
                            SimpleName: isBlank [89707,89714]
                            METHOD_INVOCATION_ARGUMENTS [89715,89750]
                                MethodInvocation [89715,89750]
                                    METHOD_INVOCATION_RECEIVER [89715,89728]
                                        SimpleName: configuration [89715,89728]
                                    SimpleName: getSecureConnection [89729,89748]
                        Block [89753,89816]
                            ExpressionStatement [89762,89809]
                                MethodInvocation [89762,89808]
                                    METHOD_INVOCATION_RECEIVER [89762,89767]
                                        SimpleName: email [89762,89767]
                                    SimpleName: setSmtpPort [89768,89779]
                                    METHOD_INVOCATION_ARGUMENTS [89780,89807]
                                        MethodInvocation [89780,89807]
                                            METHOD_INVOCATION_RECEIVER [89780,89793]
                                                SimpleName: configuration [89780,89793]
                                            SimpleName: getSmtpPort [89794,89805]
                        Block [89822,89945]
                            ThrowStatement [89831,89938]
                                ClassInstanceCreation [89837,89937]
                                    SimpleType [89841,89855]
                                        SimpleName: SonarException [89841,89855]
                                    InfixExpression [89856,89936]
                                        StringLiteral: "Unknown type of SMTP secure connection: " [89856,89898]
                                        INFIX_EXPRESSION_OPERATOR: + [89899,89900]
                                        MethodInvocation [89901,89936]
                                            METHOD_INVOCATION_RECEIVER [89901,89914]
                                                SimpleName: configuration [89901,89914]
                                            SimpleName: getSecureConnection [89915,89934]
    MethodDeclaration [89956,90517]
        Javadoc [89956,90074]
            TagElement [89966,90012]
                TextElement: Send test email. This method called from Ruby. [89966,90012]
            TagElement [90025,90067]
                SimpleName: EmailException [90033,90047]
                TextElement:  when unable to send [90047,90067]
        Modifier: public [90078,90084]
        PrimitiveType: void [90085,90089]
        SimpleName: sendTestEmail [90090,90103]
        SingleVariableDeclaration [90104,90120]
            SimpleType [90104,90110]
                SimpleName: String [90104,90110]
            SimpleName: toAddress [90111,90120]
        SingleVariableDeclaration [90122,90136]
            SimpleType [90122,90128]
                SimpleName: String [90122,90128]
            SimpleName: subject [90129,90136]
        SingleVariableDeclaration [90138,90152]
            SimpleType [90138,90144]
                SimpleName: String [90138,90144]
            SimpleName: message [90145,90152]
        SimpleType [90161,90175]
            SimpleName: EmailException [90161,90175]
        Block [90176,90517]
            TryStatement [90183,90512]
                Block [90187,90397]
                    VariableDeclarationStatement [90196,90243]
                        SimpleType [90196,90208]
                            SimpleName: EmailMessage [90196,90208]
                        VariableDeclarationFragment [90209,90242]
                            SimpleName: emailMessage [90209,90221]
                            ClassInstanceCreation [90224,90242]
                                SimpleType [90228,90240]
                                    SimpleName: EmailMessage [90228,90240]
                    ExpressionStatement [90251,90281]
                        MethodInvocation [90251,90280]
                            METHOD_INVOCATION_RECEIVER [90251,90263]
                                SimpleName: emailMessage [90251,90263]
                            SimpleName: setTo [90264,90269]
                            METHOD_INVOCATION_ARGUMENTS [90270,90279]
                                SimpleName: toAddress [90270,90279]
                    ExpressionStatement [90289,90322]
                        MethodInvocation [90289,90321]
                            METHOD_INVOCATION_RECEIVER [90289,90301]
                                SimpleName: emailMessage [90289,90301]
                            SimpleName: setSubject [90302,90312]
                            METHOD_INVOCATION_ARGUMENTS [90313,90320]
                                SimpleName: subject [90313,90320]
                    ExpressionStatement [90330,90363]
                        MethodInvocation [90330,90362]
                            METHOD_INVOCATION_RECEIVER [90330,90342]
                                SimpleName: emailMessage [90330,90342]
                            SimpleName: setMessage [90343,90353]
                            METHOD_INVOCATION_ARGUMENTS [90354,90361]
                                SimpleName: message [90354,90361]
                    ExpressionStatement [90371,90390]
                        MethodInvocation [90371,90389]
                            SimpleName: send [90371,90375]
                            METHOD_INVOCATION_ARGUMENTS [90376,90388]
                                SimpleName: emailMessage [90376,90388]
                CatchClause [90398,90512]
                    SingleVariableDeclaration [90405,90421]
                        SimpleType [90405,90419]
                            SimpleName: EmailException [90405,90419]
                        SimpleName: e [90420,90421]
                    Block [90423,90512]
                        ExpressionStatement [90432,90489]
                            MethodInvocation [90432,90488]
                                METHOD_INVOCATION_RECEIVER [90432,90435]
                                    SimpleName: LOG [90432,90435]
                                SimpleName: error [90436,90441]
                                METHOD_INVOCATION_ARGUMENTS [90442,90487]
                                    InfixExpression [90442,90484]
                                        StringLiteral: "Fail to send test email to: " [90442,90472]
                                        INFIX_EXPRESSION_OPERATOR: + [90473,90474]
                                        SimpleName: toAddress [90475,90484]
                                    SimpleName: e [90486,90487]
                        ThrowStatement [90497,90505]
                            SimpleName: e [90503,90504]
to
CompilationUnit [0,107451]
at 807
===
insert-tree
---
TypeDeclaration [149703,155471]
    Modifier: public [149703,149709]
    TYPE_DECLARATION_KIND: class [149710,149715]
    SimpleName: DefaultNotificationManagerTest [149716,149746]
    SimpleType [149755,149777]
        SimpleName: AbstractDbUnitTestCase [149755,149777]
    FieldDeclaration [149785,149828]
        Modifier: private [149785,149792]
        SimpleType [149793,149819]
            SimpleName: DefaultNotificationManager [149793,149819]
        VariableDeclarationFragment [149820,149827]
            SimpleName: manager [149820,149827]
    FieldDeclaration [149834,149879]
        MarkerAnnotation [149834,149839]
            SimpleName: Mock [149835,149839]
        Modifier: private [149843,149850]
        SimpleType [149851,149864]
            SimpleName: PropertiesDao [149851,149864]
        VariableDeclarationFragment [149865,149878]
            SimpleName: propertiesDao [149865,149878]
    FieldDeclaration [149885,149936]
        MarkerAnnotation [149885,149890]
            SimpleName: Mock [149886,149890]
        Modifier: private [149894,149901]
        SimpleType [149902,149924]
            SimpleName: NotificationDispatcher [149902,149924]
        VariableDeclarationFragment [149925,149935]
            SimpleName: dispatcher [149925,149935]
    FieldDeclaration [149942,149992]
        MarkerAnnotation [149942,149947]
            SimpleName: Mock [149943,149947]
        Modifier: private [149951,149958]
        SimpleType [149959,149978]
            SimpleName: NotificationChannel [149959,149978]
        VariableDeclarationFragment [149979,149991]
            SimpleName: emailChannel [149979,149991]
    FieldDeclaration [149998,150050]
        MarkerAnnotation [149998,150003]
            SimpleName: Mock [149999,150003]
        Modifier: private [150007,150014]
        SimpleType [150015,150034]
            SimpleName: NotificationChannel [150015,150034]
        VariableDeclarationFragment [150035,150049]
            SimpleName: twitterChannel [150035,150049]
    FieldDeclaration [150056,150115]
        MarkerAnnotation [150056,150061]
            SimpleName: Mock [150057,150061]
        Modifier: private [150065,150072]
        SimpleType [150073,150093]
            SimpleName: NotificationQueueDao [150073,150093]
        VariableDeclarationFragment [150094,150114]
            SimpleName: notificationQueueDao [150094,150114]
    MethodDeclaration [150121,150515]
        MarkerAnnotation [150121,150128]
            SimpleName: Before [150122,150128]
        Modifier: public [150132,150138]
        PrimitiveType: void [150139,150143]
        SimpleName: setUp [150144,150149]
        Block [150152,150515]
            ExpressionStatement [150159,150194]
                MethodInvocation [150159,150193]
                    METHOD_INVOCATION_RECEIVER [150159,150177]
                        SimpleName: MockitoAnnotations [150159,150177]
                    SimpleName: initMocks [150178,150187]
                    METHOD_INVOCATION_ARGUMENTS [150188,150192]
                        ThisExpression [150188,150192]
            ExpressionStatement [150200,150254]
                MethodInvocation [150200,150253]
                    METHOD_INVOCATION_RECEIVER [150200,150225]
                        MethodInvocation [150200,150225]
                            SimpleName: when [150200,150204]
                            METHOD_INVOCATION_ARGUMENTS [150205,150224]
                                MethodInvocation [150205,150224]
                                    METHOD_INVOCATION_RECEIVER [150205,150215]
                                        SimpleName: dispatcher [150205,150215]
                                    SimpleName: getKey [150216,150222]
                    SimpleName: thenReturn [150226,150236]
                    METHOD_INVOCATION_ARGUMENTS [150237,150252]
                        StringLiteral: "NewViolations" [150237,150252]
            ExpressionStatement [150260,150308]
                MethodInvocation [150260,150307]
                    METHOD_INVOCATION_RECEIVER [150260,150287]
                        MethodInvocation [150260,150287]
                            SimpleName: when [150260,150264]
                            METHOD_INVOCATION_ARGUMENTS [150265,150286]
                                MethodInvocation [150265,150286]
                                    METHOD_INVOCATION_RECEIVER [150265,150277]
                                        SimpleName: emailChannel [150265,150277]
                                    SimpleName: getKey [150278,150284]
                    SimpleName: thenReturn [150288,150298]
                    METHOD_INVOCATION_ARGUMENTS [150299,150306]
                        StringLiteral: "Email" [150299,150306]
            ExpressionStatement [150314,150366]
                MethodInvocation [150314,150365]
                    METHOD_INVOCATION_RECEIVER [150314,150343]
                        MethodInvocation [150314,150343]
                            SimpleName: when [150314,150318]
                            METHOD_INVOCATION_ARGUMENTS [150319,150342]
                                MethodInvocation [150319,150342]
                                    METHOD_INVOCATION_RECEIVER [150319,150333]
                                        SimpleName: twitterChannel [150319,150333]
                                    SimpleName: getKey [150334,150340]
                    SimpleName: thenReturn [150344,150354]
                    METHOD_INVOCATION_ARGUMENTS [150355,150364]
                        StringLiteral: "Twitter" [150355,150364]
            ExpressionStatement [150374,150510]
                Assignment [150374,150509]
                    SimpleName: manager [150374,150381]
                    ASSIGNMENT_OPERATOR: = [150382,150383]
                    ClassInstanceCreation [150384,150509]
                        SimpleType [150388,150414]
                            SimpleName: DefaultNotificationManager [150388,150414]
                        ArrayCreation [150415,150471]
                            ArrayType [150419,150440]
                                SimpleType [150419,150438]
                                    SimpleName: NotificationChannel [150419,150438]
                                Dimension [150438,150440]
                            ArrayInitializer [150441,150471]
                                SimpleName: emailChannel [150442,150454]
                                SimpleName: twitterChannel [150456,150470]
                        SimpleName: notificationQueueDao [150473,150493]
                        SimpleName: propertiesDao [150495,150508]
    MethodDeclaration [150521,150795]
        MarkerAnnotation [150521,150526]
            SimpleName: Test [150522,150526]
        Modifier: public [150530,150536]
        PrimitiveType: void [150537,150541]
        SimpleName: shouldProvideChannelList [150542,150566]
        Block [150569,150795]
            ExpressionStatement [150576,150653]
                MethodInvocation [150576,150652]
                    METHOD_INVOCATION_RECEIVER [150576,150609]
                        MethodInvocation [150576,150609]
                            SimpleName: assertThat [150576,150586]
                            METHOD_INVOCATION_ARGUMENTS [150587,150608]
                                MethodInvocation [150587,150608]
                                    METHOD_INVOCATION_RECEIVER [150587,150594]
                                        SimpleName: manager [150587,150594]
                                    SimpleName: getChannels [150595,150606]
                    SimpleName: containsOnly [150610,150622]
                    METHOD_INVOCATION_ARGUMENTS [150623,150651]
                        SimpleName: emailChannel [150623,150635]
                        SimpleName: twitterChannel [150637,150651]
            ExpressionStatement [150661,150739]
                Assignment [150661,150738]
                    SimpleName: manager [150661,150668]
                    ASSIGNMENT_OPERATOR: = [150669,150670]
                    ClassInstanceCreation [150671,150738]
                        SimpleType [150675,150701]
                            SimpleName: DefaultNotificationManager [150675,150701]
                        SimpleName: notificationQueueDao [150702,150722]
                        SimpleName: propertiesDao [150724,150737]
            ExpressionStatement [150745,150790]
                MethodInvocation [150745,150789]
                    METHOD_INVOCATION_RECEIVER [150745,150778]
                        MethodInvocation [150745,150778]
                            SimpleName: assertThat [150745,150755]
                            METHOD_INVOCATION_ARGUMENTS [150756,150777]
                                MethodInvocation [150756,150777]
                                    METHOD_INVOCATION_RECEIVER [150756,150763]
                                        SimpleName: manager [150756,150763]
                                    SimpleName: getChannels [150764,150775]
                    SimpleName: hasSize [150779,150786]
                    METHOD_INVOCATION_ARGUMENTS [150787,150788]
                        NumberLiteral: 0 [150787,150788]
    MethodDeclaration [150801,151019]
        MarkerAnnotation [150801,150806]
            SimpleName: Test [150802,150806]
        Modifier: public [150810,150816]
        PrimitiveType: void [150817,150821]
        SimpleName: shouldPersist [150822,150835]
        Block [150838,151019]
            VariableDeclarationStatement [150845,150898]
                SimpleType [150845,150857]
                    SimpleName: Notification [150845,150857]
                VariableDeclarationFragment [150858,150897]
                    SimpleName: notification [150858,150870]
                    ClassInstanceCreation [150873,150897]
                        SimpleType [150877,150889]
                            SimpleName: Notification [150877,150889]
                        StringLiteral: "test" [150890,150896]
            ExpressionStatement [150904,150945]
                MethodInvocation [150904,150944]
                    METHOD_INVOCATION_RECEIVER [150904,150911]
                        SimpleName: manager [150904,150911]
                    SimpleName: scheduleForSending [150912,150930]
                    METHOD_INVOCATION_ARGUMENTS [150931,150943]
                        SimpleName: notification [150931,150943]
            ExpressionStatement [150953,151014]
                MethodInvocation [150953,151013]
                    METHOD_INVOCATION_RECEIVER [150953,150989]
                        MethodInvocation [150953,150989]
                            SimpleName: verify [150953,150959]
                            METHOD_INVOCATION_ARGUMENTS [150960,150988]
                                SimpleName: notificationQueueDao [150960,150980]
                                MethodInvocation [150982,150988]
                                    SimpleName: only [150982,150986]
                    SimpleName: insert [150990,150996]
                    METHOD_INVOCATION_ARGUMENTS [150997,151012]
                        MethodInvocation [150997,151012]
                            SimpleName: any [150997,151000]
                            METHOD_INVOCATION_ARGUMENTS [151001,151011]
                                TypeLiteral [151001,151011]
                                    SimpleType [151001,151005]
                                        SimpleName: List [151001,151005]
    MethodDeclaration [151025,151579]
        MarkerAnnotation [151025,151030]
            SimpleName: Test [151026,151030]
        Modifier: public [151034,151040]
        PrimitiveType: void [151041,151045]
        SimpleName: shouldGetFromQueueAndDelete [151046,151073]
        Block [151076,151579]
            VariableDeclarationStatement [151083,151136]
                SimpleType [151083,151095]
                    SimpleName: Notification [151083,151095]
                VariableDeclarationFragment [151096,151135]
                    SimpleName: notification [151096,151108]
                    ClassInstanceCreation [151111,151135]
                        SimpleType [151115,151127]
                            SimpleName: Notification [151115,151127]
                        StringLiteral: "test" [151128,151134]
            VariableDeclarationStatement [151142,151227]
                SimpleType [151142,151162]
                    SimpleName: NotificationQueueDto [151142,151162]
                VariableDeclarationFragment [151163,151226]
                    SimpleName: dto [151163,151166]
                    MethodInvocation [151169,151226]
                        METHOD_INVOCATION_RECEIVER [151169,151189]
                            SimpleName: NotificationQueueDto [151169,151189]
                        SimpleName: toNotificationQueueDto [151190,151212]
                        METHOD_INVOCATION_ARGUMENTS [151213,151225]
                            SimpleName: notification [151213,151225]
            VariableDeclarationStatement [151233,151286]
                ParameterizedType [151233,151259]
                    SimpleType [151233,151237]
                        SimpleName: List [151233,151237]
                    SimpleType [151238,151258]
                        SimpleName: NotificationQueueDto [151238,151258]
                VariableDeclarationFragment [151260,151285]
                    SimpleName: dtos [151260,151264]
                    MethodInvocation [151267,151285]
                        METHOD_INVOCATION_RECEIVER [151267,151273]
                            SimpleName: Arrays [151267,151273]
                        SimpleName: asList [151274,151280]
                        METHOD_INVOCATION_ARGUMENTS [151281,151284]
                            SimpleName: dto [151281,151284]
            ExpressionStatement [151292,151350]
                MethodInvocation [151292,151349]
                    METHOD_INVOCATION_RECEIVER [151292,151332]
                        MethodInvocation [151292,151332]
                            SimpleName: when [151292,151296]
                            METHOD_INVOCATION_ARGUMENTS [151297,151331]
                                MethodInvocation [151297,151331]
                                    METHOD_INVOCATION_RECEIVER [151297,151317]
                                        SimpleName: notificationQueueDao [151297,151317]
                                    SimpleName: findOldest [151318,151328]
                                    METHOD_INVOCATION_ARGUMENTS [151329,151330]
                                        NumberLiteral: 1 [151329,151330]
                    SimpleName: thenReturn [151333,151343]
                    METHOD_INVOCATION_ARGUMENTS [151344,151348]
                        SimpleName: dtos [151344,151348]
            ExpressionStatement [151358,151405]
                MethodInvocation [151358,151404]
                    METHOD_INVOCATION_RECEIVER [151358,151392]
                        MethodInvocation [151358,151392]
                            SimpleName: assertThat [151358,151368]
                            METHOD_INVOCATION_ARGUMENTS [151369,151391]
                                MethodInvocation [151369,151391]
                                    METHOD_INVOCATION_RECEIVER [151369,151376]
                                        SimpleName: manager [151369,151376]
                                    SimpleName: getFromQueue [151377,151389]
                    SimpleName: isNotNull [151393,151402]
            VariableDeclarationStatement [151413,151461]
                SimpleType [151413,151420]
                    SimpleName: InOrder [151413,151420]
                VariableDeclarationFragment [151421,151460]
                    SimpleName: inOrder [151421,151428]
                    MethodInvocation [151431,151460]
                        SimpleName: inOrder [151431,151438]
                        METHOD_INVOCATION_ARGUMENTS [151439,151459]
                            SimpleName: notificationQueueDao [151439,151459]
            ExpressionStatement [151467,151518]
                MethodInvocation [151467,151517]
                    METHOD_INVOCATION_RECEIVER [151467,151503]
                        MethodInvocation [151467,151503]
                            METHOD_INVOCATION_RECEIVER [151467,151474]
                                SimpleName: inOrder [151467,151474]
                            SimpleName: verify [151475,151481]
                            METHOD_INVOCATION_ARGUMENTS [151482,151502]
                                SimpleName: notificationQueueDao [151482,151502]
                    SimpleName: findOldest [151504,151514]
                    METHOD_INVOCATION_ARGUMENTS [151515,151516]
                        NumberLiteral: 1 [151515,151516]
            ExpressionStatement [151524,151574]
                MethodInvocation [151524,151573]
                    METHOD_INVOCATION_RECEIVER [151524,151560]
                        MethodInvocation [151524,151560]
                            METHOD_INVOCATION_RECEIVER [151524,151531]
                                SimpleName: inOrder [151524,151531]
                            SimpleName: verify [151532,151538]
                            METHOD_INVOCATION_ARGUMENTS [151539,151559]
                                SimpleName: notificationQueueDao [151539,151559]
                    SimpleName: delete [151561,151567]
                    METHOD_INVOCATION_ARGUMENTS [151568,151572]
                        SimpleName: dtos [151568,151572]
    MethodDeclaration [151602,152147]
        MarkerAnnotation [151602,151607]
            SimpleName: Test [151603,151607]
        Modifier: public [151611,151617]
        PrimitiveType: void [151618,151622]
        SimpleName: shouldNotFailWhenUnableToDeserialize [151623,151659]
        SimpleType [151669,151678]
            SimpleName: Exception [151669,151678]
        Block [151679,152147]
            VariableDeclarationStatement [151686,151747]
                SimpleType [151686,151706]
                    SimpleName: NotificationQueueDto [151686,151706]
                VariableDeclarationFragment [151707,151746]
                    SimpleName: dto1 [151707,151711]
                    MethodInvocation [151714,151746]
                        SimpleName: mock [151714,151718]
                        METHOD_INVOCATION_ARGUMENTS [151719,151745]
                            TypeLiteral [151719,151745]
                                SimpleType [151719,151739]
                                    SimpleName: NotificationQueueDto [151719,151739]
            ExpressionStatement [151753,151827]
                MethodInvocation [151753,151826]
                    METHOD_INVOCATION_RECEIVER [151753,151780]
                        MethodInvocation [151753,151780]
                            SimpleName: when [151753,151757]
                            METHOD_INVOCATION_ARGUMENTS [151758,151779]
                                MethodInvocation [151758,151779]
                                    METHOD_INVOCATION_RECEIVER [151758,151762]
                                        SimpleName: dto1 [151758,151762]
                                    SimpleName: toNotification [151763,151777]
                    SimpleName: thenThrow [151781,151790]
                    METHOD_INVOCATION_ARGUMENTS [151791,151825]
                        ClassInstanceCreation [151791,151825]
                            SimpleType [151795,151816]
                                SimpleName: InvalidClassException [151795,151816]
                            StringLiteral: "Pouet" [151817,151824]
            VariableDeclarationStatement [151833,151887]
                ParameterizedType [151833,151859]
                    SimpleType [151833,151837]
                        SimpleName: List [151833,151837]
                    SimpleType [151838,151858]
                        SimpleName: NotificationQueueDto [151838,151858]
                VariableDeclarationFragment [151860,151886]
                    SimpleName: dtos [151860,151864]
                    MethodInvocation [151867,151886]
                        METHOD_INVOCATION_RECEIVER [151867,151873]
                            SimpleName: Arrays [151867,151873]
                        SimpleName: asList [151874,151880]
                        METHOD_INVOCATION_ARGUMENTS [151881,151885]
                            SimpleName: dto1 [151881,151885]
            ExpressionStatement [151893,151951]
                MethodInvocation [151893,151950]
                    METHOD_INVOCATION_RECEIVER [151893,151933]
                        MethodInvocation [151893,151933]
                            SimpleName: when [151893,151897]
                            METHOD_INVOCATION_ARGUMENTS [151898,151932]
                                MethodInvocation [151898,151932]
                                    METHOD_INVOCATION_RECEIVER [151898,151918]
                                        SimpleName: notificationQueueDao [151898,151918]
                                    SimpleName: findOldest [151919,151929]
                                    METHOD_INVOCATION_ARGUMENTS [151930,151931]
                                        NumberLiteral: 1 [151930,151931]
                    SimpleName: thenReturn [151934,151944]
                    METHOD_INVOCATION_ARGUMENTS [151945,151949]
                        SimpleName: dtos [151945,151949]
            ExpressionStatement [151959,151982]
                Assignment [151959,151981]
                    SimpleName: manager [151959,151966]
                    ASSIGNMENT_OPERATOR: = [151967,151968]
                    MethodInvocation [151969,151981]
                        SimpleName: spy [151969,151972]
                        METHOD_INVOCATION_ARGUMENTS [151973,151980]
                            SimpleName: manager [151973,151980]
            ExpressionStatement [151988,152032]
                MethodInvocation [151988,152031]
                    METHOD_INVOCATION_RECEIVER [151988,152022]
                        MethodInvocation [151988,152022]
                            SimpleName: assertThat [151988,151998]
                            METHOD_INVOCATION_ARGUMENTS [151999,152021]
                                MethodInvocation [151999,152021]
                                    METHOD_INVOCATION_RECEIVER [151999,152006]
                                        SimpleName: manager [151999,152006]
                                    SimpleName: getFromQueue [152007,152019]
                    SimpleName: isNull [152023,152029]
            ExpressionStatement [152038,152082]
                MethodInvocation [152038,152081]
                    METHOD_INVOCATION_RECEIVER [152038,152072]
                        MethodInvocation [152038,152072]
                            SimpleName: assertThat [152038,152048]
                            METHOD_INVOCATION_ARGUMENTS [152049,152071]
                                MethodInvocation [152049,152071]
                                    METHOD_INVOCATION_RECEIVER [152049,152056]
                                        SimpleName: manager [152049,152056]
                                    SimpleName: getFromQueue [152057,152069]
                    SimpleName: isNull [152073,152079]
            ExpressionStatement [152090,152142]
                MethodInvocation [152090,152141]
                    METHOD_INVOCATION_RECEIVER [152090,152115]
                        MethodInvocation [152090,152115]
                            SimpleName: verify [152090,152096]
                            METHOD_INVOCATION_ARGUMENTS [152097,152114]
                                SimpleName: manager [152097,152104]
                                MethodInvocation [152106,152114]
                                    SimpleName: times [152106,152111]
                                    METHOD_INVOCATION_ARGUMENTS [152112,152113]
                                        NumberLiteral: 1 [152112,152113]
                    SimpleName: logDeserializationIssue [152116,152139]
    MethodDeclaration [152153,152314]
        MarkerAnnotation [152153,152158]
            SimpleName: Test [152154,152158]
        Modifier: public [152162,152168]
        PrimitiveType: void [152169,152173]
        SimpleName: shouldFindNoRecipient [152174,152195]
        Block [152198,152314]
            ExpressionStatement [152205,152309]
                MethodInvocation [152205,152308]
                    METHOD_INVOCATION_RECEIVER [152205,152297]
                        MethodInvocation [152205,152297]
                            SimpleName: assertThat [152205,152215]
                            METHOD_INVOCATION_ARGUMENTS [152216,152296]
                                MethodInvocation [152216,152296]
                                    METHOD_INVOCATION_RECEIVER [152216,152285]
                                        MethodInvocation [152216,152285]
                                            METHOD_INVOCATION_RECEIVER [152216,152277]
                                                MethodInvocation [152216,152277]
                                                    METHOD_INVOCATION_RECEIVER [152216,152223]
                                                        SimpleName: manager [152216,152223]
                                                    SimpleName: findSubscribedRecipientsForDispatcher [152224,152261]
                                                    METHOD_INVOCATION_ARGUMENTS [152262,152276]
                                                        SimpleName: dispatcher [152262,152272]
                                                        NumberLiteral: 45 [152274,152276]
                                            SimpleName: asMap [152278,152283]
                                    SimpleName: entrySet [152286,152294]
                    SimpleName: hasSize [152298,152305]
                    METHOD_INVOCATION_ARGUMENTS [152306,152307]
                        NumberLiteral: 0 [152306,152307]
    MethodDeclaration [152320,153517]
        MarkerAnnotation [152320,152325]
            SimpleName: Test [152321,152325]
        Modifier: public [152329,152335]
        PrimitiveType: void [152336,152340]
        SimpleName: shouldFindSubscribedRecipientForGivenResource [152341,152386]
        Block [152389,153517]
            ExpressionStatement [152396,152521]
                MethodInvocation [152396,152520]
                    METHOD_INVOCATION_RECEIVER [152396,152471]
                        MethodInvocation [152396,152471]
                            SimpleName: when [152396,152400]
                            METHOD_INVOCATION_ARGUMENTS [152401,152470]
                                MethodInvocation [152401,152470]
                                    METHOD_INVOCATION_RECEIVER [152401,152414]
                                        SimpleName: propertiesDao [152401,152414]
                                    SimpleName: findUsersForNotification [152415,152439]
                                    METHOD_INVOCATION_ARGUMENTS [152440,152469]
                                        StringLiteral: "NewViolations" [152440,152455]
                                        StringLiteral: "Email" [152457,152464]
                                        NumberLiteral: 45L [152466,152469]
                    SimpleName: thenReturn [152472,152482]
                    METHOD_INVOCATION_ARGUMENTS [152483,152519]
                        MethodInvocation [152483,152519]
                            METHOD_INVOCATION_RECEIVER [152483,152488]
                                SimpleName: Lists [152483,152488]
                            SimpleName: newArrayList [152489,152501]
                            METHOD_INVOCATION_ARGUMENTS [152502,152518]
                                StringLiteral: "user1" [152502,152509]
                                StringLiteral: "user2" [152511,152518]
            ExpressionStatement [152527,152653]
                MethodInvocation [152527,152652]
                    METHOD_INVOCATION_RECEIVER [152527,152603]
                        MethodInvocation [152527,152603]
                            SimpleName: when [152527,152531]
                            METHOD_INVOCATION_ARGUMENTS [152532,152602]
                                MethodInvocation [152532,152602]
                                    METHOD_INVOCATION_RECEIVER [152532,152545]
                                        SimpleName: propertiesDao [152532,152545]
                                    SimpleName: findUsersForNotification [152546,152570]
                                    METHOD_INVOCATION_ARGUMENTS [152571,152601]
                                        StringLiteral: "NewViolations" [152571,152586]
                                        StringLiteral: "Email" [152588,152595]
                                        NullLiteral [152597,152601]
                    SimpleName: thenReturn [152604,152614]
                    METHOD_INVOCATION_ARGUMENTS [152615,152651]
                        MethodInvocation [152615,152651]
                            METHOD_INVOCATION_RECEIVER [152615,152620]
                                SimpleName: Lists [152615,152620]
                            SimpleName: newArrayList [152621,152633]
                            METHOD_INVOCATION_ARGUMENTS [152634,152650]
                                StringLiteral: "user1" [152634,152641]
                                StringLiteral: "user3" [152643,152650]
            ExpressionStatement [152659,152777]
                MethodInvocation [152659,152776]
                    METHOD_INVOCATION_RECEIVER [152659,152736]
                        MethodInvocation [152659,152736]
                            SimpleName: when [152659,152663]
                            METHOD_INVOCATION_ARGUMENTS [152664,152735]
                                MethodInvocation [152664,152735]
                                    METHOD_INVOCATION_RECEIVER [152664,152677]
                                        SimpleName: propertiesDao [152664,152677]
                                    SimpleName: findUsersForNotification [152678,152702]
                                    METHOD_INVOCATION_ARGUMENTS [152703,152734]
                                        StringLiteral: "NewViolations" [152703,152718]
                                        StringLiteral: "Twitter" [152720,152729]
                                        NumberLiteral: 56L [152731,152734]
                    SimpleName: thenReturn [152737,152747]
                    METHOD_INVOCATION_ARGUMENTS [152748,152775]
                        MethodInvocation [152748,152775]
                            METHOD_INVOCATION_RECEIVER [152748,152753]
                                SimpleName: Lists [152748,152753]
                            SimpleName: newArrayList [152754,152766]
                            METHOD_INVOCATION_ARGUMENTS [152767,152774]
                                StringLiteral: "user2" [152767,152774]
            ExpressionStatement [152783,152902]
                MethodInvocation [152783,152901]
                    METHOD_INVOCATION_RECEIVER [152783,152861]
                        MethodInvocation [152783,152861]
                            SimpleName: when [152783,152787]
                            METHOD_INVOCATION_ARGUMENTS [152788,152860]
                                MethodInvocation [152788,152860]
                                    METHOD_INVOCATION_RECEIVER [152788,152801]
                                        SimpleName: propertiesDao [152788,152801]
                                    SimpleName: findUsersForNotification [152802,152826]
                                    METHOD_INVOCATION_ARGUMENTS [152827,152859]
                                        StringLiteral: "NewViolations" [152827,152842]
                                        StringLiteral: "Twitter" [152844,152853]
                                        NullLiteral [152855,152859]
                    SimpleName: thenReturn [152862,152872]
                    METHOD_INVOCATION_ARGUMENTS [152873,152900]
                        MethodInvocation [152873,152900]
                            METHOD_INVOCATION_RECEIVER [152873,152878]
                                SimpleName: Lists [152873,152878]
                            SimpleName: newArrayList [152879,152891]
                            METHOD_INVOCATION_ARGUMENTS [152892,152899]
                                StringLiteral: "user3" [152892,152899]
            ExpressionStatement [152908,153023]
                MethodInvocation [152908,153022]
                    METHOD_INVOCATION_RECEIVER [152908,152982]
                        MethodInvocation [152908,152982]
                            SimpleName: when [152908,152912]
                            METHOD_INVOCATION_ARGUMENTS [152913,152981]
                                MethodInvocation [152913,152981]
                                    METHOD_INVOCATION_RECEIVER [152913,152926]
                                        SimpleName: propertiesDao [152913,152926]
                                    SimpleName: findUsersForNotification [152927,152951]
                                    METHOD_INVOCATION_ARGUMENTS [152952,152980]
                                        StringLiteral: "NewAlerts" [152952,152963]
                                        StringLiteral: "Twitter" [152965,152974]
                                        NullLiteral [152976,152980]
                    SimpleName: thenReturn [152983,152993]
                    METHOD_INVOCATION_ARGUMENTS [152994,153021]
                        MethodInvocation [152994,153021]
                            METHOD_INVOCATION_RECEIVER [152994,152999]
                                SimpleName: Lists [152994,152999]
                            SimpleName: newArrayList [153000,153012]
                            METHOD_INVOCATION_ARGUMENTS [153013,153020]
                                StringLiteral: "user4" [153013,153020]
            VariableDeclarationStatement [153031,153142]
                ParameterizedType [153031,153068]
                    SimpleType [153031,153039]
                        SimpleName: Multimap [153031,153039]
                    SimpleType [153040,153046]
                        SimpleName: String [153040,153046]
                    SimpleType [153048,153067]
                        SimpleName: NotificationChannel [153048,153067]
                VariableDeclarationFragment [153069,153141]
                    SimpleName: multiMap [153069,153077]
                    MethodInvocation [153080,153141]
                        METHOD_INVOCATION_RECEIVER [153080,153087]
                            SimpleName: manager [153080,153087]
                        SimpleName: findSubscribedRecipientsForDispatcher [153088,153125]
                        METHOD_INVOCATION_ARGUMENTS [153126,153140]
                            SimpleName: dispatcher [153126,153136]
                            NumberLiteral: 45 [153138,153140]
            ExpressionStatement [153148,153190]
                MethodInvocation [153148,153189]
                    METHOD_INVOCATION_RECEIVER [153148,153178]
                        MethodInvocation [153148,153178]
                            SimpleName: assertThat [153148,153158]
                            METHOD_INVOCATION_ARGUMENTS [153159,153177]
                                MethodInvocation [153159,153177]
                                    METHOD_INVOCATION_RECEIVER [153159,153167]
                                        SimpleName: multiMap [153159,153167]
                                    SimpleName: entries [153168,153175]
                    SimpleName: hasSize [153179,153186]
                    METHOD_INVOCATION_ARGUMENTS [153187,153188]
                        NumberLiteral: 4 [153187,153188]
            VariableDeclarationStatement [153198,153266]
                ParameterizedType [153198,153242]
                    SimpleType [153198,153201]
                        SimpleName: Map [153198,153201]
                    SimpleType [153202,153208]
                        SimpleName: String [153202,153208]
                    ParameterizedType [153210,153241]
                        SimpleType [153210,153220]
                            SimpleName: Collection [153210,153220]
                        SimpleType [153221,153240]
                            SimpleName: NotificationChannel [153221,153240]
                VariableDeclarationFragment [153243,153265]
                    SimpleName: map [153243,153246]
                    MethodInvocation [153249,153265]
                        METHOD_INVOCATION_RECEIVER [153249,153257]
                            SimpleName: multiMap [153249,153257]
                        SimpleName: asMap [153258,153263]
            ExpressionStatement [153272,153328]
                MethodInvocation [153272,153327]
                    METHOD_INVOCATION_RECEIVER [153272,153300]
                        MethodInvocation [153272,153300]
                            SimpleName: assertThat [153272,153282]
                            METHOD_INVOCATION_ARGUMENTS [153283,153299]
                                MethodInvocation [153283,153299]
                                    METHOD_INVOCATION_RECEIVER [153283,153286]
                                        SimpleName: map [153283,153286]
                                    SimpleName: get [153287,153290]
                                    METHOD_INVOCATION_ARGUMENTS [153291,153298]
                                        StringLiteral: "user1" [153291,153298]
                    SimpleName: containsOnly [153301,153313]
                    METHOD_INVOCATION_ARGUMENTS [153314,153326]
                        SimpleName: emailChannel [153314,153326]
            ExpressionStatement [153334,153390]
                MethodInvocation [153334,153389]
                    METHOD_INVOCATION_RECEIVER [153334,153362]
                        MethodInvocation [153334,153362]
                            SimpleName: assertThat [153334,153344]
                            METHOD_INVOCATION_ARGUMENTS [153345,153361]
                                MethodInvocation [153345,153361]
                                    METHOD_INVOCATION_RECEIVER [153345,153348]
                                        SimpleName: map [153345,153348]
                                    SimpleName: get [153349,153352]
                                    METHOD_INVOCATION_ARGUMENTS [153353,153360]
                                        StringLiteral: "user2" [153353,153360]
                    SimpleName: containsOnly [153363,153375]
                    METHOD_INVOCATION_ARGUMENTS [153376,153388]
                        SimpleName: emailChannel [153376,153388]
            ExpressionStatement [153396,153468]
                MethodInvocation [153396,153467]
                    METHOD_INVOCATION_RECEIVER [153396,153424]
                        MethodInvocation [153396,153424]
                            SimpleName: assertThat [153396,153406]
                            METHOD_INVOCATION_ARGUMENTS [153407,153423]
                                MethodInvocation [153407,153423]
                                    METHOD_INVOCATION_RECEIVER [153407,153410]
                                        SimpleName: map [153407,153410]
                                    SimpleName: get [153411,153414]
                                    METHOD_INVOCATION_ARGUMENTS [153415,153422]
                                        StringLiteral: "user3" [153415,153422]
                    SimpleName: containsOnly [153425,153437]
                    METHOD_INVOCATION_ARGUMENTS [153438,153466]
                        SimpleName: emailChannel [153438,153450]
                        SimpleName: twitterChannel [153452,153466]
            ExpressionStatement [153474,153512]
                MethodInvocation [153474,153511]
                    METHOD_INVOCATION_RECEIVER [153474,153502]
                        MethodInvocation [153474,153502]
                            SimpleName: assertThat [153474,153484]
                            METHOD_INVOCATION_ARGUMENTS [153485,153501]
                                MethodInvocation [153485,153501]
                                    METHOD_INVOCATION_RECEIVER [153485,153488]
                                        SimpleName: map [153485,153488]
                                    SimpleName: get [153489,153492]
                                    METHOD_INVOCATION_ARGUMENTS [153493,153500]
                                        StringLiteral: "user4" [153493,153500]
                    SimpleName: isNull [153503,153509]
    MethodDeclaration [153523,154711]
        MarkerAnnotation [153523,153528]
            SimpleName: Test [153524,153528]
        Modifier: public [153532,153538]
        PrimitiveType: void [153539,153543]
        SimpleName: shouldFindSubscribedRecipientForNoResource [153544,153586]
        Block [153589,154711]
            ExpressionStatement [153596,153721]
                MethodInvocation [153596,153720]
                    METHOD_INVOCATION_RECEIVER [153596,153671]
                        MethodInvocation [153596,153671]
                            SimpleName: when [153596,153600]
                            METHOD_INVOCATION_ARGUMENTS [153601,153670]
                                MethodInvocation [153601,153670]
                                    METHOD_INVOCATION_RECEIVER [153601,153614]
                                        SimpleName: propertiesDao [153601,153614]
                                    SimpleName: findUsersForNotification [153615,153639]
                                    METHOD_INVOCATION_ARGUMENTS [153640,153669]
                                        StringLiteral: "NewViolations" [153640,153655]
                                        StringLiteral: "Email" [153657,153664]
                                        NumberLiteral: 45L [153666,153669]
                    SimpleName: thenReturn [153672,153682]
                    METHOD_INVOCATION_ARGUMENTS [153683,153719]
                        MethodInvocation [153683,153719]
                            METHOD_INVOCATION_RECEIVER [153683,153688]
                                SimpleName: Lists [153683,153688]
                            SimpleName: newArrayList [153689,153701]
                            METHOD_INVOCATION_ARGUMENTS [153702,153718]
                                StringLiteral: "user1" [153702,153709]
                                StringLiteral: "user2" [153711,153718]
            ExpressionStatement [153727,153853]
                MethodInvocation [153727,153852]
                    METHOD_INVOCATION_RECEIVER [153727,153803]
                        MethodInvocation [153727,153803]
                            SimpleName: when [153727,153731]
                            METHOD_INVOCATION_ARGUMENTS [153732,153802]
                                MethodInvocation [153732,153802]
                                    METHOD_INVOCATION_RECEIVER [153732,153745]
                                        SimpleName: propertiesDao [153732,153745]
                                    SimpleName: findUsersForNotification [153746,153770]
                                    METHOD_INVOCATION_ARGUMENTS [153771,153801]
                                        StringLiteral: "NewViolations" [153771,153786]
                                        StringLiteral: "Email" [153788,153795]
                                        NullLiteral [153797,153801]
                    SimpleName: thenReturn [153804,153814]
                    METHOD_INVOCATION_ARGUMENTS [153815,153851]
                        MethodInvocation [153815,153851]
                            METHOD_INVOCATION_RECEIVER [153815,153820]
                                SimpleName: Lists [153815,153820]
                            SimpleName: newArrayList [153821,153833]
                            METHOD_INVOCATION_ARGUMENTS [153834,153850]
                                StringLiteral: "user1" [153834,153841]
                                StringLiteral: "user3" [153843,153850]
            ExpressionStatement [153859,153977]
                MethodInvocation [153859,153976]
                    METHOD_INVOCATION_RECEIVER [153859,153936]
                        MethodInvocation [153859,153936]
                            SimpleName: when [153859,153863]
                            METHOD_INVOCATION_ARGUMENTS [153864,153935]
                                MethodInvocation [153864,153935]
                                    METHOD_INVOCATION_RECEIVER [153864,153877]
                                        SimpleName: propertiesDao [153864,153877]
                                    SimpleName: findUsersForNotification [153878,153902]
                                    METHOD_INVOCATION_ARGUMENTS [153903,153934]
                                        StringLiteral: "NewViolations" [153903,153918]
                                        StringLiteral: "Twitter" [153920,153929]
                                        NumberLiteral: 56L [153931,153934]
                    SimpleName: thenReturn [153937,153947]
                    METHOD_INVOCATION_ARGUMENTS [153948,153975]
                        MethodInvocation [153948,153975]
                            METHOD_INVOCATION_RECEIVER [153948,153953]
                                SimpleName: Lists [153948,153953]
                            SimpleName: newArrayList [153954,153966]
                            METHOD_INVOCATION_ARGUMENTS [153967,153974]
                                StringLiteral: "user2" [153967,153974]
            ExpressionStatement [153983,154102]
                MethodInvocation [153983,154101]
                    METHOD_INVOCATION_RECEIVER [153983,154061]
                        MethodInvocation [153983,154061]
                            SimpleName: when [153983,153987]
                            METHOD_INVOCATION_ARGUMENTS [153988,154060]
                                MethodInvocation [153988,154060]
                                    METHOD_INVOCATION_RECEIVER [153988,154001]
                                        SimpleName: propertiesDao [153988,154001]
                                    SimpleName: findUsersForNotification [154002,154026]
                                    METHOD_INVOCATION_ARGUMENTS [154027,154059]
                                        StringLiteral: "NewViolations" [154027,154042]
                                        StringLiteral: "Twitter" [154044,154053]
                                        NullLiteral [154055,154059]
                    SimpleName: thenReturn [154062,154072]
                    METHOD_INVOCATION_ARGUMENTS [154073,154100]
                        MethodInvocation [154073,154100]
                            METHOD_INVOCATION_RECEIVER [154073,154078]
                                SimpleName: Lists [154073,154078]
                            SimpleName: newArrayList [154079,154091]
                            METHOD_INVOCATION_ARGUMENTS [154092,154099]
                                StringLiteral: "user3" [154092,154099]
            ExpressionStatement [154108,154223]
                MethodInvocation [154108,154222]
                    METHOD_INVOCATION_RECEIVER [154108,154182]
                        MethodInvocation [154108,154182]
                            SimpleName: when [154108,154112]
                            METHOD_INVOCATION_ARGUMENTS [154113,154181]
                                MethodInvocation [154113,154181]
                                    METHOD_INVOCATION_RECEIVER [154113,154126]
                                        SimpleName: propertiesDao [154113,154126]
                                    SimpleName: findUsersForNotification [154127,154151]
                                    METHOD_INVOCATION_ARGUMENTS [154152,154180]
                                        StringLiteral: "NewAlerts" [154152,154163]
                                        StringLiteral: "Twitter" [154165,154174]
                                        NullLiteral [154176,154180]
                    SimpleName: thenReturn [154183,154193]
                    METHOD_INVOCATION_ARGUMENTS [154194,154221]
                        MethodInvocation [154194,154221]
                            METHOD_INVOCATION_RECEIVER [154194,154199]
                                SimpleName: Lists [154194,154199]
                            SimpleName: newArrayList [154200,154212]
                            METHOD_INVOCATION_ARGUMENTS [154213,154220]
                                StringLiteral: "user4" [154213,154220]
            VariableDeclarationStatement [154231,154354]
                ParameterizedType [154231,154268]
                    SimpleType [154231,154239]
                        SimpleName: Multimap [154231,154239]
                    SimpleType [154240,154246]
                        SimpleName: String [154240,154246]
                    SimpleType [154248,154267]
                        SimpleName: NotificationChannel [154248,154267]
                VariableDeclarationFragment [154269,154353]
                    SimpleName: multiMap [154269,154277]
                    MethodInvocation [154280,154353]
                        METHOD_INVOCATION_RECEIVER [154280,154287]
                            SimpleName: manager [154280,154287]
                        SimpleName: findSubscribedRecipientsForDispatcher [154288,154325]
                        METHOD_INVOCATION_ARGUMENTS [154326,154352]
                            SimpleName: dispatcher [154326,154336]
                            CastExpression [154338,154352]
                                SimpleType [154339,154346]
                                    SimpleName: Integer [154339,154346]
                                NullLiteral [154348,154352]
            ExpressionStatement [154360,154402]
                MethodInvocation [154360,154401]
                    METHOD_INVOCATION_RECEIVER [154360,154390]
                        MethodInvocation [154360,154390]
                            SimpleName: assertThat [154360,154370]
                            METHOD_INVOCATION_ARGUMENTS [154371,154389]
                                MethodInvocation [154371,154389]
                                    METHOD_INVOCATION_RECEIVER [154371,154379]
                                        SimpleName: multiMap [154371,154379]
                                    SimpleName: entries [154380,154387]
                    SimpleName: hasSize [154391,154398]
                    METHOD_INVOCATION_ARGUMENTS [154399,154400]
                        NumberLiteral: 3 [154399,154400]
            VariableDeclarationStatement [154410,154478]
                ParameterizedType [154410,154454]
                    SimpleType [154410,154413]
                        SimpleName: Map [154410,154413]
                    SimpleType [154414,154420]
                        SimpleName: String [154414,154420]
                    ParameterizedType [154422,154453]
                        SimpleType [154422,154432]
                            SimpleName: Collection [154422,154432]
                        SimpleType [154433,154452]
                            SimpleName: NotificationChannel [154433,154452]
                VariableDeclarationFragment [154455,154477]
                    SimpleName: map [154455,154458]
                    MethodInvocation [154461,154477]
                        METHOD_INVOCATION_RECEIVER [154461,154469]
                            SimpleName: multiMap [154461,154469]
                        SimpleName: asMap [154470,154475]
            ExpressionStatement [154484,154540]
                MethodInvocation [154484,154539]
                    METHOD_INVOCATION_RECEIVER [154484,154512]
                        MethodInvocation [154484,154512]
                            SimpleName: assertThat [154484,154494]
                            METHOD_INVOCATION_ARGUMENTS [154495,154511]
                                MethodInvocation [154495,154511]
                                    METHOD_INVOCATION_RECEIVER [154495,154498]
                                        SimpleName: map [154495,154498]
                                    SimpleName: get [154499,154502]
                                    METHOD_INVOCATION_ARGUMENTS [154503,154510]
                                        StringLiteral: "user1" [154503,154510]
                    SimpleName: containsOnly [154513,154525]
                    METHOD_INVOCATION_ARGUMENTS [154526,154538]
                        SimpleName: emailChannel [154526,154538]
            ExpressionStatement [154546,154618]
                MethodInvocation [154546,154617]
                    METHOD_INVOCATION_RECEIVER [154546,154574]
                        MethodInvocation [154546,154574]
                            SimpleName: assertThat [154546,154556]
                            METHOD_INVOCATION_ARGUMENTS [154557,154573]
                                MethodInvocation [154557,154573]
                                    METHOD_INVOCATION_RECEIVER [154557,154560]
                                        SimpleName: map [154557,154560]
                                    SimpleName: get [154561,154564]
                                    METHOD_INVOCATION_ARGUMENTS [154565,154572]
                                        StringLiteral: "user3" [154565,154572]
                    SimpleName: containsOnly [154575,154587]
                    METHOD_INVOCATION_ARGUMENTS [154588,154616]
                        SimpleName: emailChannel [154588,154600]
                        SimpleName: twitterChannel [154602,154616]
            ExpressionStatement [154624,154662]
                MethodInvocation [154624,154661]
                    METHOD_INVOCATION_RECEIVER [154624,154652]
                        MethodInvocation [154624,154652]
                            SimpleName: assertThat [154624,154634]
                            METHOD_INVOCATION_ARGUMENTS [154635,154651]
                                MethodInvocation [154635,154651]
                                    METHOD_INVOCATION_RECEIVER [154635,154638]
                                        SimpleName: map [154635,154638]
                                    SimpleName: get [154639,154642]
                                    METHOD_INVOCATION_ARGUMENTS [154643,154650]
                                        StringLiteral: "user2" [154643,154650]
                    SimpleName: isNull [154653,154659]
            ExpressionStatement [154668,154706]
                MethodInvocation [154668,154705]
                    METHOD_INVOCATION_RECEIVER [154668,154696]
                        MethodInvocation [154668,154696]
                            SimpleName: assertThat [154668,154678]
                            METHOD_INVOCATION_ARGUMENTS [154679,154695]
                                MethodInvocation [154679,154695]
                                    METHOD_INVOCATION_RECEIVER [154679,154682]
                                        SimpleName: map [154679,154682]
                                    SimpleName: get [154683,154686]
                                    METHOD_INVOCATION_ARGUMENTS [154687,154694]
                                        StringLiteral: "user4" [154687,154694]
                    SimpleName: isNull [154697,154703]
    MethodDeclaration [154717,155468]
        MarkerAnnotation [154717,154722]
            SimpleName: Test [154718,154722]
        Modifier: public [154726,154732]
        PrimitiveType: void [154733,154737]
        SimpleName: findNotificationSubscribers [154738,154765]
        Block [154768,155468]
            ExpressionStatement [154775,154908]
                MethodInvocation [154775,154907]
                    METHOD_INVOCATION_RECEIVER [154775,154858]
                        MethodInvocation [154775,154858]
                            SimpleName: when [154775,154779]
                            METHOD_INVOCATION_ARGUMENTS [154780,154857]
                                MethodInvocation [154780,154857]
                                    METHOD_INVOCATION_RECEIVER [154780,154793]
                                        SimpleName: propertiesDao [154780,154793]
                                    SimpleName: findNotificationSubscribers [154794,154821]
                                    METHOD_INVOCATION_ARGUMENTS [154822,154856]
                                        StringLiteral: "NewViolations" [154822,154837]
                                        StringLiteral: "Email" [154839,154846]
                                        StringLiteral: "struts" [154848,154856]
                    SimpleName: thenReturn [154859,154869]
                    METHOD_INVOCATION_ARGUMENTS [154870,154906]
                        MethodInvocation [154870,154906]
                            METHOD_INVOCATION_RECEIVER [154870,154875]
                                SimpleName: Lists [154870,154875]
                            SimpleName: newArrayList [154876,154888]
                            METHOD_INVOCATION_ARGUMENTS [154889,154905]
                                StringLiteral: "user1" [154889,154896]
                                StringLiteral: "user2" [154898,154905]
            ExpressionStatement [154914,155040]
                MethodInvocation [154914,155039]
                    METHOD_INVOCATION_RECEIVER [154914,154999]
                        MethodInvocation [154914,154999]
                            SimpleName: when [154914,154918]
                            METHOD_INVOCATION_ARGUMENTS [154919,154998]
                                MethodInvocation [154919,154998]
                                    METHOD_INVOCATION_RECEIVER [154919,154932]
                                        SimpleName: propertiesDao [154919,154932]
                                    SimpleName: findNotificationSubscribers [154933,154960]
                                    METHOD_INVOCATION_ARGUMENTS [154961,154997]
                                        StringLiteral: "NewViolations" [154961,154976]
                                        StringLiteral: "Twitter" [154978,154987]
                                        StringLiteral: "struts" [154989,154997]
                    SimpleName: thenReturn [155000,155010]
                    METHOD_INVOCATION_ARGUMENTS [155011,155038]
                        MethodInvocation [155011,155038]
                            METHOD_INVOCATION_RECEIVER [155011,155016]
                                SimpleName: Lists [155011,155016]
                            SimpleName: newArrayList [155017,155029]
                            METHOD_INVOCATION_ARGUMENTS [155030,155037]
                                StringLiteral: "user2" [155030,155037]
            VariableDeclarationStatement [155048,155155]
                ParameterizedType [155048,155085]
                    SimpleType [155048,155056]
                        SimpleName: Multimap [155048,155056]
                    SimpleType [155057,155063]
                        SimpleName: String [155057,155063]
                    SimpleType [155065,155084]
                        SimpleName: NotificationChannel [155065,155084]
                VariableDeclarationFragment [155086,155154]
                    SimpleName: multiMap [155086,155094]
                    MethodInvocation [155097,155154]
                        METHOD_INVOCATION_RECEIVER [155097,155104]
                            SimpleName: manager [155097,155104]
                        SimpleName: findNotificationSubscribers [155105,155132]
                        METHOD_INVOCATION_ARGUMENTS [155133,155153]
                            SimpleName: dispatcher [155133,155143]
                            StringLiteral: "struts" [155145,155153]
            ExpressionStatement [155161,155203]
                MethodInvocation [155161,155202]
                    METHOD_INVOCATION_RECEIVER [155161,155191]
                        MethodInvocation [155161,155191]
                            SimpleName: assertThat [155161,155171]
                            METHOD_INVOCATION_ARGUMENTS [155172,155190]
                                MethodInvocation [155172,155190]
                                    METHOD_INVOCATION_RECEIVER [155172,155180]
                                        SimpleName: multiMap [155172,155180]
                                    SimpleName: entries [155181,155188]
                    SimpleName: hasSize [155192,155199]
                    METHOD_INVOCATION_ARGUMENTS [155200,155201]
                        NumberLiteral: 3 [155200,155201]
            VariableDeclarationStatement [155211,155279]
                ParameterizedType [155211,155255]
                    SimpleType [155211,155214]
                        SimpleName: Map [155211,155214]
                    SimpleType [155215,155221]
                        SimpleName: String [155215,155221]
                    ParameterizedType [155223,155254]
                        SimpleType [155223,155233]
                            SimpleName: Collection [155223,155233]
                        SimpleType [155234,155253]
                            SimpleName: NotificationChannel [155234,155253]
                VariableDeclarationFragment [155256,155278]
                    SimpleName: map [155256,155259]
                    MethodInvocation [155262,155278]
                        METHOD_INVOCATION_RECEIVER [155262,155270]
                            SimpleName: multiMap [155262,155270]
                        SimpleName: asMap [155271,155276]
            ExpressionStatement [155285,155341]
                MethodInvocation [155285,155340]
                    METHOD_INVOCATION_RECEIVER [155285,155313]
                        MethodInvocation [155285,155313]
                            SimpleName: assertThat [155285,155295]
                            METHOD_INVOCATION_ARGUMENTS [155296,155312]
                                MethodInvocation [155296,155312]
                                    METHOD_INVOCATION_RECEIVER [155296,155299]
                                        SimpleName: map [155296,155299]
                                    SimpleName: get [155300,155303]
                                    METHOD_INVOCATION_ARGUMENTS [155304,155311]
                                        StringLiteral: "user1" [155304,155311]
                    SimpleName: containsOnly [155314,155326]
                    METHOD_INVOCATION_ARGUMENTS [155327,155339]
                        SimpleName: emailChannel [155327,155339]
            ExpressionStatement [155347,155419]
                MethodInvocation [155347,155418]
                    METHOD_INVOCATION_RECEIVER [155347,155375]
                        MethodInvocation [155347,155375]
                            SimpleName: assertThat [155347,155357]
                            METHOD_INVOCATION_ARGUMENTS [155358,155374]
                                MethodInvocation [155358,155374]
                                    METHOD_INVOCATION_RECEIVER [155358,155361]
                                        SimpleName: map [155358,155361]
                                    SimpleName: get [155362,155365]
                                    METHOD_INVOCATION_ARGUMENTS [155366,155373]
                                        StringLiteral: "user2" [155366,155373]
                    SimpleName: containsOnly [155376,155388]
                    METHOD_INVOCATION_ARGUMENTS [155389,155417]
                        SimpleName: emailChannel [155389,155401]
                        SimpleName: twitterChannel [155403,155417]
            ExpressionStatement [155425,155463]
                MethodInvocation [155425,155462]
                    METHOD_INVOCATION_RECEIVER [155425,155453]
                        MethodInvocation [155425,155453]
                            SimpleName: assertThat [155425,155435]
                            METHOD_INVOCATION_ARGUMENTS [155436,155452]
                                MethodInvocation [155436,155452]
                                    METHOD_INVOCATION_RECEIVER [155436,155439]
                                        SimpleName: map [155436,155439]
                                    SimpleName: get [155440,155443]
                                    METHOD_INVOCATION_ARGUMENTS [155444,155451]
                                        StringLiteral: "other" [155444,155451]
                    SimpleName: isNull [155454,155460]
to
CompilationUnit [0,107451]
at 815
===
insert-tree
---
TypeDeclaration [156757,158952]
    Modifier: public [156757,156763]
    TYPE_DECLARATION_KIND: class [156764,156769]
    SimpleName: NotificationCenterTest [156770,156792]
    FieldDeclaration [156800,156850]
        MarkerAnnotation [156800,156805]
            SimpleName: Mock [156801,156805]
        Modifier: private [156809,156816]
        SimpleType [156817,156836]
            SimpleName: NotificationChannel [156817,156836]
        VariableDeclarationFragment [156837,156849]
            SimpleName: emailChannel [156837,156849]
    FieldDeclaration [156856,156906]
        MarkerAnnotation [156856,156861]
            SimpleName: Mock [156857,156861]
        Modifier: private [156865,156872]
        SimpleType [156873,156892]
            SimpleName: NotificationChannel [156873,156892]
        VariableDeclarationFragment [156893,156905]
            SimpleName: gtalkChannel [156893,156905]
    FieldDeclaration [156912,156958]
        Modifier: private [156912,156919]
        SimpleType [156920,156938]
            SimpleName: NotificationCenter [156920,156938]
        VariableDeclarationFragment [156939,156957]
            SimpleName: notificationCenter [156939,156957]
    MethodDeclaration [156964,157714]
        MarkerAnnotation [156964,156971]
            SimpleName: Before [156965,156971]
        Modifier: public [156975,156981]
        PrimitiveType: void [156982,156986]
        SimpleName: init [156987,156991]
        Block [156994,157714]
            ExpressionStatement [157001,157036]
                MethodInvocation [157001,157035]
                    METHOD_INVOCATION_RECEIVER [157001,157019]
                        SimpleName: MockitoAnnotations [157001,157019]
                    SimpleName: initMocks [157020,157029]
                    METHOD_INVOCATION_ARGUMENTS [157030,157034]
                        ThisExpression [157030,157034]
            VariableDeclarationStatement [157044,157204]
                SimpleType [157044,157074]
                    SimpleName: NotificationDispatcherMetadata [157044,157074]
                VariableDeclarationFragment [157075,157203]
                    SimpleName: metadata1 [157075,157084]
                    MethodInvocation [157087,157203]
                        METHOD_INVOCATION_RECEIVER [157087,157169]
                            MethodInvocation [157087,157169]
                                METHOD_INVOCATION_RECEIVER [157087,157139]
                                    MethodInvocation [157087,157139]
                                        METHOD_INVOCATION_RECEIVER [157087,157117]
                                            SimpleName: NotificationDispatcherMetadata [157087,157117]
                                        SimpleName: create [157118,157124]
                                        METHOD_INVOCATION_ARGUMENTS [157125,157138]
                                            StringLiteral: "Dispatcher1" [157125,157138]
                                SimpleName: setProperty [157140,157151]
                                METHOD_INVOCATION_ARGUMENTS [157152,157168]
                                    StringLiteral: "global" [157152,157160]
                                    StringLiteral: "true" [157162,157168]
                        SimpleName: setProperty [157170,157181]
                        METHOD_INVOCATION_ARGUMENTS [157182,157202]
                            StringLiteral: "on-project" [157182,157194]
                            StringLiteral: "true" [157196,157202]
            VariableDeclarationStatement [157210,157336]
                SimpleType [157210,157240]
                    SimpleName: NotificationDispatcherMetadata [157210,157240]
                VariableDeclarationFragment [157241,157335]
                    SimpleName: metadata2 [157241,157250]
                    MethodInvocation [157253,157335]
                        METHOD_INVOCATION_RECEIVER [157253,157305]
                            MethodInvocation [157253,157305]
                                METHOD_INVOCATION_RECEIVER [157253,157283]
                                    SimpleName: NotificationDispatcherMetadata [157253,157283]
                                SimpleName: create [157284,157290]
                                METHOD_INVOCATION_ARGUMENTS [157291,157304]
                                    StringLiteral: "Dispatcher2" [157291,157304]
                        SimpleName: setProperty [157306,157317]
                        METHOD_INVOCATION_ARGUMENTS [157318,157334]
                            StringLiteral: "global" [157318,157326]
                            StringLiteral: "true" [157328,157334]
            VariableDeclarationStatement [157342,157500]
                SimpleType [157342,157372]
                    SimpleName: NotificationDispatcherMetadata [157342,157372]
                VariableDeclarationFragment [157373,157499]
                    SimpleName: metadata3 [157373,157382]
                    MethodInvocation [157385,157499]
                        METHOD_INVOCATION_RECEIVER [157385,157466]
                            MethodInvocation [157385,157466]
                                METHOD_INVOCATION_RECEIVER [157385,157437]
                                    MethodInvocation [157385,157437]
                                        METHOD_INVOCATION_RECEIVER [157385,157415]
                                            SimpleName: NotificationDispatcherMetadata [157385,157415]
                                        SimpleName: create [157416,157422]
                                        METHOD_INVOCATION_ARGUMENTS [157423,157436]
                                            StringLiteral: "Dispatcher3" [157423,157436]
                                SimpleName: setProperty [157438,157449]
                                METHOD_INVOCATION_ARGUMENTS [157450,157465]
                                    StringLiteral: "global" [157450,157458]
                                    StringLiteral: "FOO" [157460,157465]
                        SimpleName: setProperty [157467,157478]
                        METHOD_INVOCATION_ARGUMENTS [157479,157498]
                            StringLiteral: "on-project" [157479,157491]
                            StringLiteral: "BAR" [157493,157498]
            ExpressionStatement [157508,157709]
                Assignment [157508,157708]
                    SimpleName: notificationCenter [157508,157526]
                    ASSIGNMENT_OPERATOR: = [157527,157528]
                    ClassInstanceCreation [157529,157708]
                        SimpleType [157533,157551]
                            SimpleName: NotificationCenter [157533,157551]
                        ArrayCreation [157562,157632]
                            ArrayType [157566,157598]
                                SimpleType [157566,157596]
                                    SimpleName: NotificationDispatcherMetadata [157566,157596]
                                Dimension [157596,157598]
                            ArrayInitializer [157599,157632]
                                SimpleName: metadata1 [157600,157609]
                                SimpleName: metadata2 [157611,157620]
                                SimpleName: metadata3 [157622,157631]
                        ArrayCreation [157643,157697]
                            ArrayType [157647,157668]
                                SimpleType [157647,157666]
                                    SimpleName: NotificationChannel [157647,157666]
                                Dimension [157666,157668]
                            ArrayInitializer [157669,157697]
                                SimpleName: emailChannel [157670,157682]
                                SimpleName: gtalkChannel [157684,157696]
    MethodDeclaration [157720,157862]
        MarkerAnnotation [157720,157725]
            SimpleName: Test [157721,157725]
        Modifier: public [157729,157735]
        PrimitiveType: void [157736,157740]
        SimpleName: shouldReturnChannels [157741,157761]
        Block [157764,157862]
            ExpressionStatement [157771,157857]
                MethodInvocation [157771,157856]
                    METHOD_INVOCATION_RECEIVER [157771,157815]
                        MethodInvocation [157771,157815]
                            SimpleName: assertThat [157771,157781]
                            METHOD_INVOCATION_ARGUMENTS [157782,157814]
                                MethodInvocation [157782,157814]
                                    METHOD_INVOCATION_RECEIVER [157782,157800]
                                        SimpleName: notificationCenter [157782,157800]
                                    SimpleName: getChannels [157801,157812]
                    SimpleName: containsOnly [157816,157828]
                    METHOD_INVOCATION_ARGUMENTS [157829,157855]
                        SimpleName: emailChannel [157829,157841]
                        SimpleName: gtalkChannel [157843,157855]
    MethodDeclaration [157868,158075]
        MarkerAnnotation [157868,157873]
            SimpleName: Test [157869,157873]
        Modifier: public [157877,157883]
        PrimitiveType: void [157884,157888]
        SimpleName: shouldReturnDispatcherKeysForSpecificPropertyValue [157889,157939]
        Block [157942,158075]
            ExpressionStatement [157949,158070]
                MethodInvocation [157949,158069]
                    METHOD_INVOCATION_RECEIVER [157949,158026]
                        MethodInvocation [157949,158026]
                            SimpleName: assertThat [157949,157959]
                            METHOD_INVOCATION_ARGUMENTS [157960,158025]
                                MethodInvocation [157960,158025]
                                    METHOD_INVOCATION_RECEIVER [157960,157978]
                                        SimpleName: notificationCenter [157960,157978]
                                    SimpleName: getDispatcherKeysForProperty [157979,158007]
                                    METHOD_INVOCATION_ARGUMENTS [158008,158024]
                                        StringLiteral: "global" [158008,158016]
                                        StringLiteral: "true" [158018,158024]
                    SimpleName: containsOnly [158027,158039]
                    METHOD_INVOCATION_ARGUMENTS [158040,158068]
                        StringLiteral: "Dispatcher1" [158040,158053]
                        StringLiteral: "Dispatcher2" [158055,158068]
    MethodDeclaration [158081,158288]
        MarkerAnnotation [158081,158086]
            SimpleName: Test [158082,158086]
        Modifier: public [158090,158096]
        PrimitiveType: void [158097,158101]
        SimpleName: shouldReturnDispatcherKeysForExistenceOfProperty [158102,158150]
        Block [158153,158288]
            ExpressionStatement [158160,158283]
                MethodInvocation [158160,158282]
                    METHOD_INVOCATION_RECEIVER [158160,158239]
                        MethodInvocation [158160,158239]
                            SimpleName: assertThat [158160,158170]
                            METHOD_INVOCATION_ARGUMENTS [158171,158238]
                                MethodInvocation [158171,158238]
                                    METHOD_INVOCATION_RECEIVER [158171,158189]
                                        SimpleName: notificationCenter [158171,158189]
                                    SimpleName: getDispatcherKeysForProperty [158190,158218]
                                    METHOD_INVOCATION_ARGUMENTS [158219,158237]
                                        StringLiteral: "on-project" [158219,158231]
                                        NullLiteral [158233,158237]
                    SimpleName: containsOnly [158240,158252]
                    METHOD_INVOCATION_ARGUMENTS [158253,158281]
                        StringLiteral: "Dispatcher1" [158253,158266]
                        StringLiteral: "Dispatcher3" [158268,158281]
    MethodDeclaration [158294,158947]
        MarkerAnnotation [158294,158299]
            SimpleName: Test [158295,158299]
        Modifier: public [158303,158309]
        PrimitiveType: void [158310,158314]
        SimpleName: testDefaultConstructors [158315,158338]
        Block [158341,158947]
            ExpressionStatement [158348,158434]
                Assignment [158348,158433]
                    SimpleName: notificationCenter [158348,158366]
                    ASSIGNMENT_OPERATOR: = [158367,158368]
                    ClassInstanceCreation [158369,158433]
                        SimpleType [158373,158391]
                            SimpleName: NotificationCenter [158373,158391]
                        ArrayCreation [158392,158432]
                            ArrayType [158396,158417]
                                SimpleType [158396,158415]
                                    SimpleName: NotificationChannel [158396,158415]
                                Dimension [158415,158417]
                            ArrayInitializer [158418,158432]
                                SimpleName: emailChannel [158419,158431]
            ExpressionStatement [158440,158496]
                MethodInvocation [158440,158495]
                    METHOD_INVOCATION_RECEIVER [158440,158484]
                        MethodInvocation [158440,158484]
                            SimpleName: assertThat [158440,158450]
                            METHOD_INVOCATION_ARGUMENTS [158451,158483]
                                MethodInvocation [158451,158483]
                                    METHOD_INVOCATION_RECEIVER [158451,158469]
                                        SimpleName: notificationCenter [158451,158469]
                                    SimpleName: getChannels [158470,158481]
                    SimpleName: hasSize [158485,158492]
                    METHOD_INVOCATION_ARGUMENTS [158493,158494]
                        NumberLiteral: 1 [158493,158494]
            ExpressionStatement [158504,158550]
                Assignment [158504,158549]
                    SimpleName: notificationCenter [158504,158522]
                    ASSIGNMENT_OPERATOR: = [158523,158524]
                    ClassInstanceCreation [158525,158549]
                        SimpleType [158529,158547]
                            SimpleName: NotificationCenter [158529,158547]
            ExpressionStatement [158556,158612]
                MethodInvocation [158556,158611]
                    METHOD_INVOCATION_RECEIVER [158556,158600]
                        MethodInvocation [158556,158600]
                            SimpleName: assertThat [158556,158566]
                            METHOD_INVOCATION_ARGUMENTS [158567,158599]
                                MethodInvocation [158567,158599]
                                    METHOD_INVOCATION_RECEIVER [158567,158585]
                                        SimpleName: notificationCenter [158567,158585]
                                    SimpleName: getChannels [158586,158597]
                    SimpleName: hasSize [158601,158608]
                    METHOD_INVOCATION_ARGUMENTS [158609,158610]
                        NumberLiteral: 0 [158609,158610]
            ExpressionStatement [158620,158787]
                Assignment [158620,158786]
                    SimpleName: notificationCenter [158620,158638]
                    ASSIGNMENT_OPERATOR: = [158639,158640]
                    ClassInstanceCreation [158641,158786]
                        SimpleType [158645,158663]
                            SimpleName: NotificationCenter [158645,158663]
                        ArrayCreation [158664,158785]
                            ArrayType [158668,158700]
                                SimpleType [158668,158698]
                                    SimpleName: NotificationDispatcherMetadata [158668,158698]
                                Dimension [158698,158700]
                            ArrayInitializer [158701,158785]
                                MethodInvocation [158702,158784]
                                    METHOD_INVOCATION_RECEIVER [158702,158754]
                                        MethodInvocation [158702,158754]
                                            METHOD_INVOCATION_RECEIVER [158702,158732]
                                                SimpleName: NotificationDispatcherMetadata [158702,158732]
                                            SimpleName: create [158733,158739]
                                            METHOD_INVOCATION_ARGUMENTS [158740,158753]
                                                StringLiteral: "Dispatcher1" [158740,158753]
                                    SimpleName: setProperty [158755,158766]
                                    METHOD_INVOCATION_ARGUMENTS [158767,158783]
                                        StringLiteral: "global" [158767,158775]
                                        StringLiteral: "true" [158777,158783]
            ExpressionStatement [158793,158849]
                MethodInvocation [158793,158848]
                    METHOD_INVOCATION_RECEIVER [158793,158837]
                        MethodInvocation [158793,158837]
                            SimpleName: assertThat [158793,158803]
                            METHOD_INVOCATION_ARGUMENTS [158804,158836]
                                MethodInvocation [158804,158836]
                                    METHOD_INVOCATION_RECEIVER [158804,158822]
                                        SimpleName: notificationCenter [158804,158822]
                                    SimpleName: getChannels [158823,158834]
                    SimpleName: hasSize [158838,158845]
                    METHOD_INVOCATION_ARGUMENTS [158846,158847]
                        NumberLiteral: 0 [158846,158847]
            ExpressionStatement [158855,158942]
                MethodInvocation [158855,158941]
                    METHOD_INVOCATION_RECEIVER [158855,158930]
                        MethodInvocation [158855,158930]
                            SimpleName: assertThat [158855,158865]
                            METHOD_INVOCATION_ARGUMENTS [158866,158929]
                                MethodInvocation [158866,158929]
                                    METHOD_INVOCATION_RECEIVER [158866,158884]
                                        SimpleName: notificationCenter [158866,158884]
                                    SimpleName: getDispatcherKeysForProperty [158885,158913]
                                    METHOD_INVOCATION_ARGUMENTS [158914,158928]
                                        StringLiteral: "global" [158914,158922]
                                        NullLiteral [158924,158928]
                    SimpleName: hasSize [158931,158938]
                    METHOD_INVOCATION_ARGUMENTS [158939,158940]
                        NumberLiteral: 1 [158939,158940]
to
CompilationUnit [0,107451]
at 816
===
insert-tree
---
TypeDeclaration [160223,160679]
    Modifier: public [160223,160229]
    TYPE_DECLARATION_KIND: class [160230,160235]
    SimpleName: NotificationChannelTest [160236,160259]
    MethodDeclaration [160267,160511]
        MarkerAnnotation [160267,160272]
            SimpleName: Test [160268,160272]
        Modifier: public [160276,160282]
        PrimitiveType: void [160283,160287]
        SimpleName: defaultMethods [160288,160302]
        Block [160305,160511]
            VariableDeclarationStatement [160312,160372]
                SimpleType [160312,160331]
                    SimpleName: NotificationChannel [160312,160331]
                VariableDeclarationFragment [160332,160371]
                    SimpleName: channel [160332,160339]
                    ClassInstanceCreation [160342,160371]
                        SimpleType [160346,160369]
                            SimpleName: FakeNotificationChannel [160346,160369]
            ExpressionStatement [160378,160438]
                MethodInvocation [160378,160437]
                    SimpleName: assertThat [160378,160388]
                    METHOD_INVOCATION_ARGUMENTS [160389,160436]
                        MethodInvocation [160389,160405]
                            METHOD_INVOCATION_RECEIVER [160389,160396]
                                SimpleName: channel [160389,160396]
                            SimpleName: getKey [160397,160403]
                        MethodInvocation [160407,160436]
                            SimpleName: is [160407,160409]
                            METHOD_INVOCATION_ARGUMENTS [160410,160435]
                                StringLiteral: "FakeNotificationChannel" [160410,160435]
            ExpressionStatement [160444,160506]
                MethodInvocation [160444,160505]
                    SimpleName: assertThat [160444,160454]
                    METHOD_INVOCATION_ARGUMENTS [160455,160504]
                        MethodInvocation [160455,160473]
                            METHOD_INVOCATION_RECEIVER [160455,160462]
                                SimpleName: channel [160455,160462]
                            SimpleName: toString [160463,160471]
                        MethodInvocation [160475,160504]
                            SimpleName: is [160475,160477]
                            METHOD_INVOCATION_ARGUMENTS [160478,160503]
                                StringLiteral: "FakeNotificationChannel" [160478,160503]
    TypeDeclaration [160517,160674]
        TYPE_DECLARATION_KIND: class [160517,160522]
        SimpleName: FakeNotificationChannel [160523,160546]
        SimpleType [160555,160574]
            SimpleName: NotificationChannel [160555,160574]
        MethodDeclaration [160582,160669]
            MarkerAnnotation [160582,160591]
                SimpleName: Override [160583,160591]
            Modifier: public [160597,160603]
            PrimitiveType: void [160604,160608]
            SimpleName: deliver [160609,160616]
            SingleVariableDeclaration [160617,160642]
                SimpleType [160617,160629]
                    SimpleName: Notification [160617,160629]
                SimpleName: notification [160630,160642]
            SingleVariableDeclaration [160644,160659]
                SimpleType [160644,160650]
                    SimpleName: String [160644,160650]
                SimpleName: username [160651,160659]
            Block [160661,160669]
to
CompilationUnit [0,107451]
at 817
===
insert-tree
---
TypeDeclaration [161854,162424]
    Modifier: public [161854,161860]
    TYPE_DECLARATION_KIND: class [161861,161866]
    SimpleName: NotificationDispatcherMetadataTest [161867,161901]
    FieldDeclaration [161909,161957]
        Modifier: private [161909,161916]
        SimpleType [161917,161947]
            SimpleName: NotificationDispatcherMetadata [161917,161947]
        VariableDeclarationFragment [161948,161956]
            SimpleName: metadata [161948,161956]
    MethodDeclaration [161963,162101]
        MarkerAnnotation [161963,161970]
            SimpleName: Before [161964,161970]
        Modifier: public [161974,161980]
        PrimitiveType: void [161981,161985]
        SimpleName: init [161986,161990]
        Block [161993,162101]
            ExpressionStatement [162000,162096]
                Assignment [162000,162095]
                    SimpleName: metadata [162000,162008]
                    ASSIGNMENT_OPERATOR: = [162009,162010]
                    MethodInvocation [162011,162095]
                        METHOD_INVOCATION_RECEIVER [162011,162065]
                            MethodInvocation [162011,162065]
                                METHOD_INVOCATION_RECEIVER [162011,162041]
                                    SimpleName: NotificationDispatcherMetadata [162011,162041]
                                SimpleName: create [162042,162048]
                                METHOD_INVOCATION_ARGUMENTS [162049,162064]
                                    StringLiteral: "NewViolations" [162049,162064]
                        SimpleName: setProperty [162066,162077]
                        METHOD_INVOCATION_ARGUMENTS [162078,162094]
                            StringLiteral: "global" [162078,162086]
                            StringLiteral: "true" [162088,162094]
    MethodDeclaration [162107,162235]
        MarkerAnnotation [162107,162112]
            SimpleName: Test [162108,162112]
        Modifier: public [162116,162122]
        PrimitiveType: void [162123,162127]
        SimpleName: shouldReturnDispatcherKey [162128,162153]
        Block [162156,162235]
            ExpressionStatement [162163,162230]
                MethodInvocation [162163,162229]
                    METHOD_INVOCATION_RECEIVER [162163,162202]
                        MethodInvocation [162163,162202]
                            SimpleName: assertThat [162163,162173]
                            METHOD_INVOCATION_ARGUMENTS [162174,162201]
                                MethodInvocation [162174,162201]
                                    METHOD_INVOCATION_RECEIVER [162174,162182]
                                        SimpleName: metadata [162174,162182]
                                    SimpleName: getDispatcherKey [162183,162199]
                    SimpleName: isEqualTo [162203,162212]
                    METHOD_INVOCATION_ARGUMENTS [162213,162228]
                        StringLiteral: "NewViolations" [162213,162228]
    MethodDeclaration [162241,162421]
        MarkerAnnotation [162241,162246]
            SimpleName: Test [162242,162246]
        Modifier: public [162250,162256]
        PrimitiveType: void [162257,162261]
        SimpleName: shouldReturnProperty [162262,162282]
        Block [162285,162421]
            ExpressionStatement [162292,162353]
                MethodInvocation [162292,162352]
                    METHOD_INVOCATION_RECEIVER [162292,162334]
                        MethodInvocation [162292,162334]
                            SimpleName: assertThat [162292,162302]
                            METHOD_INVOCATION_ARGUMENTS [162303,162333]
                                MethodInvocation [162303,162333]
                                    METHOD_INVOCATION_RECEIVER [162303,162311]
                                        SimpleName: metadata [162303,162311]
                                    SimpleName: getProperty [162312,162323]
                                    METHOD_INVOCATION_ARGUMENTS [162324,162332]
                                        StringLiteral: "global" [162324,162332]
                    SimpleName: isEqualTo [162335,162344]
                    METHOD_INVOCATION_ARGUMENTS [162345,162351]
                        StringLiteral: "true" [162345,162351]
            ExpressionStatement [162359,162416]
                MethodInvocation [162359,162415]
                    METHOD_INVOCATION_RECEIVER [162359,162406]
                        MethodInvocation [162359,162406]
                            SimpleName: assertThat [162359,162369]
                            METHOD_INVOCATION_ARGUMENTS [162370,162405]
                                MethodInvocation [162370,162405]
                                    METHOD_INVOCATION_RECEIVER [162370,162378]
                                        SimpleName: metadata [162370,162378]
                                    SimpleName: getProperty [162379,162390]
                                    METHOD_INVOCATION_ARGUMENTS [162391,162404]
                                        StringLiteral: "per-project" [162391,162404]
                    SimpleName: isNull [162407,162413]
to
CompilationUnit [0,107451]
at 818
===
insert-tree
---
TypeDeclaration [163958,165947]
    Modifier: public [163958,163964]
    TYPE_DECLARATION_KIND: class [163965,163970]
    SimpleName: NotificationDispatcherTest [163971,163997]
    FieldDeclaration [164005,164050]
        MarkerAnnotation [164005,164010]
            SimpleName: Mock [164006,164010]
        Modifier: private [164014,164021]
        SimpleType [164022,164041]
            SimpleName: NotificationChannel [164022,164041]
        VariableDeclarationFragment [164042,164049]
            SimpleName: channel [164042,164049]
    FieldDeclaration [164056,164099]
        MarkerAnnotation [164056,164061]
            SimpleName: Mock [164057,164061]
        Modifier: private [164065,164072]
        SimpleType [164073,164085]
            SimpleName: Notification [164073,164085]
        VariableDeclarationFragment [164086,164098]
            SimpleName: notification [164086,164098]
    FieldDeclaration [164105,164161]
        MarkerAnnotation [164105,164110]
            SimpleName: Mock [164106,164110]
        Modifier: private [164114,164121]
        SimpleType [164122,164152]
            QualifiedName: NotificationDispatcher.Context [164122,164152]
        VariableDeclarationFragment [164153,164160]
            SimpleName: context [164153,164160]
    MethodDeclaration [164167,164300]
        MarkerAnnotation [164167,164174]
            SimpleName: Before [164168,164174]
        Modifier: public [164178,164184]
        PrimitiveType: void [164185,164189]
        SimpleName: init [164190,164194]
        Block [164197,164300]
            ExpressionStatement [164204,164239]
                MethodInvocation [164204,164238]
                    METHOD_INVOCATION_RECEIVER [164204,164222]
                        SimpleName: MockitoAnnotations [164204,164222]
                    SimpleName: initMocks [164223,164232]
                    METHOD_INVOCATION_ARGUMENTS [164233,164237]
                        ThisExpression [164233,164237]
            ExpressionStatement [164245,164295]
                MethodInvocation [164245,164294]
                    METHOD_INVOCATION_RECEIVER [164245,164273]
                        MethodInvocation [164245,164273]
                            SimpleName: when [164245,164249]
                            METHOD_INVOCATION_ARGUMENTS [164250,164272]
                                MethodInvocation [164250,164272]
                                    METHOD_INVOCATION_RECEIVER [164250,164262]
                                        SimpleName: notification [164250,164262]
                                    SimpleName: getType [164263,164270]
                    SimpleName: thenReturn [164274,164284]
                    METHOD_INVOCATION_ARGUMENTS [164285,164293]
                        StringLiteral: "event1" [164285,164293]
    MethodDeclaration [164306,164592]
        MarkerAnnotation [164306,164311]
            SimpleName: Test [164307,164311]
        Modifier: public [164315,164321]
        PrimitiveType: void [164322,164326]
        SimpleName: defaultMethods [164327,164341]
        Block [164344,164592]
            VariableDeclarationStatement [164351,164427]
                SimpleType [164351,164373]
                    SimpleName: NotificationDispatcher [164351,164373]
                VariableDeclarationFragment [164374,164426]
                    SimpleName: dispatcher [164374,164384]
                    ClassInstanceCreation [164387,164426]
                        SimpleType [164391,164424]
                            SimpleName: FakeGenericNotificationDispatcher [164391,164424]
            ExpressionStatement [164433,164506]
                MethodInvocation [164433,164505]
                    SimpleName: assertThat [164433,164443]
                    METHOD_INVOCATION_ARGUMENTS [164444,164504]
                        MethodInvocation [164444,164463]
                            METHOD_INVOCATION_RECEIVER [164444,164454]
                                SimpleName: dispatcher [164444,164454]
                            SimpleName: getKey [164455,164461]
                        MethodInvocation [164465,164504]
                            SimpleName: is [164465,164467]
                            METHOD_INVOCATION_ARGUMENTS [164468,164503]
                                StringLiteral: "FakeGenericNotificationDispatcher" [164468,164503]
            ExpressionStatement [164512,164587]
                MethodInvocation [164512,164586]
                    SimpleName: assertThat [164512,164522]
                    METHOD_INVOCATION_ARGUMENTS [164523,164585]
                        MethodInvocation [164523,164544]
                            METHOD_INVOCATION_RECEIVER [164523,164533]
                                SimpleName: dispatcher [164523,164533]
                            SimpleName: toString [164534,164542]
                        MethodInvocation [164546,164585]
                            SimpleName: is [164546,164548]
                            METHOD_INVOCATION_ARGUMENTS [164549,164584]
                                StringLiteral: "FakeGenericNotificationDispatcher" [164549,164584]
    MethodDeclaration [164598,164869]
        MarkerAnnotation [164598,164603]
            SimpleName: Test [164599,164603]
        Modifier: public [164607,164613]
        PrimitiveType: void [164614,164618]
        SimpleName: shouldAlwaysRunDispatchForGenericDispatcher [164619,164662]
        Block [164665,164869]
            VariableDeclarationStatement [164672,164748]
                SimpleType [164672,164694]
                    SimpleName: NotificationDispatcher [164672,164694]
                VariableDeclarationFragment [164695,164747]
                    SimpleName: dispatcher [164695,164705]
                    ClassInstanceCreation [164708,164747]
                        SimpleType [164712,164745]
                            SimpleName: FakeGenericNotificationDispatcher [164712,164745]
            ExpressionStatement [164754,164804]
                MethodInvocation [164754,164803]
                    METHOD_INVOCATION_RECEIVER [164754,164764]
                        SimpleName: dispatcher [164754,164764]
                    SimpleName: performDispatch [164765,164780]
                    METHOD_INVOCATION_ARGUMENTS [164781,164802]
                        SimpleName: notification [164781,164793]
                        SimpleName: context [164795,164802]
            ExpressionStatement [164812,164864]
                MethodInvocation [164812,164863]
                    METHOD_INVOCATION_RECEIVER [164812,164837]
                        MethodInvocation [164812,164837]
                            SimpleName: verify [164812,164818]
                            METHOD_INVOCATION_ARGUMENTS [164819,164836]
                                SimpleName: context [164819,164826]
                                MethodInvocation [164828,164836]
                                    SimpleName: times [164828,164833]
                                    METHOD_INVOCATION_ARGUMENTS [164834,164835]
                                        NumberLiteral: 1 [164834,164835]
                    SimpleName: addUser [164838,164845]
                    METHOD_INVOCATION_ARGUMENTS [164846,164862]
                        StringLiteral: "user1" [164846,164853]
                        SimpleName: channel [164855,164862]
    MethodDeclaration [164875,165409]
        MarkerAnnotation [164875,164880]
            SimpleName: Test [164876,164880]
        Modifier: public [164884,164890]
        PrimitiveType: void [164891,164895]
        SimpleName: shouldNotAlwaysRunDispatchForSpecificDispatcher [164896,164943]
        Block [164946,165409]
            VariableDeclarationStatement [164953,165030]
                SimpleType [164953,164975]
                    SimpleName: NotificationDispatcher [164953,164975]
                VariableDeclarationFragment [164976,165029]
                    SimpleName: dispatcher [164976,164986]
                    ClassInstanceCreation [164989,165029]
                        SimpleType [164993,165027]
                            SimpleName: FakeSpecificNotificationDispatcher [164993,165027]
            ExpressionStatement [165071,165121]
                MethodInvocation [165071,165120]
                    METHOD_INVOCATION_RECEIVER [165071,165081]
                        SimpleName: dispatcher [165071,165081]
                    SimpleName: performDispatch [165082,165097]
                    METHOD_INVOCATION_ARGUMENTS [165098,165119]
                        SimpleName: notification [165098,165110]
                        SimpleName: context [165112,165119]
            ExpressionStatement [165127,165178]
                MethodInvocation [165127,165177]
                    METHOD_INVOCATION_RECEIVER [165127,165151]
                        MethodInvocation [165127,165151]
                            SimpleName: verify [165127,165133]
                            METHOD_INVOCATION_ARGUMENTS [165134,165150]
                                SimpleName: context [165134,165141]
                                MethodInvocation [165143,165150]
                                    SimpleName: never [165143,165148]
                    SimpleName: addUser [165152,165159]
                    METHOD_INVOCATION_ARGUMENTS [165160,165176]
                        StringLiteral: "user1" [165160,165167]
                        SimpleName: channel [165169,165176]
            ExpressionStatement [165232,165290]
                MethodInvocation [165232,165289]
                    METHOD_INVOCATION_RECEIVER [165232,165260]
                        MethodInvocation [165232,165260]
                            SimpleName: when [165232,165236]
                            METHOD_INVOCATION_ARGUMENTS [165237,165259]
                                MethodInvocation [165237,165259]
                                    METHOD_INVOCATION_RECEIVER [165237,165249]
                                        SimpleName: notification [165237,165249]
                                    SimpleName: getType [165250,165257]
                    SimpleName: thenReturn [165261,165271]
                    METHOD_INVOCATION_ARGUMENTS [165272,165288]
                        StringLiteral: "specific-event" [165272,165288]
            ExpressionStatement [165296,165346]
                MethodInvocation [165296,165345]
                    METHOD_INVOCATION_RECEIVER [165296,165306]
                        SimpleName: dispatcher [165296,165306]
                    SimpleName: performDispatch [165307,165322]
                    METHOD_INVOCATION_ARGUMENTS [165323,165344]
                        SimpleName: notification [165323,165335]
                        SimpleName: context [165337,165344]
            ExpressionStatement [165352,165404]
                MethodInvocation [165352,165403]
                    METHOD_INVOCATION_RECEIVER [165352,165377]
                        MethodInvocation [165352,165377]
                            SimpleName: verify [165352,165358]
                            METHOD_INVOCATION_ARGUMENTS [165359,165376]
                                SimpleName: context [165359,165366]
                                MethodInvocation [165368,165376]
                                    SimpleName: times [165368,165373]
                                    METHOD_INVOCATION_ARGUMENTS [165374,165375]
                                        NumberLiteral: 1 [165374,165375]
                    SimpleName: addUser [165378,165385]
                    METHOD_INVOCATION_ARGUMENTS [165386,165402]
                        StringLiteral: "user1" [165386,165393]
                        SimpleName: channel [165395,165402]
    TypeDeclaration [165415,165628]
        TYPE_DECLARATION_KIND: class [165415,165420]
        SimpleName: FakeGenericNotificationDispatcher [165421,165454]
        SimpleType [165463,165485]
            SimpleName: NotificationDispatcher [165463,165485]
        MethodDeclaration [165493,165623]
            MarkerAnnotation [165493,165502]
                SimpleName: Override [165494,165502]
            Modifier: public [165508,165514]
            PrimitiveType: void [165515,165519]
            SimpleName: dispatch [165520,165528]
            SingleVariableDeclaration [165529,165554]
                SimpleType [165529,165541]
                    SimpleName: Notification [165529,165541]
                SimpleName: notification [165542,165554]
            SingleVariableDeclaration [165556,165571]
                SimpleType [165556,165563]
                    SimpleName: Context [165556,165563]
                SimpleName: context [165564,165571]
            Block [165573,165623]
                ExpressionStatement [165582,165616]
                    MethodInvocation [165582,165615]
                        METHOD_INVOCATION_RECEIVER [165582,165589]
                            SimpleName: context [165582,165589]
                        SimpleName: addUser [165590,165597]
                        METHOD_INVOCATION_ARGUMENTS [165598,165614]
                            StringLiteral: "user1" [165598,165605]
                            SimpleName: channel [165607,165614]
    TypeDeclaration [165634,165942]
        TYPE_DECLARATION_KIND: class [165634,165639]
        SimpleName: FakeSpecificNotificationDispatcher [165640,165674]
        SimpleType [165683,165705]
            SimpleName: NotificationDispatcher [165683,165705]
        MethodDeclaration [165715,165799]
            Modifier: public [165715,165721]
            SimpleName: FakeSpecificNotificationDispatcher [165722,165756]
            Block [165759,165799]
                SuperConstructorInvocation [165768,165792]
                    StringLiteral: "specific-event" [165774,165790]
        MethodDeclaration [165807,165937]
            MarkerAnnotation [165807,165816]
                SimpleName: Override [165808,165816]
            Modifier: public [165822,165828]
            PrimitiveType: void [165829,165833]
            SimpleName: dispatch [165834,165842]
            SingleVariableDeclaration [165843,165868]
                SimpleType [165843,165855]
                    SimpleName: Notification [165843,165855]
                SimpleName: notification [165856,165868]
            SingleVariableDeclaration [165870,165885]
                SimpleType [165870,165877]
                    SimpleName: Context [165870,165877]
                SimpleName: context [165878,165885]
            Block [165887,165937]
                ExpressionStatement [165896,165930]
                    MethodInvocation [165896,165929]
                        METHOD_INVOCATION_RECEIVER [165896,165903]
                            SimpleName: context [165896,165903]
                        SimpleName: addUser [165904,165911]
                        METHOD_INVOCATION_ARGUMENTS [165912,165928]
                            StringLiteral: "user1" [165912,165919]
                            SimpleName: channel [165921,165928]
to
CompilationUnit [0,107451]
at 819
===
insert-node
---
TypeDeclaration [167564,176639]
to
CompilationUnit [0,107451]
at 820
===
insert-tree
---
TypeDeclaration [177846,179638]
    Modifier: public [177846,177852]
    TYPE_DECLARATION_KIND: class [177853,177858]
    SimpleName: NotificationTest [177859,177875]
    FieldDeclaration [177883,177917]
        Modifier: private [177883,177890]
        SimpleType [177891,177903]
            SimpleName: Notification [177891,177903]
        VariableDeclarationFragment [177904,177916]
            SimpleName: notification [177904,177916]
    MethodDeclaration [177923,178083]
        MarkerAnnotation [177923,177930]
            SimpleName: Before [177924,177930]
        Modifier: public [177934,177940]
        PrimitiveType: void [177941,177945]
        SimpleName: init [177946,177950]
        Block [177953,178083]
            ExpressionStatement [177960,178078]
                Assignment [177960,178077]
                    SimpleName: notification [177960,177972]
                    ASSIGNMENT_OPERATOR: = [177973,177974]
                    MethodInvocation [177975,178077]
                        METHOD_INVOCATION_RECEIVER [177975,178043]
                            MethodInvocation [177975,178043]
                                METHOD_INVOCATION_RECEIVER [177975,178001]
                                    ClassInstanceCreation [177975,178001]
                                        SimpleType [177979,177991]
                                            SimpleName: Notification [177979,177991]
                                        StringLiteral: "alerts" [177992,178000]
                                SimpleName: setDefaultMessage [178002,178019]
                                METHOD_INVOCATION_ARGUMENTS [178020,178042]
                                    StringLiteral: "There are new alerts" [178020,178042]
                        SimpleName: setFieldValue [178044,178057]
                        METHOD_INVOCATION_ARGUMENTS [178058,178076]
                            StringLiteral: "alertCount" [178058,178070]
                            StringLiteral: "42" [178072,178076]
    MethodDeclaration [178089,178196]
        MarkerAnnotation [178089,178094]
            SimpleName: Test [178090,178094]
        Modifier: public [178098,178104]
        PrimitiveType: void [178105,178109]
        SimpleName: shouldReturnType [178110,178126]
        Block [178129,178196]
            ExpressionStatement [178136,178191]
                MethodInvocation [178136,178190]
                    METHOD_INVOCATION_RECEIVER [178136,178170]
                        MethodInvocation [178136,178170]
                            SimpleName: assertThat [178136,178146]
                            METHOD_INVOCATION_ARGUMENTS [178147,178169]
                                MethodInvocation [178147,178169]
                                    METHOD_INVOCATION_RECEIVER [178147,178159]
                                        SimpleName: notification [178147,178159]
                                    SimpleName: getType [178160,178167]
                    SimpleName: isEqualTo [178171,178180]
                    METHOD_INVOCATION_ARGUMENTS [178181,178189]
                        StringLiteral: "alerts" [178181,178189]
    MethodDeclaration [178202,178343]
        MarkerAnnotation [178202,178207]
            SimpleName: Test [178203,178207]
        Modifier: public [178211,178217]
        PrimitiveType: void [178218,178222]
        SimpleName: shouldReturnDefaultMessage [178223,178249]
        Block [178252,178343]
            ExpressionStatement [178259,178338]
                MethodInvocation [178259,178337]
                    METHOD_INVOCATION_RECEIVER [178259,178303]
                        MethodInvocation [178259,178303]
                            SimpleName: assertThat [178259,178269]
                            METHOD_INVOCATION_ARGUMENTS [178270,178302]
                                MethodInvocation [178270,178302]
                                    METHOD_INVOCATION_RECEIVER [178270,178282]
                                        SimpleName: notification [178270,178282]
                                    SimpleName: getDefaultMessage [178283,178300]
                    SimpleName: isEqualTo [178304,178313]
                    METHOD_INVOCATION_ARGUMENTS [178314,178336]
                        StringLiteral: "There are new alerts" [178314,178336]
    MethodDeclaration [178349,178705]
        MarkerAnnotation [178349,178354]
            SimpleName: Test [178350,178354]
        Modifier: public [178358,178364]
        PrimitiveType: void [178365,178369]
        SimpleName: shouldReturnToStringIfDefaultMessageNotSet [178370,178412]
        Block [178415,178705]
            ExpressionStatement [178422,178498]
                Assignment [178422,178497]
                    SimpleName: notification [178422,178434]
                    ASSIGNMENT_OPERATOR: = [178435,178436]
                    MethodInvocation [178437,178497]
                        METHOD_INVOCATION_RECEIVER [178437,178463]
                            ClassInstanceCreation [178437,178463]
                                SimpleType [178441,178453]
                                    SimpleName: Notification [178441,178453]
                                StringLiteral: "alerts" [178454,178462]
                        SimpleName: setFieldValue [178464,178477]
                        METHOD_INVOCATION_ARGUMENTS [178478,178496]
                            StringLiteral: "alertCount" [178478,178490]
                            StringLiteral: "42" [178492,178496]
            ExpressionStatement [178504,178537]
                MethodInvocation [178504,178536]
                    METHOD_INVOCATION_RECEIVER [178504,178514]
                        QualifiedName: System.out [178504,178514]
                    SimpleName: println [178515,178522]
                    METHOD_INVOCATION_ARGUMENTS [178523,178535]
                        SimpleName: notification [178523,178535]
            ExpressionStatement [178543,178614]
                MethodInvocation [178543,178613]
                    METHOD_INVOCATION_RECEIVER [178543,178587]
                        MethodInvocation [178543,178587]
                            SimpleName: assertThat [178543,178553]
                            METHOD_INVOCATION_ARGUMENTS [178554,178586]
                                MethodInvocation [178554,178586]
                                    METHOD_INVOCATION_RECEIVER [178554,178566]
                                        SimpleName: notification [178554,178566]
                                    SimpleName: getDefaultMessage [178567,178584]
                    SimpleName: contains [178588,178596]
                    METHOD_INVOCATION_ARGUMENTS [178597,178612]
                        StringLiteral: "type='alerts'" [178597,178612]
            ExpressionStatement [178620,178700]
                MethodInvocation [178620,178699]
                    METHOD_INVOCATION_RECEIVER [178620,178664]
                        MethodInvocation [178620,178664]
                            SimpleName: assertThat [178620,178630]
                            METHOD_INVOCATION_ARGUMENTS [178631,178663]
                                MethodInvocation [178631,178663]
                                    METHOD_INVOCATION_RECEIVER [178631,178643]
                                        SimpleName: notification [178631,178643]
                                    SimpleName: getDefaultMessage [178644,178661]
                    SimpleName: contains [178665,178673]
                    METHOD_INVOCATION_ARGUMENTS [178674,178698]
                        StringLiteral: "fields={alertCount=42}" [178674,178698]
    MethodDeclaration [178711,179046]
        MarkerAnnotation [178711,178716]
            SimpleName: Test [178712,178716]
        Modifier: public [178720,178726]
        PrimitiveType: void [178727,178731]
        SimpleName: shouldReturnField [178732,178749]
        Block [178752,179046]
            ExpressionStatement [178759,178828]
                MethodInvocation [178759,178827]
                    METHOD_INVOCATION_RECEIVER [178759,178811]
                        MethodInvocation [178759,178811]
                            SimpleName: assertThat [178759,178769]
                            METHOD_INVOCATION_ARGUMENTS [178770,178810]
                                MethodInvocation [178770,178810]
                                    METHOD_INVOCATION_RECEIVER [178770,178782]
                                        SimpleName: notification [178770,178782]
                                    SimpleName: getFieldValue [178783,178796]
                                    METHOD_INVOCATION_ARGUMENTS [178797,178809]
                                        StringLiteral: "alertCount" [178797,178809]
                    SimpleName: isEqualTo [178812,178821]
                    METHOD_INVOCATION_ARGUMENTS [178822,178826]
                        StringLiteral: "42" [178822,178826]
            ExpressionStatement [178834,178890]
                MethodInvocation [178834,178889]
                    METHOD_INVOCATION_RECEIVER [178834,178880]
                        MethodInvocation [178834,178880]
                            SimpleName: assertThat [178834,178844]
                            METHOD_INVOCATION_ARGUMENTS [178845,178879]
                                MethodInvocation [178845,178879]
                                    METHOD_INVOCATION_RECEIVER [178845,178857]
                                        SimpleName: notification [178845,178857]
                                    SimpleName: getFieldValue [178858,178871]
                                    METHOD_INVOCATION_ARGUMENTS [178872,178878]
                                        StringLiteral: "fake" [178872,178878]
                    SimpleName: isNull [178881,178887]
            ExpressionStatement [178949,179041]
                MethodInvocation [178949,179040]
                    METHOD_INVOCATION_RECEIVER [178949,179006]
                        MethodInvocation [178949,179006]
                            SimpleName: assertThat [178949,178959]
                            METHOD_INVOCATION_ARGUMENTS [178960,179005]
                                MethodInvocation [178960,179005]
                                    METHOD_INVOCATION_RECEIVER [178960,178972]
                                        SimpleName: notification [178960,178972]
                                    SimpleName: getFieldValue [178973,178986]
                                    METHOD_INVOCATION_ARGUMENTS [178987,179004]
                                        StringLiteral: "default_message" [178987,179004]
                    SimpleName: isEqualTo [179007,179016]
                    METHOD_INVOCATION_ARGUMENTS [179017,179039]
                        StringLiteral: "There are new alerts" [179017,179039]
    MethodDeclaration [179052,179633]
        MarkerAnnotation [179052,179057]
            SimpleName: Test [179053,179057]
        Modifier: public [179061,179067]
        PrimitiveType: void [179068,179072]
        SimpleName: shouldEqual [179073,179084]
        Block [179087,179633]
            ExpressionStatement [179094,179140]
                MethodInvocation [179094,179139]
                    METHOD_INVOCATION_RECEIVER [179094,179129]
                        MethodInvocation [179094,179129]
                            SimpleName: assertThat [179094,179104]
                            METHOD_INVOCATION_ARGUMENTS [179105,179128]
                                MethodInvocation [179105,179128]
                                    METHOD_INVOCATION_RECEIVER [179105,179117]
                                        SimpleName: notification [179105,179117]
                                    SimpleName: equals [179118,179124]
                                    METHOD_INVOCATION_ARGUMENTS [179125,179127]
                                        StringLiteral: "" [179125,179127]
                    SimpleName: isFalse [179130,179137]
            ExpressionStatement [179146,179194]
                MethodInvocation [179146,179193]
                    METHOD_INVOCATION_RECEIVER [179146,179183]
                        MethodInvocation [179146,179183]
                            SimpleName: assertThat [179146,179156]
                            METHOD_INVOCATION_ARGUMENTS [179157,179182]
                                MethodInvocation [179157,179182]
                                    METHOD_INVOCATION_RECEIVER [179157,179169]
                                        SimpleName: notification [179157,179169]
                                    SimpleName: equals [179170,179176]
                                    METHOD_INVOCATION_ARGUMENTS [179177,179181]
                                        NullLiteral [179177,179181]
                    SimpleName: isFalse [179184,179191]
            ExpressionStatement [179200,179255]
                MethodInvocation [179200,179254]
                    METHOD_INVOCATION_RECEIVER [179200,179245]
                        MethodInvocation [179200,179245]
                            SimpleName: assertThat [179200,179210]
                            METHOD_INVOCATION_ARGUMENTS [179211,179244]
                                MethodInvocation [179211,179244]
                                    METHOD_INVOCATION_RECEIVER [179211,179223]
                                        SimpleName: notification [179211,179223]
                                    SimpleName: equals [179224,179230]
                                    METHOD_INVOCATION_ARGUMENTS [179231,179243]
                                        SimpleName: notification [179231,179243]
                    SimpleName: isTrue [179246,179252]
            VariableDeclarationStatement [179263,179392]
                SimpleType [179263,179275]
                    SimpleName: Notification [179263,179275]
                VariableDeclarationFragment [179276,179391]
                    SimpleName: otherNotif [179276,179286]
                    MethodInvocation [179289,179391]
                        METHOD_INVOCATION_RECEIVER [179289,179357]
                            MethodInvocation [179289,179357]
                                METHOD_INVOCATION_RECEIVER [179289,179315]
                                    ClassInstanceCreation [179289,179315]
                                        SimpleType [179293,179305]
                                            SimpleName: Notification [179293,179305]
                                        StringLiteral: "alerts" [179306,179314]
                                SimpleName: setDefaultMessage [179316,179333]
                                METHOD_INVOCATION_ARGUMENTS [179334,179356]
                                    StringLiteral: "There are new alerts" [179334,179356]
                        SimpleName: setFieldValue [179358,179371]
                        METHOD_INVOCATION_ARGUMENTS [179372,179390]
                            StringLiteral: "alertCount" [179372,179384]
                            StringLiteral: "42" [179386,179390]
            ExpressionStatement [179398,179445]
                MethodInvocation [179398,179444]
                    METHOD_INVOCATION_RECEIVER [179398,179420]
                        MethodInvocation [179398,179420]
                            SimpleName: assertThat [179398,179408]
                            METHOD_INVOCATION_ARGUMENTS [179409,179419]
                                SimpleName: otherNotif [179409,179419]
                    SimpleName: isEqualTo [179421,179430]
                    METHOD_INVOCATION_ARGUMENTS [179431,179443]
                        SimpleName: notification [179431,179443]
            ExpressionStatement [179453,179572]
                Assignment [179453,179571]
                    SimpleName: otherNotif [179453,179463]
                    ASSIGNMENT_OPERATOR: = [179464,179465]
                    MethodInvocation [179466,179571]
                        METHOD_INVOCATION_RECEIVER [179466,179534]
                            MethodInvocation [179466,179534]
                                METHOD_INVOCATION_RECEIVER [179466,179492]
                                    ClassInstanceCreation [179466,179492]
                                        SimpleType [179470,179482]
                                            SimpleName: Notification [179470,179482]
                                        StringLiteral: "alerts" [179483,179491]
                                SimpleName: setDefaultMessage [179493,179510]
                                METHOD_INVOCATION_ARGUMENTS [179511,179533]
                                    StringLiteral: "There are new alerts" [179511,179533]
                        SimpleName: setFieldValue [179535,179548]
                        METHOD_INVOCATION_ARGUMENTS [179549,179570]
                            StringLiteral: "alertCount" [179549,179561]
                            StringLiteral: "15000" [179563,179570]
            ExpressionStatement [179578,179628]
                MethodInvocation [179578,179627]
                    METHOD_INVOCATION_RECEIVER [179578,179600]
                        MethodInvocation [179578,179600]
                            SimpleName: assertThat [179578,179588]
                            METHOD_INVOCATION_ARGUMENTS [179589,179599]
                                SimpleName: otherNotif [179589,179599]
                    SimpleName: isNotEqualTo [179601,179613]
                    METHOD_INVOCATION_ARGUMENTS [179614,179626]
                        SimpleName: notification [179614,179626]
to
CompilationUnit [0,107451]
at 821
===
insert-tree
---
TypeDeclaration [181127,185048]
    Modifier: public [181127,181133]
    TYPE_DECLARATION_KIND: class [181134,181139]
    SimpleName: AlertsEmailTemplateTest [181140,181163]
    FieldDeclaration [181171,181208]
        Modifier: private [181171,181178]
        SimpleType [181179,181198]
            SimpleName: AlertsEmailTemplate [181179,181198]
        VariableDeclarationFragment [181199,181207]
            SimpleName: template [181199,181207]
    MethodDeclaration [181214,181456]
        MarkerAnnotation [181214,181221]
            SimpleName: Before [181215,181221]
        Modifier: public [181225,181231]
        PrimitiveType: void [181232,181236]
        SimpleName: setUp [181237,181242]
        Block [181245,181456]
            VariableDeclarationStatement [181252,181308]
                SimpleType [181252,181265]
                    SimpleName: EmailSettings [181252,181265]
                VariableDeclarationFragment [181266,181307]
                    SimpleName: configuration [181266,181279]
                    MethodInvocation [181282,181307]
                        SimpleName: mock [181282,181286]
                        METHOD_INVOCATION_ARGUMENTS [181287,181306]
                            TypeLiteral [181287,181306]
                                SimpleType [181287,181300]
                                    SimpleName: EmailSettings [181287,181300]
            ExpressionStatement [181314,181395]
                MethodInvocation [181314,181394]
                    METHOD_INVOCATION_RECEIVER [181314,181352]
                        MethodInvocation [181314,181352]
                            SimpleName: when [181314,181318]
                            METHOD_INVOCATION_ARGUMENTS [181319,181351]
                                MethodInvocation [181319,181351]
                                    METHOD_INVOCATION_RECEIVER [181319,181332]
                                        SimpleName: configuration [181319,181332]
                                    SimpleName: getServerBaseURL [181333,181349]
                    SimpleName: thenReturn [181353,181363]
                    METHOD_INVOCATION_ARGUMENTS [181364,181393]
                        StringLiteral: "http://nemo.sonarsource.org" [181364,181393]
            ExpressionStatement [181401,181451]
                Assignment [181401,181450]
                    SimpleName: template [181401,181409]
                    ASSIGNMENT_OPERATOR: = [181410,181411]
                    ClassInstanceCreation [181412,181450]
                        SimpleType [181416,181435]
                            SimpleName: AlertsEmailTemplate [181416,181435]
                        SimpleName: configuration [181436,181449]
    MethodDeclaration [181462,181695]
        MarkerAnnotation [181462,181467]
            SimpleName: Test [181463,181467]
        Modifier: public [181471,181477]
        PrimitiveType: void [181478,181482]
        SimpleName: shouldNotFormatIfNotCorrectNotification [181483,181522]
        Block [181525,181695]
            VariableDeclarationStatement [181532,181592]
                SimpleType [181532,181544]
                    SimpleName: Notification [181532,181544]
                VariableDeclarationFragment [181545,181591]
                    SimpleName: notification [181545,181557]
                    ClassInstanceCreation [181560,181591]
                        SimpleType [181564,181576]
                            SimpleName: Notification [181564,181576]
                        StringLiteral: "other-notif" [181577,181590]
            VariableDeclarationStatement [181598,181651]
                SimpleType [181598,181610]
                    SimpleName: EmailMessage [181598,181610]
                VariableDeclarationFragment [181611,181650]
                    SimpleName: message [181611,181618]
                    MethodInvocation [181621,181650]
                        METHOD_INVOCATION_RECEIVER [181621,181629]
                            SimpleName: template [181621,181629]
                        SimpleName: format [181630,181636]
                        METHOD_INVOCATION_ARGUMENTS [181637,181649]
                            SimpleName: notification [181637,181649]
            ExpressionStatement [181657,181690]
                MethodInvocation [181657,181689]
                    SimpleName: assertThat [181657,181667]
                    METHOD_INVOCATION_ARGUMENTS [181668,181688]
                        SimpleName: message [181668,181675]
                        MethodInvocation [181677,181688]
                            SimpleName: nullValue [181677,181686]
    MethodDeclaration [181701,182443]
        MarkerAnnotation [181701,181706]
            SimpleName: Test [181702,181706]
        Modifier: public [181710,181716]
        PrimitiveType: void [181717,181721]
        SimpleName: shouldFormatAlertWithSeveralMessages [181722,181758]
        Block [181761,182443]
            VariableDeclarationStatement [181768,181886]
                SimpleType [181768,181780]
                    SimpleName: Notification [181768,181780]
                VariableDeclarationFragment [181781,181885]
                    SimpleName: notification [181781,181793]
                    MethodInvocation [181796,181885]
                        SimpleName: createNotification [181796,181814]
                        METHOD_INVOCATION_ARGUMENTS [181815,181884]
                            StringLiteral: "Orange (was Red)" [181815,181833]
                            StringLiteral: "violations > 4, coverage < 75%" [181835,181867]
                            StringLiteral: "WARN" [181869,181875]
                            StringLiteral: "false" [181877,181884]
            VariableDeclarationStatement [181894,181947]
                SimpleType [181894,181906]
                    SimpleName: EmailMessage [181894,181906]
                VariableDeclarationFragment [181907,181946]
                    SimpleName: message [181907,181914]
                    MethodInvocation [181917,181946]
                        METHOD_INVOCATION_RECEIVER [181917,181925]
                            SimpleName: template [181917,181925]
                        SimpleName: format [181926,181932]
                        METHOD_INVOCATION_ARGUMENTS [181933,181945]
                            SimpleName: notification [181933,181945]
            ExpressionStatement [181953,182005]
                MethodInvocation [181953,182004]
                    SimpleName: assertThat [181953,181963]
                    METHOD_INVOCATION_ARGUMENTS [181964,182003]
                        MethodInvocation [181964,181986]
                            METHOD_INVOCATION_RECEIVER [181964,181971]
                                SimpleName: message [181964,181971]
                            SimpleName: getMessageId [181972,181984]
                        MethodInvocation [181988,182003]
                            SimpleName: is [181988,181990]
                            METHOD_INVOCATION_ARGUMENTS [181991,182002]
                                StringLiteral: "alerts/45" [181991,182002]
            ExpressionStatement [182011,182090]
                MethodInvocation [182011,182089]
                    SimpleName: assertThat [182011,182021]
                    METHOD_INVOCATION_ARGUMENTS [182022,182088]
                        MethodInvocation [182022,182042]
                            METHOD_INVOCATION_RECEIVER [182022,182029]
                                SimpleName: message [182022,182029]
                            SimpleName: getSubject [182030,182040]
                        MethodInvocation [182044,182088]
                            SimpleName: is [182044,182046]
                            METHOD_INVOCATION_ARGUMENTS [182047,182087]
                                StringLiteral: "Quality gate status changed on \"Foo\"" [182047,182087]
            ExpressionStatement [182096,182438]
                MethodInvocation [182096,182437]
                    SimpleName: assertThat [182096,182106]
                    METHOD_INVOCATION_ARGUMENTS [182107,182436]
                        MethodInvocation [182107,182127]
                            METHOD_INVOCATION_RECEIVER [182107,182114]
                                SimpleName: message [182107,182114]
                            SimpleName: getMessage [182115,182125]
                        MethodInvocation [182129,182436]
                            SimpleName: is [182129,182131]
                            METHOD_INVOCATION_ARGUMENTS [182132,182435]
                                InfixExpression [182132,182435]
                                    StringLiteral: "" [182132,182134]
                                    INFIX_EXPRESSION_OPERATOR: + [182135,182136]
                                    StringLiteral: "Project: Foo\n" [182144,182160]
                                    StringLiteral: "Quality gate status: Orange (was Red)\n" [182170,182211]
                                    StringLiteral: "\n" [182221,182225]
                                    StringLiteral: "Quality gate thresholds:\n" [182235,182263]
                                    StringLiteral: "  - violations > 4\n" [182273,182295]
                                    StringLiteral: "  - coverage < 75%\n" [182305,182327]
                                    StringLiteral: "\n" [182337,182341]
                                    StringLiteral: "See it in SonarQube: http://nemo.sonarsource.org/dashboard/index/org.sonar.foo:foo" [182351,182435]
    MethodDeclaration [182449,183204]
        MarkerAnnotation [182449,182454]
            SimpleName: Test [182450,182454]
        Modifier: public [182458,182464]
        PrimitiveType: void [182465,182469]
        SimpleName: shouldFormatNewAlertWithSeveralMessages [182470,182509]
        Block [182512,183204]
            VariableDeclarationStatement [182519,182636]
                SimpleType [182519,182531]
                    SimpleName: Notification [182519,182531]
                VariableDeclarationFragment [182532,182635]
                    SimpleName: notification [182532,182544]
                    MethodInvocation [182547,182635]
                        SimpleName: createNotification [182547,182565]
                        METHOD_INVOCATION_ARGUMENTS [182566,182634]
                            StringLiteral: "Orange (was Red)" [182566,182584]
                            StringLiteral: "violations > 4, coverage < 75%" [182586,182618]
                            StringLiteral: "WARN" [182620,182626]
                            StringLiteral: "true" [182628,182634]
            VariableDeclarationStatement [182644,182697]
                SimpleType [182644,182656]
                    SimpleName: EmailMessage [182644,182656]
                VariableDeclarationFragment [182657,182696]
                    SimpleName: message [182657,182664]
                    MethodInvocation [182667,182696]
                        METHOD_INVOCATION_RECEIVER [182667,182675]
                            SimpleName: template [182667,182675]
                        SimpleName: format [182676,182682]
                        METHOD_INVOCATION_ARGUMENTS [182683,182695]
                            SimpleName: notification [182683,182695]
            ExpressionStatement [182703,182755]
                MethodInvocation [182703,182754]
                    SimpleName: assertThat [182703,182713]
                    METHOD_INVOCATION_ARGUMENTS [182714,182753]
                        MethodInvocation [182714,182736]
                            METHOD_INVOCATION_RECEIVER [182714,182721]
                                SimpleName: message [182714,182721]
                            SimpleName: getMessageId [182722,182734]
                        MethodInvocation [182738,182753]
                            SimpleName: is [182738,182740]
                            METHOD_INVOCATION_ARGUMENTS [182741,182752]
                                StringLiteral: "alerts/45" [182741,182752]
            ExpressionStatement [182761,182847]
                MethodInvocation [182761,182846]
                    SimpleName: assertThat [182761,182771]
                    METHOD_INVOCATION_ARGUMENTS [182772,182845]
                        MethodInvocation [182772,182792]
                            METHOD_INVOCATION_RECEIVER [182772,182779]
                                SimpleName: message [182772,182779]
                            SimpleName: getSubject [182780,182790]
                        MethodInvocation [182794,182845]
                            SimpleName: is [182794,182796]
                            METHOD_INVOCATION_ARGUMENTS [182797,182844]
                                StringLiteral: "New quality gate threshold reached on \"Foo\"" [182797,182844]
            ExpressionStatement [182853,183199]
                MethodInvocation [182853,183198]
                    SimpleName: assertThat [182853,182863]
                    METHOD_INVOCATION_ARGUMENTS [182864,183197]
                        MethodInvocation [182864,182884]
                            METHOD_INVOCATION_RECEIVER [182864,182871]
                                SimpleName: message [182864,182871]
                            SimpleName: getMessage [182872,182882]
                        MethodInvocation [182886,183197]
                            SimpleName: is [182886,182888]
                            METHOD_INVOCATION_ARGUMENTS [182889,183196]
                                InfixExpression [182889,183196]
                                    StringLiteral: "" [182889,182891]
                                    INFIX_EXPRESSION_OPERATOR: + [182892,182893]
                                    StringLiteral: "Project: Foo\n" [182901,182917]
                                    StringLiteral: "Quality gate status: Orange (was Red)\n" [182927,182968]
                                    StringLiteral: "\n" [182978,182982]
                                    StringLiteral: "New quality gate thresholds:\n" [182992,183024]
                                    StringLiteral: "  - violations > 4\n" [183034,183056]
                                    StringLiteral: "  - coverage < 75%\n" [183066,183088]
                                    StringLiteral: "\n" [183098,183102]
                                    StringLiteral: "See it in SonarQube: http://nemo.sonarsource.org/dashboard/index/org.sonar.foo:foo" [183112,183196]
    MethodDeclaration [183210,183894]
        MarkerAnnotation [183210,183215]
            SimpleName: Test [183211,183215]
        Modifier: public [183219,183225]
        PrimitiveType: void [183226,183230]
        SimpleName: shouldFormatNewAlertWithOneMessage [183231,183265]
        Block [183268,183894]
            VariableDeclarationStatement [183275,183376]
                SimpleType [183275,183287]
                    SimpleName: Notification [183275,183287]
                VariableDeclarationFragment [183288,183375]
                    SimpleName: notification [183288,183300]
                    MethodInvocation [183303,183375]
                        SimpleName: createNotification [183303,183321]
                        METHOD_INVOCATION_ARGUMENTS [183322,183374]
                            StringLiteral: "Orange (was Red)" [183322,183340]
                            StringLiteral: "violations > 4" [183342,183358]
                            StringLiteral: "WARN" [183360,183366]
                            StringLiteral: "true" [183368,183374]
            VariableDeclarationStatement [183384,183437]
                SimpleType [183384,183396]
                    SimpleName: EmailMessage [183384,183396]
                VariableDeclarationFragment [183397,183436]
                    SimpleName: message [183397,183404]
                    MethodInvocation [183407,183436]
                        METHOD_INVOCATION_RECEIVER [183407,183415]
                            SimpleName: template [183407,183415]
                        SimpleName: format [183416,183422]
                        METHOD_INVOCATION_ARGUMENTS [183423,183435]
                            SimpleName: notification [183423,183435]
            ExpressionStatement [183443,183495]
                MethodInvocation [183443,183494]
                    SimpleName: assertThat [183443,183453]
                    METHOD_INVOCATION_ARGUMENTS [183454,183493]
                        MethodInvocation [183454,183476]
                            METHOD_INVOCATION_RECEIVER [183454,183461]
                                SimpleName: message [183454,183461]
                            SimpleName: getMessageId [183462,183474]
                        MethodInvocation [183478,183493]
                            SimpleName: is [183478,183480]
                            METHOD_INVOCATION_ARGUMENTS [183481,183492]
                                StringLiteral: "alerts/45" [183481,183492]
            ExpressionStatement [183501,183587]
                MethodInvocation [183501,183586]
                    SimpleName: assertThat [183501,183511]
                    METHOD_INVOCATION_ARGUMENTS [183512,183585]
                        MethodInvocation [183512,183532]
                            METHOD_INVOCATION_RECEIVER [183512,183519]
                                SimpleName: message [183512,183519]
                            SimpleName: getSubject [183520,183530]
                        MethodInvocation [183534,183585]
                            SimpleName: is [183534,183536]
                            METHOD_INVOCATION_ARGUMENTS [183537,183584]
                                StringLiteral: "New quality gate threshold reached on \"Foo\"" [183537,183584]
            ExpressionStatement [183593,183889]
                MethodInvocation [183593,183888]
                    SimpleName: assertThat [183593,183603]
                    METHOD_INVOCATION_ARGUMENTS [183604,183887]
                        MethodInvocation [183604,183624]
                            METHOD_INVOCATION_RECEIVER [183604,183611]
                                SimpleName: message [183604,183611]
                            SimpleName: getMessage [183612,183622]
                        MethodInvocation [183626,183887]
                            SimpleName: is [183626,183628]
                            METHOD_INVOCATION_ARGUMENTS [183629,183886]
                                InfixExpression [183629,183886]
                                    StringLiteral: "" [183629,183631]
                                    INFIX_EXPRESSION_OPERATOR: + [183632,183633]
                                    StringLiteral: "Project: Foo\n" [183641,183657]
                                    StringLiteral: "Quality gate status: Orange (was Red)\n" [183667,183708]
                                    StringLiteral: "\n" [183718,183722]
                                    StringLiteral: "New quality gate threshold: violations > 4\n" [183732,183778]
                                    StringLiteral: "\n" [183788,183792]
                                    StringLiteral: "See it in SonarQube: http://nemo.sonarsource.org/dashboard/index/org.sonar.foo:foo" [183802,183886]
    MethodDeclaration [183900,184486]
        MarkerAnnotation [183900,183905]
            SimpleName: Test [183901,183905]
        Modifier: public [183909,183915]
        PrimitiveType: void [183916,183920]
        SimpleName: shouldFormatBackToGreenMessage [183921,183951]
        Block [183954,184486]
            VariableDeclarationStatement [183961,184046]
                SimpleType [183961,183973]
                    SimpleName: Notification [183961,183973]
                VariableDeclarationFragment [183974,184045]
                    SimpleName: notification [183974,183986]
                    MethodInvocation [183989,184045]
                        SimpleName: createNotification [183989,184007]
                        METHOD_INVOCATION_ARGUMENTS [184008,184044]
                            StringLiteral: "Green (was Red)" [184008,184025]
                            StringLiteral: "" [184027,184029]
                            StringLiteral: "OK" [184031,184035]
                            StringLiteral: "false" [184037,184044]
            VariableDeclarationStatement [184054,184107]
                SimpleType [184054,184066]
                    SimpleName: EmailMessage [184054,184066]
                VariableDeclarationFragment [184067,184106]
                    SimpleName: message [184067,184074]
                    MethodInvocation [184077,184106]
                        METHOD_INVOCATION_RECEIVER [184077,184085]
                            SimpleName: template [184077,184085]
                        SimpleName: format [184086,184092]
                        METHOD_INVOCATION_ARGUMENTS [184093,184105]
                            SimpleName: notification [184093,184105]
            ExpressionStatement [184113,184165]
                MethodInvocation [184113,184164]
                    SimpleName: assertThat [184113,184123]
                    METHOD_INVOCATION_ARGUMENTS [184124,184163]
                        MethodInvocation [184124,184146]
                            METHOD_INVOCATION_RECEIVER [184124,184131]
                                SimpleName: message [184124,184131]
                            SimpleName: getMessageId [184132,184144]
                        MethodInvocation [184148,184163]
                            SimpleName: is [184148,184150]
                            METHOD_INVOCATION_ARGUMENTS [184151,184162]
                                StringLiteral: "alerts/45" [184151,184162]
            ExpressionStatement [184171,184236]
                MethodInvocation [184171,184235]
                    SimpleName: assertThat [184171,184181]
                    METHOD_INVOCATION_ARGUMENTS [184182,184234]
                        MethodInvocation [184182,184202]
                            METHOD_INVOCATION_RECEIVER [184182,184189]
                                SimpleName: message [184182,184189]
                            SimpleName: getSubject [184190,184200]
                        MethodInvocation [184204,184234]
                            SimpleName: is [184204,184206]
                            METHOD_INVOCATION_ARGUMENTS [184207,184233]
                                StringLiteral: "\"Foo\" is back to green" [184207,184233]
            ExpressionStatement [184242,184481]
                MethodInvocation [184242,184480]
                    SimpleName: assertThat [184242,184252]
                    METHOD_INVOCATION_ARGUMENTS [184253,184479]
                        MethodInvocation [184253,184273]
                            METHOD_INVOCATION_RECEIVER [184253,184260]
                                SimpleName: message [184253,184260]
                            SimpleName: getMessage [184261,184271]
                        MethodInvocation [184275,184479]
                            SimpleName: is [184275,184277]
                            METHOD_INVOCATION_ARGUMENTS [184278,184478]
                                InfixExpression [184278,184478]
                                    StringLiteral: "" [184278,184280]
                                    INFIX_EXPRESSION_OPERATOR: + [184281,184282]
                                    StringLiteral: "Project: Foo\n" [184290,184306]
                                    StringLiteral: "Quality gate status: Green (was Red)\n" [184316,184356]
                                    StringLiteral: "\n" [184366,184370]
                                    StringLiteral: "\n" [184380,184384]
                                    StringLiteral: "See it in SonarQube: http://nemo.sonarsource.org/dashboard/index/org.sonar.foo:foo" [184394,184478]
    MethodDeclaration [184492,185043]
        Modifier: private [184492,184499]
        SimpleType [184500,184512]
            SimpleName: Notification [184500,184512]
        SimpleName: createNotification [184513,184531]
        SingleVariableDeclaration [184532,184548]
            SimpleType [184532,184538]
                SimpleName: String [184532,184538]
            SimpleName: alertName [184539,184548]
        SingleVariableDeclaration [184550,184566]
            SimpleType [184550,184556]
                SimpleName: String [184550,184556]
            SimpleName: alertText [184557,184566]
        SingleVariableDeclaration [184568,184585]
            SimpleType [184568,184574]
                SimpleName: String [184568,184574]
            SimpleName: alertLevel [184575,184585]
        SingleVariableDeclaration [184587,184604]
            SimpleType [184587,184593]
                SimpleName: String [184587,184593]
            SimpleName: isNewAlert [184594,184604]
        Block [184606,185043]
            VariableDeclarationStatement [184613,185012]
                SimpleType [184613,184625]
                    SimpleName: Notification [184613,184625]
                VariableDeclarationFragment [184626,185011]
                    SimpleName: notification [184626,184638]
                    MethodInvocation [184641,185011]
                        METHOD_INVOCATION_RECEIVER [184641,184961]
                            MethodInvocation [184641,184961]
                                METHOD_INVOCATION_RECEIVER [184641,184911]
                                    MethodInvocation [184641,184911]
                                        METHOD_INVOCATION_RECEIVER [184641,184863]
                                            MethodInvocation [184641,184863]
                                                METHOD_INVOCATION_RECEIVER [184641,184815]
                                                    MethodInvocation [184641,184815]
                                                        METHOD_INVOCATION_RECEIVER [184641,184772]
                                                            MethodInvocation [184641,184772]
                                                                METHOD_INVOCATION_RECEIVER [184641,184713]
                                                                    MethodInvocation [184641,184713]
                                                                        METHOD_INVOCATION_RECEIVER [184641,184667]
                                                                            ClassInstanceCreation [184641,184667]
                                                                                SimpleType [184645,184657]
                                                                                    SimpleName: Notification [184645,184657]
                                                                                StringLiteral: "alerts" [184658,184666]
                                                                        SimpleName: setFieldValue [184678,184691]
                                                                        METHOD_INVOCATION_ARGUMENTS [184692,184712]
                                                                            StringLiteral: "projectName" [184692,184705]
                                                                            StringLiteral: "Foo" [184707,184712]
                                                                SimpleName: setFieldValue [184724,184737]
                                                                METHOD_INVOCATION_ARGUMENTS [184738,184771]
                                                                    StringLiteral: "projectKey" [184738,184750]
                                                                    StringLiteral: "org.sonar.foo:foo" [184752,184771]
                                                        SimpleName: setFieldValue [184783,184796]
                                                        METHOD_INVOCATION_ARGUMENTS [184797,184814]
                                                            StringLiteral: "projectId" [184797,184808]
                                                            StringLiteral: "45" [184810,184814]
                                                SimpleName: setFieldValue [184826,184839]
                                                METHOD_INVOCATION_ARGUMENTS [184840,184862]
                                                    StringLiteral: "alertName" [184840,184851]
                                                    SimpleName: alertName [184853,184862]
                                        SimpleName: setFieldValue [184874,184887]
                                        METHOD_INVOCATION_ARGUMENTS [184888,184910]
                                            StringLiteral: "alertText" [184888,184899]
                                            SimpleName: alertText [184901,184910]
                                SimpleName: setFieldValue [184922,184935]
                                METHOD_INVOCATION_ARGUMENTS [184936,184960]
                                    StringLiteral: "alertLevel" [184936,184948]
                                    SimpleName: alertLevel [184950,184960]
                        SimpleName: setFieldValue [184972,184985]
                        METHOD_INVOCATION_ARGUMENTS [184986,185010]
                            StringLiteral: "isNewAlert" [184986,184998]
                            SimpleName: isNewAlert [185000,185010]
            ReturnStatement [185018,185038]
                SimpleName: notification [185025,185037]
to
CompilationUnit [0,107451]
at 822
===
insert-tree
---
TypeDeclaration [186808,193088]
    Modifier: public [186808,186814]
    TYPE_DECLARATION_KIND: class [186815,186820]
    SimpleName: EmailNotificationChannelTest [186821,186849]
    FieldDeclaration [186857,186925]
        MarkerAnnotation [186857,186862]
            SimpleName: Rule [186858,186862]
        Modifier: public [186866,186872]
        SimpleType [186873,186890]
            SimpleName: ExpectedException [186873,186890]
        VariableDeclarationFragment [186891,186924]
            SimpleName: thrown [186891,186897]
            MethodInvocation [186900,186924]
                METHOD_INVOCATION_RECEIVER [186900,186917]
                    SimpleName: ExpectedException [186900,186917]
                SimpleName: none [186918,186922]
    FieldDeclaration [186931,186948]
        Modifier: private [186931,186938]
        PrimitiveType: int [186939,186942]
        VariableDeclarationFragment [186943,186947]
            SimpleName: port [186943,186947]
    FieldDeclaration [186952,186973]
        Modifier: private [186952,186959]
        SimpleType [186960,186965]
            SimpleName: Wiser [186960,186965]
        VariableDeclarationFragment [186966,186972]
            SimpleName: server [186966,186972]
    FieldDeclaration [186977,187013]
        Modifier: private [186977,186984]
        SimpleType [186985,186998]
            SimpleName: EmailSettings [186985,186998]
        VariableDeclarationFragment [186999,187012]
            SimpleName: configuration [186999,187012]
    FieldDeclaration [187017,187058]
        Modifier: private [187017,187024]
        SimpleType [187025,187049]
            SimpleName: EmailNotificationChannel [187025,187049]
        VariableDeclarationFragment [187050,187057]
            SimpleName: channel [187050,187057]
    MethodDeclaration [187064,187392]
        Modifier: private [187064,187071]
        Modifier: static [187072,187078]
        PrimitiveType: int [187079,187082]
        SimpleName: getNextAvailablePort [187083,187103]
        Block [187106,187392]
            TryStatement [187113,187387]
                Block [187117,187271]
                    VariableDeclarationStatement [187126,187168]
                        SimpleType [187126,187138]
                            SimpleName: ServerSocket [187126,187138]
                        VariableDeclarationFragment [187139,187167]
                            SimpleName: socket [187139,187145]
                            ClassInstanceCreation [187148,187167]
                                SimpleType [187152,187164]
                                    SimpleName: ServerSocket [187152,187164]
                                NumberLiteral: 0 [187165,187166]
                    VariableDeclarationStatement [187176,187215]
                        PrimitiveType: int [187176,187179]
                        VariableDeclarationFragment [187180,187214]
                            SimpleName: unusedPort [187180,187190]
                            MethodInvocation [187193,187214]
                                METHOD_INVOCATION_RECEIVER [187193,187199]
                                    SimpleName: socket [187193,187199]
                                SimpleName: getLocalPort [187200,187212]
                    ExpressionStatement [187223,187238]
                        MethodInvocation [187223,187237]
                            METHOD_INVOCATION_RECEIVER [187223,187229]
                                SimpleName: socket [187223,187229]
                            SimpleName: close [187230,187235]
                    ReturnStatement [187246,187264]
                        SimpleName: unusedPort [187253,187263]
                CatchClause [187272,187387]
                    SingleVariableDeclaration [187279,187292]
                        SimpleType [187279,187290]
                            SimpleName: IOException [187279,187290]
                        SimpleName: e [187291,187292]
                    Block [187294,187387]
                        ThrowStatement [187303,187380]
                            ClassInstanceCreation [187309,187379]
                                SimpleType [187313,187329]
                                    SimpleName: RuntimeException [187313,187329]
                                StringLiteral: "Error getting an available port from system" [187330,187375]
                                SimpleName: e [187377,187378]
    MethodDeclaration [187398,187668]
        MarkerAnnotation [187398,187405]
            SimpleName: Before [187399,187405]
        Modifier: public [187409,187415]
        PrimitiveType: void [187416,187420]
        SimpleName: setUp [187421,187426]
        Block [187429,187668]
            ExpressionStatement [187436,187466]
                Assignment [187436,187465]
                    SimpleName: port [187436,187440]
                    ASSIGNMENT_OPERATOR: = [187441,187442]
                    MethodInvocation [187443,187465]
                        SimpleName: getNextAvailablePort [187443,187463]
            ExpressionStatement [187472,187493]
                Assignment [187472,187492]
                    SimpleName: server [187472,187478]
                    ASSIGNMENT_OPERATOR: = [187479,187480]
                    ClassInstanceCreation [187481,187492]
                        SimpleType [187485,187490]
                            SimpleName: Wiser [187485,187490]
            ExpressionStatement [187499,187520]
                MethodInvocation [187499,187519]
                    METHOD_INVOCATION_RECEIVER [187499,187505]
                        SimpleName: server [187499,187505]
                    SimpleName: setPort [187506,187513]
                    METHOD_INVOCATION_ARGUMENTS [187514,187518]
                        SimpleName: port [187514,187518]
            ExpressionStatement [187526,187541]
                MethodInvocation [187526,187540]
                    METHOD_INVOCATION_RECEIVER [187526,187532]
                        SimpleName: server [187526,187532]
                    SimpleName: start [187533,187538]
            ExpressionStatement [187549,187591]
                Assignment [187549,187590]
                    SimpleName: configuration [187549,187562]
                    ASSIGNMENT_OPERATOR: = [187563,187564]
                    MethodInvocation [187565,187590]
                        SimpleName: mock [187565,187569]
                        METHOD_INVOCATION_ARGUMENTS [187570,187589]
                            TypeLiteral [187570,187589]
                                SimpleType [187570,187583]
                                    SimpleName: EmailSettings [187570,187583]
            ExpressionStatement [187597,187663]
                Assignment [187597,187662]
                    SimpleName: channel [187597,187604]
                    ASSIGNMENT_OPERATOR: = [187605,187606]
                    ClassInstanceCreation [187607,187662]
                        SimpleType [187611,187635]
                            SimpleName: EmailNotificationChannel [187611,187635]
                        SimpleName: configuration [187636,187649]
                        NullLiteral [187651,187655]
                        NullLiteral [187657,187661]
    MethodDeclaration [187674,187733]
        MarkerAnnotation [187674,187680]
            SimpleName: After [187675,187680]
        Modifier: public [187684,187690]
        PrimitiveType: void [187691,187695]
        SimpleName: tearDown [187696,187704]
        Block [187707,187733]
            ExpressionStatement [187714,187728]
                MethodInvocation [187714,187727]
                    METHOD_INVOCATION_RECEIVER [187714,187720]
                        SimpleName: server [187714,187720]
                    SimpleName: stop [187721,187725]
    MethodDeclaration [187739,188557]
        MarkerAnnotation [187739,187744]
            SimpleName: Test [187740,187744]
        Modifier: public [187748,187754]
        PrimitiveType: void [187755,187759]
        SimpleName: shouldSendTestEmail [187760,187779]
        SimpleType [187789,187798]
            SimpleName: Exception [187789,187798]
        Block [187799,188557]
            ExpressionStatement [187806,187818]
                MethodInvocation [187806,187817]
                    SimpleName: configure [187806,187815]
            ExpressionStatement [187824,187935]
                MethodInvocation [187824,187934]
                    METHOD_INVOCATION_RECEIVER [187824,187831]
                        SimpleName: channel [187824,187831]
                    SimpleName: sendTestEmail [187832,187845]
                    METHOD_INVOCATION_ARGUMENTS [187846,187933]
                        StringLiteral: "user@nowhere" [187846,187860]
                        StringLiteral: "Test Message from SonarQube" [187862,187891]
                        StringLiteral: "This is a test message from SonarQube." [187893,187933]
            VariableDeclarationStatement [187943,187994]
                ParameterizedType [187943,187961]
                    SimpleType [187943,187947]
                        SimpleName: List [187943,187947]
                    SimpleType [187948,187960]
                        SimpleName: WiserMessage [187948,187960]
                VariableDeclarationFragment [187962,187993]
                    SimpleName: messages [187962,187970]
                    MethodInvocation [187973,187993]
                        METHOD_INVOCATION_RECEIVER [187973,187979]
                            SimpleName: server [187973,187979]
                        SimpleName: getMessages [187980,187991]
            ExpressionStatement [188000,188032]
                MethodInvocation [188000,188031]
                    METHOD_INVOCATION_RECEIVER [188000,188020]
                        MethodInvocation [188000,188020]
                            SimpleName: assertThat [188000,188010]
                            METHOD_INVOCATION_ARGUMENTS [188011,188019]
                                SimpleName: messages [188011,188019]
                    SimpleName: hasSize [188021,188028]
                    METHOD_INVOCATION_ARGUMENTS [188029,188030]
                        NumberLiteral: 1 [188029,188030]
            VariableDeclarationStatement [188040,188093]
                SimpleType [188040,188051]
                    SimpleName: MimeMessage [188040,188051]
                VariableDeclarationFragment [188052,188092]
                    SimpleName: email [188052,188057]
                    MethodInvocation [188060,188092]
                        METHOD_INVOCATION_RECEIVER [188060,188075]
                            MethodInvocation [188060,188075]
                                METHOD_INVOCATION_RECEIVER [188060,188068]
                                    SimpleName: messages [188060,188068]
                                SimpleName: get [188069,188072]
                                METHOD_INVOCATION_ARGUMENTS [188073,188074]
                                    NumberLiteral: 0 [188073,188074]
                        SimpleName: getMimeMessage [188076,188090]
            ExpressionStatement [188099,188188]
                MethodInvocation [188099,188187]
                    METHOD_INVOCATION_RECEIVER [188099,188148]
                        MethodInvocation [188099,188148]
                            SimpleName: assertThat [188099,188109]
                            METHOD_INVOCATION_ARGUMENTS [188110,188147]
                                MethodInvocation [188110,188147]
                                    METHOD_INVOCATION_RECEIVER [188110,188115]
                                        SimpleName: email [188110,188115]
                                    SimpleName: getHeader [188116,188125]
                                    METHOD_INVOCATION_ARGUMENTS [188126,188146]
                                        StringLiteral: "Content-Type" [188126,188140]
                                        NullLiteral [188142,188146]
                    SimpleName: isEqualTo [188149,188158]
                    METHOD_INVOCATION_ARGUMENTS [188159,188186]
                        StringLiteral: "text/plain; charset=UTF-8" [188159,188186]
            ExpressionStatement [188194,188275]
                MethodInvocation [188194,188274]
                    METHOD_INVOCATION_RECEIVER [188194,188234]
                        MethodInvocation [188194,188234]
                            SimpleName: assertThat [188194,188204]
                            METHOD_INVOCATION_ARGUMENTS [188205,188233]
                                MethodInvocation [188205,188233]
                                    METHOD_INVOCATION_RECEIVER [188205,188210]
                                        SimpleName: email [188205,188210]
                                    SimpleName: getHeader [188211,188220]
                                    METHOD_INVOCATION_ARGUMENTS [188221,188232]
                                        StringLiteral: "From" [188221,188227]
                                        StringLiteral: "," [188229,188232]
                    SimpleName: isEqualTo [188235,188244]
                    METHOD_INVOCATION_ARGUMENTS [188245,188273]
                        StringLiteral: "SonarQube <server@nowhere>" [188245,188273]
            ExpressionStatement [188281,188349]
                MethodInvocation [188281,188348]
                    METHOD_INVOCATION_RECEIVER [188281,188320]
                        MethodInvocation [188281,188320]
                            SimpleName: assertThat [188281,188291]
                            METHOD_INVOCATION_ARGUMENTS [188292,188319]
                                MethodInvocation [188292,188319]
                                    METHOD_INVOCATION_RECEIVER [188292,188297]
                                        SimpleName: email [188292,188297]
                                    SimpleName: getHeader [188298,188307]
                                    METHOD_INVOCATION_ARGUMENTS [188308,188318]
                                        StringLiteral: "To" [188308,188312]
                                        NullLiteral [188314,188318]
                    SimpleName: isEqualTo [188321,188330]
                    METHOD_INVOCATION_ARGUMENTS [188331,188347]
                        StringLiteral: "<user@nowhere>" [188331,188347]
            ExpressionStatement [188355,188453]
                MethodInvocation [188355,188452]
                    METHOD_INVOCATION_RECEIVER [188355,188399]
                        MethodInvocation [188355,188399]
                            SimpleName: assertThat [188355,188365]
                            METHOD_INVOCATION_ARGUMENTS [188366,188398]
                                MethodInvocation [188366,188398]
                                    METHOD_INVOCATION_RECEIVER [188366,188371]
                                        SimpleName: email [188366,188371]
                                    SimpleName: getHeader [188372,188381]
                                    METHOD_INVOCATION_ARGUMENTS [188382,188397]
                                        StringLiteral: "Subject" [188382,188391]
                                        NullLiteral [188393,188397]
                    SimpleName: isEqualTo [188400,188409]
                    METHOD_INVOCATION_ARGUMENTS [188410,188451]
                        StringLiteral: "[SONARQUBE] Test Message from SonarQube" [188410,188451]
            ExpressionStatement [188459,188552]
                MethodInvocation [188459,188551]
                    METHOD_INVOCATION_RECEIVER [188459,188498]
                        MethodInvocation [188459,188498]
                            SimpleName: assertThat [188459,188469]
                            METHOD_INVOCATION_ARGUMENTS [188470,188497]
                                CastExpression [188470,188497]
                                    SimpleType [188471,188477]
                                        SimpleName: String [188471,188477]
                                    MethodInvocation [188479,188497]
                                        METHOD_INVOCATION_RECEIVER [188479,188484]
                                            SimpleName: email [188479,188484]
                                        SimpleName: getContent [188485,188495]
                    SimpleName: startsWith [188499,188509]
                    METHOD_INVOCATION_ARGUMENTS [188510,188550]
                        StringLiteral: "This is a test message from SonarQube." [188510,188550]
    MethodDeclaration [188563,188885]
        MarkerAnnotation [188563,188568]
            SimpleName: Test [188564,188568]
        Modifier: public [188572,188578]
        PrimitiveType: void [188579,188583]
        SimpleName: shouldThrowAnExceptionWhenUnableToSendTestEmail [188584,188631]
        Block [188634,188885]
            ExpressionStatement [188641,188653]
                MethodInvocation [188641,188652]
                    SimpleName: configure [188641,188650]
            ExpressionStatement [188659,188673]
                MethodInvocation [188659,188672]
                    METHOD_INVOCATION_RECEIVER [188659,188665]
                        SimpleName: server [188659,188665]
                    SimpleName: stop [188666,188670]
            TryStatement [188681,188880]
                Block [188685,188827]
                    ExpressionStatement [188694,188805]
                        MethodInvocation [188694,188804]
                            METHOD_INVOCATION_RECEIVER [188694,188701]
                                SimpleName: channel [188694,188701]
                            SimpleName: sendTestEmail [188702,188715]
                            METHOD_INVOCATION_ARGUMENTS [188716,188803]
                                StringLiteral: "user@nowhere" [188716,188730]
                                StringLiteral: "Test Message from SonarQube" [188732,188761]
                                StringLiteral: "This is a test message from SonarQube." [188763,188803]
                    ExpressionStatement [188813,188820]
                        MethodInvocation [188813,188819]
                            SimpleName: fail [188813,188817]
                CatchClause [188828,188880]
                    SingleVariableDeclaration [188835,188851]
                        SimpleType [188835,188849]
                            SimpleName: EmailException [188835,188849]
                        SimpleName: e [188850,188851]
                    Block [188853,188880]
    MethodDeclaration [188891,189184]
        MarkerAnnotation [188891,188896]
            SimpleName: Test [188892,188896]
        Modifier: public [188900,188906]
        PrimitiveType: void [188907,188911]
        SimpleName: shouldNotSendEmailWhenHostnameNotConfigured [188912,188955]
        Block [188958,189184]
            VariableDeclarationStatement [188965,189094]
                SimpleType [188965,188977]
                    SimpleName: EmailMessage [188965,188977]
                VariableDeclarationFragment [188978,189093]
                    SimpleName: emailMessage [188978,188990]
                    MethodInvocation [188993,189093]
                        METHOD_INVOCATION_RECEIVER [188993,189067]
                            MethodInvocation [188993,189067]
                                METHOD_INVOCATION_RECEIVER [188993,189041]
                                    MethodInvocation [188993,189041]
                                        METHOD_INVOCATION_RECEIVER [188993,189011]
                                            ClassInstanceCreation [188993,189011]
                                                SimpleType [188997,189009]
                                                    SimpleName: EmailMessage [188997,189009]
                                        SimpleName: setTo [189020,189025]
                                        METHOD_INVOCATION_ARGUMENTS [189026,189040]
                                            StringLiteral: "user@nowhere" [189026,189040]
                                SimpleName: setSubject [189050,189060]
                                METHOD_INVOCATION_ARGUMENTS [189061,189066]
                                    StringLiteral: "Foo" [189061,189066]
                        SimpleName: setMessage [189076,189086]
                        METHOD_INVOCATION_ARGUMENTS [189087,189092]
                            StringLiteral: "Bar" [189087,189092]
            ExpressionStatement [189100,189130]
                MethodInvocation [189100,189129]
                    METHOD_INVOCATION_RECEIVER [189100,189107]
                        SimpleName: channel [189100,189107]
                    SimpleName: deliver [189108,189115]
                    METHOD_INVOCATION_ARGUMENTS [189116,189128]
                        SimpleName: emailMessage [189116,189128]
            ExpressionStatement [189136,189179]
                MethodInvocation [189136,189178]
                    METHOD_INVOCATION_RECEIVER [189136,189168]
                        MethodInvocation [189136,189168]
                            SimpleName: assertThat [189136,189146]
                            METHOD_INVOCATION_ARGUMENTS [189147,189167]
                                MethodInvocation [189147,189167]
                                    METHOD_INVOCATION_RECEIVER [189147,189153]
                                        SimpleName: server [189147,189153]
                                    SimpleName: getMessages [189154,189165]
                    SimpleName: isEmpty [189169,189176]
    MethodDeclaration [189190,190590]
        MarkerAnnotation [189190,189195]
            SimpleName: Test [189191,189195]
        Modifier: public [189199,189205]
        PrimitiveType: void [189206,189210]
        SimpleName: shouldSendThreadedEmail [189211,189234]
        SimpleType [189244,189253]
            SimpleName: Exception [189244,189253]
        Block [189254,190590]
            ExpressionStatement [189261,189273]
                MethodInvocation [189261,189272]
                    SimpleName: configure [189261,189270]
            VariableDeclarationStatement [189279,189516]
                SimpleType [189279,189291]
                    SimpleName: EmailMessage [189279,189291]
                VariableDeclarationFragment [189292,189515]
                    SimpleName: emailMessage [189292,189304]
                    MethodInvocation [189307,189515]
                        METHOD_INVOCATION_RECEIVER [189307,189459]
                            MethodInvocation [189307,189459]
                                METHOD_INVOCATION_RECEIVER [189307,189427]
                                    MethodInvocation [189307,189427]
                                        METHOD_INVOCATION_RECEIVER [189307,189397]
                                            MethodInvocation [189307,189397]
                                                METHOD_INVOCATION_RECEIVER [189307,189364]
                                                    MethodInvocation [189307,189364]
                                                        METHOD_INVOCATION_RECEIVER [189307,189325]
                                                            ClassInstanceCreation [189307,189325]
                                                                SimpleType [189311,189323]
                                                                    SimpleName: EmailMessage [189311,189323]
                                                        SimpleName: setMessageId [189334,189346]
                                                        METHOD_INVOCATION_ARGUMENTS [189347,189363]
                                                            StringLiteral: "reviews/view/1" [189347,189363]
                                                SimpleName: setFrom [189373,189380]
                                                METHOD_INVOCATION_ARGUMENTS [189381,189396]
                                                    StringLiteral: "Full Username" [189381,189396]
                                        SimpleName: setTo [189406,189411]
                                        METHOD_INVOCATION_ARGUMENTS [189412,189426]
                                            StringLiteral: "user@nowhere" [189412,189426]
                                SimpleName: setSubject [189436,189446]
                                METHOD_INVOCATION_ARGUMENTS [189447,189458]
                                    StringLiteral: "Review #3" [189447,189458]
                        SimpleName: setMessage [189468,189478]
                        METHOD_INVOCATION_ARGUMENTS [189479,189514]
                            StringLiteral: "I'll take care of this violation." [189479,189514]
            ExpressionStatement [189522,189552]
                MethodInvocation [189522,189551]
                    METHOD_INVOCATION_RECEIVER [189522,189529]
                        SimpleName: channel [189522,189529]
                    SimpleName: deliver [189530,189537]
                    METHOD_INVOCATION_ARGUMENTS [189538,189550]
                        SimpleName: emailMessage [189538,189550]
            VariableDeclarationStatement [189560,189611]
                ParameterizedType [189560,189578]
                    SimpleType [189560,189564]
                        SimpleName: List [189560,189564]
                    SimpleType [189565,189577]
                        SimpleName: WiserMessage [189565,189577]
                VariableDeclarationFragment [189579,189610]
                    SimpleName: messages [189579,189587]
                    MethodInvocation [189590,189610]
                        METHOD_INVOCATION_RECEIVER [189590,189596]
                            SimpleName: server [189590,189596]
                        SimpleName: getMessages [189597,189608]
            ExpressionStatement [189617,189649]
                MethodInvocation [189617,189648]
                    METHOD_INVOCATION_RECEIVER [189617,189637]
                        MethodInvocation [189617,189637]
                            SimpleName: assertThat [189617,189627]
                            METHOD_INVOCATION_ARGUMENTS [189628,189636]
                                SimpleName: messages [189628,189636]
                    SimpleName: hasSize [189638,189645]
                    METHOD_INVOCATION_ARGUMENTS [189646,189647]
                        NumberLiteral: 1 [189646,189647]
            VariableDeclarationStatement [189657,189710]
                SimpleType [189657,189668]
                    SimpleName: MimeMessage [189657,189668]
                VariableDeclarationFragment [189669,189709]
                    SimpleName: email [189669,189674]
                    MethodInvocation [189677,189709]
                        METHOD_INVOCATION_RECEIVER [189677,189692]
                            MethodInvocation [189677,189692]
                                METHOD_INVOCATION_RECEIVER [189677,189685]
                                    SimpleName: messages [189677,189685]
                                SimpleName: get [189686,189689]
                                METHOD_INVOCATION_ARGUMENTS [189690,189691]
                                    NumberLiteral: 0 [189690,189691]
                        SimpleName: getMimeMessage [189693,189707]
            ExpressionStatement [189718,189807]
                MethodInvocation [189718,189806]
                    METHOD_INVOCATION_RECEIVER [189718,189767]
                        MethodInvocation [189718,189767]
                            SimpleName: assertThat [189718,189728]
                            METHOD_INVOCATION_ARGUMENTS [189729,189766]
                                MethodInvocation [189729,189766]
                                    METHOD_INVOCATION_RECEIVER [189729,189734]
                                        SimpleName: email [189729,189734]
                                    SimpleName: getHeader [189735,189744]
                                    METHOD_INVOCATION_ARGUMENTS [189745,189765]
                                        StringLiteral: "Content-Type" [189745,189759]
                                        NullLiteral [189761,189765]
                    SimpleName: isEqualTo [189768,189777]
                    METHOD_INVOCATION_ARGUMENTS [189778,189805]
                        StringLiteral: "text/plain; charset=UTF-8" [189778,189805]
            ExpressionStatement [189815,189915]
                MethodInvocation [189815,189914]
                    METHOD_INVOCATION_RECEIVER [189815,189863]
                        MethodInvocation [189815,189863]
                            SimpleName: assertThat [189815,189825]
                            METHOD_INVOCATION_ARGUMENTS [189826,189862]
                                MethodInvocation [189826,189862]
                                    METHOD_INVOCATION_RECEIVER [189826,189831]
                                        SimpleName: email [189826,189831]
                                    SimpleName: getHeader [189832,189841]
                                    METHOD_INVOCATION_ARGUMENTS [189842,189861]
                                        StringLiteral: "In-Reply-To" [189842,189855]
                                        NullLiteral [189857,189861]
                    SimpleName: isEqualTo [189864,189873]
                    METHOD_INVOCATION_ARGUMENTS [189874,189913]
                        StringLiteral: "<reviews/view/1@nemo.sonarsource.org>" [189874,189913]
            ExpressionStatement [189921,190020]
                MethodInvocation [189921,190019]
                    METHOD_INVOCATION_RECEIVER [189921,189968]
                        MethodInvocation [189921,189968]
                            SimpleName: assertThat [189921,189931]
                            METHOD_INVOCATION_ARGUMENTS [189932,189967]
                                MethodInvocation [189932,189967]
                                    METHOD_INVOCATION_RECEIVER [189932,189937]
                                        SimpleName: email [189932,189937]
                                    SimpleName: getHeader [189938,189947]
                                    METHOD_INVOCATION_ARGUMENTS [189948,189966]
                                        StringLiteral: "References" [189948,189960]
                                        NullLiteral [189962,189966]
                    SimpleName: isEqualTo [189969,189978]
                    METHOD_INVOCATION_ARGUMENTS [189979,190018]
                        StringLiteral: "<reviews/view/1@nemo.sonarsource.org>" [189979,190018]
            ExpressionStatement [190028,190125]
                MethodInvocation [190028,190124]
                    METHOD_INVOCATION_RECEIVER [190028,190072]
                        MethodInvocation [190028,190072]
                            SimpleName: assertThat [190028,190038]
                            METHOD_INVOCATION_ARGUMENTS [190039,190071]
                                MethodInvocation [190039,190071]
                                    METHOD_INVOCATION_RECEIVER [190039,190044]
                                        SimpleName: email [190039,190044]
                                    SimpleName: getHeader [190045,190054]
                                    METHOD_INVOCATION_ARGUMENTS [190055,190070]
                                        StringLiteral: "List-ID" [190055,190064]
                                        NullLiteral [190066,190070]
                    SimpleName: isEqualTo [190073,190082]
                    METHOD_INVOCATION_ARGUMENTS [190083,190123]
                        StringLiteral: "SonarQube <sonar.nemo.sonarsource.org>" [190083,190123]
            ExpressionStatement [190131,190222]
                MethodInvocation [190131,190221]
                    METHOD_INVOCATION_RECEIVER [190131,190180]
                        MethodInvocation [190131,190180]
                            SimpleName: assertThat [190131,190141]
                            METHOD_INVOCATION_ARGUMENTS [190142,190179]
                                MethodInvocation [190142,190179]
                                    METHOD_INVOCATION_RECEIVER [190142,190147]
                                        SimpleName: email [190142,190147]
                                    SimpleName: getHeader [190148,190157]
                                    METHOD_INVOCATION_ARGUMENTS [190158,190178]
                                        StringLiteral: "List-Archive" [190158,190172]
                                        NullLiteral [190174,190178]
                    SimpleName: isEqualTo [190181,190190]
                    METHOD_INVOCATION_ARGUMENTS [190191,190220]
                        StringLiteral: "http://nemo.sonarsource.org" [190191,190220]
            ExpressionStatement [190230,190331]
                MethodInvocation [190230,190330]
                    METHOD_INVOCATION_RECEIVER [190230,190270]
                        MethodInvocation [190230,190270]
                            SimpleName: assertThat [190230,190240]
                            METHOD_INVOCATION_ARGUMENTS [190241,190269]
                                MethodInvocation [190241,190269]
                                    METHOD_INVOCATION_RECEIVER [190241,190246]
                                        SimpleName: email [190241,190246]
                                    SimpleName: getHeader [190247,190256]
                                    METHOD_INVOCATION_ARGUMENTS [190257,190268]
                                        StringLiteral: "From" [190257,190263]
                                        StringLiteral: "," [190265,190268]
                    SimpleName: isEqualTo [190271,190280]
                    METHOD_INVOCATION_ARGUMENTS [190281,190329]
                        StringLiteral: "\"Full Username (SonarQube)\" <server@nowhere>" [190281,190329]
            ExpressionStatement [190337,190405]
                MethodInvocation [190337,190404]
                    METHOD_INVOCATION_RECEIVER [190337,190376]
                        MethodInvocation [190337,190376]
                            SimpleName: assertThat [190337,190347]
                            METHOD_INVOCATION_ARGUMENTS [190348,190375]
                                MethodInvocation [190348,190375]
                                    METHOD_INVOCATION_RECEIVER [190348,190353]
                                        SimpleName: email [190348,190353]
                                    SimpleName: getHeader [190354,190363]
                                    METHOD_INVOCATION_ARGUMENTS [190364,190374]
                                        StringLiteral: "To" [190364,190368]
                                        NullLiteral [190370,190374]
                    SimpleName: isEqualTo [190377,190386]
                    METHOD_INVOCATION_ARGUMENTS [190387,190403]
                        StringLiteral: "<user@nowhere>" [190387,190403]
            ExpressionStatement [190411,190491]
                MethodInvocation [190411,190490]
                    METHOD_INVOCATION_RECEIVER [190411,190455]
                        MethodInvocation [190411,190455]
                            SimpleName: assertThat [190411,190421]
                            METHOD_INVOCATION_ARGUMENTS [190422,190454]
                                MethodInvocation [190422,190454]
                                    METHOD_INVOCATION_RECEIVER [190422,190427]
                                        SimpleName: email [190422,190427]
                                    SimpleName: getHeader [190428,190437]
                                    METHOD_INVOCATION_ARGUMENTS [190438,190453]
                                        StringLiteral: "Subject" [190438,190447]
                                        NullLiteral [190449,190453]
                    SimpleName: isEqualTo [190456,190465]
                    METHOD_INVOCATION_ARGUMENTS [190466,190489]
                        StringLiteral: "[SONARQUBE] Review #3" [190466,190489]
            ExpressionStatement [190497,190585]
                MethodInvocation [190497,190584]
                    METHOD_INVOCATION_RECEIVER [190497,190536]
                        MethodInvocation [190497,190536]
                            SimpleName: assertThat [190497,190507]
                            METHOD_INVOCATION_ARGUMENTS [190508,190535]
                                CastExpression [190508,190535]
                                    SimpleType [190509,190515]
                                        SimpleName: String [190509,190515]
                                    MethodInvocation [190517,190535]
                                        METHOD_INVOCATION_RECEIVER [190517,190522]
                                            SimpleName: email [190517,190522]
                                        SimpleName: getContent [190523,190533]
                    SimpleName: startsWith [190537,190547]
                    METHOD_INVOCATION_ARGUMENTS [190548,190583]
                        StringLiteral: "I'll take care of this violation." [190548,190583]
    MethodDeclaration [190596,191752]
        MarkerAnnotation [190596,190601]
            SimpleName: Test [190597,190601]
        Modifier: public [190605,190611]
        PrimitiveType: void [190612,190616]
        SimpleName: shouldSendNonThreadedEmail [190617,190643]
        SimpleType [190653,190662]
            SimpleName: Exception [190653,190662]
        Block [190663,191752]
            ExpressionStatement [190670,190682]
                MethodInvocation [190670,190681]
                    SimpleName: configure [190670,190679]
            VariableDeclarationStatement [190688,190817]
                SimpleType [190688,190700]
                    SimpleName: EmailMessage [190688,190700]
                VariableDeclarationFragment [190701,190816]
                    SimpleName: emailMessage [190701,190713]
                    MethodInvocation [190716,190816]
                        METHOD_INVOCATION_RECEIVER [190716,190790]
                            MethodInvocation [190716,190790]
                                METHOD_INVOCATION_RECEIVER [190716,190764]
                                    MethodInvocation [190716,190764]
                                        METHOD_INVOCATION_RECEIVER [190716,190734]
                                            ClassInstanceCreation [190716,190734]
                                                SimpleType [190720,190732]
                                                    SimpleName: EmailMessage [190720,190732]
                                        SimpleName: setTo [190743,190748]
                                        METHOD_INVOCATION_ARGUMENTS [190749,190763]
                                            StringLiteral: "user@nowhere" [190749,190763]
                                SimpleName: setSubject [190773,190783]
                                METHOD_INVOCATION_ARGUMENTS [190784,190789]
                                    StringLiteral: "Foo" [190784,190789]
                        SimpleName: setMessage [190799,190809]
                        METHOD_INVOCATION_ARGUMENTS [190810,190815]
                            StringLiteral: "Bar" [190810,190815]
            ExpressionStatement [190823,190853]
                MethodInvocation [190823,190852]
                    METHOD_INVOCATION_RECEIVER [190823,190830]
                        SimpleName: channel [190823,190830]
                    SimpleName: deliver [190831,190838]
                    METHOD_INVOCATION_ARGUMENTS [190839,190851]
                        SimpleName: emailMessage [190839,190851]
            VariableDeclarationStatement [190861,190912]
                ParameterizedType [190861,190879]
                    SimpleType [190861,190865]
                        SimpleName: List [190861,190865]
                    SimpleType [190866,190878]
                        SimpleName: WiserMessage [190866,190878]
                VariableDeclarationFragment [190880,190911]
                    SimpleName: messages [190880,190888]
                    MethodInvocation [190891,190911]
                        METHOD_INVOCATION_RECEIVER [190891,190897]
                            SimpleName: server [190891,190897]
                        SimpleName: getMessages [190898,190909]
            ExpressionStatement [190918,190950]
                MethodInvocation [190918,190949]
                    METHOD_INVOCATION_RECEIVER [190918,190938]
                        MethodInvocation [190918,190938]
                            SimpleName: assertThat [190918,190928]
                            METHOD_INVOCATION_ARGUMENTS [190929,190937]
                                SimpleName: messages [190929,190937]
                    SimpleName: hasSize [190939,190946]
                    METHOD_INVOCATION_ARGUMENTS [190947,190948]
                        NumberLiteral: 1 [190947,190948]
            VariableDeclarationStatement [190958,191011]
                SimpleType [190958,190969]
                    SimpleName: MimeMessage [190958,190969]
                VariableDeclarationFragment [190970,191010]
                    SimpleName: email [190970,190975]
                    MethodInvocation [190978,191010]
                        METHOD_INVOCATION_RECEIVER [190978,190993]
                            MethodInvocation [190978,190993]
                                METHOD_INVOCATION_RECEIVER [190978,190986]
                                    SimpleName: messages [190978,190986]
                                SimpleName: get [190987,190990]
                                METHOD_INVOCATION_ARGUMENTS [190991,190992]
                                    NumberLiteral: 0 [190991,190992]
                        SimpleName: getMimeMessage [190994,191008]
            ExpressionStatement [191019,191108]
                MethodInvocation [191019,191107]
                    METHOD_INVOCATION_RECEIVER [191019,191068]
                        MethodInvocation [191019,191068]
                            SimpleName: assertThat [191019,191029]
                            METHOD_INVOCATION_ARGUMENTS [191030,191067]
                                MethodInvocation [191030,191067]
                                    METHOD_INVOCATION_RECEIVER [191030,191035]
                                        SimpleName: email [191030,191035]
                                    SimpleName: getHeader [191036,191045]
                                    METHOD_INVOCATION_ARGUMENTS [191046,191066]
                                        StringLiteral: "Content-Type" [191046,191060]
                                        NullLiteral [191062,191066]
                    SimpleName: isEqualTo [191069,191078]
                    METHOD_INVOCATION_ARGUMENTS [191079,191106]
                        StringLiteral: "text/plain; charset=UTF-8" [191079,191106]
            ExpressionStatement [191116,191174]
                MethodInvocation [191116,191173]
                    METHOD_INVOCATION_RECEIVER [191116,191164]
                        MethodInvocation [191116,191164]
                            SimpleName: assertThat [191116,191126]
                            METHOD_INVOCATION_ARGUMENTS [191127,191163]
                                MethodInvocation [191127,191163]
                                    METHOD_INVOCATION_RECEIVER [191127,191132]
                                        SimpleName: email [191127,191132]
                                    SimpleName: getHeader [191133,191142]
                                    METHOD_INVOCATION_ARGUMENTS [191143,191162]
                                        StringLiteral: "In-Reply-To" [191143,191156]
                                        NullLiteral [191158,191162]
                    SimpleName: isNull [191165,191171]
            ExpressionStatement [191180,191237]
                MethodInvocation [191180,191236]
                    METHOD_INVOCATION_RECEIVER [191180,191227]
                        MethodInvocation [191180,191227]
                            SimpleName: assertThat [191180,191190]
                            METHOD_INVOCATION_ARGUMENTS [191191,191226]
                                MethodInvocation [191191,191226]
                                    METHOD_INVOCATION_RECEIVER [191191,191196]
                                        SimpleName: email [191191,191196]
                                    SimpleName: getHeader [191197,191206]
                                    METHOD_INVOCATION_ARGUMENTS [191207,191225]
                                        StringLiteral: "References" [191207,191219]
                                        NullLiteral [191221,191225]
                    SimpleName: isNull [191228,191234]
            ExpressionStatement [191245,191342]
                MethodInvocation [191245,191341]
                    METHOD_INVOCATION_RECEIVER [191245,191289]
                        MethodInvocation [191245,191289]
                            SimpleName: assertThat [191245,191255]
                            METHOD_INVOCATION_ARGUMENTS [191256,191288]
                                MethodInvocation [191256,191288]
                                    METHOD_INVOCATION_RECEIVER [191256,191261]
                                        SimpleName: email [191256,191261]
                                    SimpleName: getHeader [191262,191271]
                                    METHOD_INVOCATION_ARGUMENTS [191272,191287]
                                        StringLiteral: "List-ID" [191272,191281]
                                        NullLiteral [191283,191287]
                    SimpleName: isEqualTo [191290,191299]
                    METHOD_INVOCATION_ARGUMENTS [191300,191340]
                        StringLiteral: "SonarQube <sonar.nemo.sonarsource.org>" [191300,191340]
            ExpressionStatement [191348,191439]
                MethodInvocation [191348,191438]
                    METHOD_INVOCATION_RECEIVER [191348,191397]
                        MethodInvocation [191348,191397]
                            SimpleName: assertThat [191348,191358]
                            METHOD_INVOCATION_ARGUMENTS [191359,191396]
                                MethodInvocation [191359,191396]
                                    METHOD_INVOCATION_RECEIVER [191359,191364]
                                        SimpleName: email [191359,191364]
                                    SimpleName: getHeader [191365,191374]
                                    METHOD_INVOCATION_ARGUMENTS [191375,191395]
                                        StringLiteral: "List-Archive" [191375,191389]
                                        NullLiteral [191391,191395]
                    SimpleName: isEqualTo [191398,191407]
                    METHOD_INVOCATION_ARGUMENTS [191408,191437]
                        StringLiteral: "http://nemo.sonarsource.org" [191408,191437]
            ExpressionStatement [191447,191529]
                MethodInvocation [191447,191528]
                    METHOD_INVOCATION_RECEIVER [191447,191488]
                        MethodInvocation [191447,191488]
                            SimpleName: assertThat [191447,191457]
                            METHOD_INVOCATION_ARGUMENTS [191458,191487]
                                MethodInvocation [191458,191487]
                                    METHOD_INVOCATION_RECEIVER [191458,191463]
                                        SimpleName: email [191458,191463]
                                    SimpleName: getHeader [191464,191473]
                                    METHOD_INVOCATION_ARGUMENTS [191474,191486]
                                        StringLiteral: "From" [191474,191480]
                                        NullLiteral [191482,191486]
                    SimpleName: isEqualTo [191489,191498]
                    METHOD_INVOCATION_ARGUMENTS [191499,191527]
                        StringLiteral: "SonarQube <server@nowhere>" [191499,191527]
            ExpressionStatement [191535,191603]
                MethodInvocation [191535,191602]
                    METHOD_INVOCATION_RECEIVER [191535,191574]
                        MethodInvocation [191535,191574]
                            SimpleName: assertThat [191535,191545]
                            METHOD_INVOCATION_ARGUMENTS [191546,191573]
                                MethodInvocation [191546,191573]
                                    METHOD_INVOCATION_RECEIVER [191546,191551]
                                        SimpleName: email [191546,191551]
                                    SimpleName: getHeader [191552,191561]
                                    METHOD_INVOCATION_ARGUMENTS [191562,191572]
                                        StringLiteral: "To" [191562,191566]
                                        NullLiteral [191568,191572]
                    SimpleName: isEqualTo [191575,191584]
                    METHOD_INVOCATION_ARGUMENTS [191585,191601]
                        StringLiteral: "<user@nowhere>" [191585,191601]
            ExpressionStatement [191609,191683]
                MethodInvocation [191609,191682]
                    METHOD_INVOCATION_RECEIVER [191609,191653]
                        MethodInvocation [191609,191653]
                            SimpleName: assertThat [191609,191619]
                            METHOD_INVOCATION_ARGUMENTS [191620,191652]
                                MethodInvocation [191620,191652]
                                    METHOD_INVOCATION_RECEIVER [191620,191625]
                                        SimpleName: email [191620,191625]
                                    SimpleName: getHeader [191626,191635]
                                    METHOD_INVOCATION_ARGUMENTS [191636,191651]
                                        StringLiteral: "Subject" [191636,191645]
                                        NullLiteral [191647,191651]
                    SimpleName: isEqualTo [191654,191663]
                    METHOD_INVOCATION_ARGUMENTS [191664,191681]
                        StringLiteral: "[SONARQUBE] Foo" [191664,191681]
            ExpressionStatement [191689,191747]
                MethodInvocation [191689,191746]
                    METHOD_INVOCATION_RECEIVER [191689,191728]
                        MethodInvocation [191689,191728]
                            SimpleName: assertThat [191689,191699]
                            METHOD_INVOCATION_ARGUMENTS [191700,191727]
                                CastExpression [191700,191727]
                                    SimpleType [191701,191707]
                                        SimpleName: String [191701,191707]
                                    MethodInvocation [191709,191727]
                                        METHOD_INVOCATION_RECEIVER [191709,191714]
                                            SimpleName: email [191709,191714]
                                        SimpleName: getContent [191715,191725]
                    SimpleName: startsWith [191729,191739]
                    METHOD_INVOCATION_ARGUMENTS [191740,191745]
                        StringLiteral: "Bar" [191740,191745]
    MethodDeclaration [191758,192045]
        MarkerAnnotation [191758,191763]
            SimpleName: Test [191759,191763]
        Modifier: public [191767,191773]
        PrimitiveType: void [191774,191778]
        SimpleName: shouldNotThrowAnExceptionWhenUnableToSendEmail [191779,191825]
        Block [191828,192045]
            ExpressionStatement [191835,191847]
                MethodInvocation [191835,191846]
                    SimpleName: configure [191835,191844]
            ExpressionStatement [191853,191867]
                MethodInvocation [191853,191866]
                    METHOD_INVOCATION_RECEIVER [191853,191859]
                        SimpleName: server [191853,191859]
                    SimpleName: stop [191860,191864]
            VariableDeclarationStatement [191875,192004]
                SimpleType [191875,191887]
                    SimpleName: EmailMessage [191875,191887]
                VariableDeclarationFragment [191888,192003]
                    SimpleName: emailMessage [191888,191900]
                    MethodInvocation [191903,192003]
                        METHOD_INVOCATION_RECEIVER [191903,191977]
                            MethodInvocation [191903,191977]
                                METHOD_INVOCATION_RECEIVER [191903,191951]
                                    MethodInvocation [191903,191951]
                                        METHOD_INVOCATION_RECEIVER [191903,191921]
                                            ClassInstanceCreation [191903,191921]
                                                SimpleType [191907,191919]
                                                    SimpleName: EmailMessage [191907,191919]
                                        SimpleName: setTo [191930,191935]
                                        METHOD_INVOCATION_ARGUMENTS [191936,191950]
                                            StringLiteral: "user@nowhere" [191936,191950]
                                SimpleName: setSubject [191960,191970]
                                METHOD_INVOCATION_ARGUMENTS [191971,191976]
                                    StringLiteral: "Foo" [191971,191976]
                        SimpleName: setMessage [191986,191996]
                        METHOD_INVOCATION_ARGUMENTS [191997,192002]
                            StringLiteral: "Bar" [191997,192002]
            ExpressionStatement [192010,192040]
                MethodInvocation [192010,192039]
                    METHOD_INVOCATION_RECEIVER [192010,192017]
                        SimpleName: channel [192010,192017]
                    SimpleName: deliver [192018,192025]
                    METHOD_INVOCATION_ARGUMENTS [192026,192038]
                        SimpleName: emailMessage [192026,192038]
    MethodDeclaration [192051,192709]
        MarkerAnnotation [192051,192056]
            SimpleName: Test [192052,192056]
        Modifier: public [192060,192066]
        PrimitiveType: void [192067,192071]
        SimpleName: shouldSendTestEmailWithSTARTTLS [192072,192103]
        Block [192106,192709]
            ExpressionStatement [192113,192151]
                MethodInvocation [192113,192150]
                    METHOD_INVOCATION_RECEIVER [192113,192131]
                        MethodInvocation [192113,192131]
                            METHOD_INVOCATION_RECEIVER [192113,192119]
                                SimpleName: server [192113,192119]
                            SimpleName: getServer [192120,192129]
                    SimpleName: setEnableTLS [192132,192144]
                    METHOD_INVOCATION_ARGUMENTS [192145,192149]
                        BooleanLiteral: true [192145,192149]
            ExpressionStatement [192157,192196]
                MethodInvocation [192157,192195]
                    METHOD_INVOCATION_RECEIVER [192157,192175]
                        MethodInvocation [192157,192175]
                            METHOD_INVOCATION_RECEIVER [192157,192163]
                                SimpleName: server [192157,192163]
                            SimpleName: getServer [192164,192173]
                    SimpleName: setRequireTLS [192176,192189]
                    METHOD_INVOCATION_ARGUMENTS [192190,192194]
                        BooleanLiteral: true [192190,192194]
            ExpressionStatement [192202,192214]
                MethodInvocation [192202,192213]
                    SimpleName: configure [192202,192211]
            ExpressionStatement [192220,192285]
                MethodInvocation [192220,192284]
                    METHOD_INVOCATION_RECEIVER [192220,192261]
                        MethodInvocation [192220,192261]
                            SimpleName: when [192220,192224]
                            METHOD_INVOCATION_ARGUMENTS [192225,192260]
                                MethodInvocation [192225,192260]
                                    METHOD_INVOCATION_RECEIVER [192225,192238]
                                        SimpleName: configuration [192225,192238]
                                    SimpleName: getSecureConnection [192239,192258]
                    SimpleName: thenReturn [192262,192272]
                    METHOD_INVOCATION_ARGUMENTS [192273,192283]
                        StringLiteral: "STARTTLS" [192273,192283]
            TryStatement [192293,192704]
                Block [192297,192505]
                    ExpressionStatement [192306,192417]
                        MethodInvocation [192306,192416]
                            METHOD_INVOCATION_RECEIVER [192306,192313]
                                SimpleName: channel [192306,192313]
                            SimpleName: sendTestEmail [192314,192327]
                            METHOD_INVOCATION_ARGUMENTS [192328,192415]
                                StringLiteral: "user@nowhere" [192328,192342]
                                StringLiteral: "Test Message from SonarQube" [192344,192373]
                                StringLiteral: "This is a test message from SonarQube." [192375,192415]
                    ExpressionStatement [192425,192498]
                        MethodInvocation [192425,192497]
                            SimpleName: fail [192425,192429]
                            METHOD_INVOCATION_ARGUMENTS [192430,192496]
                                StringLiteral: "An SSL exception was expected a a proof that STARTTLS is enabled" [192430,192496]
                CatchClause [192506,192704]
                    SingleVariableDeclaration [192513,192529]
                        SimpleType [192513,192527]
                            SimpleName: EmailException [192513,192527]
                        SimpleName: e [192528,192529]
                    Block [192531,192704]
                        ExpressionStatement [192614,192697]
                            MethodInvocation [192614,192696]
                                METHOD_INVOCATION_RECEIVER [192614,192651]
                                    MethodInvocation [192614,192651]
                                        SimpleName: assertThat [192614,192624]
                                        METHOD_INVOCATION_ARGUMENTS [192625,192650]
                                            MethodInvocation [192625,192650]
                                                METHOD_INVOCATION_RECEIVER [192625,192637]
                                                    MethodInvocation [192625,192637]
                                                        METHOD_INVOCATION_RECEIVER [192625,192626]
                                                            SimpleName: e [192625,192626]
                                                        SimpleName: getCause [192627,192635]
                                                SimpleName: getMessage [192638,192648]
                                SimpleName: isEqualTo [192652,192661]
                                METHOD_INVOCATION_ARGUMENTS [192662,192695]
                                    StringLiteral: "Could not convert socket to TLS" [192662,192695]
    MethodDeclaration [192715,193083]
        Modifier: private [192715,192722]
        PrimitiveType: void [192723,192727]
        SimpleName: configure [192728,192737]
        Block [192740,193083]
            ExpressionStatement [192747,192805]
                MethodInvocation [192747,192804]
                    METHOD_INVOCATION_RECEIVER [192747,192780]
                        MethodInvocation [192747,192780]
                            SimpleName: when [192747,192751]
                            METHOD_INVOCATION_ARGUMENTS [192752,192779]
                                MethodInvocation [192752,192779]
                                    METHOD_INVOCATION_RECEIVER [192752,192765]
                                        SimpleName: configuration [192752,192765]
                                    SimpleName: getSmtpHost [192766,192777]
                    SimpleName: thenReturn [192781,192791]
                    METHOD_INVOCATION_ARGUMENTS [192792,192803]
                        StringLiteral: "localhost" [192792,192803]
            ExpressionStatement [192811,192862]
                MethodInvocation [192811,192861]
                    METHOD_INVOCATION_RECEIVER [192811,192844]
                        MethodInvocation [192811,192844]
                            SimpleName: when [192811,192815]
                            METHOD_INVOCATION_ARGUMENTS [192816,192843]
                                MethodInvocation [192816,192843]
                                    METHOD_INVOCATION_RECEIVER [192816,192829]
                                        SimpleName: configuration [192816,192829]
                                    SimpleName: getSmtpPort [192830,192841]
                    SimpleName: thenReturn [192845,192855]
                    METHOD_INVOCATION_ARGUMENTS [192856,192860]
                        SimpleName: port [192856,192860]
            ExpressionStatement [192868,192927]
                MethodInvocation [192868,192926]
                    METHOD_INVOCATION_RECEIVER [192868,192897]
                        MethodInvocation [192868,192897]
                            SimpleName: when [192868,192872]
                            METHOD_INVOCATION_ARGUMENTS [192873,192896]
                                MethodInvocation [192873,192896]
                                    METHOD_INVOCATION_RECEIVER [192873,192886]
                                        SimpleName: configuration [192873,192886]
                                    SimpleName: getFrom [192887,192894]
                    SimpleName: thenReturn [192898,192908]
                    METHOD_INVOCATION_ARGUMENTS [192909,192925]
                        StringLiteral: "server@nowhere" [192909,192925]
            ExpressionStatement [192933,192991]
                MethodInvocation [192933,192990]
                    METHOD_INVOCATION_RECEIVER [192933,192964]
                        MethodInvocation [192933,192964]
                            SimpleName: when [192933,192937]
                            METHOD_INVOCATION_ARGUMENTS [192938,192963]
                                MethodInvocation [192938,192963]
                                    METHOD_INVOCATION_RECEIVER [192938,192951]
                                        SimpleName: configuration [192938,192951]
                                    SimpleName: getPrefix [192952,192961]
                    SimpleName: thenReturn [192965,192975]
                    METHOD_INVOCATION_ARGUMENTS [192976,192989]
                        StringLiteral: "[SONARQUBE]" [192976,192989]
            ExpressionStatement [192997,193078]
                MethodInvocation [192997,193077]
                    METHOD_INVOCATION_RECEIVER [192997,193035]
                        MethodInvocation [192997,193035]
                            SimpleName: when [192997,193001]
                            METHOD_INVOCATION_ARGUMENTS [193002,193034]
                                MethodInvocation [193002,193034]
                                    METHOD_INVOCATION_RECEIVER [193002,193015]
                                        SimpleName: configuration [193002,193015]
                                    SimpleName: getServerBaseURL [193016,193032]
                    SimpleName: thenReturn [193036,193046]
                    METHOD_INVOCATION_ARGUMENTS [193047,193076]
                        StringLiteral: "http://nemo.sonarsource.org" [193047,193076]
to
CompilationUnit [0,107451]
at 823
===
insert-node
---
Modifier: public [167564,167570]
to
TypeDeclaration [167564,176639]
at 0
===
insert-node
---
TYPE_DECLARATION_KIND: class [167571,167576]
to
TypeDeclaration [167564,176639]
at 1
===
insert-node
---
SimpleName: NotificationServiceTest [167577,167600]
to
TypeDeclaration [167564,176639]
at 2
===
insert-tree
---
FieldDeclaration [167606,167652]
    Modifier: private [167606,167613]
    Modifier: static [167614,167620]
    SimpleType [167621,167627]
        SimpleName: String [167621,167627]
    VariableDeclarationFragment [167628,167651]
        SimpleName: CREATOR_SIMON [167628,167641]
        StringLiteral: "simon" [167644,167651]
to
TypeDeclaration [167564,176639]
at 3
===
insert-tree
---
FieldDeclaration [167656,167704]
    Modifier: private [167656,167663]
    Modifier: static [167664,167670]
    SimpleType [167671,167677]
        SimpleName: String [167671,167677]
    VariableDeclarationFragment [167678,167703]
        SimpleName: CREATOR_EVGENY [167678,167692]
        StringLiteral: "evgeny" [167695,167703]
to
TypeDeclaration [167564,176639]
at 4
===
insert-tree
---
FieldDeclaration [167708,167755]
    Modifier: private [167708,167715]
    Modifier: static [167716,167722]
    SimpleType [167723,167729]
        SimpleName: String [167723,167729]
    VariableDeclarationFragment [167730,167754]
        SimpleName: ASSIGNEE_SIMON [167730,167744]
        StringLiteral: "simon" [167747,167754]
to
TypeDeclaration [167564,176639]
at 5
===
insert-node
---
FieldDeclaration [167761,167837]
to
TypeDeclaration [167564,176639]
at 6
===
insert-tree
---
FieldDeclaration [167841,167894]
    SimpleType [167841,167853]
        SimpleName: Notification [167841,167853]
    VariableDeclarationFragment [167854,167893]
        SimpleName: notification [167854,167866]
        MethodInvocation [167869,167893]
            SimpleName: mock [167869,167873]
            METHOD_INVOCATION_ARGUMENTS [167874,167892]
                TypeLiteral [167874,167892]
                    SimpleType [167874,167886]
                        SimpleName: Notification [167874,167886]
to
TypeDeclaration [167564,176639]
at 7
===
insert-tree
---
FieldDeclaration [167898,167965]
    SimpleType [167898,167917]
        SimpleName: NotificationChannel [167898,167917]
    VariableDeclarationFragment [167918,167964]
        SimpleName: emailChannel [167918,167930]
        MethodInvocation [167933,167964]
            SimpleName: mock [167933,167937]
            METHOD_INVOCATION_ARGUMENTS [167938,167963]
                TypeLiteral [167938,167963]
                    SimpleType [167938,167957]
                        SimpleName: NotificationChannel [167938,167957]
to
TypeDeclaration [167564,176639]
at 8
===
insert-tree
---
FieldDeclaration [167969,168036]
    SimpleType [167969,167988]
        SimpleName: NotificationChannel [167969,167988]
    VariableDeclarationFragment [167989,168035]
        SimpleName: gtalkChannel [167989,168001]
        MethodInvocation [168004,168035]
            SimpleName: mock [168004,168008]
            METHOD_INVOCATION_ARGUMENTS [168009,168034]
                TypeLiteral [168009,168034]
                    SimpleType [168009,168028]
                        SimpleName: NotificationChannel [168009,168028]
to
TypeDeclaration [167564,176639]
at 9
===
insert-tree
---
FieldDeclaration [168040,168127]
    SimpleType [168040,168062]
        SimpleName: NotificationDispatcher [168040,168062]
    VariableDeclarationFragment [168063,168126]
        SimpleName: commentOnIssueAssignedToMe [168063,168089]
        MethodInvocation [168092,168126]
            SimpleName: mock [168092,168096]
            METHOD_INVOCATION_ARGUMENTS [168097,168125]
                TypeLiteral [168097,168125]
                    SimpleType [168097,168119]
                        SimpleName: NotificationDispatcher [168097,168119]
to
TypeDeclaration [167564,176639]
at 10
===
insert-tree
---
FieldDeclaration [168131,168217]
    SimpleType [168131,168153]
        SimpleName: NotificationDispatcher [168131,168153]
    VariableDeclarationFragment [168154,168216]
        SimpleName: commentOnIssueCreatedByMe [168154,168179]
        MethodInvocation [168182,168216]
            SimpleName: mock [168182,168186]
            METHOD_INVOCATION_ARGUMENTS [168187,168215]
                TypeLiteral [168187,168215]
                    SimpleType [168187,168209]
                        SimpleName: NotificationDispatcher [168187,168209]
to
TypeDeclaration [167564,176639]
at 11
===
insert-tree
---
FieldDeclaration [168221,168299]
    SimpleType [168221,168243]
        SimpleName: NotificationDispatcher [168221,168243]
    VariableDeclarationFragment [168244,168298]
        SimpleName: qualityGateChange [168244,168261]
        MethodInvocation [168264,168298]
            SimpleName: mock [168264,168268]
            METHOD_INVOCATION_ARGUMENTS [168269,168297]
                TypeLiteral [168269,168297]
                    SimpleType [168269,168291]
                        SimpleName: NotificationDispatcher [168269,168291]
to
TypeDeclaration [167564,176639]
at 12
===
insert-tree
---
FieldDeclaration [168303,168344]
    SimpleType [168303,168311]
        SimpleName: DbClient [168303,168311]
    VariableDeclarationFragment [168312,168343]
        SimpleName: dbClient [168312,168320]
        MethodInvocation [168323,168343]
            SimpleName: mock [168323,168327]
            METHOD_INVOCATION_ARGUMENTS [168328,168342]
                TypeLiteral [168328,168342]
                    SimpleType [168328,168336]
                        SimpleName: DbClient [168328,168336]
to
TypeDeclaration [167564,176639]
at 13
===
insert-tree
---
FieldDeclaration [168350,168386]
    Modifier: private [168350,168357]
    SimpleType [168358,168377]
        SimpleName: NotificationService [168358,168377]
    VariableDeclarationFragment [168378,168385]
        SimpleName: service [168378,168385]
to
TypeDeclaration [167564,176639]
at 14
===
insert-tree
---
MethodDeclaration [168392,169385]
    Modifier: private [168392,168399]
    PrimitiveType: void [168400,168404]
    SimpleName: setUpMocks [168405,168415]
    Block [168418,169385]
        ExpressionStatement [168425,168473]
            MethodInvocation [168425,168472]
                METHOD_INVOCATION_RECEIVER [168425,168452]
                    MethodInvocation [168425,168452]
                        SimpleName: when [168425,168429]
                        METHOD_INVOCATION_ARGUMENTS [168430,168451]
                            MethodInvocation [168430,168451]
                                METHOD_INVOCATION_RECEIVER [168430,168442]
                                    SimpleName: emailChannel [168430,168442]
                                SimpleName: getKey [168443,168449]
                SimpleName: thenReturn [168453,168463]
                METHOD_INVOCATION_ARGUMENTS [168464,168471]
                    StringLiteral: "email" [168464,168471]
        ExpressionStatement [168479,168527]
            MethodInvocation [168479,168526]
                METHOD_INVOCATION_RECEIVER [168479,168506]
                    MethodInvocation [168479,168506]
                        SimpleName: when [168479,168483]
                        METHOD_INVOCATION_ARGUMENTS [168484,168505]
                            MethodInvocation [168484,168505]
                                METHOD_INVOCATION_RECEIVER [168484,168496]
                                    SimpleName: gtalkChannel [168484,168496]
                                SimpleName: getKey [168497,168503]
                SimpleName: thenReturn [168507,168517]
                METHOD_INVOCATION_ARGUMENTS [168518,168525]
                    StringLiteral: "gtalk" [168518,168525]
        ExpressionStatement [168533,168616]
            MethodInvocation [168533,168615]
                METHOD_INVOCATION_RECEIVER [168533,168574]
                    MethodInvocation [168533,168574]
                        SimpleName: when [168533,168537]
                        METHOD_INVOCATION_ARGUMENTS [168538,168573]
                            MethodInvocation [168538,168573]
                                METHOD_INVOCATION_RECEIVER [168538,168564]
                                    SimpleName: commentOnIssueAssignedToMe [168538,168564]
                                SimpleName: getKey [168565,168571]
                SimpleName: thenReturn [168575,168585]
                METHOD_INVOCATION_ARGUMENTS [168586,168614]
                    StringLiteral: "CommentOnIssueAssignedToMe" [168586,168614]
        ExpressionStatement [168622,168693]
            MethodInvocation [168622,168692]
                METHOD_INVOCATION_RECEIVER [168622,168664]
                    MethodInvocation [168622,168664]
                        SimpleName: when [168622,168626]
                        METHOD_INVOCATION_ARGUMENTS [168627,168663]
                            MethodInvocation [168627,168663]
                                METHOD_INVOCATION_RECEIVER [168627,168653]
                                    SimpleName: commentOnIssueAssignedToMe [168627,168653]
                                SimpleName: getType [168654,168661]
                SimpleName: thenReturn [168665,168675]
                METHOD_INVOCATION_ARGUMENTS [168676,168691]
                    StringLiteral: "issue-changes" [168676,168691]
        ExpressionStatement [168699,168780]
            MethodInvocation [168699,168779]
                METHOD_INVOCATION_RECEIVER [168699,168739]
                    MethodInvocation [168699,168739]
                        SimpleName: when [168699,168703]
                        METHOD_INVOCATION_ARGUMENTS [168704,168738]
                            MethodInvocation [168704,168738]
                                METHOD_INVOCATION_RECEIVER [168704,168729]
                                    SimpleName: commentOnIssueCreatedByMe [168704,168729]
                                SimpleName: getKey [168730,168736]
                SimpleName: thenReturn [168740,168750]
                METHOD_INVOCATION_ARGUMENTS [168751,168778]
                    StringLiteral: "CommentOnIssueCreatedByMe" [168751,168778]
        ExpressionStatement [168786,168856]
            MethodInvocation [168786,168855]
                METHOD_INVOCATION_RECEIVER [168786,168827]
                    MethodInvocation [168786,168827]
                        SimpleName: when [168786,168790]
                        METHOD_INVOCATION_ARGUMENTS [168791,168826]
                            MethodInvocation [168791,168826]
                                METHOD_INVOCATION_RECEIVER [168791,168816]
                                    SimpleName: commentOnIssueCreatedByMe [168791,168816]
                                SimpleName: getType [168817,168824]
                SimpleName: thenReturn [168828,168838]
                METHOD_INVOCATION_ARGUMENTS [168839,168854]
                    StringLiteral: "issue-changes" [168839,168854]
        ExpressionStatement [168862,168921]
            MethodInvocation [168862,168920]
                METHOD_INVOCATION_RECEIVER [168862,168894]
                    MethodInvocation [168862,168894]
                        SimpleName: when [168862,168866]
                        METHOD_INVOCATION_ARGUMENTS [168867,168893]
                            MethodInvocation [168867,168893]
                                METHOD_INVOCATION_RECEIVER [168867,168884]
                                    SimpleName: qualityGateChange [168867,168884]
                                SimpleName: getKey [168885,168891]
                SimpleName: thenReturn [168895,168905]
                METHOD_INVOCATION_ARGUMENTS [168906,168919]
                    StringLiteral: "QGateChange" [168906,168919]
        ExpressionStatement [168927,168989]
            MethodInvocation [168927,168988]
                METHOD_INVOCATION_RECEIVER [168927,168960]
                    MethodInvocation [168927,168960]
                        SimpleName: when [168927,168931]
                        METHOD_INVOCATION_ARGUMENTS [168932,168959]
                            MethodInvocation [168932,168959]
                                METHOD_INVOCATION_RECEIVER [168932,168949]
                                    SimpleName: qualityGateChange [168932,168949]
                                SimpleName: getType [168950,168957]
                SimpleName: thenReturn [168961,168971]
                METHOD_INVOCATION_ARGUMENTS [168972,168987]
                    StringLiteral: "qgate-changes" [168972,168987]
        ExpressionStatement [168995,169066]
            MethodInvocation [168995,169065]
                METHOD_INVOCATION_RECEIVER [168995,169048]
                    MethodInvocation [168995,169048]
                        METHOD_INVOCATION_RECEIVER [168995,169023]
                            MethodInvocation [168995,169023]
                                SimpleName: when [168995,168999]
                                METHOD_INVOCATION_ARGUMENTS [169000,169022]
                                    MethodInvocation [169000,169022]
                                        METHOD_INVOCATION_RECEIVER [169000,169007]
                                            SimpleName: manager [169000,169007]
                                        SimpleName: getFromQueue [169008,169020]
                        SimpleName: thenReturn [169024,169034]
                        METHOD_INVOCATION_ARGUMENTS [169035,169047]
                            SimpleName: notification [169035,169047]
                SimpleName: thenReturn [169049,169059]
                METHOD_INVOCATION_ARGUMENTS [169060,169064]
                    NullLiteral [169060,169064]
        VariableDeclarationStatement [169074,169154]
            SimpleType [169074,169082]
                SimpleName: Settings [169074,169082]
            VariableDeclarationFragment [169083,169153]
                SimpleName: settings [169083,169091]
                MethodInvocation [169094,169153]
                    METHOD_INVOCATION_RECEIVER [169094,169108]
                        ClassInstanceCreation [169094,169108]
                            SimpleType [169098,169106]
                                SimpleName: Settings [169098,169106]
                    SimpleName: setProperty [169109,169120]
                    METHOD_INVOCATION_ARGUMENTS [169121,169152]
                        StringLiteral: "sonar.notifications.delay" [169121,169148]
                        NumberLiteral: 1L [169150,169152]
        ExpressionStatement [169162,169380]
            Assignment [169162,169379]
                SimpleName: service [169162,169169]
                ASSIGNMENT_OPERATOR: = [169170,169171]
                ClassInstanceCreation [169172,169379]
                    SimpleType [169176,169195]
                        SimpleName: NotificationService [169176,169195]
                    SimpleName: settings [169196,169204]
                    SimpleName: manager [169206,169213]
                    SimpleName: dbClient [169222,169230]
                    MethodInvocation [169232,169266]
                        SimpleName: mock [169232,169236]
                        METHOD_INVOCATION_ARGUMENTS [169237,169265]
                            TypeLiteral [169237,169265]
                                SimpleType [169237,169259]
                                    SimpleName: DatabaseSessionFactory [169237,169259]
                    ArrayCreation [169275,169378]
                        ArrayType [169279,169303]
                            SimpleType [169279,169301]
                                SimpleName: NotificationDispatcher [169279,169301]
                            Dimension [169301,169303]
                        ArrayInitializer [169304,169378]
                            SimpleName: commentOnIssueAssignedToMe [169305,169331]
                            SimpleName: commentOnIssueCreatedByMe [169333,169358]
                            SimpleName: qualityGateChange [169360,169377]
to
TypeDeclaration [167564,176639]
at 15
===
insert-tree
---
MethodDeclaration [169391,170283]
    Javadoc [169391,169704]
        TagElement [169401,169697]
            TextElement: Given: [169401,169407]
            TextElement: Simon wants to receive notifications by email on comments for reviews assigned to him or created by him. [169414,169518]
            TextElement: When: [169531,169536]
            TextElement: Freddy adds comment to review created by Simon and assigned to Simon. [169543,169612]
            TextElement: Then: [169625,169630]
            TextElement: Only one notification should be delivered to Simon by Email. [169637,169697]
    MarkerAnnotation [169708,169713]
        SimpleName: Test [169709,169713]
    Modifier: public [169717,169723]
    PrimitiveType: void [169724,169728]
    SimpleName: scenario1 [169729,169738]
    Block [169741,170283]
        ExpressionStatement [169748,169761]
            MethodInvocation [169748,169760]
                SimpleName: setUpMocks [169748,169758]
        ExpressionStatement [169767,169920]
            MethodInvocation [169767,169919]
                METHOD_INVOCATION_RECEIVER [169767,169847]
                    MethodInvocation [169767,169847]
                        METHOD_INVOCATION_RECEIVER [169767,169814]
                            MethodInvocation [169767,169814]
                                SimpleName: doAnswer [169767,169775]
                                METHOD_INVOCATION_ARGUMENTS [169776,169813]
                                    MethodInvocation [169776,169813]
                                        SimpleName: addUser [169776,169783]
                                        METHOD_INVOCATION_ARGUMENTS [169784,169812]
                                            SimpleName: ASSIGNEE_SIMON [169784,169798]
                                            SimpleName: emailChannel [169800,169812]
                        SimpleName: when [169815,169819]
                        METHOD_INVOCATION_ARGUMENTS [169820,169846]
                            SimpleName: commentOnIssueAssignedToMe [169820,169846]
                SimpleName: dispatch [169848,169856]
                METHOD_INVOCATION_ARGUMENTS [169857,169918]
                    MethodInvocation [169857,169875]
                        SimpleName: same [169857,169861]
                        METHOD_INVOCATION_ARGUMENTS [169862,169874]
                            SimpleName: notification [169862,169874]
                    MethodInvocation [169877,169918]
                        SimpleName: any [169877,169880]
                        METHOD_INVOCATION_ARGUMENTS [169881,169917]
                            TypeLiteral [169881,169917]
                                SimpleType [169881,169911]
                                    QualifiedName: NotificationDispatcher.Context [169881,169911]
        ExpressionStatement [169926,170077]
            MethodInvocation [169926,170076]
                METHOD_INVOCATION_RECEIVER [169926,170004]
                    MethodInvocation [169926,170004]
                        METHOD_INVOCATION_RECEIVER [169926,169972]
                            MethodInvocation [169926,169972]
                                SimpleName: doAnswer [169926,169934]
                                METHOD_INVOCATION_ARGUMENTS [169935,169971]
                                    MethodInvocation [169935,169971]
                                        SimpleName: addUser [169935,169942]
                                        METHOD_INVOCATION_ARGUMENTS [169943,169970]
                                            SimpleName: CREATOR_SIMON [169943,169956]
                                            SimpleName: emailChannel [169958,169970]
                        SimpleName: when [169973,169977]
                        METHOD_INVOCATION_ARGUMENTS [169978,170003]
                            SimpleName: commentOnIssueCreatedByMe [169978,170003]
                SimpleName: dispatch [170005,170013]
                METHOD_INVOCATION_ARGUMENTS [170014,170075]
                    MethodInvocation [170014,170032]
                        SimpleName: same [170014,170018]
                        METHOD_INVOCATION_ARGUMENTS [170019,170031]
                            SimpleName: notification [170019,170031]
                    MethodInvocation [170034,170075]
                        SimpleName: any [170034,170037]
                        METHOD_INVOCATION_ARGUMENTS [170038,170074]
                            TypeLiteral [170038,170074]
                                SimpleType [170038,170068]
                                    QualifiedName: NotificationDispatcher.Context [170038,170068]
        ExpressionStatement [170085,170101]
            MethodInvocation [170085,170100]
                METHOD_INVOCATION_RECEIVER [170085,170092]
                    SimpleName: service [170085,170092]
                SimpleName: start [170093,170098]
        ExpressionStatement [170107,170181]
            MethodInvocation [170107,170180]
                METHOD_INVOCATION_RECEIVER [170107,170142]
                    MethodInvocation [170107,170142]
                        SimpleName: verify [170107,170113]
                        METHOD_INVOCATION_ARGUMENTS [170114,170141]
                            SimpleName: emailChannel [170114,170126]
                            MethodInvocation [170128,170141]
                                SimpleName: timeout [170128,170135]
                                METHOD_INVOCATION_ARGUMENTS [170136,170140]
                                    NumberLiteral: 2000 [170136,170140]
                SimpleName: deliver [170143,170150]
                METHOD_INVOCATION_ARGUMENTS [170151,170179]
                    SimpleName: notification [170151,170163]
                    SimpleName: ASSIGNEE_SIMON [170165,170179]
        ExpressionStatement [170187,170202]
            MethodInvocation [170187,170201]
                METHOD_INVOCATION_RECEIVER [170187,170194]
                    SimpleName: service [170187,170194]
                SimpleName: stop [170195,170199]
        ExpressionStatement [170210,170278]
            MethodInvocation [170210,170277]
                METHOD_INVOCATION_RECEIVER [170210,170239]
                    MethodInvocation [170210,170239]
                        SimpleName: verify [170210,170216]
                        METHOD_INVOCATION_ARGUMENTS [170217,170238]
                            SimpleName: gtalkChannel [170217,170229]
                            MethodInvocation [170231,170238]
                                SimpleName: never [170231,170236]
                SimpleName: deliver [170240,170247]
                METHOD_INVOCATION_ARGUMENTS [170248,170276]
                    SimpleName: notification [170248,170260]
                    SimpleName: ASSIGNEE_SIMON [170262,170276]
to
TypeDeclaration [167564,176639]
at 16
===
insert-tree
---
MethodDeclaration [170289,171443]
    Javadoc [170289,170709]
        TagElement [170299,170702]
            TextElement: Given: [170299,170305]
            TextElement: Evgeny wants to receive notification by GTalk on comments for reviews created by him. [170312,170397]
            TextElement: Simon wants to receive notification by Email on comments for reviews assigned to him. [170404,170489]
            TextElement: When: [170502,170507]
            TextElement: Freddy adds comment to review created by Evgeny and assigned to Simon. [170514,170584]
            TextElement: Then: [170597,170602]
            TextElement: Two notifications should be delivered - one to Simon by Email and another to Evgeny by GTalk. [170609,170702]
    MarkerAnnotation [170713,170718]
        SimpleName: Test [170714,170718]
    Modifier: public [170722,170728]
    PrimitiveType: void [170729,170733]
    SimpleName: scenario2 [170734,170743]
    Block [170746,171443]
        ExpressionStatement [170753,170766]
            MethodInvocation [170753,170765]
                SimpleName: setUpMocks [170753,170763]
        ExpressionStatement [170772,170925]
            MethodInvocation [170772,170924]
                METHOD_INVOCATION_RECEIVER [170772,170852]
                    MethodInvocation [170772,170852]
                        METHOD_INVOCATION_RECEIVER [170772,170819]
                            MethodInvocation [170772,170819]
                                SimpleName: doAnswer [170772,170780]
                                METHOD_INVOCATION_ARGUMENTS [170781,170818]
                                    MethodInvocation [170781,170818]
                                        SimpleName: addUser [170781,170788]
                                        METHOD_INVOCATION_ARGUMENTS [170789,170817]
                                            SimpleName: ASSIGNEE_SIMON [170789,170803]
                                            SimpleName: emailChannel [170805,170817]
                        SimpleName: when [170820,170824]
                        METHOD_INVOCATION_ARGUMENTS [170825,170851]
                            SimpleName: commentOnIssueAssignedToMe [170825,170851]
                SimpleName: dispatch [170853,170861]
                METHOD_INVOCATION_ARGUMENTS [170862,170923]
                    MethodInvocation [170862,170880]
                        SimpleName: same [170862,170866]
                        METHOD_INVOCATION_ARGUMENTS [170867,170879]
                            SimpleName: notification [170867,170879]
                    MethodInvocation [170882,170923]
                        SimpleName: any [170882,170885]
                        METHOD_INVOCATION_ARGUMENTS [170886,170922]
                            TypeLiteral [170886,170922]
                                SimpleType [170886,170916]
                                    QualifiedName: NotificationDispatcher.Context [170886,170916]
        ExpressionStatement [170931,171083]
            MethodInvocation [170931,171082]
                METHOD_INVOCATION_RECEIVER [170931,171010]
                    MethodInvocation [170931,171010]
                        METHOD_INVOCATION_RECEIVER [170931,170978]
                            MethodInvocation [170931,170978]
                                SimpleName: doAnswer [170931,170939]
                                METHOD_INVOCATION_ARGUMENTS [170940,170977]
                                    MethodInvocation [170940,170977]
                                        SimpleName: addUser [170940,170947]
                                        METHOD_INVOCATION_ARGUMENTS [170948,170976]
                                            SimpleName: CREATOR_EVGENY [170948,170962]
                                            SimpleName: gtalkChannel [170964,170976]
                        SimpleName: when [170979,170983]
                        METHOD_INVOCATION_ARGUMENTS [170984,171009]
                            SimpleName: commentOnIssueCreatedByMe [170984,171009]
                SimpleName: dispatch [171011,171019]
                METHOD_INVOCATION_ARGUMENTS [171020,171081]
                    MethodInvocation [171020,171038]
                        SimpleName: same [171020,171024]
                        METHOD_INVOCATION_ARGUMENTS [171025,171037]
                            SimpleName: notification [171025,171037]
                    MethodInvocation [171040,171081]
                        SimpleName: any [171040,171043]
                        METHOD_INVOCATION_ARGUMENTS [171044,171080]
                            TypeLiteral [171044,171080]
                                SimpleType [171044,171074]
                                    QualifiedName: NotificationDispatcher.Context [171044,171074]
        ExpressionStatement [171091,171107]
            MethodInvocation [171091,171106]
                METHOD_INVOCATION_RECEIVER [171091,171098]
                    SimpleName: service [171091,171098]
                SimpleName: start [171099,171104]
        ExpressionStatement [171113,171187]
            MethodInvocation [171113,171186]
                METHOD_INVOCATION_RECEIVER [171113,171148]
                    MethodInvocation [171113,171148]
                        SimpleName: verify [171113,171119]
                        METHOD_INVOCATION_ARGUMENTS [171120,171147]
                            SimpleName: emailChannel [171120,171132]
                            MethodInvocation [171134,171147]
                                SimpleName: timeout [171134,171141]
                                METHOD_INVOCATION_ARGUMENTS [171142,171146]
                                    NumberLiteral: 2000 [171142,171146]
                SimpleName: deliver [171149,171156]
                METHOD_INVOCATION_ARGUMENTS [171157,171185]
                    SimpleName: notification [171157,171169]
                    SimpleName: ASSIGNEE_SIMON [171171,171185]
        ExpressionStatement [171193,171267]
            MethodInvocation [171193,171266]
                METHOD_INVOCATION_RECEIVER [171193,171228]
                    MethodInvocation [171193,171228]
                        SimpleName: verify [171193,171199]
                        METHOD_INVOCATION_ARGUMENTS [171200,171227]
                            SimpleName: gtalkChannel [171200,171212]
                            MethodInvocation [171214,171227]
                                SimpleName: timeout [171214,171221]
                                METHOD_INVOCATION_ARGUMENTS [171222,171226]
                                    NumberLiteral: 2000 [171222,171226]
                SimpleName: deliver [171229,171236]
                METHOD_INVOCATION_ARGUMENTS [171237,171265]
                    SimpleName: notification [171237,171249]
                    SimpleName: CREATOR_EVGENY [171251,171265]
        ExpressionStatement [171273,171288]
            MethodInvocation [171273,171287]
                METHOD_INVOCATION_RECEIVER [171273,171280]
                    SimpleName: service [171273,171280]
                SimpleName: stop [171281,171285]
        ExpressionStatement [171296,171364]
            MethodInvocation [171296,171363]
                METHOD_INVOCATION_RECEIVER [171296,171325]
                    MethodInvocation [171296,171325]
                        SimpleName: verify [171296,171302]
                        METHOD_INVOCATION_ARGUMENTS [171303,171324]
                            SimpleName: emailChannel [171303,171315]
                            MethodInvocation [171317,171324]
                                SimpleName: never [171317,171322]
                SimpleName: deliver [171326,171333]
                METHOD_INVOCATION_ARGUMENTS [171334,171362]
                    SimpleName: notification [171334,171346]
                    SimpleName: CREATOR_EVGENY [171348,171362]
        ExpressionStatement [171370,171438]
            MethodInvocation [171370,171437]
                METHOD_INVOCATION_RECEIVER [171370,171399]
                    MethodInvocation [171370,171399]
                        SimpleName: verify [171370,171376]
                        METHOD_INVOCATION_ARGUMENTS [171377,171398]
                            SimpleName: gtalkChannel [171377,171389]
                            MethodInvocation [171391,171398]
                                SimpleName: never [171391,171396]
                SimpleName: deliver [171400,171407]
                METHOD_INVOCATION_ARGUMENTS [171408,171436]
                    SimpleName: notification [171408,171420]
                    SimpleName: ASSIGNEE_SIMON [171422,171436]
to
TypeDeclaration [167564,176639]
at 17
===
insert-tree
---
MethodDeclaration [171449,172404]
    Javadoc [171449,171778]
        TagElement [171459,171771]
            TextElement: Given: [171459,171465]
            TextElement: Simon wants to receive notifications by Email and GTLak on comments for reviews assigned to him. [171472,171568]
            TextElement: When: [171581,171586]
            TextElement: Freddy adds comment to review created by Evgeny and assigned to Simon. [171593,171663]
            TextElement: Then: [171676,171681]
            TextElement: Two notifications should be delivered to Simon - one by Email and another by GTalk. [171688,171771]
    MarkerAnnotation [171782,171787]
        SimpleName: Test [171783,171787]
    Modifier: public [171791,171797]
    PrimitiveType: void [171798,171802]
    SimpleName: scenario3 [171803,171812]
    Block [171815,172404]
        ExpressionStatement [171822,171835]
            MethodInvocation [171822,171834]
                SimpleName: setUpMocks [171822,171832]
        ExpressionStatement [171841,172044]
            MethodInvocation [171841,172043]
                METHOD_INVOCATION_RECEIVER [171841,171971]
                    MethodInvocation [171841,171971]
                        METHOD_INVOCATION_RECEIVER [171841,171930]
                            MethodInvocation [171841,171930]
                                SimpleName: doAnswer [171841,171849]
                                METHOD_INVOCATION_ARGUMENTS [171850,171929]
                                    MethodInvocation [171850,171929]
                                        SimpleName: addUser [171850,171857]
                                        METHOD_INVOCATION_ARGUMENTS [171858,171928]
                                            SimpleName: ASSIGNEE_SIMON [171858,171872]
                                            ArrayCreation [171874,171928]
                                                ArrayType [171878,171899]
                                                    SimpleType [171878,171897]
                                                        SimpleName: NotificationChannel [171878,171897]
                                                    Dimension [171897,171899]
                                                ArrayInitializer [171900,171928]
                                                    SimpleName: emailChannel [171901,171913]
                                                    SimpleName: gtalkChannel [171915,171927]
                        SimpleName: when [171939,171943]
                        METHOD_INVOCATION_ARGUMENTS [171944,171970]
                            SimpleName: commentOnIssueAssignedToMe [171944,171970]
                SimpleName: dispatch [171972,171980]
                METHOD_INVOCATION_ARGUMENTS [171981,172042]
                    MethodInvocation [171981,171999]
                        SimpleName: same [171981,171985]
                        METHOD_INVOCATION_ARGUMENTS [171986,171998]
                            SimpleName: notification [171986,171998]
                    MethodInvocation [172001,172042]
                        SimpleName: any [172001,172004]
                        METHOD_INVOCATION_ARGUMENTS [172005,172041]
                            TypeLiteral [172005,172041]
                                SimpleType [172005,172035]
                                    QualifiedName: NotificationDispatcher.Context [172005,172035]
        ExpressionStatement [172052,172068]
            MethodInvocation [172052,172067]
                METHOD_INVOCATION_RECEIVER [172052,172059]
                    SimpleName: service [172052,172059]
                SimpleName: start [172060,172065]
        ExpressionStatement [172074,172148]
            MethodInvocation [172074,172147]
                METHOD_INVOCATION_RECEIVER [172074,172109]
                    MethodInvocation [172074,172109]
                        SimpleName: verify [172074,172080]
                        METHOD_INVOCATION_ARGUMENTS [172081,172108]
                            SimpleName: emailChannel [172081,172093]
                            MethodInvocation [172095,172108]
                                SimpleName: timeout [172095,172102]
                                METHOD_INVOCATION_ARGUMENTS [172103,172107]
                                    NumberLiteral: 2000 [172103,172107]
                SimpleName: deliver [172110,172117]
                METHOD_INVOCATION_ARGUMENTS [172118,172146]
                    SimpleName: notification [172118,172130]
                    SimpleName: ASSIGNEE_SIMON [172132,172146]
        ExpressionStatement [172154,172228]
            MethodInvocation [172154,172227]
                METHOD_INVOCATION_RECEIVER [172154,172189]
                    MethodInvocation [172154,172189]
                        SimpleName: verify [172154,172160]
                        METHOD_INVOCATION_ARGUMENTS [172161,172188]
                            SimpleName: gtalkChannel [172161,172173]
                            MethodInvocation [172175,172188]
                                SimpleName: timeout [172175,172182]
                                METHOD_INVOCATION_ARGUMENTS [172183,172187]
                                    NumberLiteral: 2000 [172183,172187]
                SimpleName: deliver [172190,172197]
                METHOD_INVOCATION_ARGUMENTS [172198,172226]
                    SimpleName: notification [172198,172210]
                    SimpleName: ASSIGNEE_SIMON [172212,172226]
        ExpressionStatement [172234,172249]
            MethodInvocation [172234,172248]
                METHOD_INVOCATION_RECEIVER [172234,172241]
                    SimpleName: service [172234,172241]
                SimpleName: stop [172242,172246]
        ExpressionStatement [172257,172325]
            MethodInvocation [172257,172324]
                METHOD_INVOCATION_RECEIVER [172257,172286]
                    MethodInvocation [172257,172286]
                        SimpleName: verify [172257,172263]
                        METHOD_INVOCATION_ARGUMENTS [172264,172285]
                            SimpleName: emailChannel [172264,172276]
                            MethodInvocation [172278,172285]
                                SimpleName: never [172278,172283]
                SimpleName: deliver [172287,172294]
                METHOD_INVOCATION_ARGUMENTS [172295,172323]
                    SimpleName: notification [172295,172307]
                    SimpleName: CREATOR_EVGENY [172309,172323]
        ExpressionStatement [172331,172399]
            MethodInvocation [172331,172398]
                METHOD_INVOCATION_RECEIVER [172331,172360]
                    MethodInvocation [172331,172360]
                        SimpleName: verify [172331,172337]
                        METHOD_INVOCATION_ARGUMENTS [172338,172359]
                            SimpleName: gtalkChannel [172338,172350]
                            MethodInvocation [172352,172359]
                                SimpleName: never [172352,172357]
                SimpleName: deliver [172361,172368]
                METHOD_INVOCATION_ARGUMENTS [172369,172397]
                    SimpleName: notification [172369,172381]
                    SimpleName: CREATOR_EVGENY [172383,172397]
to
TypeDeclaration [167564,176639]
at 18
===
insert-tree
---
MethodDeclaration [172410,172888]
    Javadoc [172410,172615]
        TagElement [172420,172608]
            TextElement: Given: [172420,172426]
            TextElement: Nobody wants to receive notifications. [172433,172471]
            TextElement: When: [172484,172489]
            TextElement: Freddy adds comment to review created by Evgeny and assigned to Simon. [172496,172566]
            TextElement: Then: [172579,172584]
            TextElement: No notifications. [172591,172608]
    MarkerAnnotation [172619,172624]
        SimpleName: Test [172620,172624]
    Modifier: public [172628,172634]
    PrimitiveType: void [172635,172639]
    SimpleName: scenario4 [172640,172649]
    Block [172652,172888]
        ExpressionStatement [172659,172672]
            MethodInvocation [172659,172671]
                SimpleName: setUpMocks [172659,172669]
        ExpressionStatement [172680,172696]
            MethodInvocation [172680,172695]
                METHOD_INVOCATION_RECEIVER [172680,172687]
                    SimpleName: service [172680,172687]
                SimpleName: start [172688,172693]
        ExpressionStatement [172702,172717]
            MethodInvocation [172702,172716]
                METHOD_INVOCATION_RECEIVER [172702,172709]
                    SimpleName: service [172702,172709]
                SimpleName: stop [172710,172714]
        ExpressionStatement [172725,172801]
            MethodInvocation [172725,172800]
                METHOD_INVOCATION_RECEIVER [172725,172754]
                    MethodInvocation [172725,172754]
                        SimpleName: verify [172725,172731]
                        METHOD_INVOCATION_ARGUMENTS [172732,172753]
                            SimpleName: emailChannel [172732,172744]
                            MethodInvocation [172746,172753]
                                SimpleName: never [172746,172751]
                SimpleName: deliver [172755,172762]
                METHOD_INVOCATION_ARGUMENTS [172763,172799]
                    MethodInvocation [172763,172786]
                        SimpleName: any [172763,172766]
                        METHOD_INVOCATION_ARGUMENTS [172767,172785]
                            TypeLiteral [172767,172785]
                                SimpleType [172767,172779]
                                    SimpleName: Notification [172767,172779]
                    MethodInvocation [172788,172799]
                        SimpleName: anyString [172788,172797]
        ExpressionStatement [172807,172883]
            MethodInvocation [172807,172882]
                METHOD_INVOCATION_RECEIVER [172807,172836]
                    MethodInvocation [172807,172836]
                        SimpleName: verify [172807,172813]
                        METHOD_INVOCATION_ARGUMENTS [172814,172835]
                            SimpleName: gtalkChannel [172814,172826]
                            MethodInvocation [172828,172835]
                                SimpleName: never [172828,172833]
                SimpleName: deliver [172837,172844]
                METHOD_INVOCATION_ARGUMENTS [172845,172881]
                    MethodInvocation [172845,172868]
                        SimpleName: any [172845,172848]
                        METHOD_INVOCATION_ARGUMENTS [172849,172867]
                            TypeLiteral [172849,172867]
                                SimpleType [172849,172861]
                                    SimpleName: Notification [172849,172861]
                    MethodInvocation [172870,172881]
                        SimpleName: anyString [172870,172879]
to
TypeDeclaration [167564,176639]
at 19
===
insert-tree
---
MethodDeclaration [172911,173636]
    MarkerAnnotation [172911,172916]
        SimpleName: Test [172912,172916]
    Modifier: public [172920,172926]
    PrimitiveType: void [172927,172931]
    SimpleName: shouldNotStopWhenException [172932,172958]
    Block [172961,173636]
        ExpressionStatement [172968,172981]
            MethodInvocation [172968,172980]
                SimpleName: setUpMocks [172968,172978]
        ExpressionStatement [172987,173114]
            MethodInvocation [172987,173113]
                METHOD_INVOCATION_RECEIVER [172987,173096]
                    MethodInvocation [172987,173096]
                        METHOD_INVOCATION_RECEIVER [172987,173071]
                            MethodInvocation [172987,173071]
                                METHOD_INVOCATION_RECEIVER [172987,173015]
                                    MethodInvocation [172987,173015]
                                        SimpleName: when [172987,172991]
                                        METHOD_INVOCATION_ARGUMENTS [172992,173014]
                                            MethodInvocation [172992,173014]
                                                METHOD_INVOCATION_RECEIVER [172992,172999]
                                                    SimpleName: manager [172992,172999]
                                                SimpleName: getFromQueue [173000,173012]
                                SimpleName: thenThrow [173016,173025]
                                METHOD_INVOCATION_ARGUMENTS [173026,173070]
                                    ClassInstanceCreation [173026,173070]
                                        SimpleType [173030,173046]
                                            SimpleName: RuntimeException [173030,173046]
                                        StringLiteral: "Unexpected exception" [173047,173069]
                        SimpleName: thenReturn [173072,173082]
                        METHOD_INVOCATION_ARGUMENTS [173083,173095]
                            SimpleName: notification [173083,173095]
                SimpleName: thenReturn [173097,173107]
                METHOD_INVOCATION_ARGUMENTS [173108,173112]
                    NullLiteral [173108,173112]
        ExpressionStatement [173120,173273]
            MethodInvocation [173120,173272]
                METHOD_INVOCATION_RECEIVER [173120,173200]
                    MethodInvocation [173120,173200]
                        METHOD_INVOCATION_RECEIVER [173120,173167]
                            MethodInvocation [173120,173167]
                                SimpleName: doAnswer [173120,173128]
                                METHOD_INVOCATION_ARGUMENTS [173129,173166]
                                    MethodInvocation [173129,173166]
                                        SimpleName: addUser [173129,173136]
                                        METHOD_INVOCATION_ARGUMENTS [173137,173165]
                                            SimpleName: ASSIGNEE_SIMON [173137,173151]
                                            SimpleName: emailChannel [173153,173165]
                        SimpleName: when [173168,173172]
                        METHOD_INVOCATION_ARGUMENTS [173173,173199]
                            SimpleName: commentOnIssueAssignedToMe [173173,173199]
                SimpleName: dispatch [173201,173209]
                METHOD_INVOCATION_ARGUMENTS [173210,173271]
                    MethodInvocation [173210,173228]
                        SimpleName: same [173210,173214]
                        METHOD_INVOCATION_ARGUMENTS [173215,173227]
                            SimpleName: notification [173215,173227]
                    MethodInvocation [173230,173271]
                        SimpleName: any [173230,173233]
                        METHOD_INVOCATION_ARGUMENTS [173234,173270]
                            TypeLiteral [173234,173270]
                                SimpleType [173234,173264]
                                    QualifiedName: NotificationDispatcher.Context [173234,173264]
        ExpressionStatement [173279,173430]
            MethodInvocation [173279,173429]
                METHOD_INVOCATION_RECEIVER [173279,173357]
                    MethodInvocation [173279,173357]
                        METHOD_INVOCATION_RECEIVER [173279,173325]
                            MethodInvocation [173279,173325]
                                SimpleName: doAnswer [173279,173287]
                                METHOD_INVOCATION_ARGUMENTS [173288,173324]
                                    MethodInvocation [173288,173324]
                                        SimpleName: addUser [173288,173295]
                                        METHOD_INVOCATION_ARGUMENTS [173296,173323]
                                            SimpleName: CREATOR_SIMON [173296,173309]
                                            SimpleName: emailChannel [173311,173323]
                        SimpleName: when [173326,173330]
                        METHOD_INVOCATION_ARGUMENTS [173331,173356]
                            SimpleName: commentOnIssueCreatedByMe [173331,173356]
                SimpleName: dispatch [173358,173366]
                METHOD_INVOCATION_ARGUMENTS [173367,173428]
                    MethodInvocation [173367,173385]
                        SimpleName: same [173367,173371]
                        METHOD_INVOCATION_ARGUMENTS [173372,173384]
                            SimpleName: notification [173372,173384]
                    MethodInvocation [173387,173428]
                        SimpleName: any [173387,173390]
                        METHOD_INVOCATION_ARGUMENTS [173391,173427]
                            TypeLiteral [173391,173427]
                                SimpleType [173391,173421]
                                    QualifiedName: NotificationDispatcher.Context [173391,173421]
        ExpressionStatement [173438,173454]
            MethodInvocation [173438,173453]
                METHOD_INVOCATION_RECEIVER [173438,173445]
                    SimpleName: service [173438,173445]
                SimpleName: start [173446,173451]
        ExpressionStatement [173460,173534]
            MethodInvocation [173460,173533]
                METHOD_INVOCATION_RECEIVER [173460,173495]
                    MethodInvocation [173460,173495]
                        SimpleName: verify [173460,173466]
                        METHOD_INVOCATION_ARGUMENTS [173467,173494]
                            SimpleName: emailChannel [173467,173479]
                            MethodInvocation [173481,173494]
                                SimpleName: timeout [173481,173488]
                                METHOD_INVOCATION_ARGUMENTS [173489,173493]
                                    NumberLiteral: 2000 [173489,173493]
                SimpleName: deliver [173496,173503]
                METHOD_INVOCATION_ARGUMENTS [173504,173532]
                    SimpleName: notification [173504,173516]
                    SimpleName: ASSIGNEE_SIMON [173518,173532]
        ExpressionStatement [173540,173555]
            MethodInvocation [173540,173554]
                METHOD_INVOCATION_RECEIVER [173540,173547]
                    SimpleName: service [173540,173547]
                SimpleName: stop [173548,173552]
        ExpressionStatement [173563,173631]
            MethodInvocation [173563,173630]
                METHOD_INVOCATION_RECEIVER [173563,173592]
                    MethodInvocation [173563,173592]
                        SimpleName: verify [173563,173569]
                        METHOD_INVOCATION_ARGUMENTS [173570,173591]
                            SimpleName: gtalkChannel [173570,173582]
                            MethodInvocation [173584,173591]
                                SimpleName: never [173584,173589]
                SimpleName: deliver [173593,173600]
                METHOD_INVOCATION_ARGUMENTS [173601,173629]
                    SimpleName: notification [173601,173613]
                    SimpleName: ASSIGNEE_SIMON [173615,173629]
to
TypeDeclaration [167564,176639]
at 20
===
insert-tree
---
MethodDeclaration [173642,174072]
    MarkerAnnotation [173642,173647]
        SimpleName: Test [173643,173647]
    Modifier: public [173651,173657]
    PrimitiveType: void [173658,173662]
    SimpleName: shouldNotAddNullAsUser [173663,173685]
    Block [173688,174072]
        ExpressionStatement [173695,173708]
            MethodInvocation [173695,173707]
                SimpleName: setUpMocks [173695,173705]
        ExpressionStatement [173714,173856]
            MethodInvocation [173714,173855]
                METHOD_INVOCATION_RECEIVER [173714,173783]
                    MethodInvocation [173714,173783]
                        METHOD_INVOCATION_RECEIVER [173714,173751]
                            MethodInvocation [173714,173751]
                                SimpleName: doAnswer [173714,173722]
                                METHOD_INVOCATION_ARGUMENTS [173723,173750]
                                    MethodInvocation [173723,173750]
                                        SimpleName: addUser [173723,173730]
                                        METHOD_INVOCATION_ARGUMENTS [173731,173749]
                                            NullLiteral [173731,173735]
                                            SimpleName: gtalkChannel [173737,173749]
                        SimpleName: when [173752,173756]
                        METHOD_INVOCATION_ARGUMENTS [173757,173782]
                            SimpleName: commentOnIssueCreatedByMe [173757,173782]
                SimpleName: dispatch [173784,173792]
                METHOD_INVOCATION_ARGUMENTS [173793,173854]
                    MethodInvocation [173793,173811]
                        SimpleName: same [173793,173797]
                        METHOD_INVOCATION_ARGUMENTS [173798,173810]
                            SimpleName: notification [173798,173810]
                    MethodInvocation [173813,173854]
                        SimpleName: any [173813,173816]
                        METHOD_INVOCATION_ARGUMENTS [173817,173853]
                            TypeLiteral [173817,173853]
                                SimpleType [173817,173847]
                                    QualifiedName: NotificationDispatcher.Context [173817,173847]
        ExpressionStatement [173864,173880]
            MethodInvocation [173864,173879]
                METHOD_INVOCATION_RECEIVER [173864,173871]
                    SimpleName: service [173864,173871]
                SimpleName: start [173872,173877]
        ExpressionStatement [173886,173901]
            MethodInvocation [173886,173900]
                METHOD_INVOCATION_RECEIVER [173886,173893]
                    SimpleName: service [173886,173893]
                SimpleName: stop [173894,173898]
        ExpressionStatement [173909,173985]
            MethodInvocation [173909,173984]
                METHOD_INVOCATION_RECEIVER [173909,173938]
                    MethodInvocation [173909,173938]
                        SimpleName: verify [173909,173915]
                        METHOD_INVOCATION_ARGUMENTS [173916,173937]
                            SimpleName: emailChannel [173916,173928]
                            MethodInvocation [173930,173937]
                                SimpleName: never [173930,173935]
                SimpleName: deliver [173939,173946]
                METHOD_INVOCATION_ARGUMENTS [173947,173983]
                    MethodInvocation [173947,173970]
                        SimpleName: any [173947,173950]
                        METHOD_INVOCATION_ARGUMENTS [173951,173969]
                            TypeLiteral [173951,173969]
                                SimpleType [173951,173963]
                                    SimpleName: Notification [173951,173963]
                    MethodInvocation [173972,173983]
                        SimpleName: anyString [173972,173981]
        ExpressionStatement [173991,174067]
            MethodInvocation [173991,174066]
                METHOD_INVOCATION_RECEIVER [173991,174020]
                    MethodInvocation [173991,174020]
                        SimpleName: verify [173991,173997]
                        METHOD_INVOCATION_ARGUMENTS [173998,174019]
                            SimpleName: gtalkChannel [173998,174010]
                            MethodInvocation [174012,174019]
                                SimpleName: never [174012,174017]
                SimpleName: deliver [174021,174028]
                METHOD_INVOCATION_ARGUMENTS [174029,174065]
                    MethodInvocation [174029,174052]
                        SimpleName: any [174029,174032]
                        METHOD_INVOCATION_ARGUMENTS [174033,174051]
                            TypeLiteral [174033,174051]
                                SimpleType [174033,174045]
                                    SimpleName: Notification [174033,174045]
                    MethodInvocation [174054,174065]
                        SimpleName: anyString [174054,174063]
to
TypeDeclaration [167564,176639]
at 21
===
insert-tree
---
MethodDeclaration [174078,174273]
    MarkerAnnotation [174078,174083]
        SimpleName: Test [174079,174083]
    Modifier: public [174087,174093]
    PrimitiveType: void [174094,174098]
    SimpleName: getDispatchers [174099,174113]
    Block [174116,174273]
        ExpressionStatement [174123,174136]
            MethodInvocation [174123,174135]
                SimpleName: setUpMocks [174123,174133]
        ExpressionStatement [174144,174268]
            MethodInvocation [174144,174267]
                METHOD_INVOCATION_RECEIVER [174144,174180]
                    MethodInvocation [174144,174180]
                        SimpleName: assertThat [174144,174154]
                        METHOD_INVOCATION_ARGUMENTS [174155,174179]
                            MethodInvocation [174155,174179]
                                METHOD_INVOCATION_RECEIVER [174155,174162]
                                    SimpleName: service [174155,174162]
                                SimpleName: getDispatchers [174163,174177]
                SimpleName: containsOnly [174181,174193]
                METHOD_INVOCATION_ARGUMENTS [174194,174266]
                    SimpleName: commentOnIssueAssignedToMe [174194,174220]
                    SimpleName: commentOnIssueCreatedByMe [174222,174247]
                    SimpleName: qualityGateChange [174249,174266]
to
TypeDeclaration [167564,176639]
at 22
===
insert-tree
---
MethodDeclaration [174279,174576]
    MarkerAnnotation [174279,174284]
        SimpleName: Test [174280,174284]
    Modifier: public [174288,174294]
    PrimitiveType: void [174295,174299]
    SimpleName: getDispatchers_empty [174300,174320]
    Block [174323,174576]
        VariableDeclarationStatement [174330,174410]
            SimpleType [174330,174338]
                SimpleName: Settings [174330,174338]
            VariableDeclarationFragment [174339,174409]
                SimpleName: settings [174339,174347]
                MethodInvocation [174350,174409]
                    METHOD_INVOCATION_RECEIVER [174350,174364]
                        ClassInstanceCreation [174350,174364]
                            SimpleType [174354,174362]
                                SimpleName: Settings [174354,174362]
                    SimpleName: setProperty [174365,174376]
                    METHOD_INVOCATION_ARGUMENTS [174377,174408]
                        StringLiteral: "sonar.notifications.delay" [174377,174404]
                        NumberLiteral: 1L [174406,174408]
        ExpressionStatement [174418,174517]
            Assignment [174418,174516]
                SimpleName: service [174418,174425]
                ASSIGNMENT_OPERATOR: = [174426,174427]
                ClassInstanceCreation [174428,174516]
                    SimpleType [174432,174451]
                        SimpleName: NotificationService [174432,174451]
                    SimpleName: settings [174452,174460]
                    SimpleName: manager [174462,174469]
                    SimpleName: dbClient [174471,174479]
                    MethodInvocation [174481,174515]
                        SimpleName: mock [174481,174485]
                        METHOD_INVOCATION_ARGUMENTS [174486,174514]
                            TypeLiteral [174486,174514]
                                SimpleType [174486,174508]
                                    SimpleName: DatabaseSessionFactory [174486,174508]
        ExpressionStatement [174523,174571]
            MethodInvocation [174523,174570]
                METHOD_INVOCATION_RECEIVER [174523,174559]
                    MethodInvocation [174523,174559]
                        SimpleName: assertThat [174523,174533]
                        METHOD_INVOCATION_ARGUMENTS [174534,174558]
                            MethodInvocation [174534,174558]
                                METHOD_INVOCATION_RECEIVER [174534,174541]
                                    SimpleName: service [174534,174541]
                                SimpleName: getDispatchers [174542,174556]
                SimpleName: hasSize [174560,174567]
                METHOD_INVOCATION_ARGUMENTS [174568,174569]
                    NumberLiteral: 0 [174568,174569]
to
TypeDeclaration [167564,176639]
at 23
===
insert-tree
---
MethodDeclaration [174582,175213]
    MarkerAnnotation [174582,174587]
        SimpleName: Test [174583,174587]
    Modifier: public [174591,174597]
    PrimitiveType: void [174598,174602]
    SimpleName: shouldLogEvery10Minutes [174603,174626]
    Block [174629,175213]
        ExpressionStatement [174636,174649]
            MethodInvocation [174636,174648]
                SimpleName: setUpMocks [174636,174646]
        ExpressionStatement [174693,174789]
            MethodInvocation [174693,174788]
                METHOD_INVOCATION_RECEIVER [174693,174771]
                    MethodInvocation [174693,174771]
                        METHOD_INVOCATION_RECEIVER [174693,174746]
                            MethodInvocation [174693,174746]
                                METHOD_INVOCATION_RECEIVER [174693,174721]
                                    MethodInvocation [174693,174721]
                                        SimpleName: when [174693,174697]
                                        METHOD_INVOCATION_ARGUMENTS [174698,174720]
                                            MethodInvocation [174698,174720]
                                                METHOD_INVOCATION_RECEIVER [174698,174705]
                                                    SimpleName: manager [174698,174705]
                                                SimpleName: getFromQueue [174706,174718]
                                SimpleName: thenReturn [174722,174732]
                                METHOD_INVOCATION_ARGUMENTS [174733,174745]
                                    SimpleName: notification [174733,174745]
                        SimpleName: thenReturn [174747,174757]
                        METHOD_INVOCATION_ARGUMENTS [174758,174770]
                            SimpleName: notification [174758,174770]
                SimpleName: thenReturn [174772,174782]
                METHOD_INVOCATION_ARGUMENTS [174783,174787]
                    NullLiteral [174783,174787]
        ExpressionStatement [174795,174847]
            MethodInvocation [174795,174846]
                METHOD_INVOCATION_RECEIVER [174795,174831]
                    MethodInvocation [174795,174831]
                        METHOD_INVOCATION_RECEIVER [174795,174816]
                            MethodInvocation [174795,174816]
                                SimpleName: when [174795,174799]
                                METHOD_INVOCATION_ARGUMENTS [174800,174815]
                                    MethodInvocation [174800,174815]
                                        METHOD_INVOCATION_RECEIVER [174800,174807]
                                            SimpleName: manager [174800,174807]
                                        SimpleName: count [174808,174813]
                        SimpleName: thenReturn [174817,174827]
                        METHOD_INVOCATION_ARGUMENTS [174828,174830]
                            NumberLiteral: 1L [174828,174830]
                SimpleName: thenReturn [174832,174842]
                METHOD_INVOCATION_ARGUMENTS [174843,174845]
                    NumberLiteral: 0L [174843,174845]
        ExpressionStatement [174853,174876]
            Assignment [174853,174875]
                SimpleName: service [174853,174860]
                ASSIGNMENT_OPERATOR: = [174861,174862]
                MethodInvocation [174863,174875]
                    SimpleName: spy [174863,174866]
                    METHOD_INVOCATION_ARGUMENTS [174867,174874]
                        SimpleName: service [174867,174874]
        ExpressionStatement [174966,175065]
            MethodInvocation [174966,175064]
                METHOD_INVOCATION_RECEIVER [174966,175032]
                    MethodInvocation [174966,175032]
                        METHOD_INVOCATION_RECEIVER [174966,175000]
                            MethodInvocation [174966,175000]
                                METHOD_INVOCATION_RECEIVER [174966,174985]
                                    MethodInvocation [174966,174985]
                                        SimpleName: when [174966,174970]
                                        METHOD_INVOCATION_ARGUMENTS [174971,174984]
                                            MethodInvocation [174971,174984]
                                                METHOD_INVOCATION_RECEIVER [174971,174978]
                                                    SimpleName: service [174971,174978]
                                                SimpleName: now [174979,174982]
                                SimpleName: thenReturn [174986,174996]
                                METHOD_INVOCATION_ARGUMENTS [174997,174999]
                                    NumberLiteral: 0L [174997,174999]
                        SimpleName: thenReturn [175001,175011]
                        METHOD_INVOCATION_ARGUMENTS [175012,175031]
                            InfixExpression [175012,175031]
                                InfixExpression [175012,175026]
                                    NumberLiteral: 10 [175012,175014]
                                    INFIX_EXPRESSION_OPERATOR: * [175015,175016]
                                    NumberLiteral: 60 [175017,175019]
                                    NumberLiteral: 1000 [175022,175026]
                                INFIX_EXPRESSION_OPERATOR: + [175027,175028]
                                NumberLiteral: 1L [175029,175031]
                SimpleName: thenReturn [175033,175043]
                METHOD_INVOCATION_ARGUMENTS [175044,175063]
                    InfixExpression [175044,175063]
                        InfixExpression [175044,175058]
                            NumberLiteral: 20 [175044,175046]
                            INFIX_EXPRESSION_OPERATOR: * [175047,175048]
                            NumberLiteral: 60 [175049,175051]
                            NumberLiteral: 1000 [175054,175058]
                        INFIX_EXPRESSION_OPERATOR: + [175059,175060]
                        NumberLiteral: 2L [175061,175063]
        ExpressionStatement [175071,175087]
            MethodInvocation [175071,175086]
                METHOD_INVOCATION_RECEIVER [175071,175078]
                    SimpleName: service [175071,175078]
                SimpleName: start [175079,175084]
        ExpressionStatement [175093,175137]
            MethodInvocation [175093,175136]
                METHOD_INVOCATION_RECEIVER [175093,175122]
                    MethodInvocation [175093,175122]
                        SimpleName: verify [175093,175099]
                        METHOD_INVOCATION_ARGUMENTS [175100,175121]
                            SimpleName: service [175100,175107]
                            MethodInvocation [175109,175121]
                                SimpleName: timeout [175109,175116]
                                METHOD_INVOCATION_ARGUMENTS [175117,175120]
                                    NumberLiteral: 200 [175117,175120]
                SimpleName: log [175123,175126]
                METHOD_INVOCATION_ARGUMENTS [175127,175135]
                    NumberLiteral: 1 [175127,175128]
                    NumberLiteral: 1 [175130,175131]
                    NumberLiteral: 10 [175133,175135]
        ExpressionStatement [175143,175187]
            MethodInvocation [175143,175186]
                METHOD_INVOCATION_RECEIVER [175143,175172]
                    MethodInvocation [175143,175172]
                        SimpleName: verify [175143,175149]
                        METHOD_INVOCATION_ARGUMENTS [175150,175171]
                            SimpleName: service [175150,175157]
                            MethodInvocation [175159,175171]
                                SimpleName: timeout [175159,175166]
                                METHOD_INVOCATION_ARGUMENTS [175167,175170]
                                    NumberLiteral: 200 [175167,175170]
                SimpleName: log [175173,175176]
                METHOD_INVOCATION_ARGUMENTS [175177,175185]
                    NumberLiteral: 2 [175177,175178]
                    NumberLiteral: 0 [175180,175181]
                    NumberLiteral: 20 [175183,175185]
        ExpressionStatement [175193,175208]
            MethodInvocation [175193,175207]
                METHOD_INVOCATION_RECEIVER [175193,175200]
                    SimpleName: service [175193,175200]
                SimpleName: stop [175201,175205]
to
TypeDeclaration [167564,176639]
at 24
===
insert-tree
---
MethodDeclaration [175219,176062]
    MarkerAnnotation [175219,175224]
        SimpleName: Test [175220,175224]
    Modifier: public [175228,175234]
    PrimitiveType: void [175235,175239]
    SimpleName: hasProjectSubscribersForType [175240,175268]
    Block [175271,176062]
        ExpressionStatement [175278,175291]
            MethodInvocation [175278,175290]
                SimpleName: setUpMocks [175278,175288]
        VariableDeclarationStatement [175299,175345]
            SimpleType [175299,175312]
                SimpleName: PropertiesDao [175299,175312]
            VariableDeclarationFragment [175313,175344]
                SimpleName: dao [175313,175316]
                MethodInvocation [175319,175344]
                    SimpleName: mock [175319,175323]
                    METHOD_INVOCATION_ARGUMENTS [175324,175343]
                        TypeLiteral [175324,175343]
                            SimpleType [175324,175337]
                                SimpleName: PropertiesDao [175324,175337]
        ExpressionStatement [175351,175398]
            MethodInvocation [175351,175397]
                METHOD_INVOCATION_RECEIVER [175351,175381]
                    MethodInvocation [175351,175381]
                        SimpleName: when [175351,175355]
                        METHOD_INVOCATION_ARGUMENTS [175356,175380]
                            MethodInvocation [175356,175380]
                                METHOD_INVOCATION_RECEIVER [175356,175364]
                                    SimpleName: dbClient [175356,175364]
                                SimpleName: propertiesDao [175365,175378]
                SimpleName: thenReturn [175382,175392]
                METHOD_INVOCATION_ARGUMENTS [175393,175396]
                    SimpleName: dao [175393,175396]
        ExpressionStatement [175429,175595]
            MethodInvocation [175429,175594]
                METHOD_INVOCATION_RECEIVER [175429,175576]
                    MethodInvocation [175429,175576]
                        SimpleName: when [175429,175433]
                        METHOD_INVOCATION_ARGUMENTS [175434,175575]
                            MethodInvocation [175434,175575]
                                METHOD_INVOCATION_RECEIVER [175434,175437]
                                    SimpleName: dao [175434,175437]
                                SimpleName: hasProjectNotificationSubscribersForDispatchers [175438,175485]
                                METHOD_INVOCATION_ARGUMENTS [175486,175574]
                                    StringLiteral: "PROJECT_UUID" [175486,175500]
                                    MethodInvocation [175502,175574]
                                        METHOD_INVOCATION_RECEIVER [175502,175508]
                                            SimpleName: Arrays [175502,175508]
                                        SimpleName: asList [175509,175515]
                                        METHOD_INVOCATION_ARGUMENTS [175516,175573]
                                            StringLiteral: "CommentOnIssueAssignedToMe" [175516,175544]
                                            StringLiteral: "CommentOnIssueCreatedByMe" [175546,175573]
                SimpleName: thenReturn [175577,175587]
                METHOD_INVOCATION_ARGUMENTS [175588,175593]
                    BooleanLiteral: false [175588,175593]
        ExpressionStatement [175601,175711]
            MethodInvocation [175601,175710]
                METHOD_INVOCATION_RECEIVER [175601,175700]
                    MethodInvocation [175601,175700]
                        SimpleName: assertThat [175601,175611]
                        METHOD_INVOCATION_ARGUMENTS [175612,175699]
                            MethodInvocation [175612,175699]
                                METHOD_INVOCATION_RECEIVER [175612,175619]
                                    SimpleName: service [175612,175619]
                                SimpleName: hasProjectSubscribersForTypes [175620,175649]
                                METHOD_INVOCATION_ARGUMENTS [175650,175698]
                                    StringLiteral: "PROJECT_UUID" [175650,175664]
                                    MethodInvocation [175666,175698]
                                        METHOD_INVOCATION_RECEIVER [175666,175670]
                                            SimpleName: Sets [175666,175670]
                                        SimpleName: newHashSet [175671,175681]
                                        METHOD_INVOCATION_ARGUMENTS [175682,175697]
                                            StringLiteral: "issue-changes" [175682,175697]
                SimpleName: isFalse [175701,175708]
        ExpressionStatement [175777,175942]
            MethodInvocation [175777,175941]
                METHOD_INVOCATION_RECEIVER [175777,175924]
                    MethodInvocation [175777,175924]
                        SimpleName: when [175777,175781]
                        METHOD_INVOCATION_ARGUMENTS [175782,175923]
                            MethodInvocation [175782,175923]
                                METHOD_INVOCATION_RECEIVER [175782,175785]
                                    SimpleName: dao [175782,175785]
                                SimpleName: hasProjectNotificationSubscribersForDispatchers [175786,175833]
                                METHOD_INVOCATION_ARGUMENTS [175834,175922]
                                    StringLiteral: "PROJECT_UUID" [175834,175848]
                                    MethodInvocation [175850,175922]
                                        METHOD_INVOCATION_RECEIVER [175850,175856]
                                            SimpleName: Arrays [175850,175856]
                                        SimpleName: asList [175857,175863]
                                        METHOD_INVOCATION_ARGUMENTS [175864,175921]
                                            StringLiteral: "CommentOnIssueAssignedToMe" [175864,175892]
                                            StringLiteral: "CommentOnIssueCreatedByMe" [175894,175921]
                SimpleName: thenReturn [175925,175935]
                METHOD_INVOCATION_ARGUMENTS [175936,175940]
                    BooleanLiteral: true [175936,175940]
        ExpressionStatement [175948,176057]
            MethodInvocation [175948,176056]
                METHOD_INVOCATION_RECEIVER [175948,176047]
                    MethodInvocation [175948,176047]
                        SimpleName: assertThat [175948,175958]
                        METHOD_INVOCATION_ARGUMENTS [175959,176046]
                            MethodInvocation [175959,176046]
                                METHOD_INVOCATION_RECEIVER [175959,175966]
                                    SimpleName: service [175959,175966]
                                SimpleName: hasProjectSubscribersForTypes [175967,175996]
                                METHOD_INVOCATION_ARGUMENTS [175997,176045]
                                    StringLiteral: "PROJECT_UUID" [175997,176011]
                                    MethodInvocation [176013,176045]
                                        METHOD_INVOCATION_RECEIVER [176013,176017]
                                            SimpleName: Sets [176013,176017]
                                        SimpleName: newHashSet [176018,176028]
                                        METHOD_INVOCATION_ARGUMENTS [176029,176044]
                                            StringLiteral: "issue-changes" [176029,176044]
                SimpleName: isTrue [176048,176054]
to
TypeDeclaration [167564,176639]
at 25
===
insert-tree
---
MethodDeclaration [176068,176230]
    Modifier: private [176068,176075]
    Modifier: static [176076,176082]
    ParameterizedType [176083,176097]
        SimpleType [176083,176089]
            SimpleName: Answer [176083,176089]
        SimpleType [176090,176096]
            SimpleName: Object [176090,176096]
    SimpleName: addUser [176098,176105]
    SingleVariableDeclaration [176106,176123]
        Modifier: final [176106,176111]
        SimpleType [176112,176118]
            SimpleName: String [176112,176118]
        SimpleName: user [176119,176123]
    SingleVariableDeclaration [176125,176158]
        Modifier: final [176125,176130]
        SimpleType [176131,176150]
            SimpleName: NotificationChannel [176131,176150]
        SimpleName: channel [176151,176158]
    Block [176160,176230]
        ReturnStatement [176167,176225]
            MethodInvocation [176174,176224]
                SimpleName: addUser [176174,176181]
                METHOD_INVOCATION_ARGUMENTS [176182,176223]
                    SimpleName: user [176182,176186]
                    ArrayCreation [176188,176223]
                        ArrayType [176192,176213]
                            SimpleType [176192,176211]
                                SimpleName: NotificationChannel [176192,176211]
                            Dimension [176211,176213]
                        ArrayInitializer [176214,176223]
                            SimpleName: channel [176215,176222]
to
TypeDeclaration [167564,176639]
at 26
===
insert-tree
---
MethodDeclaration [176236,176636]
    Modifier: private [176236,176243]
    Modifier: static [176244,176250]
    ParameterizedType [176251,176265]
        SimpleType [176251,176257]
            SimpleName: Answer [176251,176257]
        SimpleType [176258,176264]
            SimpleName: Object [176258,176264]
    SimpleName: addUser [176266,176273]
    SingleVariableDeclaration [176274,176291]
        Modifier: final [176274,176279]
        SimpleType [176280,176286]
            SimpleName: String [176280,176286]
        SimpleName: user [176287,176291]
    SingleVariableDeclaration [176293,176329]
        Modifier: final [176293,176298]
        ArrayType [176299,176320]
            SimpleType [176299,176318]
                SimpleName: NotificationChannel [176299,176318]
            Dimension [176318,176320]
        SimpleName: channels [176321,176329]
    Block [176331,176636]
        ReturnStatement [176338,176631]
            ClassInstanceCreation [176345,176630]
                ParameterizedType [176349,176363]
                    SimpleType [176349,176355]
                        SimpleName: Answer [176349,176355]
                    SimpleType [176356,176362]
                        SimpleName: Object [176356,176362]
                AnonymousClassDeclaration [176366,176630]
                    MethodDeclaration [176375,176623]
                        Modifier: public [176375,176381]
                        SimpleType [176382,176388]
                            SimpleName: Object [176382,176388]
                        SimpleName: answer [176389,176395]
                        SingleVariableDeclaration [176396,176423]
                            SimpleType [176396,176412]
                                SimpleName: InvocationOnMock [176396,176412]
                            SimpleName: invocation [176413,176423]
                        Block [176425,176623]
                            EnhancedForStatement [176436,176592]
                                SingleVariableDeclaration [176441,176468]
                                    SimpleType [176441,176460]
                                        SimpleName: NotificationChannel [176441,176460]
                                    SimpleName: channel [176461,176468]
                                SimpleName: channels [176471,176479]
                                Block [176481,176592]
                                    ExpressionStatement [176494,176581]
                                        MethodInvocation [176494,176580]
                                            METHOD_INVOCATION_RECEIVER [176494,176557]
                                                ParenthesizedExpression [176494,176557]
                                                    CastExpression [176495,176556]
                                                        SimpleType [176496,176526]
                                                            QualifiedName: NotificationDispatcher.Context [176496,176526]
                                                        ArrayAccess [176528,176556]
                                                            MethodInvocation [176528,176553]
                                                                METHOD_INVOCATION_RECEIVER [176528,176538]
                                                                    SimpleName: invocation [176528,176538]
                                                                SimpleName: getArguments [176539,176551]
                                                            NumberLiteral: 1 [176554,176555]
                                            SimpleName: addUser [176558,176565]
                                            METHOD_INVOCATION_ARGUMENTS [176566,176579]
                                                SimpleName: user [176566,176570]
                                                SimpleName: channel [176572,176579]
                            ReturnStatement [176602,176614]
                                NullLiteral [176609,176613]
to
TypeDeclaration [167564,176639]
at 27
===
insert-tree
---
SimpleType [167761,167787]
    SimpleName: DefaultNotificationManager [167761,167787]
to
FieldDeclaration [167761,167837]
at 0
===
insert-node
---
VariableDeclarationFragment [167788,167836]
to
FieldDeclaration [167761,167837]
at 1
===
insert-node
---
SimpleName: manager [167788,167795]
to
VariableDeclarationFragment [167788,167836]
at 0
===
insert-node
---
MethodInvocation [167798,167836]
to
VariableDeclarationFragment [167788,167836]
at 1
===
insert-node
---
SimpleName: NotificationService [2195,2214]
to
TagElement [2189,2247]
at 0
===
insert-node
---
SimpleName: mock [167798,167802]
to
MethodInvocation [167798,167836]
at 0
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [167803,167835]
to
MethodInvocation [167798,167836]
at 1
===
move-tree
---
TypeLiteral [106108,106140]
    SimpleType [106108,106134]
        SimpleName: DefaultNotificationManager [106108,106134]
to
METHOD_INVOCATION_ARGUMENTS [167803,167835]
at 0
===
delete-tree
---
ImportDeclaration [1865,1923]
    QualifiedName: org.sonar.server.notifications.NotificationService [1872,1922]
===
delete-tree
---
ImportDeclaration [7359,7417]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [7366,7416]
===
delete-tree
---
ImportDeclaration [7419,7485]
    QualifiedName: org.sonar.core.notification.NotificationDispatcherMetadata [7426,7484]
===
delete-tree
---
ImportDeclaration [7487,7542]
    QualifiedName: org.sonar.core.notification.NotificationManager [7494,7541]
===
delete-tree
---
ImportDeclaration [10986,11041]
    QualifiedName: org.sonar.core.notification.NotificationManager [10993,11040]
===
delete-tree
---
ImportDeclaration [20860,20915]
    QualifiedName: org.sonar.core.notification.NotificationManager [20867,20914]
===
delete-tree
---
ImportDeclaration [35171,35229]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [35178,35228]
===
delete-tree
---
ImportDeclaration [35231,35297]
    QualifiedName: org.sonar.core.notification.NotificationDispatcherMetadata [35238,35296]
===
delete-tree
---
ImportDeclaration [35299,35354]
    QualifiedName: org.sonar.core.notification.NotificationManager [35306,35353]
===
delete-tree
---
ImportDeclaration [38873,38931]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [38880,38930]
===
delete-tree
---
ImportDeclaration [38933,38999]
    QualifiedName: org.sonar.core.notification.NotificationDispatcherMetadata [38940,38998]
===
delete-tree
---
ImportDeclaration [39001,39056]
    QualifiedName: org.sonar.core.notification.NotificationManager [39008,39055]
===
delete-tree
---
ImportDeclaration [42288,42346]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [42295,42345]
===
delete-tree
---
ImportDeclaration [42348,42414]
    QualifiedName: org.sonar.core.notification.NotificationDispatcherMetadata [42355,42413]
===
delete-tree
---
ImportDeclaration [42416,42471]
    QualifiedName: org.sonar.core.notification.NotificationManager [42423,42470]
===
delete-tree
---
ImportDeclaration [45061,45119]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [45068,45118]
===
delete-tree
---
ImportDeclaration [45121,45187]
    QualifiedName: org.sonar.core.notification.NotificationDispatcherMetadata [45128,45186]
===
delete-tree
---
ImportDeclaration [45189,45244]
    QualifiedName: org.sonar.core.notification.NotificationManager [45196,45243]
===
delete-tree
---
ImportDeclaration [48698,48760]
    QualifiedName: org.sonar.core.notification.DefaultNotificationManager [48705,48759]
===
delete-tree
---
ImportDeclaration [56332,56389]
    QualifiedName: org.sonar.server.notifications.NotificationCenter [56339,56388]
===
delete-tree
---
ImportDeclaration [56391,56449]
    QualifiedName: org.sonar.server.notifications.NotificationService [56398,56448]
===
delete-tree
---
ImportDeclaration [56451,56515]
    QualifiedName: org.sonar.server.notifications.email.AlertsEmailTemplate [56458,56514]
===
delete-tree
---
ImportDeclaration [56517,56586]
    QualifiedName: org.sonar.server.notifications.email.EmailNotificationChannel [56524,56585]
===
delete-tree
---
ImportDeclaration [80014,80072]
    QualifiedName: org.sonar.server.notifications.NotificationService [80021,80071]
===
delete-tree
---
ImportDeclaration [83865,83923]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [83872,83922]
===
delete-tree
---
ImportDeclaration [83925,83980]
    QualifiedName: org.sonar.core.notification.NotificationManager [83932,83979]
===
delete-tree
---
ImportDeclaration [87274,87332]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [87281,87331]
===
delete-tree
---
ImportDeclaration [87334,87400]
    QualifiedName: org.sonar.core.notification.NotificationDispatcherMetadata [87341,87399]
===
delete-tree
---
ImportDeclaration [87402,87457]
    QualifiedName: org.sonar.core.notification.NotificationManager [87409,87456]
===
delete-tree
---
ImportDeclaration [92116,92174]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [92123,92173]
===
delete-tree
---
ImportDeclaration [92176,92242]
    QualifiedName: org.sonar.core.notification.NotificationDispatcherMetadata [92183,92241]
===
delete-tree
---
ImportDeclaration [92244,92299]
    QualifiedName: org.sonar.core.notification.NotificationManager [92251,92298]
===
delete-tree
---
ImportDeclaration [96614,96672]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [96621,96671]
===
delete-tree
---
ImportDeclaration [96674,96729]
    QualifiedName: org.sonar.core.notification.NotificationManager [96681,96728]
===
delete-tree
---
ImportDeclaration [99649,99707]
    QualifiedName: org.sonar.core.notification.NotificationDispatcher [99656,99706]
===
delete-tree
---
ImportDeclaration [99709,99764]
    QualifiedName: org.sonar.core.notification.NotificationManager [99716,99763]
===
delete-tree
---
ImportDeclaration [105106,105168]
    QualifiedName: org.sonar.core.notification.DefaultNotificationManager [105113,105167]
===
delete-node
---
QualifiedName: org.sonar.server.notifications.NotificationService [2196,2246]
