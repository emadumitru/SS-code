===
move-tree
---
ImportDeclaration [937,964]
    QualifiedName: java.nio.file.Paths [944,963]
to
CompilationUnit [0,212977]
at 3
===
move-tree
---
ImportDeclaration [3033,3065]
    QualifiedName: org.junit.rules.TestName [3040,3064]
to
CompilationUnit [0,212977]
at 4
===
move-tree
---
ImportDeclaration [3067,3099]
    QualifiedName: org.junit.rules.TestRule [3074,3098]
to
CompilationUnit [0,212977]
at 5
===
move-tree
---
ImportDeclaration [968,1000]
    QualifiedName: org.junit.rules.TestName [975,999]
to
CompilationUnit [0,212977]
at 16
===
move-tree
---
ImportDeclaration [194047,194118]
    QualifiedName: org.apache.drill.exec.proto.CoordinationProtos.DrillbitEndpoint [194054,194117]
to
CompilationUnit [0,212977]
at 338
===
insert-tree
---
ImportDeclaration [976,1012]
    QualifiedName: org.junit.runner.Description [983,1011]
to
CompilationUnit [0,212977]
at 2
===
insert-tree
---
ImportDeclaration [1014,1055]
    QualifiedName: org.junit.runners.model.Statement [1021,1054]
to
CompilationUnit [0,212977]
at 3
===
insert-tree
---
ImportDeclaration [1059,1099]
    QualifiedName: java.lang.annotation.ElementType [1066,1098]
to
CompilationUnit [0,212977]
at 4
===
insert-tree
---
ImportDeclaration [1101,1139]
    QualifiedName: java.lang.annotation.Retention [1108,1138]
to
CompilationUnit [0,212977]
at 5
===
insert-tree
---
ImportDeclaration [1141,1185]
    QualifiedName: java.lang.annotation.RetentionPolicy [1148,1184]
to
CompilationUnit [0,212977]
at 6
===
insert-tree
---
ImportDeclaration [1187,1222]
    QualifiedName: java.lang.annotation.Target [1194,1221]
to
CompilationUnit [0,212977]
at 7
===
insert-tree
---
ImportDeclaration [5511,5562]
    QualifiedName: org.apache.drill.common.util.RepeatTestRule [5518,5561]
to
CompilationUnit [0,212977]
at 17
===
insert-tree
---
ImportDeclaration [5757,5789]
    QualifiedName: org.junit.rules.TestRule [5764,5788]
to
CompilationUnit [0,212977]
at 24
===
insert-tree
---
ImportDeclaration [29778,29834]
    QualifiedName: org.apache.drill.exec.proto.helper.QueryIdHelper [29785,29833]
to
CompilationUnit [0,212977]
at 84
===
insert-tree
---
ImportDeclaration [39915,39968]
    QualifiedName: com.fasterxml.jackson.core.JsonParseException [39922,39967]
to
CompilationUnit [0,212977]
at 99
===
insert-tree
---
ImportDeclaration [148674,148732]
    QualifiedName: org.apache.drill.common.util.RepeatTestRule.Repeat [148681,148731]
to
CompilationUnit [0,212977]
at 299
===
insert-tree
---
ImportDeclaration [150842,150888]
    QualifiedName: org.apache.drill.exec.testing.Controls [150849,150887]
to
CompilationUnit [0,212977]
at 334
===
insert-tree
---
ImportDeclaration [186406,186445]
    QualifiedName: com.google.common.collect.Lists [186413,186444]
to
CompilationUnit [0,212977]
at 348
===
insert-tree
---
ImportDeclaration [186447,186518]
    QualifiedName: org.apache.drill.exec.proto.CoordinationProtos.DrillbitEndpoint [186454,186517]
to
CompilationUnit [0,212977]
at 349
===
insert-tree
---
ImportDeclaration [186522,186544]
    QualifiedName: java.util.List [186529,186543]
to
CompilationUnit [0,212977]
at 350
===
insert-tree
---
ImportDeclaration [196285,196363]
    QualifiedName: org.apache.drill.exec.ExecConstants.DRILLBIT_CONTROL_INJECTIONS [196299,196362]
to
CompilationUnit [0,212977]
at 363
===
insert-tree
---
TypeDeclaration [1226,2376]
    Javadoc [1226,1512]
        TagElement [1234,1388]
            TextElement: A  [1234,1236]
            TagElement [1236,1252]
                SimpleName: TestRule [1243,1251]
            TextElement:  to repeat a test for a specified number of times. If "count" <= 0, the test is not run. [1252,1340]
            TextElement: For example, [1345,1357]
            TextElement: <pre> [1362,1367]
            TagElement [1372,1378]
            TextElement: Test [1384,1388]
        TagElement [1393,1507]
            TextElement:  = 20) // repeats the test 20 times [1406,1441]
            TextElement: public void unitTest() { [1446,1470]
            TextElement: // code [1477,1484]
            TextElement: } [1489,1490]
            TextElement: } [1495,1496]
            TextElement: </pre> [1501,1507]
    Modifier: public [1514,1520]
    TYPE_DECLARATION_KIND: class [1521,1526]
    SimpleName: RepeatTestRule [1527,1541]
    SimpleType [1553,1561]
        SimpleName: TestRule [1553,1561]
    AnnotationTypeDeclaration [1569,1690]
        SingleMemberAnnotation [1569,1604]
            SimpleName: Retention [1570,1579]
            QualifiedName: RetentionPolicy.RUNTIME [1580,1603]
        SingleMemberAnnotation [1608,1637]
            SimpleName: Target [1609,1615]
            ArrayInitializer [1616,1636]
                QualifiedName: ElementType.METHOD [1617,1635]
        Modifier: public [1641,1647]
        SimpleName: Repeat [1659,1665]
        AnnotationTypeMemberDeclaration [1673,1685]
            PrimitiveType: int [1673,1676]
            SimpleName: count [1677,1682]
    TypeDeclaration [1696,2125]
        Modifier: private [1696,1703]
        Modifier: static [1704,1710]
        TYPE_DECLARATION_KIND: class [1711,1716]
        SimpleName: RepeatStatement [1717,1732]
        SimpleType [1741,1750]
            SimpleName: Statement [1741,1750]
        FieldDeclaration [1758,1792]
            Modifier: private [1758,1765]
            Modifier: final [1766,1771]
            SimpleType [1772,1781]
                SimpleName: Statement [1772,1781]
            VariableDeclarationFragment [1782,1791]
                SimpleName: statement [1782,1791]
        FieldDeclaration [1798,1822]
            Modifier: private [1798,1805]
            Modifier: final [1806,1811]
            PrimitiveType: int [1812,1815]
            VariableDeclarationFragment [1816,1821]
                SimpleName: count [1816,1821]
        MethodDeclaration [1830,1968]
            Modifier: private [1830,1837]
            SimpleName: RepeatStatement [1838,1853]
            SingleVariableDeclaration [1854,1879]
                Modifier: final [1854,1859]
                SimpleType [1860,1869]
                    SimpleName: Statement [1860,1869]
                SimpleName: statement [1870,1879]
            SingleVariableDeclaration [1881,1896]
                Modifier: final [1881,1886]
                PrimitiveType: int [1887,1890]
                SimpleName: count [1891,1896]
            Block [1898,1968]
                ExpressionStatement [1907,1934]
                    Assignment [1907,1933]
                        FieldAccess [1907,1921]
                            ThisExpression [1907,1911]
                            SimpleName: statement [1912,1921]
                        ASSIGNMENT_OPERATOR: = [1922,1923]
                        SimpleName: statement [1924,1933]
                ExpressionStatement [1942,1961]
                    Assignment [1942,1960]
                        FieldAccess [1942,1952]
                            ThisExpression [1942,1946]
                            SimpleName: count [1947,1952]
                        ASSIGNMENT_OPERATOR: = [1953,1954]
                        SimpleName: count [1955,1960]
        MethodDeclaration [1976,2120]
            MarkerAnnotation [1976,1985]
                SimpleName: Override [1977,1985]
            Modifier: public [1991,1997]
            PrimitiveType: void [1998,2002]
            SimpleName: evaluate [2003,2011]
            SimpleType [2021,2030]
                SimpleName: Throwable [2021,2030]
            Block [2031,2120]
                ForStatement [2040,2113]
                    VariableDeclarationExpression [2045,2054]
                        PrimitiveType: int [2045,2048]
                        VariableDeclarationFragment [2049,2054]
                            SimpleName: i [2049,2050]
                            NumberLiteral: 0 [2053,2054]
                    InfixExpression [2056,2065]
                        SimpleName: i [2056,2057]
                        INFIX_EXPRESSION_OPERATOR: < [2058,2059]
                        SimpleName: count [2060,2065]
                    PrefixExpression [2067,2070]
                        PREFIX_EXPRESSION_OPERATOR: ++ [2067,2069]
                        SimpleName: i [2069,2070]
                    Block [2072,2113]
                        ExpressionStatement [2083,2104]
                            MethodInvocation [2083,2103]
                                METHOD_INVOCATION_RECEIVER [2083,2092]
                                    SimpleName: statement [2083,2092]
                                SimpleName: evaluate [2093,2101]
    MethodDeclaration [2131,2373]
        MarkerAnnotation [2131,2140]
            SimpleName: Override [2132,2140]
        Modifier: public [2144,2150]
        SimpleType [2151,2160]
            SimpleName: Statement [2151,2160]
        SimpleName: apply [2161,2166]
        SingleVariableDeclaration [2167,2187]
            Modifier: final [2167,2172]
            SimpleType [2173,2182]
                SimpleName: Statement [2173,2182]
            SimpleName: base [2183,2187]
        SingleVariableDeclaration [2189,2218]
            Modifier: final [2189,2194]
            SimpleType [2195,2206]
                SimpleName: Description [2195,2206]
            SimpleName: description [2207,2218]
        Block [2220,2373]
            VariableDeclarationStatement [2227,2289]
                Modifier: final [2227,2232]
                SimpleType [2233,2239]
                    SimpleName: Repeat [2233,2239]
                VariableDeclarationFragment [2240,2288]
                    SimpleName: repeat [2240,2246]
                    MethodInvocation [2249,2288]
                        METHOD_INVOCATION_RECEIVER [2249,2260]
                            SimpleName: description [2249,2260]
                        SimpleName: getAnnotation [2261,2274]
                        METHOD_INVOCATION_ARGUMENTS [2275,2287]
                            TypeLiteral [2275,2287]
                                SimpleType [2275,2281]
                                    SimpleName: Repeat [2275,2281]
            ReturnStatement [2295,2368]
                ConditionalExpression [2302,2367]
                    InfixExpression [2302,2316]
                        SimpleName: repeat [2302,2308]
                        INFIX_EXPRESSION_OPERATOR: != [2309,2311]
                        NullLiteral [2312,2316]
                    ClassInstanceCreation [2319,2360]
                        SimpleType [2323,2338]
                            SimpleName: RepeatStatement [2323,2338]
                        SimpleName: base [2339,2343]
                        MethodInvocation [2345,2359]
                            METHOD_INVOCATION_RECEIVER [2345,2351]
                                SimpleName: repeat [2345,2351]
                            SimpleName: count [2352,2357]
                    SimpleName: base [2363,2367]
to
CompilationUnit [0,212977]
at 410
===
move-tree
---
MethodDeclaration [164746,165057]
    Javadoc [164746,164860]
        TagElement [164756,164853]
            TextElement: Given a set of controls, this method ensures that the TEST_QUERY completes with a CANCELED state. [164756,164853]
    Modifier: private [164864,164871]
    Modifier: static [164872,164878]
    PrimitiveType: void [164879,164883]
    SimpleName: assertCancelledWithoutException [164884,164915]
    SingleVariableDeclaration [164916,164937]
        Modifier: final [164916,164921]
        SimpleType [164922,164928]
            SimpleName: String [164922,164928]
        SimpleName: controls [164929,164937]
    SingleVariableDeclaration [164939,164979]
        Modifier: final [164939,164944]
        SimpleType [164945,164970]
            SimpleName: WaitUntilCompleteListener [164945,164970]
        SimpleName: listener [164971,164979]
    Block [164981,165057]
        ExpressionStatement [164988,165052]
            MethodInvocation [164988,165051]
                SimpleName: assertCancelledWithoutException [164988,165019]
                METHOD_INVOCATION_ARGUMENTS [165020,165050]
                    SimpleName: controls [165020,165028]
                    SimpleName: listener [165030,165038]
                    SimpleName: TEST_QUERY [165040,165050]
to
TypeDeclaration [148174,183277]
at 38
===
insert-node
---
TypeDeclaration [186548,194775]
to
CompilationUnit [0,212977]
at 423
===
insert-node
---
TypeDeclaration [196405,201914]
to
CompilationUnit [0,212977]
at 424
===
insert-tree
---
MethodDeclaration [4042,4286]
    Javadoc [4042,4142]
        TagElement [4052,4135]
            TextElement: If not enforced, the repeat rule applies only if the test is run in non-debug mode. [4052,4135]
    Modifier: public [4146,4152]
    Modifier: static [4153,4159]
    SimpleType [4160,4168]
        SimpleName: TestRule [4160,4168]
    SimpleName: getRepeatRule [4169,4182]
    SingleVariableDeclaration [4183,4204]
        Modifier: final [4183,4188]
        PrimitiveType: boolean [4189,4196]
        SimpleName: enforce [4197,4204]
    Block [4206,4286]
        ReturnStatement [4213,4281]
            ConditionalExpression [4220,4280]
                InfixExpression [4220,4240]
                    SimpleName: enforce [4220,4227]
                    INFIX_EXPRESSION_OPERATOR: || [4228,4230]
                    PrefixExpression [4231,4240]
                        PREFIX_EXPRESSION_OPERATOR: ! [4231,4232]
                        SimpleName: IS_DEBUG [4232,4240]
                ClassInstanceCreation [4243,4263]
                    SimpleType [4247,4261]
                        SimpleName: RepeatTestRule [4247,4261]
                ClassInstanceCreation [4266,4280]
                    SimpleType [4270,4278]
                        SimpleName: TestName [4270,4278]
to
TypeDeclaration [1071,1730]
at 9
===
insert-tree
---
FieldDeclaration [6737,6810]
    MarkerAnnotation [6737,6742]
        SimpleName: Rule [6738,6742]
    Modifier: public [6743,6749]
    Modifier: final [6750,6755]
    SimpleType [6756,6764]
        SimpleName: TestRule [6756,6764]
    VariableDeclarationFragment [6765,6809]
        SimpleName: REPEAT_RULE [6765,6776]
        MethodInvocation [6779,6809]
            METHOD_INVOCATION_RECEIVER [6779,6788]
                SimpleName: TestTools [6779,6788]
            SimpleName: getRepeatRule [6789,6802]
            METHOD_INVOCATION_ARGUMENTS [6803,6808]
                BooleanLiteral: false [6803,6808]
to
TypeDeclaration [3319,7701]
at 14
===
insert-node
---
Modifier: public [13510,13516]
to
TypeDeclaration [10646,21265]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [13517,13522]
to
TypeDeclaration [10646,21265]
at 2
===
insert-node
---
SimpleName: ScanBatch [13523,13532]
to
TypeDeclaration [10646,21265]
at 3
===
insert-node
---
MethodDeclaration [43569,43726]
to
TypeDeclaration [37873,44868]
at 11
===
insert-node
---
Modifier: public [63252,63258]
to
TypeDeclaration [59407,103518]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [63259,63264]
to
TypeDeclaration [59407,103518]
at 2
===
insert-node
---
SimpleName: Foreman [63265,63272]
to
TypeDeclaration [59407,103518]
at 3
===
insert-node
---
Modifier: public [109789,109795]
to
TypeDeclaration [106591,124901]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [109796,109801]
to
TypeDeclaration [106591,124901]
at 2
===
insert-node
---
SimpleName: QueryManager [109802,109814]
to
TypeDeclaration [106591,124901]
at 3
===
insert-node
---
Modifier: public [130635,130641]
to
TypeDeclaration [127442,143572]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [130642,130647]
to
TypeDeclaration [127442,143572]
at 2
===
insert-node
---
SimpleName: FragmentExecutor [130648,130664]
to
TypeDeclaration [127442,143572]
at 3
===
insert-tree
---
Javadoc [151428,151624]
    TagElement [151436,151619]
        TextElement: Test how resilient drillbits are to throwing exceptions during various phases of query [151436,151522]
        TextElement: execution by injecting exceptions at various points, and to cancellations in various phases. [151527,151619]
to
TypeDeclaration [148174,183277]
at 0
===
insert-node
---
Modifier: public [151626,151632]
to
TypeDeclaration [148174,183277]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [151633,151638]
to
TypeDeclaration [148174,183277]
at 2
===
insert-node
---
SimpleName: TestDrillbitResilience [151639,151661]
to
TypeDeclaration [148174,183277]
at 3
===
insert-tree
---
FieldDeclaration [152009,152132]
    Javadoc [152009,152090]
        TagElement [152019,152083]
            TextElement: The number of times test (that are repeated) should be repeated. [152019,152083]
    Modifier: private [152094,152101]
    Modifier: static [152102,152108]
    Modifier: final [152109,152114]
    PrimitiveType: int [152115,152118]
    VariableDeclarationFragment [152119,152131]
        SimpleName: NUM_RUNS [152119,152127]
        NumberLiteral: 3 [152130,152131]
to
TypeDeclaration [148174,183277]
at 15
===
insert-node
---
MethodDeclaration [153945,154421]
to
TypeDeclaration [148174,183277]
at 23
===
insert-node
---
MethodDeclaration [159026,159226]
to
TypeDeclaration [148174,183277]
at 30
===
insert-node
---
MethodDeclaration [181041,182486]
to
TypeDeclaration [148174,183277]
at 65
===
insert-tree
---
Javadoc [185544,186362]
    TagElement [185552,186357]
        TextElement: Licensed to the Apache Software Foundation (ASF) under one [185552,185610]
        TextElement: or more contributor license agreements.  See the NOTICE file [185615,185675]
        TextElement: distributed with this work for additional information [185680,185733]
        TextElement: regarding copyright ownership.  The ASF licenses this file [185738,185796]
        TextElement: to you under the Apache License, Version 2.0 (the [185801,185850]
        TextElement: "License"); you may not use this file except in compliance [185855,185913]
        TextElement: with the License.  You may obtain a copy of the License at [185918,185976]
        TextElement: http://www.apache.org/licenses/LICENSE-2.0 [185985,186027]
        TextElement: Unless required by applicable law or agreed to in writing, software [186036,186103]
        TextElement: distributed under the License is distributed on an "AS IS" BASIS, [186108,186173]
        TextElement: WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. [186178,186250]
        TextElement: See the License for the specific language governing permissions and [186255,186322]
        TextElement: limitations under the License. [186327,186357]
to
TypeDeclaration [186548,194775]
at 0
===
insert-node
---
Modifier: public [186548,186554]
to
TypeDeclaration [186548,194775]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [186555,186560]
to
TypeDeclaration [186548,194775]
at 2
===
insert-node
---
SimpleName: Controls [186561,186569]
to
TypeDeclaration [186548,194775]
at 3
===
insert-node
---
FieldDeclaration [186577,186646]
to
TypeDeclaration [186548,194775]
at 4
===
insert-tree
---
MethodDeclaration [186652,186833]
    Javadoc [186652,186761]
        TagElement [186662,186715]
            TextElement: Returns a builder that can be used to add injections. [186662,186715]
        TagElement [186728,186754]
            TextElement:  a builder instance [186735,186754]
    Modifier: public [186765,186771]
    Modifier: static [186772,186778]
    SimpleType [186779,186786]
        SimpleName: Builder [186779,186786]
    SimpleName: newBuilder [186787,186797]
    Block [186800,186833]
        ReturnStatement [186807,186828]
            ClassInstanceCreation [186814,186827]
                SimpleType [186818,186825]
                    SimpleName: Builder [186818,186825]
to
TypeDeclaration [186548,194775]
at 5
===
insert-tree
---
MethodDeclaration [186839,186948]
    Javadoc [186839,186919]
        TagElement [186849,186912]
            TextElement: Constructor. To disallow building controls without the builder. [186849,186912]
    Modifier: private [186923,186930]
    SimpleName: Controls [186931,186939]
    Block [186942,186948]
to
TypeDeclaration [186548,194775]
at 6
===
insert-node
---
TypeDeclaration [186954,194772]
to
TypeDeclaration [186548,194775]
at 7
===
move-tree
---
Javadoc [184865,184962]
    TagElement [184873,184957]
        TextElement: Static methods for constructing exception and pause injections for testing purposes. [184873,184957]
to
TypeDeclaration [196405,201914]
at 0
===
insert-node
---
Modifier: public [196504,196510]
to
TypeDeclaration [196405,201914]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [196511,196516]
to
TypeDeclaration [196405,201914]
at 2
===
insert-node
---
SimpleName: ControlsInjectionUtil [196517,196538]
to
TypeDeclaration [196405,201914]
at 3
===
move-tree
---
MethodDeclaration [185004,185122]
    Javadoc [185004,185080]
        TagElement [185014,185073]
            TextElement: Constructor. Prevent instantiation of static utility class. [185014,185073]
    Modifier: private [185084,185091]
    SimpleName: ControlsInjectionUtil [185092,185113]
    Block [185116,185122]
to
TypeDeclaration [196405,201914]
at 4
===
move-tree
---
FieldDeclaration [185128,185344]
    Modifier: private [185128,185135]
    Modifier: static [185136,185142]
    Modifier: final [185143,185148]
    SimpleType [185149,185170]
        SimpleName: QueryCountIncrementer [185149,185170]
    VariableDeclarationFragment [185171,185182]
        SimpleName: incrementer [185171,185182]
to
TypeDeclaration [196405,201914]
at 5
===
move-tree
---
MethodDeclaration [165773,166254]
    Modifier: private [165773,165780]
    Modifier: static [165781,165787]
    PrimitiveType: void [165788,165792]
    SimpleName: setSessionOption [165793,165809]
    SingleVariableDeclaration [165810,165829]
        Modifier: final [165810,165815]
        SimpleType [165816,165822]
            SimpleName: String [165816,165822]
        SimpleName: option [165823,165829]
    SingleVariableDeclaration [165831,165849]
        Modifier: final [165831,165836]
        SimpleType [165837,165843]
            SimpleName: String [165837,165843]
        SimpleName: value [165844,165849]
    Block [165851,166254]
        TryStatement [165858,166249]
            Block [165862,166108]
                VariableDeclarationStatement [165871,166016]
                    Modifier: final [165871,165876]
                    ParameterizedType [165877,165897]
                        SimpleType [165877,165881]
                            SimpleName: List [165877,165881]
                        SimpleType [165882,165896]
                            SimpleName: QueryDataBatch [165882,165896]
                    VariableDeclarationFragment [165898,166015]
                        SimpleName: results [165898,165905]
                        MethodInvocation [165908,166015]
                            METHOD_INVOCATION_RECEIVER [165908,165919]
                                SimpleName: drillClient [165908,165919]
                            SimpleName: runQuery [165920,165928]
                            METHOD_INVOCATION_ARGUMENTS [165929,166014]
                                QualifiedName: QueryType.SQL [165929,165942]
                                MethodInvocation [165955,166014]
                                    METHOD_INVOCATION_RECEIVER [165955,165961]
                                        SimpleName: String [165955,165961]
                                    SimpleName: format [165962,165968]
                                    METHOD_INVOCATION_ARGUMENTS [165969,166013]
                                        StringLiteral: "alter session set `%s` = %s" [165969,165998]
                                        SimpleName: option [166000,166006]
                                        SimpleName: value [166008,166013]
                EnhancedForStatement [166024,166101]
                    SingleVariableDeclaration [166029,166054]
                        Modifier: final [166029,166034]
                        SimpleType [166035,166049]
                            SimpleName: QueryDataBatch [166035,166049]
                        SimpleName: data [166050,166054]
                    SimpleName: results [166057,166064]
                    Block [166066,166101]
                        ExpressionStatement [166077,166092]
                            MethodInvocation [166077,166091]
                                METHOD_INVOCATION_RECEIVER [166077,166081]
                                    SimpleName: data [166077,166081]
                                SimpleName: release [166082,166089]
            CatchClause [166109,166249]
                SingleVariableDeclaration [166115,166129]
                    SimpleType [166115,166127]
                        SimpleName: RpcException [166115,166127]
                    SimpleName: e [166128,166129]
                Block [166131,166249]
                    ExpressionStatement [166140,166242]
                        MethodInvocation [166140,166241]
                            SimpleName: fail [166140,166144]
                            METHOD_INVOCATION_ARGUMENTS [166145,166240]
                                MethodInvocation [166145,166240]
                                    METHOD_INVOCATION_RECEIVER [166145,166151]
                                        SimpleName: String [166145,166151]
                                    SimpleName: format [166152,166158]
                                    METHOD_INVOCATION_ARGUMENTS [166159,166239]
                                        StringLiteral: "Failed to set session option `%s` = %s, Error: %s" [166159,166210]
                                        SimpleName: option [166212,166218]
                                        SimpleName: value [166220,166225]
                                        MethodInvocation [166227,166239]
                                            METHOD_INVOCATION_RECEIVER [166227,166228]
                                                SimpleName: e [166227,166228]
                                            SimpleName: toString [166229,166237]
to
TypeDeclaration [196405,201914]
at 6
===
insert-node
---
MethodDeclaration [197378,197595]
to
TypeDeclaration [196405,201914]
at 7
===
move-tree
---
MethodDeclaration [185898,186502]
    Modifier: public [185898,185904]
    Modifier: static [185905,185911]
    PrimitiveType: void [185912,185916]
    SimpleName: setControls [185917,185928]
    SingleVariableDeclaration [185929,185954]
        Modifier: final [185929,185934]
        SimpleType [185935,185946]
            SimpleName: UserSession [185935,185946]
        SimpleName: session [185947,185954]
    SingleVariableDeclaration [185956,185977]
        Modifier: final [185956,185961]
        SimpleType [185962,185968]
            SimpleName: String [185962,185968]
        SimpleName: controls [185969,185977]
    Block [185979,186502]
        ExpressionStatement [185986,186019]
            MethodInvocation [185986,186018]
                SimpleName: validateControlsString [185986,186008]
                METHOD_INVOCATION_ARGUMENTS [186009,186017]
                    SimpleName: controls [186009,186017]
        VariableDeclarationStatement [186025,186170]
            Modifier: final [186025,186030]
            SimpleType [186031,186042]
                SimpleName: OptionValue [186031,186042]
            VariableDeclarationFragment [186043,186169]
                SimpleName: opValue [186043,186050]
                MethodInvocation [186053,186169]
                    METHOD_INVOCATION_RECEIVER [186053,186064]
                        SimpleName: OptionValue [186053,186064]
                    SimpleName: createString [186065,186077]
                    METHOD_INVOCATION_ARGUMENTS [186078,186168]
                        QualifiedName: OptionValue.OptionType.SESSION [186078,186108]
                        QualifiedName: ExecConstants.DRILLBIT_CONTROL_INJECTIONS [186117,186158]
                        SimpleName: controls [186160,186168]
        VariableDeclarationStatement [186178,186229]
            Modifier: final [186178,186183]
            SimpleType [186184,186197]
                SimpleName: OptionManager [186184,186197]
            VariableDeclarationFragment [186198,186228]
                SimpleName: options [186198,186205]
                MethodInvocation [186208,186228]
                    METHOD_INVOCATION_RECEIVER [186208,186215]
                        SimpleName: session [186208,186215]
                    SimpleName: getOptions [186216,186226]
        TryStatement [186235,186422]
            Block [186239,186327]
                ExpressionStatement [186248,186285]
                    MethodInvocation [186248,186284]
                        METHOD_INVOCATION_RECEIVER [186248,186266]
                            MethodInvocation [186248,186266]
                                METHOD_INVOCATION_RECEIVER [186248,186255]
                                    SimpleName: options [186248,186255]
                                SimpleName: getAdmin [186256,186264]
                        SimpleName: validate [186267,186275]
                        METHOD_INVOCATION_ARGUMENTS [186276,186283]
                            SimpleName: opValue [186276,186283]
                ExpressionStatement [186293,186320]
                    MethodInvocation [186293,186319]
                        METHOD_INVOCATION_RECEIVER [186293,186300]
                            SimpleName: options [186293,186300]
                        SimpleName: setOption [186301,186310]
                        METHOD_INVOCATION_ARGUMENTS [186311,186318]
                            SimpleName: opValue [186311,186318]
            CatchClause [186328,186422]
                SingleVariableDeclaration [186335,186346]
                    SimpleType [186335,186344]
                        SimpleName: Exception [186335,186344]
                    SimpleName: e [186345,186346]
                Block [186348,186422]
                    ExpressionStatement [186357,186415]
                        MethodInvocation [186357,186414]
                            SimpleName: fail [186357,186361]
                            METHOD_INVOCATION_ARGUMENTS [186362,186413]
                                InfixExpression [186362,186413]
                                    StringLiteral: "Could not set controls options: " [186362,186396]
                                    INFIX_EXPRESSION_OPERATOR: + [186397,186398]
                                    MethodInvocation [186399,186413]
                                        METHOD_INVOCATION_RECEIVER [186399,186400]
                                            SimpleName: e [186399,186400]
                                        SimpleName: getMessage [186401,186411]
        ExpressionStatement [186428,186459]
            MethodInvocation [186428,186458]
                METHOD_INVOCATION_RECEIVER [186428,186439]
                    SimpleName: incrementer [186428,186439]
                SimpleName: increment [186440,186449]
                METHOD_INVOCATION_ARGUMENTS [186450,186457]
                    SimpleName: session [186450,186457]
to
TypeDeclaration [196405,201914]
at 8
===
insert-node
---
MethodDeclaration [198203,198454]
to
TypeDeclaration [196405,201914]
at 9
===
insert-node
---
MethodDeclaration [198460,199235]
to
TypeDeclaration [196405,201914]
at 10
===
insert-node
---
MethodDeclaration [199241,200236]
to
TypeDeclaration [196405,201914]
at 11
===
insert-node
---
MethodDeclaration [200242,200685]
to
TypeDeclaration [196405,201914]
at 12
===
insert-node
---
MethodDeclaration [200691,201345]
to
TypeDeclaration [196405,201914]
at 13
===
insert-node
---
MethodDeclaration [201351,201733]
to
TypeDeclaration [196405,201914]
at 14
===
move-tree
---
MethodDeclaration [186784,186956]
    Javadoc [186784,186825]
        TagElement [186794,186818]
            TextElement: Clears all the controls. [186794,186818]
    Modifier: public [186829,186835]
    Modifier: static [186836,186842]
    PrimitiveType: void [186843,186847]
    SimpleName: clearControls [186848,186861]
    SingleVariableDeclaration [186862,186886]
        Modifier: final [186862,186867]
        SimpleType [186868,186879]
            SimpleName: DrillClient [186868,186879]
        SimpleName: client [186880,186886]
    Block [186888,186956]
        ExpressionStatement [186895,186951]
            MethodInvocation [186895,186950]
                SimpleName: setControls [186895,186906]
                METHOD_INVOCATION_ARGUMENTS [186907,186949]
                    SimpleName: client [186907,186913]
                    QualifiedName: ExecutionControls.DEFAULT_CONTROLS [186915,186949]
to
TypeDeclaration [196405,201914]
at 15
===
insert-node
---
Modifier: public [209339,209345]
to
TypeDeclaration [194585,204457]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [209346,209351]
to
TypeDeclaration [194585,204457]
at 2
===
insert-node
---
SimpleName: TestExceptionInjection [209352,209374]
to
TypeDeclaration [194585,204457]
at 3
===
insert-tree
---
MarkerAnnotation [23631,23640]
    SimpleName: Override [23632,23640]
to
MethodDeclaration [20852,21032]
at 0
===
update-node
---
SimpleName: resumeFragment [28043,28057]
replace resumeFragment by unpauseFragment
===
update-node
---
Modifier: public [40516,40522]
replace public by private
===
insert-node
---
Modifier: public [43569,43575]
to
MethodDeclaration [43569,43726]
at 0
===
insert-node
---
Modifier: static [43576,43582]
to
MethodDeclaration [43569,43726]
at 1
===
insert-node
---
PrimitiveType: void [43583,43587]
to
MethodDeclaration [43569,43726]
at 2
===
insert-node
---
SimpleName: validateControlsString [43588,43610]
to
MethodDeclaration [43569,43726]
at 3
===
move-tree
---
SingleVariableDeclaration [166326,166347]
    Modifier: final [166326,166331]
    SimpleType [166332,166338]
        SimpleName: String [166332,166338]
    SimpleName: siteDesc [166339,166347]
to
MethodDeclaration [43569,43726]
at 4
===
insert-tree
---
SimpleType [43643,43654]
    SimpleName: IOException [43643,43654]
to
MethodDeclaration [43569,43726]
at 5
===
move-tree
---
Block [40210,40289]
    ExpressionStatement [40221,40280]
        MethodInvocation [40221,40279]
            METHOD_INVOCATION_RECEIVER [40221,40241]
                SimpleName: controlsOptionMapper [40221,40241]
            SimpleName: readValue [40242,40251]
            METHOD_INVOCATION_ARGUMENTS [40252,40278]
                SimpleName: jsonString [40252,40262]
                TypeLiteral [40264,40278]
                    SimpleType [40264,40272]
                        SimpleName: Controls [40264,40272]
to
MethodDeclaration [43569,43726]
at 6
===
insert-tree
---
Javadoc [153945,154091]
    TagElement [153955,154006]
        TextElement: Get the endpoint for the drillbit, if it is running [153955,154006]
    TagElement [154013,154045]
        SimpleName: name [154020,154024]
        TextElement:  name of the drillbit [154024,154045]
    TagElement [154052,154084]
        TextElement:  endpoint of the drillbit [154059,154084]
to
MethodDeclaration [153945,154421]
at 0
===
insert-node
---
Modifier: private [154095,154102]
to
MethodDeclaration [153945,154421]
at 1
===
insert-node
---
Modifier: static [154103,154109]
to
MethodDeclaration [153945,154421]
at 2
===
move-tree
---
SimpleType [157031,157047]
    SimpleName: DrillbitEndpoint [157031,157047]
to
MethodDeclaration [153945,154421]
at 3
===
insert-node
---
SimpleName: getEndpoint [154127,154138]
to
MethodDeclaration [153945,154421]
at 4
===
move-tree
---
SingleVariableDeclaration [156661,156681]
    Modifier: final [156661,156666]
    SimpleType [156667,156673]
        SimpleName: String [156667,156673]
    SimpleName: bitName [156674,156681]
to
MethodDeclaration [153945,154421]
at 5
===
insert-node
---
Block [154158,154421]
to
MethodDeclaration [153945,154421]
at 6
===
insert-tree
---
Javadoc [159026,159065]
    TagElement [159036,159058]
        TextElement: Sets a session option. [159036,159058]
to
MethodDeclaration [159026,159226]
at 0
===
insert-node
---
Modifier: private [159069,159076]
to
MethodDeclaration [159026,159226]
at 1
===
insert-node
---
Modifier: static [159077,159083]
to
MethodDeclaration [159026,159226]
at 2
===
insert-node
---
PrimitiveType: void [159084,159088]
to
MethodDeclaration [159026,159226]
at 3
===
insert-node
---
SimpleName: setSessionOption [159089,159105]
to
MethodDeclaration [159026,159226]
at 4
===
move-tree
---
SingleVariableDeclaration [165810,165829]
    Modifier: final [165810,165815]
    SimpleType [165816,165822]
        SimpleName: String [165816,165822]
    SimpleName: option [165823,165829]
to
MethodDeclaration [159026,159226]
at 5
===
move-tree
---
SingleVariableDeclaration [165831,165849]
    Modifier: final [165831,165836]
    SimpleType [165837,165843]
        SimpleName: String [165837,165843]
    SimpleName: value [165844,165849]
to
MethodDeclaration [159026,159226]
at 6
===
insert-node
---
Block [159147,159226]
to
MethodDeclaration [159026,159226]
at 7
===
update-node
---
SimpleName: assertExceptionInjected [157807,157830]
replace assertExceptionInjected by assertExceptionMessage
===
update-node
---
SimpleName: settingNoopInjectionsAndQuery [158398,158427]
replace settingNoopInjectionsAndQuery by settingNoOpInjectionsAndQuery
===
insert-tree
---
NormalAnnotation [161298,161323]
    SimpleName: Repeat [161299,161305]
    MemberValuePair [161306,161322]
        SimpleName: count [161306,161311]
        SimpleName: NUM_RUNS [161314,161322]
to
MethodDeclaration [159452,159737]
at 1
===
move-tree
---
MarkerAnnotation [148419,148426]
    SimpleName: Ignore [148420,148426]
to
MethodDeclaration [159743,160016]
at 1
===
update-node
---
SimpleName: assertCompleteState [164272,164291]
replace assertCompleteState by assertStateCompleted
===
update-node
---
SimpleName: assertCancelled [165400,165415]
replace assertCancelled by assertCancelledWithoutException
===
move-tree
---
SingleVariableDeclaration [165180,165198]
    Modifier: final [165180,165185]
    SimpleType [165186,165192]
        SimpleName: String [165186,165192]
    SimpleName: query [165193,165198]
to
MethodDeclaration [165261,165767]
at 8
===
update-node
---
SimpleName: cancelBeforeAnyResultsArrive [167882,167910]
replace cancelBeforeAnyResultsArrive by cancelWhenQueryIdArrives
===
insert-tree
---
NormalAnnotation [169931,169956]
    SimpleName: Repeat [169932,169938]
    MemberValuePair [169939,169955]
        SimpleName: count [169939,169944]
        SimpleName: NUM_RUNS [169947,169955]
to
MethodDeclaration [168506,169573]
at 1
===
insert-tree
---
NormalAnnotation [171102,171127]
    SimpleName: Repeat [171103,171109]
    MemberValuePair [171110,171126]
        SimpleName: count [171110,171115]
        SimpleName: NUM_RUNS [171118,171126]
to
MethodDeclaration [169581,170527]
at 1
===
insert-tree
---
NormalAnnotation [172113,172138]
    SimpleName: Repeat [172114,172120]
    MemberValuePair [172121,172137]
        SimpleName: count [172121,172126]
        SimpleName: NUM_RUNS [172129,172137]
to
MethodDeclaration [170533,171473]
at 1
===
insert-tree
---
NormalAnnotation [177069,177094]
    SimpleName: Repeat [177070,177076]
    MemberValuePair [177077,177093]
        SimpleName: count [177077,177082]
        SimpleName: NUM_RUNS [177085,177093]
to
MethodDeclaration [175070,175733]
at 2
===
update-node
---
SimpleName: testInterruptingBlockedMergingRecordBatch [175329,175370]
replace testInterruptingBlockedMergingRecordBatch by interruptingBlockedMergingRecordBatch
===
insert-tree
---
NormalAnnotation [177797,177822]
    SimpleName: Repeat [177798,177804]
    MemberValuePair [177805,177821]
        SimpleName: count [177805,177810]
        SimpleName: NUM_RUNS [177813,177821]
to
MethodDeclaration [175739,176414]
at 2
===
update-node
---
SimpleName: testInterruptingBlockedUnorderedReceiverBatch [176002,176047]
replace testInterruptingBlockedUnorderedReceiverBatch by interruptingBlockedUnorderedReceiverBatch
===
update-node
---
SimpleName: testInterruptingBlockedFragmentsWaitingForData [176440,176486]
replace testInterruptingBlockedFragmentsWaitingForData by interruptingBlockedFragmentsWaitingForData
===
insert-tree
---
NormalAnnotation [179170,179195]
    SimpleName: Repeat [179171,179177]
    MemberValuePair [179178,179194]
        SimpleName: count [179178,179183]
        SimpleName: NUM_RUNS [179186,179194]
to
MethodDeclaration [177027,178785]
at 2
===
update-node
---
SimpleName: testInterruptingPartitionerThreadFragment [177308,177349]
replace testInterruptingPartitionerThreadFragment by interruptingPartitionerThreadFragment
===
move-tree
---
MarkerAnnotation [170613,170620]
    SimpleName: Ignore [170614,170620]
to
MethodDeclaration [178791,179324]
at 1
===
update-node
---
SimpleName: testInterruptingWhileFragmentIsBlockedInAcquiringSendingTicket [178812,178874]
replace testInterruptingWhileFragmentIsBlockedInAcquiringSendingTicket by interruptingWhileFragmentIsBlockedInAcquiringSendingTicket
===
move-tree
---
MarkerAnnotation [179330,179335]
    SimpleName: Test [179331,179335]
to
MethodDeclaration [181041,182486]
at 0
===
insert-tree
---
NormalAnnotation [181050,181075]
    SimpleName: Repeat [181051,181057]
    MemberValuePair [181058,181074]
        SimpleName: count [181058,181063]
        SimpleName: NUM_RUNS [181066,181074]
to
MethodDeclaration [181041,182486]
at 1
===
insert-node
---
Modifier: public [181079,181085]
to
MethodDeclaration [181041,182486]
at 2
===
insert-node
---
PrimitiveType: void [181086,181090]
to
MethodDeclaration [181041,182486]
at 3
===
insert-node
---
SimpleName: memoryLeaksWhenCancelled [181091,181115]
to
MethodDeclaration [181041,182486]
at 4
===
insert-node
---
Block [181118,182486]
to
MethodDeclaration [181041,182486]
at 5
===
insert-tree
---
MarkerAnnotation [182501,182508]
    SimpleName: Ignore [182502,182508]
to
MethodDeclaration [180586,181491]
at 1
===
update-node
---
SimpleName: testInterruptingAfterMSorterSorting [181532,181567]
replace testInterruptingAfterMSorterSorting by failsAfterMSorterSorting
===
update-node
---
SimpleName: testInterruptingAfterMSorterSetup [182218,182251]
replace testInterruptingAfterMSorterSetup by failsAfterMSorterSetup
===
insert-node
---
Modifier: static [185039,185045]
to
MethodDeclaration [182869,183274]
at 1
===
insert-node
---
Modifier: private [186577,186584]
to
FieldDeclaration [186577,186646]
at 0
===
insert-node
---
Modifier: static [186585,186591]
to
FieldDeclaration [186577,186646]
at 1
===
insert-node
---
Modifier: final [186592,186597]
to
FieldDeclaration [186577,186646]
at 2
===
move-tree
---
SimpleType [199285,199291]
    SimpleName: String [199285,199291]
to
FieldDeclaration [186577,186646]
at 3
===
insert-tree
---
VariableDeclarationFragment [186605,186645]
    SimpleName: EMPTY_CONTROLS [186605,186619]
    StringLiteral: "{\"injections\" : []}" [186622,186645]
to
FieldDeclaration [186577,186646]
at 4
===
insert-tree
---
Javadoc [186954,187465]
    TagElement [186964,187458]
        TextElement: A builder to create a controls string, a JSON that holds a list of injections that are to be injected in code for [186964,187077]
        TextElement: testing purposes. This string is passed through the [187084,187135]
        TagElement [187142,187213]
            MemberRef [187149,187212]
                QualifiedName: org.apache.drill.exec.ExecConstants [187149,187184]
                SimpleName: DRILLBIT_CONTROL_INJECTIONS [187185,187212]
        TextElement:  session option. [187213,187229]
        TextElement: <p/> [187236,187240]
        TextElement: The builder class can be reused; it is safe to call build() multiple times to build multiple controls strings in [187247,187359]
        TextElement: series. Each new controls string contains all the injections added to the builder before it. [187366,187458]
to
TypeDeclaration [186954,194772]
at 0
===
insert-node
---
Modifier: public [187469,187475]
to
TypeDeclaration [186954,194772]
at 1
===
insert-node
---
Modifier: static [187476,187482]
to
TypeDeclaration [186954,194772]
at 2
===
insert-node
---
TYPE_DECLARATION_KIND: class [187483,187488]
to
TypeDeclaration [186954,194772]
at 3
===
insert-node
---
SimpleName: Builder [187489,187496]
to
TypeDeclaration [186954,194772]
at 4
===
insert-node
---
FieldDeclaration [187506,187567]
to
TypeDeclaration [186954,194772]
at 5
===
insert-tree
---
MethodDeclaration [187575,187600]
    Modifier: public [187575,187581]
    SimpleName: Builder [187582,187589]
    Block [187592,187600]
to
TypeDeclaration [186954,194772]
at 6
===
insert-tree
---
MethodDeclaration [187608,188462]
    Javadoc [187608,188097]
        TagElement [187620,187698]
            TextElement: Adds an exception injection to the controls builder with the given parameters. [187620,187698]
        TagElement [187715,187779]
            SimpleName: siteClass [187722,187731]
            TextElement:       class where the exception should be thrown [187731,187779]
        TagElement [187788,187861]
            SimpleName: desc [187795,187799]
            TextElement:            descriptor for the exception site in the site class [187799,187861]
        TagElement [187870,187923]
            SimpleName: exceptionClass [187877,187891]
            TextElement:  class of the exception to throw [187891,187923]
        TagElement [187932,187991]
            SimpleName: nSkip [187939,187944]
            TextElement:           number of times to skip before firing [187944,187991]
        TagElement [188000,188059]
            SimpleName: nFire [188007,188012]
            TextElement:           number of times to fire the exception [188012,188059]
        TagElement [188068,188088]
            TextElement:  this builder [188075,188088]
    Modifier: public [188103,188109]
    SimpleType [188110,188117]
        SimpleName: Builder [188110,188117]
    SimpleName: addException [188118,188130]
    SingleVariableDeclaration [188131,188155]
        Modifier: final [188131,188136]
        ParameterizedType [188137,188145]
            SimpleType [188137,188142]
                SimpleName: Class [188137,188142]
            WildcardType [188143,188144]
        SimpleName: siteClass [188146,188155]
    SingleVariableDeclaration [188157,188174]
        Modifier: final [188157,188162]
        SimpleType [188163,188169]
            SimpleName: String [188163,188169]
        SimpleName: desc [188170,188174]
    SingleVariableDeclaration [188209,188256]
        Modifier: final [188209,188214]
        ParameterizedType [188215,188241]
            SimpleType [188215,188220]
                SimpleName: Class [188215,188220]
            WildcardType [188221,188240]
                SimpleType [188231,188240]
                    SimpleName: Throwable [188231,188240]
        SimpleName: exceptionClass [188242,188256]
    SingleVariableDeclaration [188258,188273]
        Modifier: final [188258,188263]
        PrimitiveType: int [188264,188267]
        SimpleName: nSkip [188268,188273]
    SingleVariableDeclaration [188308,188323]
        Modifier: final [188308,188313]
        PrimitiveType: int [188314,188317]
        SimpleName: nFire [188318,188323]
    Block [188325,188462]
        ExpressionStatement [188334,188435]
            MethodInvocation [188334,188434]
                METHOD_INVOCATION_RECEIVER [188334,188344]
                    SimpleName: injections [188334,188344]
                SimpleName: add [188345,188348]
                METHOD_INVOCATION_ARGUMENTS [188349,188433]
                    MethodInvocation [188349,188433]
                        METHOD_INVOCATION_RECEIVER [188349,188370]
                            SimpleName: ControlsInjectionUtil [188349,188370]
                        SimpleName: createException [188371,188386]
                        METHOD_INVOCATION_ARGUMENTS [188387,188432]
                            SimpleName: siteClass [188387,188396]
                            SimpleName: desc [188398,188402]
                            SimpleName: nSkip [188404,188409]
                            SimpleName: nFire [188411,188416]
                            SimpleName: exceptionClass [188418,188432]
        ReturnStatement [188443,188455]
            ThisExpression [188450,188454]
to
TypeDeclaration [186954,194772]
at 7
===
insert-tree
---
MethodDeclaration [188470,189158]
    Javadoc [188470,188922]
        TagElement [188482,188659]
            TextElement: Adds an exception injection to the controls builder with the given parameters. The injection is not skipped, and [188482,188594]
            TextElement: the exception is thrown when execution reaches the site. [188603,188659]
        TagElement [188676,188740]
            SimpleName: siteClass [188683,188692]
            TextElement:       class where the exception should be thrown [188692,188740]
        TagElement [188749,188822]
            SimpleName: desc [188756,188760]
            TextElement:            descriptor for the exception site in the site class [188760,188822]
        TagElement [188831,188884]
            SimpleName: exceptionClass [188838,188852]
            TextElement:  class of the exception to throw [188852,188884]
        TagElement [188893,188913]
            TextElement:  this builder [188900,188913]
    Modifier: public [188928,188934]
    SimpleType [188935,188942]
        SimpleName: Builder [188935,188942]
    SimpleName: addException [188943,188955]
    SingleVariableDeclaration [188956,188980]
        Modifier: final [188956,188961]
        ParameterizedType [188962,188970]
            SimpleType [188962,188967]
                SimpleName: Class [188962,188967]
            WildcardType [188968,188969]
        SimpleName: siteClass [188971,188980]
    SingleVariableDeclaration [188982,188999]
        Modifier: final [188982,188987]
        SimpleType [188988,188994]
            SimpleName: String [188988,188994]
        SimpleName: desc [188995,188999]
    SingleVariableDeclaration [189034,189081]
        Modifier: final [189034,189039]
        ParameterizedType [189040,189066]
            SimpleType [189040,189045]
                SimpleName: Class [189040,189045]
            WildcardType [189046,189065]
                SimpleType [189056,189065]
                    SimpleName: Throwable [189056,189065]
        SimpleName: exceptionClass [189067,189081]
    Block [189083,189158]
        ReturnStatement [189092,189151]
            MethodInvocation [189099,189150]
                SimpleName: addException [189099,189111]
                METHOD_INVOCATION_ARGUMENTS [189112,189149]
                    SimpleName: siteClass [189112,189121]
                    SimpleName: desc [189123,189127]
                    SimpleName: exceptionClass [189129,189143]
                    NumberLiteral: 0 [189145,189146]
                    NumberLiteral: 1 [189148,189149]
to
TypeDeclaration [186954,194772]
at 8
===
insert-node
---
MethodDeclaration [189166,190237]
to
TypeDeclaration [186954,194772]
at 9
===
insert-tree
---
MethodDeclaration [190245,191158]
    Javadoc [190245,190826]
        TagElement [190257,190489]
            TextElement: Adds an exception injection (for the specified drillbit) to the controls builder with the given parameters. The [190257,190368]
            TextElement: injection is not skipped, and the exception is thrown when execution reaches the site on the specified drillbit. [190377,190489]
        TagElement [190506,190570]
            SimpleName: siteClass [190513,190522]
            TextElement:       class where the exception should be thrown [190522,190570]
        TagElement [190579,190652]
            SimpleName: desc [190586,190590]
            TextElement:            descriptor for the exception site in the site class [190590,190652]
        TagElement [190661,190714]
            SimpleName: exceptionClass [190668,190682]
            TextElement:  class of the exception to throw [190682,190714]
        TagElement [190723,190788]
            SimpleName: endpoint [190730,190738]
            TextElement:        endpoint of the drillbit on which to inject [190738,190788]
        TagElement [190797,190817]
            TextElement:  this builder [190804,190817]
    Modifier: public [190832,190838]
    SimpleType [190839,190846]
        SimpleName: Builder [190839,190846]
    SimpleName: addExceptionOnBit [190847,190864]
    SingleVariableDeclaration [190865,190889]
        Modifier: final [190865,190870]
        ParameterizedType [190871,190879]
            SimpleType [190871,190876]
                SimpleName: Class [190871,190876]
            WildcardType [190877,190878]
        SimpleName: siteClass [190880,190889]
    SingleVariableDeclaration [190891,190908]
        Modifier: final [190891,190896]
        SimpleType [190897,190903]
            SimpleName: String [190897,190903]
        SimpleName: desc [190904,190908]
    SingleVariableDeclaration [190948,190995]
        Modifier: final [190948,190953]
        ParameterizedType [190954,190980]
            SimpleType [190954,190959]
                SimpleName: Class [190954,190959]
            WildcardType [190960,190979]
                SimpleType [190970,190979]
                    SimpleName: Throwable [190970,190979]
        SimpleName: exceptionClass [190981,190995]
    SingleVariableDeclaration [191035,191066]
        Modifier: final [191035,191040]
        SimpleType [191041,191057]
            SimpleName: DrillbitEndpoint [191041,191057]
        SimpleName: endpoint [191058,191066]
    Block [191068,191158]
        ReturnStatement [191077,191151]
            MethodInvocation [191084,191150]
                SimpleName: addExceptionOnBit [191084,191101]
                METHOD_INVOCATION_ARGUMENTS [191102,191149]
                    SimpleName: siteClass [191102,191111]
                    SimpleName: desc [191113,191117]
                    SimpleName: exceptionClass [191119,191133]
                    SimpleName: endpoint [191135,191143]
                    NumberLiteral: 0 [191145,191146]
                    NumberLiteral: 1 [191148,191149]
to
TypeDeclaration [186954,194772]
at 10
===
insert-tree
---
MethodDeclaration [191166,191693]
    Javadoc [191166,191494]
        TagElement [191178,191251]
            TextElement: Adds a pause injection to the controls builder with the given parameters. [191178,191251]
        TagElement [191268,191320]
            SimpleName: siteClass [191275,191284]
            TextElement:  class where the pause should happen [191284,191320]
        TagElement [191329,191393]
            SimpleName: desc [191336,191340]
            TextElement:       descriptor for the pause site in the site class [191340,191393]
        TagElement [191402,191456]
            SimpleName: nSkip [191409,191414]
            TextElement:      number of times to skip before firing [191414,191456]
        TagElement [191465,191485]
            TextElement:  this builder [191472,191485]
    Modifier: public [191500,191506]
    SimpleType [191507,191514]
        SimpleName: Builder [191507,191514]
    SimpleName: addPause [191515,191523]
    SingleVariableDeclaration [191524,191545]
        Modifier: final [191524,191529]
        SimpleType [191530,191535]
            SimpleName: Class [191530,191535]
        SimpleName: siteClass [191536,191545]
    SingleVariableDeclaration [191547,191564]
        Modifier: final [191547,191552]
        SimpleType [191553,191559]
            SimpleName: String [191553,191559]
        SimpleName: desc [191560,191564]
    SingleVariableDeclaration [191566,191581]
        Modifier: final [191566,191571]
        PrimitiveType: int [191572,191575]
        SimpleName: nSkip [191576,191581]
    Block [191583,191693]
        ExpressionStatement [191592,191666]
            MethodInvocation [191592,191665]
                METHOD_INVOCATION_RECEIVER [191592,191602]
                    SimpleName: injections [191592,191602]
                SimpleName: add [191603,191606]
                METHOD_INVOCATION_ARGUMENTS [191607,191664]
                    MethodInvocation [191607,191664]
                        METHOD_INVOCATION_RECEIVER [191607,191628]
                            SimpleName: ControlsInjectionUtil [191607,191628]
                        SimpleName: createPause [191629,191640]
                        METHOD_INVOCATION_ARGUMENTS [191641,191663]
                            SimpleName: siteClass [191641,191650]
                            SimpleName: desc [191652,191656]
                            SimpleName: nSkip [191658,191663]
        ReturnStatement [191674,191686]
            ThisExpression [191681,191685]
to
TypeDeclaration [186954,194772]
at 11
===
insert-tree
---
MethodDeclaration [191701,192179]
    Javadoc [191701,192055]
        TagElement [191713,191875]
            TextElement: Adds a pause injection to the controls builder with the given parameters. The pause is not skipped i.e. the pause [191713,191826]
            TextElement: happens when execution reaches the site. [191835,191875]
        TagElement [191892,191944]
            SimpleName: siteClass [191899,191908]
            TextElement:  class where the pause should happen [191908,191944]
        TagElement [191953,192017]
            SimpleName: desc [191960,191964]
            TextElement:       descriptor for the pause site in the site class [191964,192017]
        TagElement [192026,192046]
            TextElement:  this builder [192033,192046]
    Modifier: public [192061,192067]
    SimpleType [192068,192075]
        SimpleName: Builder [192068,192075]
    SimpleName: addPause [192076,192084]
    SingleVariableDeclaration [192085,192106]
        Modifier: final [192085,192090]
        SimpleType [192091,192096]
            SimpleName: Class [192091,192096]
        SimpleName: siteClass [192097,192106]
    SingleVariableDeclaration [192108,192125]
        Modifier: final [192108,192113]
        SimpleType [192114,192120]
            SimpleName: String [192114,192120]
        SimpleName: desc [192121,192125]
    Block [192127,192179]
        ReturnStatement [192136,192172]
            MethodInvocation [192143,192171]
                SimpleName: addPause [192143,192151]
                METHOD_INVOCATION_ARGUMENTS [192152,192170]
                    SimpleName: siteClass [192152,192161]
                    SimpleName: desc [192163,192167]
                    NumberLiteral: 0 [192169,192170]
to
TypeDeclaration [186954,194772]
at 12
===
insert-tree
---
MethodDeclaration [192187,192830]
    Javadoc [192187,192544]
        TagElement [192199,192301]
            TextElement: Adds a pause injection (for the specified drillbit) to the controls builder with the given parameters. [192199,192301]
        TagElement [192318,192370]
            SimpleName: siteClass [192325,192334]
            TextElement:  class where the pause should happen [192334,192370]
        TagElement [192379,192443]
            SimpleName: desc [192386,192390]
            TextElement:       descriptor for the pause site in the site class [192390,192443]
        TagElement [192452,192506]
            SimpleName: nSkip [192459,192464]
            TextElement:      number of times to skip before firing [192464,192506]
        TagElement [192515,192535]
            TextElement:  this builder [192522,192535]
    Modifier: public [192550,192556]
    SimpleType [192557,192564]
        SimpleName: Builder [192557,192564]
    SimpleName: addPauseOnBit [192565,192578]
    SingleVariableDeclaration [192579,192600]
        Modifier: final [192579,192584]
        SimpleType [192585,192590]
            SimpleName: Class [192585,192590]
        SimpleName: siteClass [192591,192600]
    SingleVariableDeclaration [192602,192619]
        Modifier: final [192602,192607]
        SimpleType [192608,192614]
            SimpleName: String [192608,192614]
        SimpleName: desc [192615,192619]
    SingleVariableDeclaration [192655,192686]
        Modifier: final [192655,192660]
        SimpleType [192661,192677]
            SimpleName: DrillbitEndpoint [192661,192677]
        SimpleName: endpoint [192678,192686]
    SingleVariableDeclaration [192688,192703]
        Modifier: final [192688,192693]
        PrimitiveType: int [192694,192697]
        SimpleName: nSkip [192698,192703]
    Block [192705,192830]
        ExpressionStatement [192714,192803]
            MethodInvocation [192714,192802]
                METHOD_INVOCATION_RECEIVER [192714,192724]
                    SimpleName: injections [192714,192724]
                SimpleName: add [192725,192728]
                METHOD_INVOCATION_ARGUMENTS [192729,192801]
                    MethodInvocation [192729,192801]
                        METHOD_INVOCATION_RECEIVER [192729,192750]
                            SimpleName: ControlsInjectionUtil [192729,192750]
                        SimpleName: createPauseOnBit [192751,192767]
                        METHOD_INVOCATION_ARGUMENTS [192768,192800]
                            SimpleName: siteClass [192768,192777]
                            SimpleName: desc [192779,192783]
                            SimpleName: nSkip [192785,192790]
                            SimpleName: endpoint [192792,192800]
        ReturnStatement [192811,192823]
            ThisExpression [192818,192822]
to
TypeDeclaration [186954,194772]
at 13
===
insert-tree
---
MethodDeclaration [192838,193432]
    Javadoc [192838,193221]
        TagElement [192850,193041]
            TextElement: Adds a pause injection (for the specified drillbit) to the controls builder with the given parameters. The pause [192850,192962]
            TextElement: is not skipped i.e. the pause happens when execution reaches the site. [192971,193041]
        TagElement [193058,193110]
            SimpleName: siteClass [193065,193074]
            TextElement:  class where the pause should happen [193074,193110]
        TagElement [193119,193183]
            SimpleName: desc [193126,193130]
            TextElement:       descriptor for the pause site in the site class [193130,193183]
        TagElement [193192,193212]
            TextElement:  this builder [193199,193212]
    Modifier: public [193227,193233]
    SimpleType [193234,193241]
        SimpleName: Builder [193234,193241]
    SimpleName: addPauseOnBit [193242,193255]
    SingleVariableDeclaration [193256,193277]
        Modifier: final [193256,193261]
        SimpleType [193262,193267]
            SimpleName: Class [193262,193267]
        SimpleName: siteClass [193268,193277]
    SingleVariableDeclaration [193279,193296]
        Modifier: final [193279,193284]
        SimpleType [193285,193291]
            SimpleName: String [193285,193291]
        SimpleName: desc [193292,193296]
    SingleVariableDeclaration [193332,193363]
        Modifier: final [193332,193337]
        SimpleType [193338,193354]
            SimpleName: DrillbitEndpoint [193338,193354]
        SimpleName: endpoint [193355,193363]
    Block [193365,193432]
        ReturnStatement [193374,193425]
            MethodInvocation [193381,193424]
                SimpleName: addPauseOnBit [193381,193394]
                METHOD_INVOCATION_ARGUMENTS [193395,193423]
                    SimpleName: siteClass [193395,193404]
                    SimpleName: desc [193406,193410]
                    SimpleName: endpoint [193412,193420]
                    NumberLiteral: 0 [193422,193423]
to
TypeDeclaration [186954,194772]
at 14
===
insert-tree
---
MethodDeclaration [193440,193881]
    Javadoc [193440,193706]
        TagElement [193452,193526]
            TextElement: Adds a count down latch to the controls builder with the given parameters. [193452,193526]
        TagElement [193543,193600]
            SimpleName: siteClass [193550,193559]
            TextElement:  class where the latch should be injected [193559,193600]
        TagElement [193609,193668]
            SimpleName: desc [193616,193620]
            TextElement:       descriptor for the latch in the site class [193620,193668]
        TagElement [193677,193697]
            TextElement:  this builder [193684,193697]
    Modifier: public [193712,193718]
    SimpleType [193719,193726]
        SimpleName: Builder [193719,193726]
    SimpleName: addLatch [193727,193735]
    SingleVariableDeclaration [193736,193757]
        Modifier: final [193736,193741]
        SimpleType [193742,193747]
            SimpleName: Class [193742,193747]
        SimpleName: siteClass [193748,193757]
    SingleVariableDeclaration [193759,193776]
        Modifier: final [193759,193764]
        SimpleType [193765,193771]
            SimpleName: String [193765,193771]
        SimpleName: desc [193772,193776]
    Block [193778,193881]
        ExpressionStatement [193787,193854]
            MethodInvocation [193787,193853]
                METHOD_INVOCATION_RECEIVER [193787,193797]
                    SimpleName: injections [193787,193797]
                SimpleName: add [193798,193801]
                METHOD_INVOCATION_ARGUMENTS [193802,193852]
                    MethodInvocation [193802,193852]
                        METHOD_INVOCATION_RECEIVER [193802,193823]
                            SimpleName: ControlsInjectionUtil [193802,193823]
                        SimpleName: createLatch [193824,193835]
                        METHOD_INVOCATION_ARGUMENTS [193836,193851]
                            SimpleName: siteClass [193836,193845]
                            SimpleName: desc [193847,193851]
        ReturnStatement [193862,193874]
            ThisExpression [193869,193873]
to
TypeDeclaration [186954,194772]
at 15
===
insert-node
---
MethodDeclaration [193889,194767]
to
TypeDeclaration [186954,194772]
at 16
===
update-node
---
Modifier: private [165773,165780]
replace private by public
===
insert-tree
---
SingleVariableDeclaration [196922,196951]
    Modifier: final [196922,196927]
    SimpleType [196928,196939]
        SimpleName: DrillClient [196928,196939]
    SimpleName: drillClient [196940,196951]
to
MethodDeclaration [165773,166254]
at 4
===
insert-tree
---
SingleVariableDeclaration [196953,196972]
    Modifier: final [196953,196958]
    SimpleType [196959,196965]
        SimpleName: String [196959,196965]
    SimpleName: option [196966,196972]
to
MethodDeclaration [165773,166254]
at 5
===
insert-tree
---
SingleVariableDeclaration [196974,196992]
    Modifier: final [196974,196979]
    SimpleType [196980,196986]
        SimpleName: String [196980,196986]
    SimpleName: value [196987,196992]
to
MethodDeclaration [165773,166254]
at 6
===
insert-node
---
Modifier: public [197378,197384]
to
MethodDeclaration [197378,197595]
at 0
===
insert-node
---
Modifier: static [197385,197391]
to
MethodDeclaration [197378,197595]
at 1
===
insert-node
---
PrimitiveType: void [197392,197396]
to
MethodDeclaration [197378,197595]
at 2
===
insert-node
---
SimpleName: setControls [197397,197408]
to
MethodDeclaration [197378,197595]
at 3
===
move-tree
---
SingleVariableDeclaration [185377,185406]
    Modifier: final [185377,185382]
    SimpleType [185383,185394]
        SimpleName: DrillClient [185383,185394]
    SimpleName: drillClient [185395,185406]
to
MethodDeclaration [197378,197595]
at 4
===
move-tree
---
SingleVariableDeclaration [185408,185429]
    Modifier: final [185408,185413]
    SimpleType [185414,185420]
        SimpleName: String [185414,185420]
    SimpleName: controls [185421,185429]
to
MethodDeclaration [197378,197595]
at 5
===
insert-node
---
Block [197463,197595]
to
MethodDeclaration [197378,197595]
at 6
===
insert-node
---
Modifier: public [198203,198209]
to
MethodDeclaration [198203,198454]
at 0
===
insert-node
---
Modifier: static [198210,198216]
to
MethodDeclaration [198203,198454]
at 1
===
insert-node
---
PrimitiveType: void [198217,198221]
to
MethodDeclaration [198203,198454]
at 2
===
insert-node
---
SimpleName: validateControlsString [198222,198244]
to
MethodDeclaration [198203,198454]
at 3
===
move-tree
---
SingleVariableDeclaration [186551,186572]
    Modifier: final [186551,186556]
    SimpleType [186557,186563]
        SimpleName: String [186557,186563]
    SimpleName: controls [186564,186572]
to
MethodDeclaration [198203,198454]
at 4
===
insert-node
---
Block [198268,198454]
to
MethodDeclaration [198203,198454]
at 5
===
insert-tree
---
Javadoc [198460,198635]
    TagElement [198470,198628]
        TextElement: Create a single exception injection. Note this format is not directly accepted by the injection mechanism. Use [198470,198580]
        TextElement: the  [198587,198591]
        TagElement [198591,198607]
            SimpleName: Controls [198598,198606]
        TextElement:  to build exceptions. [198607,198628]
to
MethodDeclaration [198460,199235]
at 0
===
insert-node
---
Modifier: public [198639,198645]
to
MethodDeclaration [198460,199235]
at 1
===
insert-node
---
Modifier: static [198646,198652]
to
MethodDeclaration [198460,199235]
at 2
===
move-tree
---
SimpleType [166275,166281]
    SimpleName: String [166275,166281]
to
MethodDeclaration [198460,199235]
at 3
===
insert-node
---
SimpleName: createException [198660,198675]
to
MethodDeclaration [198460,199235]
at 4
===
move-tree
---
SingleVariableDeclaration [156463,156487]
    Modifier: final [156463,156468]
    ParameterizedType [156469,156477]
        SimpleType [156469,156474]
            SimpleName: Class [156469,156474]
        WildcardType [156475,156476]
    SimpleName: siteClass [156478,156487]
to
MethodDeclaration [198460,199235]
at 5
===
move-tree
---
SingleVariableDeclaration [156489,156506]
    Modifier: final [156489,156494]
    SimpleType [156495,156501]
        SimpleName: String [156495,156501]
    SimpleName: desc [156502,156506]
to
MethodDeclaration [198460,199235]
at 6
===
move-tree
---
SingleVariableDeclaration [166349,166364]
    Modifier: final [166349,166354]
    PrimitiveType: int [166355,166358]
    SimpleName: nSkip [166359,166364]
to
MethodDeclaration [198460,199235]
at 7
===
move-tree
---
SingleVariableDeclaration [199262,199277]
    Modifier: final [199262,199267]
    PrimitiveType: int [199268,199271]
    SimpleName: nFire [199272,199277]
to
MethodDeclaration [198460,199235]
at 8
===
move-tree
---
SingleVariableDeclaration [155585,155632]
    Modifier: final [155585,155590]
    ParameterizedType [155591,155617]
        SimpleType [155591,155596]
            SimpleName: Class [155591,155596]
        WildcardType [155597,155616]
            SimpleType [155607,155616]
                SimpleName: Throwable [155607,155616]
    SimpleName: exceptionClass [155618,155632]
to
MethodDeclaration [198460,199235]
at 9
===
insert-node
---
Block [198844,199235]
to
MethodDeclaration [198460,199235]
at 10
===
insert-tree
---
Javadoc [199241,199434]
    TagElement [199251,199427]
        TextElement: Create a single exception injection on a specific bit. Note this format is not directly accepted by the injection [199251,199364]
        TextElement: mechanism. Use the  [199371,199390]
        TagElement [199390,199406]
            SimpleName: Controls [199397,199405]
        TextElement:  to build exceptions. [199406,199427]
to
MethodDeclaration [199241,200236]
at 0
===
insert-node
---
Modifier: public [199438,199444]
to
MethodDeclaration [199241,200236]
at 1
===
insert-node
---
Modifier: static [199445,199451]
to
MethodDeclaration [199241,200236]
at 2
===
move-tree
---
SimpleType [198599,198605]
    SimpleName: String [198599,198605]
to
MethodDeclaration [199241,200236]
at 3
===
insert-node
---
SimpleName: createExceptionOnBit [199459,199479]
to
MethodDeclaration [199241,200236]
at 4
===
move-tree
---
SingleVariableDeclaration [155493,155517]
    Modifier: final [155493,155498]
    ParameterizedType [155499,155507]
        SimpleType [155499,155504]
            SimpleName: Class [155499,155504]
        WildcardType [155505,155506]
    SimpleName: siteClass [155508,155517]
to
MethodDeclaration [199241,200236]
at 5
===
move-tree
---
SingleVariableDeclaration [198622,198639]
    Modifier: final [198622,198627]
    SimpleType [198628,198634]
        SimpleName: String [198628,198634]
    SimpleName: desc [198635,198639]
to
MethodDeclaration [199241,200236]
at 6
===
move-tree
---
SingleVariableDeclaration [198641,198656]
    Modifier: final [198641,198646]
    PrimitiveType: int [198647,198650]
    SimpleName: nSkip [198651,198656]
to
MethodDeclaration [199241,200236]
at 7
===
move-tree
---
SingleVariableDeclaration [198658,198673]
    Modifier: final [198658,198663]
    PrimitiveType: int [198664,198667]
    SimpleName: nFire [198668,198673]
to
MethodDeclaration [199241,200236]
at 8
===
move-tree
---
SingleVariableDeclaration [156560,156607]
    Modifier: final [156560,156565]
    ParameterizedType [156566,156592]
        SimpleType [156566,156571]
            SimpleName: Class [156566,156571]
        WildcardType [156572,156591]
            SimpleType [156582,156591]
                SimpleName: Throwable [156582,156591]
    SimpleName: exceptionClass [156593,156607]
to
MethodDeclaration [199241,200236]
at 9
===
insert-tree
---
SingleVariableDeclaration [199698,199729]
    Modifier: final [199698,199703]
    SimpleType [199704,199720]
        SimpleName: DrillbitEndpoint [199704,199720]
    SimpleName: endpoint [199721,199729]
to
MethodDeclaration [199241,200236]
at 10
===
insert-node
---
Block [199731,200236]
to
MethodDeclaration [199241,200236]
at 11
===
insert-tree
---
Javadoc [200242,200406]
    TagElement [200252,200399]
        TextElement: Create a pause injection. Note this format is not directly accepted by the injection mechanism. Use the [200252,200355]
        TagElement [200362,200378]
            SimpleName: Controls [200369,200377]
        TextElement:  to build exceptions. [200378,200399]
to
MethodDeclaration [200242,200685]
at 0
===
insert-node
---
Modifier: public [200410,200416]
to
MethodDeclaration [200242,200685]
at 1
===
insert-node
---
Modifier: static [200417,200423]
to
MethodDeclaration [200242,200685]
at 2
===
move-tree
---
SimpleType [166613,166619]
    SimpleName: String [166613,166619]
to
MethodDeclaration [200242,200685]
at 3
===
insert-node
---
SimpleName: createPause [200431,200442]
to
MethodDeclaration [200242,200685]
at 4
===
move-tree
---
SingleVariableDeclaration [166641,166662]
    Modifier: final [166641,166646]
    SimpleType [166647,166652]
        SimpleName: Class [166647,166652]
    SimpleName: siteClass [166653,166662]
to
MethodDeclaration [200242,200685]
at 5
===
move-tree
---
SingleVariableDeclaration [155519,155536]
    Modifier: final [155519,155524]
    SimpleType [155525,155531]
        SimpleName: String [155525,155531]
    SimpleName: desc [155532,155536]
to
MethodDeclaration [200242,200685]
at 6
===
insert-tree
---
SingleVariableDeclaration [200485,200500]
    Modifier: final [200485,200490]
    PrimitiveType: int [200491,200494]
    SimpleName: nSkip [200495,200500]
to
MethodDeclaration [200242,200685]
at 7
===
insert-node
---
Block [200502,200685]
to
MethodDeclaration [200242,200685]
at 8
===
insert-tree
---
Javadoc [200691,200873]
    TagElement [200701,200866]
        TextElement: Create a pause injection on a specific bit. Note this format is not directly accepted by the injection [200701,200803]
        TextElement: mechanism. Use the  [200810,200829]
        TagElement [200829,200845]
            SimpleName: Controls [200836,200844]
        TextElement:  to build exceptions. [200845,200866]
to
MethodDeclaration [200691,201345]
at 0
===
insert-node
---
Modifier: public [200877,200883]
to
MethodDeclaration [200691,201345]
at 1
===
insert-node
---
Modifier: static [200884,200890]
to
MethodDeclaration [200691,201345]
at 2
===
move-tree
---
SimpleType [199119,199125]
    SimpleName: String [199119,199125]
to
MethodDeclaration [200691,201345]
at 3
===
insert-node
---
SimpleName: createPauseOnBit [200898,200914]
to
MethodDeclaration [200691,201345]
at 4
===
move-tree
---
SingleVariableDeclaration [166303,166324]
    Modifier: final [166303,166308]
    SimpleType [166309,166314]
        SimpleName: Class [166309,166314]
    SimpleName: siteClass [166315,166324]
to
MethodDeclaration [200691,201345]
at 5
===
move-tree
---
SingleVariableDeclaration [199180,199197]
    Modifier: final [199180,199185]
    SimpleType [199186,199192]
        SimpleName: String [199186,199192]
    SimpleName: desc [199193,199197]
to
MethodDeclaration [200691,201345]
at 6
===
move-tree
---
SingleVariableDeclaration [199199,199214]
    Modifier: final [199199,199204]
    PrimitiveType: int [199205,199208]
    SimpleName: nSkip [199209,199214]
to
MethodDeclaration [200691,201345]
at 7
===
move-tree
---
SingleVariableDeclaration [199147,199178]
    Modifier: final [199147,199152]
    SimpleType [199153,199169]
        SimpleName: DrillbitEndpoint [199153,199169]
    SimpleName: endpoint [199170,199178]
to
MethodDeclaration [200691,201345]
at 8
===
insert-node
---
Block [201048,201345]
to
MethodDeclaration [200691,201345]
at 9
===
insert-tree
---
Javadoc [201351,201515]
    TagElement [201361,201508]
        TextElement: Create a latch injection. Note this format is not directly accepted by the injection mechanism. Use the [201361,201464]
        TagElement [201471,201487]
            SimpleName: Controls [201478,201486]
        TextElement:  to build exceptions. [201487,201508]
to
MethodDeclaration [201351,201733]
at 0
===
insert-node
---
Modifier: public [201519,201525]
to
MethodDeclaration [201351,201733]
at 1
===
insert-node
---
Modifier: static [201526,201532]
to
MethodDeclaration [201351,201733]
at 2
===
move-tree
---
SimpleType [156429,156435]
    SimpleName: String [156429,156435]
to
MethodDeclaration [201351,201733]
at 3
===
insert-node
---
SimpleName: createLatch [201540,201551]
to
MethodDeclaration [201351,201733]
at 4
===
insert-tree
---
SingleVariableDeclaration [201552,201573]
    Modifier: final [201552,201557]
    SimpleType [201558,201563]
        SimpleName: Class [201558,201563]
    SimpleName: siteClass [201564,201573]
to
MethodDeclaration [201351,201733]
at 5
===
insert-tree
---
SingleVariableDeclaration [201575,201592]
    Modifier: final [201575,201580]
    SimpleType [201581,201587]
        SimpleName: String [201581,201587]
    SimpleName: desc [201588,201592]
to
MethodDeclaration [201351,201733]
at 6
===
insert-tree
---
Block [201594,201733]
    ReturnStatement [201601,201728]
        InfixExpression [201608,201727]
            InfixExpression [201608,201659]
                StringLiteral: "{ \"type\":\"latch\"," [201608,201631]
                INFIX_EXPRESSION_OPERATOR: + [201632,201633]
                StringLiteral: "\"siteClass\":\"" [201641,201659]
            INFIX_EXPRESSION_OPERATOR: + [201660,201661]
            MethodInvocation [201662,201681]
                METHOD_INVOCATION_RECEIVER [201662,201671]
                    SimpleName: siteClass [201662,201671]
                SimpleName: getName [201672,201679]
            StringLiteral: "\"," [201684,201689]
            StringLiteral: "\"desc\":\"" [201699,201712]
            SimpleName: desc [201715,201719]
            StringLiteral: "\"}" [201722,201727]
to
MethodDeclaration [201351,201733]
at 7
===
insert-node
---
TextElement: Modified version of  [25340,25360]
to
TagElement [22548,22622]
at 0
===
insert-tree
---
TagElement [25360,25428]
    QualifiedName: io.netty.handler.codec.protobuf.ProtobufVarint32FrameDecoder [25367,25427]
to
TagElement [22548,22622]
at 1
===
update-node
---
TextElement: Modified version of ProtobufVarint32FrameDecoder that avoids bytebuf copy. [22548,22622]
replace Modified version of ProtobufVarint32FrameDecoder that avoids bytebuf copy. by  that avoids bytebuf copy.
===
insert-node
---
TextElement: See the documentation there. [25459,25487]
to
TagElement [22548,22622]
at 3
===
update-node
---
SimpleName: siteDesc [166339,166347]
replace siteDesc by jsonString
===
update-node
---
SimpleName: bitName [156674,156681]
replace bitName by name
===
move-tree
---
VariableDeclarationStatement [156810,156894]
    SingleMemberAnnotation [156810,156839]
        SimpleName: SuppressWarnings [156811,156827]
        StringLiteral: "resource" [156828,156838]
    Modifier: final [156845,156850]
    SimpleType [156851,156859]
        SimpleName: Drillbit [156851,156859]
    VariableDeclarationFragment [156860,156893]
        SimpleName: drillbit [156860,156868]
        MethodInvocation [156871,156893]
            METHOD_INVOCATION_RECEIVER [156871,156880]
                SimpleName: drillbits [156871,156880]
            SimpleName: get [156881,156884]
            METHOD_INVOCATION_ARGUMENTS [156885,156892]
                SimpleName: bitName [156885,156892]
to
Block [154158,154421]
at 0
===
insert-node
---
IfStatement [154252,154367]
to
Block [154158,154421]
at 1
===
insert-node
---
ReturnStatement [154373,154416]
to
Block [154158,154421]
at 2
===
insert-node
---
ExpressionStatement [159154,159221]
to
Block [159147,159226]
at 0
===
insert-tree
---
VariableDeclarationStatement [160409,160484]
    Modifier: final [160409,160414]
    SimpleType [160415,160440]
        SimpleName: WaitUntilCompleteListener [160415,160440]
    VariableDeclarationFragment [160441,160483]
        SimpleName: listener [160441,160449]
        ClassInstanceCreation [160452,160483]
            SimpleType [160456,160481]
                SimpleName: WaitUntilCompleteListener [160456,160481]
to
Block [158430,158907]
at 3
===
move-tree
---
ExpressionStatement [158645,158689]
    MethodInvocation [158645,158688]
        METHOD_INVOCATION_RECEIVER [158645,158658]
            SimpleName: QueryTestUtil [158645,158658]
        SimpleName: test [158659,158663]
        METHOD_INVOCATION_ARGUMENTS [158664,158687]
            SimpleName: drillClient [158664,158675]
            SimpleName: TEST_QUERY [158677,158687]
to
Block [158430,158907]
at 4
===
insert-node
---
VariableDeclarationStatement [160577,160647]
to
Block [158430,158907]
at 5
===
move-tree
---
ExpressionStatement [158732,158753]
    MethodInvocation [158732,158752]
        SimpleName: fail [158732,158736]
        METHOD_INVOCATION_ARGUMENTS [158737,158751]
            MethodInvocation [158737,158751]
                METHOD_INVOCATION_RECEIVER [158737,158738]
                    SimpleName: e [158737,158738]
                SimpleName: getMessage [158739,158749]
to
Block [158430,158907]
at 6
===
move-tree
---
ExpressionStatement [159377,159434]
    MethodInvocation [159377,159433]
        SimpleName: assertExceptionInjected [159377,159400]
        METHOD_INVOCATION_ARGUMENTS [159401,159432]
            SimpleName: e [159401,159402]
            TypeLiteral [159404,159426]
                SimpleType [159404,159420]
                    SimpleName: ForemanException [159404,159420]
            SimpleName: desc [159428,159432]
to
Block [159130,159446]
at 1
===
move-tree
---
ExpressionStatement [176211,176267]
    MethodInvocation [176211,176266]
        SimpleName: testInterruptingBlockedFragmentsWaitingForData [176211,176257]
        METHOD_INVOCATION_ARGUMENTS [176258,176265]
            SimpleName: control [176258,176265]
to
Block [175373,175733]
at 2
===
move-tree
---
ExpressionStatement [175530,175586]
    MethodInvocation [175530,175585]
        SimpleName: testInterruptingBlockedFragmentsWaitingForData [175530,175576]
        METHOD_INVOCATION_ARGUMENTS [175577,175584]
            SimpleName: control [175577,175584]
to
Block [176050,176414]
at 2
===
move-tree
---
ExpressionStatement [179385,179422]
    MethodInvocation [179385,179421]
        SimpleName: setSessionOption [179385,179401]
        METHOD_INVOCATION_ARGUMENTS [179402,179420]
            SimpleName: SLICE_TARGET [179402,179414]
            StringLiteral: "10" [179416,179420]
to
Block [181118,182486]
at 0
===
move-tree
---
VariableDeclarationStatement [179430,179473]
    Modifier: final [179430,179435]
    PrimitiveType: long [179436,179440]
    VariableDeclarationFragment [179441,179472]
        SimpleName: before [179441,179447]
        MethodInvocation [179450,179472]
            SimpleName: countAllocatedMemory [179450,179470]
to
Block [181118,182486]
at 1
===
insert-node
---
TryStatement [181221,182481]
to
Block [181118,182486]
at 2
===
insert-node
---
TryStatement [182702,183598]
to
Block [180631,181491]
at 2
===
insert-node
---
Modifier: private [187506,187513]
to
FieldDeclaration [187506,187567]
at 0
===
insert-node
---
Modifier: final [187514,187519]
to
FieldDeclaration [187506,187567]
at 1
===
insert-node
---
ParameterizedType [187520,187532]
to
FieldDeclaration [187506,187567]
at 2
===
insert-tree
---
VariableDeclarationFragment [187533,187566]
    SimpleName: injections [187533,187543]
    MethodInvocation [187546,187566]
        METHOD_INVOCATION_RECEIVER [187546,187551]
            SimpleName: Lists [187546,187551]
        SimpleName: newArrayList [187552,187564]
to
FieldDeclaration [187506,187567]
at 3
===
insert-tree
---
Javadoc [189166,189762]
    TagElement [189178,189285]
        TextElement: Adds an exception injection (for the specified drillbit) to the controls builder with the given parameters. [189178,189285]
    TagElement [189302,189366]
        SimpleName: siteClass [189309,189318]
        TextElement:       class where the exception should be thrown [189318,189366]
    TagElement [189375,189448]
        SimpleName: desc [189382,189386]
        TextElement:            descriptor for the exception site in the site class [189386,189448]
    TagElement [189457,189510]
        SimpleName: exceptionClass [189464,189478]
        TextElement:  class of the exception to throw [189478,189510]
    TagElement [189519,189588]
        SimpleName: endpoint [189526,189534]
        TextElement:        the endpoint of the drillbit on which to inject [189534,189588]
    TagElement [189597,189656]
        SimpleName: nSkip [189604,189609]
        TextElement:           number of times to skip before firing [189609,189656]
    TagElement [189665,189724]
        SimpleName: nFire [189672,189677]
        TextElement:           number of times to fire the exception [189677,189724]
    TagElement [189733,189753]
        TextElement:  this builder [189740,189753]
to
MethodDeclaration [189166,190237]
at 0
===
insert-node
---
Modifier: public [189768,189774]
to
MethodDeclaration [189166,190237]
at 1
===
insert-tree
---
SimpleType [189775,189782]
    SimpleName: Builder [189775,189782]
to
MethodDeclaration [189166,190237]
at 2
===
insert-node
---
SimpleName: addExceptionOnBit [189783,189800]
to
MethodDeclaration [189166,190237]
at 3
===
insert-tree
---
SingleVariableDeclaration [189801,189825]
    Modifier: final [189801,189806]
    ParameterizedType [189807,189815]
        SimpleType [189807,189812]
            SimpleName: Class [189807,189812]
        WildcardType [189813,189814]
    SimpleName: siteClass [189816,189825]
to
MethodDeclaration [189166,190237]
at 4
===
insert-tree
---
SingleVariableDeclaration [189827,189844]
    Modifier: final [189827,189832]
    SimpleType [189833,189839]
        SimpleName: String [189833,189839]
    SimpleName: desc [189840,189844]
to
MethodDeclaration [189166,190237]
at 5
===
insert-tree
---
SingleVariableDeclaration [189884,189931]
    Modifier: final [189884,189889]
    ParameterizedType [189890,189916]
        SimpleType [189890,189895]
            SimpleName: Class [189890,189895]
        WildcardType [189896,189915]
            SimpleType [189906,189915]
                SimpleName: Throwable [189906,189915]
    SimpleName: exceptionClass [189917,189931]
to
MethodDeclaration [189166,190237]
at 6
===
insert-tree
---
SingleVariableDeclaration [189971,190002]
    Modifier: final [189971,189976]
    SimpleType [189977,189993]
        SimpleName: DrillbitEndpoint [189977,189993]
    SimpleName: endpoint [189994,190002]
to
MethodDeclaration [189166,190237]
at 7
===
insert-tree
---
SingleVariableDeclaration [190004,190019]
    Modifier: final [190004,190009]
    PrimitiveType: int [190010,190013]
    SimpleName: nSkip [190014,190019]
to
MethodDeclaration [189166,190237]
at 8
===
insert-tree
---
SingleVariableDeclaration [190059,190074]
    Modifier: final [190059,190064]
    PrimitiveType: int [190065,190068]
    SimpleName: nFire [190069,190074]
to
MethodDeclaration [189166,190237]
at 9
===
insert-node
---
Block [190076,190237]
to
MethodDeclaration [189166,190237]
at 10
===
insert-tree
---
Javadoc [193889,194212]
    TagElement [193901,193928]
        TextElement: Builds the controls string. [193901,193928]
    TagElement [193945,194006]
        TextElement:  a validated controls string with the added injections [193952,194006]
    TagElement [194015,194203]
        QualifiedName: java.lang.AssertionError [194023,194047]
        TextElement:  if controls cannot be validated using [194047,194085]
        TagElement [194127,194203]
            MemberRef [194134,194202]
                QualifiedName: org.apache.drill.exec.testing.ExecutionControls [194134,194181]
                SimpleName: controlsOptionMapper [194182,194202]
to
MethodDeclaration [193889,194767]
at 0
===
insert-node
---
Modifier: public [194218,194224]
to
MethodDeclaration [193889,194767]
at 1
===
move-tree
---
SimpleType [155464,155470]
    SimpleName: String [155464,155470]
to
MethodDeclaration [193889,194767]
at 2
===
insert-node
---
SimpleName: build [194232,194237]
to
MethodDeclaration [193889,194767]
at 3
===
insert-node
---
Block [194240,194767]
to
MethodDeclaration [193889,194767]
at 4
===
move-tree
---
ExpressionStatement [185438,185471]
    MethodInvocation [185438,185470]
        SimpleName: validateControlsString [185438,185460]
        METHOD_INVOCATION_ARGUMENTS [185461,185469]
            SimpleName: controls [185461,185469]
to
Block [197463,197595]
at 0
===
insert-tree
---
ExpressionStatement [197509,197590]
    MethodInvocation [197509,197589]
        SimpleName: setSessionOption [197509,197525]
        METHOD_INVOCATION_ARGUMENTS [197526,197588]
            SimpleName: drillClient [197526,197537]
            SimpleName: DRILLBIT_CONTROL_INJECTIONS [197539,197566]
            InfixExpression [197568,197588]
                StringLiteral: "'" [197568,197571]
                INFIX_EXPRESSION_OPERATOR: + [197572,197573]
                SimpleName: controls [197574,197582]
                StringLiteral: "'" [197585,197588]
to
Block [197463,197595]
at 1
===
insert-node
---
TryStatement [198275,198449]
to
Block [198268,198454]
at 0
===
move-tree
---
VariableDeclarationStatement [156690,156739]
    Modifier: final [156690,156695]
    SimpleType [156696,156702]
        SimpleName: String [156696,156702]
    VariableDeclarationFragment [156703,156738]
        SimpleName: siteClassName [156703,156716]
        MethodInvocation [156719,156738]
            METHOD_INVOCATION_RECEIVER [156719,156728]
                SimpleName: siteClass [156719,156728]
            SimpleName: getName [156729,156736]
to
Block [198844,199235]
at 0
===
move-tree
---
VariableDeclarationStatement [155696,155755]
    Modifier: final [155696,155701]
    SimpleType [155702,155708]
        SimpleName: String [155702,155708]
    VariableDeclarationFragment [155709,155754]
        SimpleName: exceptionClassName [155709,155727]
        MethodInvocation [155730,155754]
            METHOD_INVOCATION_RECEIVER [155730,155744]
                SimpleName: exceptionClass [155730,155744]
            SimpleName: getName [155745,155752]
to
Block [198844,199235]
at 1
===
insert-tree
---
ReturnStatement [198971,199230]
    InfixExpression [198978,199229]
        InfixExpression [198978,199033]
            StringLiteral: "{ \"type\":\"exception\"," [198978,199005]
            INFIX_EXPRESSION_OPERATOR: + [199013,199014]
            StringLiteral: "\"siteClass\":\"" [199015,199033]
        INFIX_EXPRESSION_OPERATOR: + [199034,199035]
        SimpleName: siteClassName [199036,199049]
        StringLiteral: "\"," [199052,199057]
        StringLiteral: "\"desc\":\"" [199067,199080]
        SimpleName: desc [199083,199087]
        StringLiteral: "\"," [199090,199095]
        StringLiteral: "\"nSkip\":" [199105,199117]
        SimpleName: nSkip [199120,199125]
        StringLiteral: "," [199128,199131]
        StringLiteral: "\"nFire\":" [199141,199153]
        SimpleName: nFire [199156,199161]
        StringLiteral: "," [199164,199167]
        StringLiteral: "\"exceptionClass\":\"" [199177,199200]
        SimpleName: exceptionClassName [199203,199221]
        StringLiteral: "\"}" [199224,199229]
to
Block [198844,199235]
at 2
===
move-tree
---
VariableDeclarationStatement [155641,155690]
    Modifier: final [155641,155646]
    SimpleType [155647,155653]
        SimpleName: String [155647,155653]
    VariableDeclarationFragment [155654,155689]
        SimpleName: siteClassName [155654,155667]
        MethodInvocation [155670,155689]
            METHOD_INVOCATION_RECEIVER [155670,155679]
                SimpleName: siteClass [155670,155679]
            SimpleName: getName [155680,155687]
to
Block [199731,200236]
at 0
===
move-tree
---
VariableDeclarationStatement [156745,156804]
    Modifier: final [156745,156750]
    SimpleType [156751,156757]
        SimpleName: String [156751,156757]
    VariableDeclarationFragment [156758,156803]
        SimpleName: exceptionClassName [156758,156776]
        MethodInvocation [156779,156803]
            METHOD_INVOCATION_RECEIVER [156779,156793]
                SimpleName: exceptionClass [156779,156793]
            SimpleName: getName [156794,156801]
to
Block [199731,200236]
at 1
===
insert-node
---
ReturnStatement [199858,200231]
to
Block [199731,200236]
at 2
===
insert-node
---
ReturnStatement [200509,200680]
to
Block [200502,200685]
at 0
===
insert-node
---
ReturnStatement [201055,201340]
to
Block [201048,201345]
at 0
===
move-tree
---
InfixExpression [156904,156920]
    SimpleName: drillbit [156904,156912]
    INFIX_EXPRESSION_OPERATOR: == [156913,156915]
    NullLiteral [156916,156920]
to
IfStatement [154252,154367]
at 0
===
insert-node
---
Block [154274,154367]
to
IfStatement [154252,154367]
at 1
===
move-tree
---
MethodInvocation [157059,157094]
    METHOD_INVOCATION_RECEIVER [157059,157080]
        MethodInvocation [157059,157080]
            METHOD_INVOCATION_RECEIVER [157059,157067]
                SimpleName: drillbit [157059,157067]
            SimpleName: getContext [157068,157078]
    SimpleName: getEndpoint [157081,157092]
to
ReturnStatement [154373,154416]
at 0
===
insert-node
---
MethodInvocation [159154,159220]
to
ExpressionStatement [159154,159221]
at 0
===
insert-node
---
Modifier: final [160577,160582]
to
VariableDeclarationStatement [160577,160647]
at 0
===
insert-node
---
ParameterizedType [160583,160610]
to
VariableDeclarationStatement [160577,160647]
at 1
===
insert-tree
---
VariableDeclarationFragment [160611,160646]
    SimpleName: pair [160611,160615]
    MethodInvocation [160618,160646]
        METHOD_INVOCATION_RECEIVER [160618,160626]
            SimpleName: listener [160618,160626]
        SimpleName: waitForCompletion [160627,160644]
to
VariableDeclarationStatement [160577,160647]
at 2
===
update-node
---
TextElement: , this method fails if the state is not [164154,164193]
replace , this method fails if the state is not by , this method fails if the completed state
===
update-node
---
TextElement: as expected or if an exception is thrown. [164200,164241]
replace as expected or if an exception is thrown. by is not as expected, or if an exception is thrown. The completed state could be COMPLETED or CANCELED. This state
===
insert-node
---
TextElement: is set when  [166262,166274]
to
TagElement [164083,164241]
at 4
===
insert-tree
---
TagElement [166274,166322]
    MemberRef [166281,166321]
        SimpleName: WaitUntilCompleteListener [166281,166306]
        SimpleName: queryCompleted [166307,166321]
to
TagElement [164083,164241]
at 5
===
insert-node
---
TextElement:  is called. [166322,166333]
to
TagElement [164083,164241]
at 6
===
move-tree
---
SimpleType [169289,169295]
    SimpleName: String [169289,169295]
to
VariableDeclarationStatement [168218,168295]
at 1
===
move-tree
---
SimpleType [168224,168230]
    SimpleName: String [168224,168230]
to
VariableDeclarationStatement [169283,169368]
at 1
===
insert-node
---
Block [181225,182388]
to
TryStatement [181221,182481]
at 0
===
insert-node
---
Block [182397,182481]
to
TryStatement [181221,182481]
at 1
===
insert-node
---
Block [182706,183505]
to
TryStatement [182702,183598]
at 0
===
insert-node
---
Block [183514,183598]
to
TryStatement [182702,183598]
at 1
===
insert-tree
---
SimpleType [187520,187524]
    SimpleName: List [187520,187524]
to
ParameterizedType [187520,187532]
at 0
===
move-tree
---
SimpleType [166670,166676]
    SimpleName: String [166670,166676]
to
ParameterizedType [187520,187532]
at 1
===
insert-node
---
ExpressionStatement [190085,190210]
to
Block [190076,190237]
at 0
===
insert-tree
---
ReturnStatement [190218,190230]
    ThisExpression [190225,190229]
to
Block [190076,190237]
at 1
===
insert-tree
---
IfStatement [194249,194319]
    InfixExpression [194253,194275]
        MethodInvocation [194253,194270]
            METHOD_INVOCATION_RECEIVER [194253,194263]
                SimpleName: injections [194253,194263]
            SimpleName: size [194264,194268]
        INFIX_EXPRESSION_OPERATOR: == [194271,194273]
        NumberLiteral: 0 [194274,194275]
    Block [194277,194319]
        ReturnStatement [194288,194310]
            SimpleName: EMPTY_CONTROLS [194295,194309]
to
Block [194240,194767]
at 0
===
insert-tree
---
VariableDeclarationStatement [194329,194401]
    Modifier: final [194329,194334]
    SimpleType [194335,194348]
        SimpleName: StringBuilder [194335,194348]
    VariableDeclarationFragment [194349,194400]
        SimpleName: builder [194349,194356]
        ClassInstanceCreation [194359,194400]
            SimpleType [194363,194376]
                SimpleName: StringBuilder [194363,194376]
            StringLiteral: "{ \"injections\" : [" [194377,194399]
to
Block [194240,194767]
at 1
===
insert-node
---
EnhancedForStatement [194409,194521]
to
Block [194240,194767]
at 2
===
insert-tree
---
ExpressionStatement [194529,194569]
    MethodInvocation [194529,194568]
        METHOD_INVOCATION_RECEIVER [194529,194536]
            SimpleName: builder [194529,194536]
        SimpleName: setLength [194537,194546]
        METHOD_INVOCATION_ARGUMENTS [194547,194567]
            InfixExpression [194547,194567]
                MethodInvocation [194547,194563]
                    METHOD_INVOCATION_RECEIVER [194547,194554]
                        SimpleName: builder [194547,194554]
                    SimpleName: length [194555,194561]
                INFIX_EXPRESSION_OPERATOR: - [194564,194565]
                NumberLiteral: 1 [194566,194567]
to
Block [194240,194767]
at 3
===
insert-tree
---
ExpressionStatement [194601,194622]
    MethodInvocation [194601,194621]
        METHOD_INVOCATION_RECEIVER [194601,194608]
            SimpleName: builder [194601,194608]
        SimpleName: append [194609,194615]
        METHOD_INVOCATION_ARGUMENTS [194616,194620]
            StringLiteral: "]}" [194616,194620]
to
Block [194240,194767]
at 4
===
insert-node
---
VariableDeclarationStatement [194630,194673]
to
Block [194240,194767]
at 5
===
insert-node
---
ExpressionStatement [194681,194736]
to
Block [194240,194767]
at 6
===
insert-tree
---
ReturnStatement [194744,194760]
    SimpleName: controls [194751,194759]
to
Block [194240,194767]
at 7
===
insert-tree
---
Block [198279,198346]
    ExpressionStatement [198288,198339]
        MethodInvocation [198288,198338]
            METHOD_INVOCATION_RECEIVER [198288,198305]
                SimpleName: ExecutionControls [198288,198305]
            SimpleName: validateControlsString [198306,198328]
            METHOD_INVOCATION_ARGUMENTS [198329,198337]
                SimpleName: controls [198329,198337]
to
TryStatement [198275,198449]
at 0
===
move-tree
---
CatchClause [186677,186773]
    SingleVariableDeclaration [186684,186695]
        SimpleType [186684,186693]
            SimpleName: Exception [186684,186693]
        SimpleName: e [186694,186695]
    Block [186697,186773]
        ExpressionStatement [186706,186766]
            MethodInvocation [186706,186765]
                SimpleName: fail [186706,186710]
                METHOD_INVOCATION_ARGUMENTS [186711,186764]
                    InfixExpression [186711,186764]
                        StringLiteral: "Could not validate controls JSON: " [186711,186747]
                        INFIX_EXPRESSION_OPERATOR: + [186748,186749]
                        MethodInvocation [186750,186764]
                            METHOD_INVOCATION_RECEIVER [186750,186751]
                                SimpleName: e [186750,186751]
                            SimpleName: getMessage [186752,186762]
to
TryStatement [198275,198449]
at 1
===
insert-node
---
InfixExpression [199865,200230]
to
ReturnStatement [199858,200231]
at 0
===
insert-node
---
InfixExpression [200516,200679]
to
ReturnStatement [200509,200680]
at 0
===
insert-node
---
InfixExpression [201062,201339]
to
ReturnStatement [201055,201340]
at 0
===
insert-tree
---
ParameterizedType [214390,214416]
    SimpleType [214390,214395]
        SimpleName: Class [214390,214395]
    WildcardType [214396,214415]
        SimpleType [214406,214415]
            SimpleName: Throwable [214406,214415]
to
VariableDeclarationStatement [200776,200839]
at 1
===
move-tree
---
VariableDeclarationFragment [202874,202923]
    SimpleName: exceptionClass [202874,202888]
    MethodInvocation [202891,202923]
        METHOD_INVOCATION_RECEIVER [202891,202913]
            TypeLiteral [202891,202913]
                SimpleType [202891,202907]
                    SimpleName: RuntimeException [202891,202907]
        SimpleName: getName [202914,202921]
to
VariableDeclarationStatement [200776,200839]
at 2
===
insert-tree
---
ParameterizedType [216556,216582]
    SimpleType [216556,216561]
        SimpleName: Class [216556,216561]
    WildcardType [216562,216581]
        SimpleType [216572,216581]
            SimpleName: Throwable [216572,216581]
to
VariableDeclarationStatement [202861,202924]
at 1
===
move-tree
---
VariableDeclarationFragment [200789,200838]
    SimpleName: exceptionClass [200789,200803]
    MethodInvocation [200806,200838]
        METHOD_INVOCATION_RECEIVER [200806,200828]
            TypeLiteral [200806,200828]
                SimpleType [200806,200822]
                    SimpleName: RuntimeException [200806,200822]
        SimpleName: getName [200829,200836]
to
VariableDeclarationStatement [202861,202924]
at 2
===
insert-tree
---
Block [43189,43244]
    ExpressionStatement [43200,43235]
        MethodInvocation [43200,43234]
            SimpleName: validateControlsString [43200,43222]
            METHOD_INVOCATION_ARGUMENTS [43223,43233]
                SimpleName: jsonString [43223,43233]
to
TryStatement [40206,40434]
at 0
===
insert-node
---
ExpressionStatement [138293,138382]
to
Block [134616,136230]
at 7
===
insert-node
---
ThrowStatement [154283,154360]
to
Block [154274,154367]
at 0
===
move-tree
---
METHOD_INVOCATION_RECEIVER [209243,209264]
    SimpleName: ControlsInjectionUtil [209243,209264]
to
MethodInvocation [159154,159220]
at 0
===
insert-node
---
SimpleName: setSessionOption [159176,159192]
to
MethodInvocation [159154,159220]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [159193,159219]
    SimpleName: drillClient [159193,159204]
    SimpleName: option [159206,159212]
    SimpleName: value [159214,159219]
to
MethodInvocation [159154,159220]
at 2
===
insert-node
---
MethodInvocation [160239,160374]
to
VariableDeclarationFragment [158501,158597]
at 1
===
update-node
---
SimpleName: test [158659,158663]
replace test by testWithListener
===
insert-tree
---
SimpleType [160583,160587]
    SimpleName: Pair [160583,160587]
to
ParameterizedType [160583,160610]
at 0
===
insert-tree
---
SimpleType [160588,160598]
    SimpleName: QueryState [160588,160598]
to
ParameterizedType [160583,160610]
at 1
===
move-tree
---
SimpleType [178884,178893]
    SimpleName: Exception [178884,178893]
to
ParameterizedType [160583,160610]
at 2
===
update-node
---
SimpleName: fail [158732,158736]
replace fail by assertStateCompleted
===
insert-node
---
MethodInvocation [161103,161206]
to
VariableDeclarationFragment [159150,159227]
at 1
===
update-node
---
SimpleName: assertExceptionInjected [159377,159400]
replace assertExceptionInjected by assertFailsWithException
===
update-node
---
SimpleName: assertCompleteState [165713,165732]
replace assertCompleteState by assertStateCompleted
===
insert-node
---
MethodInvocation [168291,168382]
to
VariableDeclarationFragment [167300,167368]
at 1
===
update-node
---
SimpleName: assertCompleteState [167570,167589]
replace assertCompleteState by assertStateCompleted
===
insert-node
---
MethodInvocation [169534,169632]
to
VariableDeclarationFragment [168231,168294]
at 1
===
insert-node
---
MethodInvocation [170686,170780]
to
VariableDeclarationFragment [169296,169367]
at 1
===
insert-node
---
MethodInvocation [171717,171809]
to
VariableDeclarationFragment [170252,170321]
at 1
===
insert-node
---
MethodInvocation [172731,172819]
to
VariableDeclarationFragment [171202,171267]
at 1
===
update-node
---
SimpleName: assertCompleteState [171856,171875]
replace assertCompleteState by assertStateCompleted
===
update-node
---
SimpleName: assertExceptionInjected [172825,172848]
replace assertExceptionInjected by assertExceptionMessage
===
insert-node
---
MethodInvocation [175109,175218]
to
VariableDeclarationFragment [173483,173568]
at 1
===
insert-node
---
MethodInvocation [175829,175931]
to
VariableDeclarationFragment [174150,174228]
at 1
===
insert-node
---
MethodInvocation [176483,176596]
to
VariableDeclarationFragment [174757,174844]
at 1
===
insert-node
---
MethodInvocation [177231,177334]
to
VariableDeclarationFragment [175444,175523]
at 1
===
update-node
---
SimpleName: testInterruptingBlockedFragmentsWaitingForData [176211,176257]
replace testInterruptingBlockedFragmentsWaitingForData by interruptingBlockedFragmentsWaitingForData
===
insert-node
---
MethodInvocation [177963,178070]
to
VariableDeclarationFragment [176121,176204]
at 1
===
update-node
---
SimpleName: testInterruptingBlockedFragmentsWaitingForData [175530,175576]
replace testInterruptingBlockedFragmentsWaitingForData by interruptingBlockedFragmentsWaitingForData
===
insert-node
---
MethodInvocation [180657,180787]
to
VariableDeclarationFragment [178967,179080]
at 1
===
update-node
---
SimpleName: assertCancelled [179087,179102]
replace assertCancelled by assertCancelledWithoutException
===
move-tree
---
VariableDeclarationStatement [179481,179566]
    Modifier: final [179481,179486]
    SimpleType [179487,179493]
        SimpleName: String [179487,179493]
    VariableDeclarationFragment [179494,179565]
        SimpleName: controls [179494,179502]
        MethodInvocation [179505,179565]
            SimpleName: createPauseInjection [179505,179525]
            METHOD_INVOCATION_ARGUMENTS [179526,179564]
                TypeLiteral [179526,179545]
                    SimpleType [179526,179539]
                        SimpleName: ScreenCreator [179526,179539]
                StringLiteral: "sending-data" [179547,179561]
                NumberLiteral: 1 [179563,179564]
to
Block [181225,182388]
at 0
===
move-tree
---
VariableDeclarationStatement [180971,180991]
    SimpleType [180971,180977]
        SimpleName: String [180971,180977]
    VariableDeclarationFragment [180978,180990]
        SimpleName: query [180978,180983]
        NullLiteral [180986,180990]
to
Block [181225,182388]
at 1
===
move-tree
---
TryStatement [180997,181154]
    Block [181001,181070]
        ExpressionStatement [181010,181063]
            Assignment [181010,181062]
                SimpleName: query [181010,181015]
                ASSIGNMENT_OPERATOR: = [181016,181017]
                MethodInvocation [181018,181062]
                    METHOD_INVOCATION_RECEIVER [181018,181031]
                        SimpleName: BaseTestQuery [181018,181031]
                    SimpleName: getFile [181032,181039]
                    METHOD_INVOCATION_ARGUMENTS [181040,181061]
                        StringLiteral: "queries/tpch/09.sql" [181040,181061]
    CatchClause [181071,181154]
        SingleVariableDeclaration [181078,181097]
            Modifier: final [181078,181083]
            SimpleType [181084,181095]
                SimpleName: IOException [181084,181095]
            SimpleName: e [181096,181097]
        Block [181099,181154]
            ExpressionStatement [181108,181147]
                MethodInvocation [181108,181146]
                    SimpleName: fail [181108,181112]
                    METHOD_INVOCATION_ARGUMENTS [181113,181145]
                        InfixExpression [181113,181145]
                            StringLiteral: "Failed to get query file: " [181113,181141]
                            INFIX_EXPRESSION_OPERATOR: + [181142,181143]
                            SimpleName: e [181144,181145]
to
Block [181225,182388]
at 2
===
insert-tree
---
VariableDeclarationStatement [181641,182166]
    Modifier: final [181641,181646]
    SimpleType [181647,181672]
        SimpleName: WaitUntilCompleteListener [181647,181672]
    VariableDeclarationFragment [181673,182165]
        SimpleName: listener [181673,181681]
        ClassInstanceCreation [181684,182165]
            SimpleType [181688,181713]
                SimpleName: WaitUntilCompleteListener [181688,181713]
            AnonymousClassDeclaration [181716,182165]
                FieldDeclaration [181727,181776]
                    Modifier: private [181727,181734]
                    Modifier: volatile [181735,181743]
                    PrimitiveType: boolean [181744,181751]
                    VariableDeclarationFragment [181752,181775]
                        SimpleName: cancelRequested [181752,181767]
                        BooleanLiteral: false [181770,181775]
                MethodDeclaration [181788,182156]
                    MarkerAnnotation [181788,181797]
                        SimpleName: Override [181789,181797]
                    Modifier: public [181807,181813]
                    PrimitiveType: void [181814,181818]
                    SimpleName: dataArrived [181819,181830]
                    SingleVariableDeclaration [181831,181858]
                        Modifier: final [181831,181836]
                        SimpleType [181837,181851]
                            SimpleName: QueryDataBatch [181837,181851]
                        SimpleName: result [181852,181858]
                    SingleVariableDeclaration [181860,181893]
                        Modifier: final [181860,181865]
                        SimpleType [181866,181884]
                            SimpleName: ConnectionThrottle [181866,181884]
                        SimpleName: throttle [181885,181893]
                    Block [181895,182156]
                        IfStatement [181908,182116]
                            PrefixExpression [181912,181928]
                                PREFIX_EXPRESSION_OPERATOR: ! [181912,181913]
                                SimpleName: cancelRequested [181913,181928]
                            Block [181930,182116]
                                ExpressionStatement [181945,182034]
                                    MethodInvocation [181945,182033]
                                        SimpleName: check [181945,181950]
                                        METHOD_INVOCATION_ARGUMENTS [181951,182032]
                                            InfixExpression [181951,181966]
                                                SimpleName: queryId [181951,181958]
                                                INFIX_EXPRESSION_OPERATOR: != [181959,181961]
                                                NullLiteral [181962,181966]
                                            StringLiteral: "Query id should not be null, since we have waited long enough." [181968,182032]
                                ExpressionStatement [182048,182066]
                                    MethodInvocation [182048,182065]
                                        SimpleName: cancelAndResume [182048,182063]
                                ExpressionStatement [182080,182103]
                                    Assignment [182080,182102]
                                        SimpleName: cancelRequested [182080,182095]
                                        ASSIGNMENT_OPERATOR: = [182096,182097]
                                        BooleanLiteral: true [182098,182102]
                        ExpressionStatement [182128,182145]
                            MethodInvocation [182128,182144]
                                METHOD_INVOCATION_RECEIVER [182128,182134]
                                    SimpleName: result [182128,182134]
                                SimpleName: release [182135,182142]
to
Block [181225,182388]
at 3
===
insert-tree
---
ExpressionStatement [182176,182235]
    MethodInvocation [182176,182234]
        SimpleName: assertCancelledWithoutException [182176,182207]
        METHOD_INVOCATION_ARGUMENTS [182208,182233]
            SimpleName: controls [182208,182216]
            SimpleName: listener [182218,182226]
            SimpleName: query [182228,182233]
to
Block [181225,182388]
at 4
===
move-tree
---
VariableDeclarationStatement [180365,180407]
    Modifier: final [180365,180370]
    PrimitiveType: long [180371,180375]
    VariableDeclarationFragment [180376,180406]
        SimpleName: after [180376,180381]
        MethodInvocation [180384,180406]
            SimpleName: countAllocatedMemory [180384,180404]
to
Block [181225,182388]
at 5
===
move-tree
---
ExpressionStatement [180413,180499]
    MethodInvocation [180413,180498]
        SimpleName: assertEquals [180413,180425]
        METHOD_INVOCATION_ARGUMENTS [180426,180497]
            MethodInvocation [180426,180482]
                METHOD_INVOCATION_RECEIVER [180426,180432]
                    SimpleName: String [180426,180432]
                SimpleName: format [180433,180439]
                METHOD_INVOCATION_ARGUMENTS [180440,180481]
                    StringLiteral: "We are leaking %d bytes" [180440,180465]
                    InfixExpression [180467,180481]
                        SimpleName: after [180467,180472]
                        INFIX_EXPRESSION_OPERATOR: - [180473,180474]
                        SimpleName: before [180475,180481]
            SimpleName: before [180484,180490]
            SimpleName: after [180492,180497]
to
Block [181225,182388]
at 6
===
move-tree
---
ExpressionStatement [180507,180575]
    MethodInvocation [180507,180574]
        SimpleName: setSessionOption [180507,180523]
        METHOD_INVOCATION_ARGUMENTS [180524,180573]
            SimpleName: SLICE_TARGET [180524,180536]
            MethodInvocation [180538,180573]
                METHOD_INVOCATION_RECEIVER [180538,180542]
                    SimpleName: Long [180538,180542]
                SimpleName: toString [180543,180551]
                METHOD_INVOCATION_ARGUMENTS [180552,180572]
                    SimpleName: SLICE_TARGET_DEFAULT [180552,180572]
to
Block [182397,182481]
at 0
===
move-tree
---
VariableDeclarationStatement [180734,180784]
    Modifier: final [180734,180739]
    SimpleType [180740,180746]
        SimpleName: String [180740,180746]
    VariableDeclarationFragment [180747,180783]
        SimpleName: exceptionDesc [180747,180760]
        StringLiteral: "fragment-execution" [180763,180783]
to
Block [182706,183505]
at 0
===
move-tree
---
VariableDeclarationStatement [180790,180858]
    Modifier: final [180790,180795]
    ParameterizedType [180796,180822]
        SimpleType [180796,180801]
            SimpleName: Class [180796,180801]
        WildcardType [180802,180821]
            SimpleType [180812,180821]
                SimpleName: Throwable [180812,180821]
    VariableDeclarationFragment [180823,180857]
        SimpleName: exceptionClass [180823,180837]
        TypeLiteral [180840,180857]
            SimpleType [180840,180851]
                SimpleName: IOException [180840,180851]
to
Block [182706,183505]
at 1
===
move-tree
---
VariableDeclarationStatement [180864,180965]
    Modifier: final [180864,180869]
    SimpleType [180870,180876]
        SimpleName: String [180870,180876]
    VariableDeclarationFragment [180877,180964]
        SimpleName: controls [180877,180885]
        MethodInvocation [180888,180964]
            SimpleName: createSingleException [180888,180909]
            METHOD_INVOCATION_ARGUMENTS [180910,180963]
                TypeLiteral [180910,180932]
                    SimpleType [180910,180926]
                        SimpleName: FragmentExecutor [180910,180926]
                SimpleName: exceptionDesc [180934,180947]
                SimpleName: exceptionClass [180949,180963]
to
Block [182706,183505]
at 2
===
move-tree
---
VariableDeclarationStatement [179572,179592]
    SimpleType [179572,179578]
        SimpleName: String [179572,179578]
    VariableDeclarationFragment [179579,179591]
        SimpleName: query [179579,179584]
        NullLiteral [179587,179591]
to
Block [182706,183505]
at 3
===
move-tree
---
TryStatement [179598,179755]
    Block [179602,179671]
        ExpressionStatement [179611,179664]
            Assignment [179611,179663]
                SimpleName: query [179611,179616]
                ASSIGNMENT_OPERATOR: = [179617,179618]
                MethodInvocation [179619,179663]
                    METHOD_INVOCATION_RECEIVER [179619,179632]
                        SimpleName: BaseTestQuery [179619,179632]
                    SimpleName: getFile [179633,179640]
                    METHOD_INVOCATION_ARGUMENTS [179641,179662]
                        StringLiteral: "queries/tpch/09.sql" [179641,179662]
    CatchClause [179672,179755]
        SingleVariableDeclaration [179679,179698]
            Modifier: final [179679,179684]
            SimpleType [179685,179696]
                SimpleName: IOException [179685,179696]
            SimpleName: e [179697,179698]
        Block [179700,179755]
            ExpressionStatement [179709,179748]
                MethodInvocation [179709,179747]
                    SimpleName: fail [179709,179713]
                    METHOD_INVOCATION_ARGUMENTS [179714,179746]
                        InfixExpression [179714,179746]
                            StringLiteral: "Failed to get query file: " [179714,179742]
                            INFIX_EXPRESSION_OPERATOR: + [179743,179744]
                            SimpleName: e [179745,179746]
to
Block [182706,183505]
at 4
===
insert-node
---
ExpressionStatement [183277,183350]
to
Block [182706,183505]
at 5
===
move-tree
---
VariableDeclarationStatement [181276,181318]
    Modifier: final [181276,181281]
    PrimitiveType: long [181282,181286]
    VariableDeclarationFragment [181287,181317]
        SimpleName: after [181287,181292]
        MethodInvocation [181295,181317]
            SimpleName: countAllocatedMemory [181295,181315]
to
Block [182706,183505]
at 6
===
move-tree
---
ExpressionStatement [181324,181410]
    MethodInvocation [181324,181409]
        SimpleName: assertEquals [181324,181336]
        METHOD_INVOCATION_ARGUMENTS [181337,181408]
            MethodInvocation [181337,181393]
                METHOD_INVOCATION_RECEIVER [181337,181343]
                    SimpleName: String [181337,181343]
                SimpleName: format [181344,181350]
                METHOD_INVOCATION_ARGUMENTS [181351,181392]
                    StringLiteral: "We are leaking %d bytes" [181351,181376]
                    InfixExpression [181378,181392]
                        SimpleName: after [181378,181383]
                        INFIX_EXPRESSION_OPERATOR: - [181384,181385]
                        SimpleName: before [181386,181392]
            SimpleName: before [181395,181401]
            SimpleName: after [181403,181408]
to
Block [182706,183505]
at 7
===
move-tree
---
ExpressionStatement [181418,181486]
    MethodInvocation [181418,181485]
        SimpleName: setSessionOption [181418,181434]
        METHOD_INVOCATION_ARGUMENTS [181435,181484]
            SimpleName: SLICE_TARGET [181435,181447]
            MethodInvocation [181449,181484]
                METHOD_INVOCATION_RECEIVER [181449,181453]
                    SimpleName: Long [181449,181453]
                SimpleName: toString [181454,181462]
                METHOD_INVOCATION_ARGUMENTS [181463,181483]
                    SimpleName: SLICE_TARGET_DEFAULT [181463,181483]
to
Block [183514,183598]
at 0
===
insert-node
---
MethodInvocation [183916,184059]
to
VariableDeclarationFragment [181804,181921]
at 1
===
insert-node
---
MethodInvocation [184626,184768]
to
VariableDeclarationFragment [182488,182606]
at 1
===
insert-node
---
Modifier: final [185287,185292]
to
SingleVariableDeclaration [183112,183123]
at 0
===
insert-node
---
MethodInvocation [190085,190209]
to
ExpressionStatement [190085,190210]
at 0
===
move-tree
---
SingleVariableDeclaration [165439,165461]
    Modifier: final [165439,165444]
    SimpleType [165445,165451]
        SimpleName: String [165445,165451]
    SimpleName: testQuery [165452,165461]
to
EnhancedForStatement [194409,194521]
at 0
===
insert-node
---
SimpleName: injections [194439,194449]
to
EnhancedForStatement [194409,194521]
at 1
===
insert-tree
---
Block [194451,194521]
    ExpressionStatement [194462,194512]
        MethodInvocation [194462,194511]
            METHOD_INVOCATION_RECEIVER [194462,194487]
                MethodInvocation [194462,194487]
                    METHOD_INVOCATION_RECEIVER [194462,194469]
                        SimpleName: builder [194462,194469]
                    SimpleName: append [194470,194476]
                    METHOD_INVOCATION_ARGUMENTS [194477,194486]
                        SimpleName: injection [194477,194486]
            SimpleName: append [194500,194506]
            METHOD_INVOCATION_ARGUMENTS [194507,194510]
                StringLiteral: "," [194507,194510]
to
EnhancedForStatement [194409,194521]
at 2
===
insert-node
---
Modifier: final [194630,194635]
to
VariableDeclarationStatement [194630,194673]
at 0
===
move-tree
---
SimpleType [202867,202873]
    SimpleName: String [202867,202873]
to
VariableDeclarationStatement [194630,194673]
at 1
===
insert-tree
---
VariableDeclarationFragment [194643,194672]
    SimpleName: controls [194643,194651]
    MethodInvocation [194654,194672]
        METHOD_INVOCATION_RECEIVER [194654,194661]
            SimpleName: builder [194654,194661]
        SimpleName: toString [194662,194670]
to
VariableDeclarationStatement [194630,194673]
at 2
===
insert-node
---
MethodInvocation [194681,194735]
to
ExpressionStatement [194681,194736]
at 0
===
move-tree
---
SingleVariableDeclaration [159349,159366]
    Modifier: final [159349,159354]
    SimpleType [159355,159364]
        SimpleName: Exception [159355,159364]
    SimpleName: e [159365,159366]
to
CatchClause [186328,186422]
at 0
===
move-tree
---
SingleVariableDeclaration [158704,158721]
    Modifier: final [158704,158709]
    SimpleType [158710,158719]
        SimpleName: Exception [158710,158719]
    SimpleName: e [158720,158721]
to
CatchClause [186677,186773]
at 0
===
insert-tree
---
InfixExpression [199865,199920]
    StringLiteral: "{ \"type\":\"exception\"," [199865,199892]
    INFIX_EXPRESSION_OPERATOR: + [199900,199901]
    StringLiteral: "\"siteClass\":\"" [199902,199920]
to
InfixExpression [199865,200230]
at 0
===
insert-node
---
INFIX_EXPRESSION_OPERATOR: + [199921,199922]
to
InfixExpression [199865,200230]
at 1
===
insert-node
---
SimpleName: siteClassName [199923,199936]
to
InfixExpression [199865,200230]
at 2
===
insert-node
---
StringLiteral: "\"," [199939,199944]
to
InfixExpression [199865,200230]
at 3
===
insert-node
---
StringLiteral: "\"desc\":\"" [199954,199967]
to
InfixExpression [199865,200230]
at 4
===
insert-node
---
SimpleName: desc [199970,199974]
to
InfixExpression [199865,200230]
at 5
===
insert-node
---
StringLiteral: "\"," [199977,199982]
to
InfixExpression [199865,200230]
at 6
===
insert-node
---
StringLiteral: "\"nSkip\":" [199992,200004]
to
InfixExpression [199865,200230]
at 7
===
insert-node
---
SimpleName: nSkip [200007,200012]
to
InfixExpression [199865,200230]
at 8
===
insert-node
---
StringLiteral: "," [200015,200018]
to
InfixExpression [199865,200230]
at 9
===
insert-node
---
StringLiteral: "\"nFire\":" [200028,200040]
to
InfixExpression [199865,200230]
at 10
===
insert-node
---
SimpleName: nFire [200043,200048]
to
InfixExpression [199865,200230]
at 11
===
insert-node
---
StringLiteral: "," [200051,200054]
to
InfixExpression [199865,200230]
at 12
===
insert-node
---
StringLiteral: "\"exceptionClass\":\"" [200064,200087]
to
InfixExpression [199865,200230]
at 13
===
insert-node
---
SimpleName: exceptionClassName [200090,200108]
to
InfixExpression [199865,200230]
at 14
===
insert-node
---
StringLiteral: "\"," [200111,200116]
to
InfixExpression [199865,200230]
at 15
===
insert-node
---
StringLiteral: "\"address\":\"" [200126,200142]
to
InfixExpression [199865,200230]
at 16
===
move-tree
---
MethodInvocation [157157,157178]
    METHOD_INVOCATION_RECEIVER [157157,157165]
        SimpleName: endpoint [157157,157165]
    SimpleName: getAddress [157166,157176]
to
InfixExpression [199865,200230]
at 17
===
insert-node
---
StringLiteral: "\"," [200169,200174]
to
InfixExpression [199865,200230]
at 18
===
insert-node
---
StringLiteral: "\"port\":\"" [200184,200197]
to
InfixExpression [199865,200230]
at 19
===
move-tree
---
MethodInvocation [157212,157234]
    METHOD_INVOCATION_RECEIVER [157212,157220]
        SimpleName: endpoint [157212,157220]
    SimpleName: getUserPort [157221,157232]
to
InfixExpression [199865,200230]
at 20
===
insert-node
---
StringLiteral: "\"}" [200225,200230]
to
InfixExpression [199865,200230]
at 21
===
insert-tree
---
InfixExpression [200516,200571]
    StringLiteral: "{ \"type\" : \"pause\"," [200516,200541]
    INFIX_EXPRESSION_OPERATOR: + [200542,200543]
    StringLiteral: "\"siteClass\" : \"" [200551,200571]
to
InfixExpression [200516,200679]
at 0
===
insert-node
---
INFIX_EXPRESSION_OPERATOR: + [200572,200573]
to
InfixExpression [200516,200679]
at 1
===
move-tree
---
MethodInvocation [166468,166487]
    METHOD_INVOCATION_RECEIVER [166468,166477]
        SimpleName: siteClass [166468,166477]
    SimpleName: getName [166478,166485]
to
InfixExpression [200516,200679]
at 2
===
insert-node
---
StringLiteral: "\"," [200596,200601]
to
InfixExpression [200516,200679]
at 3
===
insert-node
---
StringLiteral: "\"desc\" : \"" [200611,200626]
to
InfixExpression [200516,200679]
at 4
===
insert-node
---
SimpleName: desc [200629,200633]
to
InfixExpression [200516,200679]
at 5
===
insert-node
---
StringLiteral: "\"," [200636,200641]
to
InfixExpression [200516,200679]
at 6
===
insert-node
---
StringLiteral: "\"nSkip\" : " [200651,200665]
to
InfixExpression [200516,200679]
at 7
===
insert-node
---
SimpleName: nSkip [200668,200673]
to
InfixExpression [200516,200679]
at 8
===
insert-node
---
StringLiteral: "}" [200676,200679]
to
InfixExpression [200516,200679]
at 9
===
insert-tree
---
InfixExpression [201062,201117]
    StringLiteral: "{ \"type\" : \"pause\"," [201062,201087]
    INFIX_EXPRESSION_OPERATOR: + [201088,201089]
    StringLiteral: "\"siteClass\" : \"" [201097,201117]
to
InfixExpression [201062,201339]
at 0
===
insert-node
---
INFIX_EXPRESSION_OPERATOR: + [201118,201119]
to
InfixExpression [201062,201339]
at 1
===
insert-tree
---
MethodInvocation [201120,201139]
    METHOD_INVOCATION_RECEIVER [201120,201129]
        SimpleName: siteClass [201120,201129]
    SimpleName: getName [201130,201137]
to
InfixExpression [201062,201339]
at 2
===
insert-node
---
StringLiteral: "\"," [201142,201147]
to
InfixExpression [201062,201339]
at 3
===
insert-node
---
StringLiteral: "\"desc\" : \"" [201157,201172]
to
InfixExpression [201062,201339]
at 4
===
insert-node
---
SimpleName: desc [201175,201179]
to
InfixExpression [201062,201339]
at 5
===
insert-node
---
StringLiteral: "\"," [201182,201187]
to
InfixExpression [201062,201339]
at 6
===
insert-node
---
StringLiteral: "\"nSkip\" : " [201197,201211]
to
InfixExpression [201062,201339]
at 7
===
insert-node
---
SimpleName: nSkip [201214,201219]
to
InfixExpression [201062,201339]
at 8
===
insert-node
---
StringLiteral: "," [201222,201225]
to
InfixExpression [201062,201339]
at 9
===
insert-node
---
StringLiteral: "\"address\":\"" [201235,201251]
to
InfixExpression [201062,201339]
at 10
===
move-tree
---
MethodInvocation [199371,199392]
    METHOD_INVOCATION_RECEIVER [199371,199379]
        SimpleName: endpoint [199371,199379]
    SimpleName: getAddress [199380,199390]
to
InfixExpression [201062,201339]
at 11
===
insert-node
---
StringLiteral: "\"," [201278,201283]
to
InfixExpression [201062,201339]
at 12
===
insert-node
---
StringLiteral: "\"port\":\"" [201293,201306]
to
InfixExpression [201062,201339]
at 13
===
move-tree
---
MethodInvocation [199426,199448]
    METHOD_INVOCATION_RECEIVER [199426,199434]
        SimpleName: endpoint [199426,199434]
    SimpleName: getUserPort [199435,199446]
to
InfixExpression [201062,201339]
at 14
===
insert-node
---
StringLiteral: "\"}" [201334,201339]
to
InfixExpression [201062,201339]
at 15
===
update-node
---
SimpleName: jsonString [191829,191839]
replace jsonString by controls
===
insert-node
---
MethodInvocation [206795,206890]
to
VariableDeclarationFragment [191829,192061]
at 1
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [206899,206920]
    SimpleName: ControlsInjectionUtil [206899,206920]
to
MethodInvocation [192070,192124]
at 0
===
insert-node
---
MethodInvocation [213495,213627]
to
VariableDeclarationFragment [199927,200019]
at 1
===
move-tree
---
TypeLiteral [202891,202913]
    SimpleType [202891,202907]
        SimpleName: RuntimeException [202891,202907]
to
VariableDeclarationFragment [202874,202923]
at 1
===
insert-node
---
MethodInvocation [214487,214610]
to
VariableDeclarationFragment [200858,200931]
at 1
===
move-tree
---
TypeLiteral [200806,200828]
    SimpleType [200806,200822]
        SimpleName: RuntimeException [200806,200822]
to
VariableDeclarationFragment [200789,200838]
at 1
===
insert-node
---
MethodInvocation [216694,216852]
to
VariableDeclarationFragment [202984,203101]
at 1
===
update-node
---
SimpleName: jsonString [208991,209001]
replace jsonString by controls
===
insert-node
---
MethodInvocation [222763,222854]
to
VariableDeclarationFragment [208991,209234]
at 1
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [222863,222884]
    SimpleName: ControlsInjectionUtil [222863,222884]
to
MethodInvocation [209243,209297]
at 0
===
update-node
---
SimpleName: jsonString [211178,211188]
replace jsonString by controls
===
insert-node
---
MethodInvocation [224807,224922]
to
VariableDeclarationFragment [211178,211557]
at 1
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [224931,224952]
    SimpleName: ControlsInjectionUtil [224931,224952]
to
MethodInvocation [211566,211620]
at 0
===
insert-node
---
MethodInvocation [138293,138381]
to
ExpressionStatement [138293,138382]
at 0
===
insert-node
---
ClassInstanceCreation [154289,154359]
to
ThrowStatement [154283,154360]
at 0
===
insert-node
---
METHOD_INVOCATION_RECEIVER [160239,160358]
to
MethodInvocation [160239,160374]
at 0
===
insert-node
---
SimpleName: build [160367,160372]
to
MethodInvocation [160239,160374]
at 1
===
insert-node
---
QualifiedName: QueryType.SQL [160534,160547]
to
METHOD_INVOCATION_ARGUMENTS [158664,158687]
at 1
===
insert-node
---
SimpleName: listener [160561,160569]
to
METHOD_INVOCATION_ARGUMENTS [158664,158687]
at 3
===
update-node
---
SimpleName: e [158737,158738]
replace e by pair
===
move-tree
---
SimpleName: e [158737,158738]
to
METHOD_INVOCATION_ARGUMENTS [158737,158751]
at 0
===
insert-node
---
QualifiedName: QueryState.COMPLETED [160680,160700]
to
METHOD_INVOCATION_ARGUMENTS [158737,158751]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [161103,161190]
to
MethodInvocation [161103,161206]
at 0
===
insert-node
---
SimpleName: build [161199,161204]
to
MethodInvocation [161103,161206]
at 1
===
update-node
---
SimpleName: e [159401,159402]
replace e by controls
===
update-node
---
SimpleName: testQuery [165608,165617]
replace testQuery by query
===
insert-node
---
METHOD_INVOCATION_RECEIVER [168291,168366]
to
MethodInvocation [168291,168382]
at 0
===
insert-node
---
SimpleName: build [168375,168380]
to
MethodInvocation [168291,168382]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [169534,169616]
to
MethodInvocation [169534,169632]
at 0
===
insert-node
---
SimpleName: build [169625,169630]
to
MethodInvocation [169534,169632]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [170686,170764]
to
MethodInvocation [170686,170780]
at 0
===
insert-node
---
SimpleName: build [170773,170778]
to
MethodInvocation [170686,170780]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [171717,171793]
to
MethodInvocation [171717,171809]
at 0
===
insert-node
---
SimpleName: build [171802,171807]
to
MethodInvocation [171717,171809]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [172731,172803]
to
MethodInvocation [172731,172819]
at 0
===
insert-node
---
SimpleName: build [172812,172817]
to
MethodInvocation [172731,172819]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [175109,175202]
to
MethodInvocation [175109,175218]
at 0
===
insert-node
---
SimpleName: build [175211,175216]
to
MethodInvocation [175109,175218]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [175829,175915]
to
MethodInvocation [175829,175931]
at 0
===
insert-node
---
SimpleName: build [175924,175929]
to
MethodInvocation [175829,175931]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [176483,176580]
to
MethodInvocation [176483,176596]
at 0
===
insert-node
---
SimpleName: build [176589,176594]
to
MethodInvocation [176483,176596]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [177231,177318]
to
MethodInvocation [177231,177334]
at 0
===
insert-node
---
SimpleName: build [177327,177332]
to
MethodInvocation [177231,177334]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [177963,178054]
to
MethodInvocation [177963,178070]
at 0
===
insert-node
---
SimpleName: build [178063,178068]
to
MethodInvocation [177963,178070]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [180657,180771]
to
MethodInvocation [180657,180787]
at 0
===
insert-node
---
SimpleName: build [180780,180785]
to
MethodInvocation [180657,180787]
at 1
===
move-tree
---
SimpleType [200782,200788]
    SimpleName: String [200782,200788]
to
VariableDeclarationStatement [179481,179566]
at 1
===
move-tree
---
SimpleType [179487,179493]
    SimpleName: String [179487,179493]
to
VariableDeclarationStatement [180864,180965]
at 1
===
move-tree
---
MethodInvocation [181162,181267]
    SimpleName: assertFailsWithException [181162,181186]
    METHOD_INVOCATION_ARGUMENTS [181187,181266]
        SimpleName: controls [181187,181195]
        SimpleName: exceptionClass [181197,181211]
        SimpleName: exceptionDesc [181213,181226]
        MethodInvocation [181228,181266]
            METHOD_INVOCATION_RECEIVER [181228,181233]
                SimpleName: query [181228,181233]
            SimpleName: substring [181234,181243]
            METHOD_INVOCATION_ARGUMENTS [181244,181265]
                NumberLiteral: 0 [181244,181245]
                InfixExpression [181247,181265]
                    MethodInvocation [181247,181261]
                        METHOD_INVOCATION_RECEIVER [181247,181252]
                            SimpleName: query [181247,181252]
                        SimpleName: length [181253,181259]
                    INFIX_EXPRESSION_OPERATOR: - [181262,181263]
                    NumberLiteral: 1 [181264,181265]
to
ExpressionStatement [183277,183350]
at 0
===
insert-node
---
METHOD_INVOCATION_RECEIVER [183916,184043]
to
MethodInvocation [183916,184059]
at 0
===
insert-node
---
SimpleName: build [184052,184057]
to
MethodInvocation [183916,184059]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [184626,184752]
to
MethodInvocation [184626,184768]
at 0
===
insert-node
---
SimpleName: build [184761,184766]
to
MethodInvocation [184626,184768]
at 1
===
insert-node
---
Modifier: final [185189,185194]
to
SingleVariableDeclaration [183020,183042]
at 0
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [190085,190095]
    SimpleName: injections [190085,190095]
to
MethodInvocation [190085,190209]
at 0
===
insert-node
---
SimpleName: add [190096,190099]
to
MethodInvocation [190085,190209]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [190100,190208]
to
MethodInvocation [190085,190209]
at 2
===
update-node
---
SimpleName: testQuery [165452,165461]
replace testQuery by injection
===
move-tree
---
METHOD_INVOCATION_RECEIVER [211566,211587]
    SimpleName: ControlsInjectionUtil [211566,211587]
to
MethodInvocation [194681,194735]
at 0
===
insert-node
---
SimpleName: validateControlsString [194703,194725]
to
MethodInvocation [194681,194735]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [194726,194734]
    SimpleName: controls [194726,194734]
to
MethodInvocation [194681,194735]
at 2
===
insert-node
---
Modifier: final [197283,197288]
to
SingleVariableDeclaration [166115,166129]
at 0
===
insert-node
---
METHOD_INVOCATION_RECEIVER [206795,206874]
to
MethodInvocation [206795,206890]
at 0
===
insert-node
---
SimpleName: build [206883,206888]
to
MethodInvocation [206795,206890]
at 1
===
update-node
---
SimpleName: jsonString [192113,192123]
replace jsonString by controls
===
insert-node
---
METHOD_INVOCATION_RECEIVER [213495,213611]
to
MethodInvocation [213495,213627]
at 0
===
insert-node
---
SimpleName: build [213620,213625]
to
MethodInvocation [213495,213627]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [214487,214594]
to
MethodInvocation [214487,214610]
at 0
===
insert-node
---
SimpleName: build [214603,214608]
to
MethodInvocation [214487,214610]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [216694,216836]
to
MethodInvocation [216694,216852]
at 0
===
insert-node
---
SimpleName: build [216845,216850]
to
MethodInvocation [216694,216852]
at 1
===
insert-node
---
METHOD_INVOCATION_RECEIVER [222763,222838]
to
MethodInvocation [222763,222854]
at 0
===
insert-node
---
SimpleName: build [222847,222852]
to
MethodInvocation [222763,222854]
at 1
===
update-node
---
SimpleName: jsonString [209286,209296]
replace jsonString by controls
===
insert-node
---
METHOD_INVOCATION_RECEIVER [224807,224906]
to
MethodInvocation [224807,224922]
at 0
===
update-node
---
SimpleName: getUserPort [211529,211540]
replace getUserPort by build
===
move-tree
---
SimpleName: getUserPort [211529,211540]
to
MethodInvocation [224807,224922]
at 1
===
update-node
---
SimpleName: jsonString [211609,211619]
replace jsonString by controls
===
update-node
---
SimpleName: getFragmentId [53186,53199]
replace getFragmentId by getQueryIdentifier
===
update-node
---
SimpleName: getFragmentId [53842,53855]
replace getFragmentId by getQueryIdentifier
===
update-node
---
SimpleName: resumeFragment [114207,114221]
replace resumeFragment by unpauseFragment
===
move-tree
---
METHOD_INVOCATION_RECEIVER [68224,68232]
    SimpleName: injector [68224,68232]
to
MethodInvocation [138293,138381]
at 0
===
insert-node
---
SimpleName: injectPause [138302,138313]
to
MethodInvocation [138293,138381]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [138314,138380]
    MethodInvocation [138314,138352]
        METHOD_INVOCATION_RECEIVER [138314,138329]
            SimpleName: fragmentContext [138314,138329]
        SimpleName: getExecutionControls [138330,138350]
    StringLiteral: "fragment-running" [138354,138372]
    SimpleName: logger [138374,138380]
to
MethodInvocation [138293,138381]
at 2
===
update-node
---
SimpleName: bitName [156885,156892]
replace bitName by name
===
move-tree
---
SimpleType [156941,156962]
    SimpleName: IllegalStateException [156941,156962]
to
ClassInstanceCreation [154289,154359]
at 0
===
insert-tree
---
InfixExpression [154315,154358]
    StringLiteral: "No Drillbit named \"" [154315,154337]
    INFIX_EXPRESSION_OPERATOR: + [154338,154339]
    SimpleName: name [154340,154344]
    StringLiteral: "\" found." [154347,154358]
to
ClassInstanceCreation [154289,154359]
at 1
===
move-tree
---
MethodInvocation [158512,158597]
    SimpleName: createSingleExceptionOnBit [158512,158538]
    METHOD_INVOCATION_ARGUMENTS [158539,158596]
        MethodInvocation [158539,158549]
            SimpleName: getClass [158539,158547]
        StringLiteral: "noop" [158551,158557]
        TypeLiteral [158559,158581]
            SimpleType [158559,158575]
                SimpleName: RuntimeException [158559,158575]
        SimpleName: DRILLBIT_BETA [158583,158596]
to
METHOD_INVOCATION_RECEIVER [160239,160358]
at 0
===
move-tree
---
MethodInvocation [159161,159227]
    SimpleName: createSingleException [159161,159182]
    METHOD_INVOCATION_ARGUMENTS [159183,159226]
        TypeLiteral [159183,159196]
            SimpleType [159183,159190]
                SimpleName: Foreman [159183,159190]
        SimpleName: desc [159198,159202]
        TypeLiteral [159204,159226]
            SimpleType [159204,159220]
                SimpleName: ForemanException [159204,159220]
to
METHOD_INVOCATION_RECEIVER [161103,161190]
at 0
===
move-tree
---
MethodInvocation [167311,167368]
    SimpleName: createPauseInjection [167311,167331]
    METHOD_INVOCATION_ARGUMENTS [167332,167367]
        TypeLiteral [167332,167354]
            SimpleType [167332,167348]
                SimpleName: PojoRecordReader [167332,167348]
        StringLiteral: "read-next" [167356,167367]
to
METHOD_INVOCATION_RECEIVER [168291,168366]
at 0
===
move-tree
---
MethodInvocation [168242,168294]
    SimpleName: createPauseInjection [168242,168262]
    METHOD_INVOCATION_ARGUMENTS [168263,168293]
        TypeLiteral [168263,168276]
            SimpleType [168263,168270]
                SimpleName: Foreman [168263,168270]
        StringLiteral: "foreman-ready" [168278,168293]
to
METHOD_INVOCATION_RECEIVER [169534,169616]
at 0
===
move-tree
---
MethodInvocation [169307,169367]
    SimpleName: createPauseInjection [169307,169327]
    METHOD_INVOCATION_ARGUMENTS [169328,169366]
        TypeLiteral [169328,169347]
            SimpleType [169328,169341]
                SimpleName: ScreenCreator [169328,169341]
        StringLiteral: "sending-data" [169349,169363]
        NumberLiteral: 1 [169365,169366]
to
METHOD_INVOCATION_RECEIVER [170686,170764]
at 0
===
move-tree
---
MethodInvocation [170263,170321]
    SimpleName: createPauseInjection [170263,170283]
    METHOD_INVOCATION_ARGUMENTS [170284,170320]
        TypeLiteral [170284,170303]
            SimpleType [170284,170297]
                SimpleName: ScreenCreator [170284,170297]
        StringLiteral: "send-complete" [170305,170320]
to
METHOD_INVOCATION_RECEIVER [171717,171793]
at 0
===
move-tree
---
MethodInvocation [171213,171267]
    SimpleName: createPauseInjection [171213,171233]
    METHOD_INVOCATION_ARGUMENTS [171234,171266]
        TypeLiteral [171234,171247]
            SimpleType [171234,171241]
                SimpleName: Foreman [171234,171241]
        StringLiteral: "foreman-cleanup" [171249,171266]
to
METHOD_INVOCATION_RECEIVER [172731,172803]
at 0
===
move-tree
---
MethodInvocation [173494,173568]
    SimpleName: createSingleException [173494,173515]
    METHOD_INVOCATION_ARGUMENTS [173516,173567]
        TypeLiteral [173516,173536]
            SimpleType [173516,173530]
                SimpleName: DrillSqlWorker [173516,173530]
        SimpleName: exceptionDesc [173538,173551]
        SimpleName: exceptionClass [173553,173567]
to
METHOD_INVOCATION_RECEIVER [175109,175202]
at 0
===
move-tree
---
MethodInvocation [174161,174228]
    SimpleName: createSingleException [174161,174182]
    METHOD_INVOCATION_ARGUMENTS [174183,174227]
        TypeLiteral [174183,174196]
            SimpleType [174183,174190]
                SimpleName: Foreman [174183,174190]
        SimpleName: exceptionDesc [174198,174211]
        SimpleName: exceptionClass [174213,174227]
to
METHOD_INVOCATION_RECEIVER [175829,175915]
at 0
===
move-tree
---
MethodInvocation [174768,174844]
    SimpleName: createSingleException [174768,174789]
    METHOD_INVOCATION_ARGUMENTS [174790,174843]
        TypeLiteral [174790,174812]
            SimpleType [174790,174806]
                SimpleName: FragmentExecutor [174790,174806]
        SimpleName: exceptionDesc [174814,174827]
        SimpleName: exceptionClass [174829,174843]
to
METHOD_INVOCATION_RECEIVER [176483,176580]
at 0
===
move-tree
---
MethodInvocation [175454,175523]
    SimpleName: createPauseInjection [175454,175474]
    METHOD_INVOCATION_ARGUMENTS [175475,175522]
        TypeLiteral [175475,175499]
            SimpleType [175475,175493]
                SimpleName: MergingRecordBatch [175475,175493]
        StringLiteral: "waiting-for-data" [175501,175519]
        NumberLiteral: 1 [175521,175522]
to
METHOD_INVOCATION_RECEIVER [177231,177318]
at 0
===
move-tree
---
MethodInvocation [176131,176204]
    SimpleName: createPauseInjection [176131,176151]
    METHOD_INVOCATION_ARGUMENTS [176152,176203]
        TypeLiteral [176152,176180]
            SimpleType [176152,176174]
                SimpleName: UnorderedReceiverBatch [176152,176174]
        StringLiteral: "waiting-for-data" [176182,176200]
        NumberLiteral: 1 [176202,176203]
to
METHOD_INVOCATION_RECEIVER [177963,178054]
at 0
===
update-node
---
SimpleName: assertCancelled [176739,176754]
replace assertCancelled by assertCancelledWithoutException
===
insert-node
---
MethodInvocation [179528,179717]
to
VariableDeclarationFragment [177618,178092]
at 1
===
update-node
---
SimpleName: assertCancelled [178208,178223]
replace assertCancelled by assertCancelledWithoutException
===
move-tree
---
MethodInvocation [178984,179080]
    SimpleName: createPauseInjection [178984,179004]
    METHOD_INVOCATION_ARGUMENTS [179005,179079]
        TypeLiteral [179005,179031]
            SimpleType [179005,179025]
                SimpleName: SingleSenderRootExec [179005,179025]
        StringLiteral: "data-tunnel-send-batch-wait-for-interrupt" [179033,179076]
        NumberLiteral: 1 [179078,179079]
to
METHOD_INVOCATION_RECEIVER [180657,180771]
at 0
===
insert-node
---
MethodInvocation [181258,181356]
to
VariableDeclarationFragment [179494,179565]
at 1
===
move-tree
---
ExpressionStatement [181162,181268]
    MethodInvocation [181162,181267]
        SimpleName: assertFailsWithException [181162,181186]
        METHOD_INVOCATION_ARGUMENTS [181187,181266]
            SimpleName: controls [181187,181195]
            SimpleName: exceptionClass [181197,181211]
            SimpleName: exceptionDesc [181213,181226]
            MethodInvocation [181228,181266]
                METHOD_INVOCATION_RECEIVER [181228,181233]
                    SimpleName: query [181228,181233]
                SimpleName: substring [181234,181243]
                METHOD_INVOCATION_ARGUMENTS [181244,181265]
                    NumberLiteral: 0 [181244,181245]
                    InfixExpression [181247,181265]
                        MethodInvocation [181247,181261]
                            METHOD_INVOCATION_RECEIVER [181247,181252]
                                SimpleName: query [181247,181252]
                            SimpleName: length [181253,181259]
                        INFIX_EXPRESSION_OPERATOR: - [181262,181263]
                        NumberLiteral: 1 [181264,181265]
to
Block [181001,181070]
at 1
===
insert-node
---
MethodInvocation [182873,182990]
to
VariableDeclarationFragment [180877,180964]
at 1
===
move-tree
---
ExpressionStatement [180265,180357]
    MethodInvocation [180265,180356]
        SimpleName: assertCancelledWithoutException [180265,180296]
        METHOD_INVOCATION_ARGUMENTS [180297,180355]
            SimpleName: controls [180297,180305]
            SimpleName: listener [180307,180315]
            MethodInvocation [180317,180355]
                METHOD_INVOCATION_RECEIVER [180317,180322]
                    SimpleName: query [180317,180322]
                SimpleName: substring [180323,180332]
                METHOD_INVOCATION_ARGUMENTS [180333,180354]
                    NumberLiteral: 0 [180333,180334]
                    InfixExpression [180336,180354]
                        MethodInvocation [180336,180350]
                            METHOD_INVOCATION_RECEIVER [180336,180341]
                                SimpleName: query [180336,180341]
                            SimpleName: length [180342,180348]
                        INFIX_EXPRESSION_OPERATOR: - [180351,180352]
                        NumberLiteral: 1 [180353,180354]
to
Block [179602,179671]
at 1
===
insert-node
---
SimpleName: assertFailsWithException [183277,183301]
to
MethodInvocation [181162,181267]
at 0
===
move-tree
---
MethodInvocation [181815,181921]
    SimpleName: createSingleException [181815,181836]
    METHOD_INVOCATION_ARGUMENTS [181837,181920]
        TypeLiteral [181837,181860]
            SimpleType [181837,181854]
                SimpleName: ExternalSortBatch [181837,181854]
        QualifiedName: ExternalSortBatch.INTERRUPTION_AFTER_SORT [181862,181903]
        SimpleName: typeOfException [181905,181920]
to
METHOD_INVOCATION_RECEIVER [183916,184043]
at 0
===
move-tree
---
MethodInvocation [182499,182606]
    SimpleName: createSingleException [182499,182520]
    METHOD_INVOCATION_ARGUMENTS [182521,182605]
        TypeLiteral [182521,182544]
            SimpleType [182521,182538]
                SimpleName: ExternalSortBatch [182521,182538]
        QualifiedName: ExternalSortBatch.INTERRUPTION_AFTER_SETUP [182546,182588]
        SimpleName: typeOfException [182590,182605]
to
METHOD_INVOCATION_RECEIVER [184626,184752]
at 0
===
insert-node
---
MethodInvocation [190100,190208]
to
METHOD_INVOCATION_ARGUMENTS [190100,190208]
at 0
===
insert-node
---
SimpleName: DRILLBIT_CONTROL_INJECTIONS [197820,197847]
to
METHOD_INVOCATION_ARGUMENTS [186078,186168]
at 1
===
insert-node
---
MethodInvocation [206795,206874]
to
METHOD_INVOCATION_RECEIVER [206795,206874]
at 0
===
move-tree
---
MethodInvocation [199938,200019]
    SimpleName: createException [199938,199953]
    METHOD_INVOCATION_ARGUMENTS [199954,200018]
        QualifiedName: DummyClass.THROWS_IOEXCEPTION [199954,199983]
        NumberLiteral: 0 [199985,199986]
        NumberLiteral: 1 [199988,199989]
        MethodInvocation [199991,200018]
            METHOD_INVOCATION_RECEIVER [199991,200008]
                TypeLiteral [199991,200008]
                    SimpleType [199991,200002]
                        SimpleName: IOException [199991,200002]
            SimpleName: getName [200009,200016]
to
METHOD_INVOCATION_RECEIVER [213495,213611]
at 0
===
move-tree
---
MethodInvocation [200869,200931]
    SimpleName: createException [200869,200884]
    METHOD_INVOCATION_ARGUMENTS [200885,200930]
        SimpleName: passthroughDesc [200885,200900]
        SimpleName: nSkip [200902,200907]
        SimpleName: nFire [200909,200914]
        SimpleName: exceptionClass [200916,200930]
to
METHOD_INVOCATION_RECEIVER [214487,214594]
at 0
===
move-tree
---
MethodInvocation [202995,203101]
    SimpleName: createExceptionOnBit [202995,203015]
    METHOD_INVOCATION_ARGUMENTS [203016,203100]
        MethodInvocation [203016,203046]
            METHOD_INVOCATION_RECEIVER [203016,203032]
                SimpleName: drillbitContext1 [203016,203032]
            SimpleName: getEndpoint [203033,203044]
        SimpleName: passthroughDesc [203048,203063]
        SimpleName: nSkip [203065,203070]
        SimpleName: nFire [203072,203077]
        SimpleName: exceptionClass [203086,203100]
to
METHOD_INVOCATION_RECEIVER [216694,216836]
at 0
===
insert-node
---
MethodInvocation [222763,222838]
to
METHOD_INVOCATION_RECEIVER [222763,222838]
at 0
===
insert-node
---
MethodInvocation [224807,224906]
to
METHOD_INVOCATION_RECEIVER [224807,224906]
at 0
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [160239,160260]
    MethodInvocation [160239,160260]
        METHOD_INVOCATION_RECEIVER [160239,160247]
            SimpleName: Controls [160239,160247]
        SimpleName: newBuilder [160248,160258]
to
MethodInvocation [158512,158597]
at 0
===
update-node
---
SimpleName: createSingleExceptionOnBit [158512,158538]
replace createSingleExceptionOnBit by addExceptionOnBit
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [161103,161124]
    MethodInvocation [161103,161124]
        METHOD_INVOCATION_RECEIVER [161103,161111]
            SimpleName: Controls [161103,161111]
        SimpleName: newBuilder [161112,161122]
to
MethodInvocation [159161,159227]
at 0
===
update-node
---
SimpleName: createSingleException [159161,159182]
replace createSingleException by addException
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [168291,168312]
    MethodInvocation [168291,168312]
        METHOD_INVOCATION_RECEIVER [168291,168299]
            SimpleName: Controls [168291,168299]
        SimpleName: newBuilder [168300,168310]
to
MethodInvocation [167311,167368]
at 0
===
update-node
---
SimpleName: createPauseInjection [167311,167331]
replace createPauseInjection by addPause
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [169534,169555]
    MethodInvocation [169534,169555]
        METHOD_INVOCATION_RECEIVER [169534,169542]
            SimpleName: Controls [169534,169542]
        SimpleName: newBuilder [169543,169553]
to
MethodInvocation [168242,168294]
at 0
===
update-node
---
SimpleName: createPauseInjection [168242,168262]
replace createPauseInjection by addPause
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [170686,170707]
    MethodInvocation [170686,170707]
        METHOD_INVOCATION_RECEIVER [170686,170694]
            SimpleName: Controls [170686,170694]
        SimpleName: newBuilder [170695,170705]
to
MethodInvocation [169307,169367]
at 0
===
update-node
---
SimpleName: createPauseInjection [169307,169327]
replace createPauseInjection by addPause
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [171717,171738]
    MethodInvocation [171717,171738]
        METHOD_INVOCATION_RECEIVER [171717,171725]
            SimpleName: Controls [171717,171725]
        SimpleName: newBuilder [171726,171736]
to
MethodInvocation [170263,170321]
at 0
===
update-node
---
SimpleName: createPauseInjection [170263,170283]
replace createPauseInjection by addPause
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [172731,172752]
    MethodInvocation [172731,172752]
        METHOD_INVOCATION_RECEIVER [172731,172739]
            SimpleName: Controls [172731,172739]
        SimpleName: newBuilder [172740,172750]
to
MethodInvocation [171213,171267]
at 0
===
update-node
---
SimpleName: createPauseInjection [171213,171233]
replace createPauseInjection by addPause
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [175109,175130]
    MethodInvocation [175109,175130]
        METHOD_INVOCATION_RECEIVER [175109,175117]
            SimpleName: Controls [175109,175117]
        SimpleName: newBuilder [175118,175128]
to
MethodInvocation [173494,173568]
at 0
===
update-node
---
SimpleName: createSingleException [173494,173515]
replace createSingleException by addException
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [175829,175850]
    MethodInvocation [175829,175850]
        METHOD_INVOCATION_RECEIVER [175829,175837]
            SimpleName: Controls [175829,175837]
        SimpleName: newBuilder [175838,175848]
to
MethodInvocation [174161,174228]
at 0
===
update-node
---
SimpleName: createSingleException [174161,174182]
replace createSingleException by addException
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [176483,176504]
    MethodInvocation [176483,176504]
        METHOD_INVOCATION_RECEIVER [176483,176491]
            SimpleName: Controls [176483,176491]
        SimpleName: newBuilder [176492,176502]
to
MethodInvocation [174768,174844]
at 0
===
update-node
---
SimpleName: createSingleException [174768,174789]
replace createSingleException by addException
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [177231,177252]
    MethodInvocation [177231,177252]
        METHOD_INVOCATION_RECEIVER [177231,177239]
            SimpleName: Controls [177231,177239]
        SimpleName: newBuilder [177240,177250]
to
MethodInvocation [175454,175523]
at 0
===
update-node
---
SimpleName: createPauseInjection [175454,175474]
replace createPauseInjection by addPause
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [177963,177984]
    MethodInvocation [177963,177984]
        METHOD_INVOCATION_RECEIVER [177963,177971]
            SimpleName: Controls [177963,177971]
        SimpleName: newBuilder [177972,177982]
to
MethodInvocation [176131,176204]
at 0
===
update-node
---
SimpleName: createPauseInjection [176131,176151]
replace createPauseInjection by addPause
===
insert-node
---
SimpleName: query [178691,178696]
to
METHOD_INVOCATION_ARGUMENTS [176755,176822]
at 3
===
insert-node
---
METHOD_INVOCATION_RECEIVER [179528,179701]
to
MethodInvocation [179528,179717]
at 0
===
insert-node
---
SimpleName: build [179710,179715]
to
MethodInvocation [179528,179717]
at 1
===
insert-node
---
SimpleName: query [179928,179933]
to
METHOD_INVOCATION_ARGUMENTS [178224,178292]
at 3
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [180657,180678]
    MethodInvocation [180657,180678]
        METHOD_INVOCATION_RECEIVER [180657,180665]
            SimpleName: Controls [180657,180665]
        SimpleName: newBuilder [180666,180676]
to
MethodInvocation [178984,179080]
at 0
===
update-node
---
SimpleName: createPauseInjection [178984,179004]
replace createPauseInjection by addPause
===
insert-node
---
METHOD_INVOCATION_RECEIVER [181258,181338]
to
MethodInvocation [181258,181356]
at 0
===
insert-node
---
SimpleName: build [181349,181354]
to
MethodInvocation [181258,181356]
at 1
===
insert-node
---
Assignment [181471,181517]
to
ExpressionStatement [181162,181268]
at 0
===
insert-node
---
METHOD_INVOCATION_RECEIVER [182873,182972]
to
MethodInvocation [182873,182990]
at 0
===
insert-node
---
SimpleName: build [182983,182988]
to
MethodInvocation [182873,182990]
at 1
===
insert-node
---
Assignment [183107,183153]
to
ExpressionStatement [180265,180357]
at 0
===
insert-node
---
SimpleName: query [183343,183348]
to
METHOD_INVOCATION_ARGUMENTS [181187,181266]
at 3
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [183916,183937]
    MethodInvocation [183916,183937]
        METHOD_INVOCATION_RECEIVER [183916,183924]
            SimpleName: Controls [183916,183924]
        SimpleName: newBuilder [183925,183935]
to
MethodInvocation [181815,181921]
at 0
===
update-node
---
SimpleName: createSingleException [181815,181836]
replace createSingleException by addException
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [184626,184647]
    MethodInvocation [184626,184647]
        METHOD_INVOCATION_RECEIVER [184626,184634]
            SimpleName: Controls [184626,184634]
        SimpleName: newBuilder [184635,184645]
to
MethodInvocation [182499,182606]
at 0
===
update-node
---
SimpleName: createSingleException [182499,182520]
replace createSingleException by addException
===
move-tree
---
METHOD_INVOCATION_RECEIVER [192070,192091]
    SimpleName: ControlsInjectionUtil [192070,192091]
to
MethodInvocation [190100,190208]
at 0
===
insert-node
---
SimpleName: createExceptionOnBit [190122,190142]
to
MethodInvocation [190100,190208]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [190143,190207]
    SimpleName: siteClass [190143,190152]
    SimpleName: desc [190154,190158]
    SimpleName: nSkip [190160,190165]
    SimpleName: nFire [190167,190172]
    SimpleName: exceptionClass [190174,190188]
    SimpleName: endpoint [190199,190207]
to
MethodInvocation [190100,190208]
at 2
===
move-tree
---
METHOD_INVOCATION_ARGUMENTS [166159,166239]
    StringLiteral: "Failed to set session option `%s` = %s, Error: %s" [166159,166210]
    SimpleName: option [166212,166218]
    SimpleName: value [166220,166225]
    MethodInvocation [166227,166239]
        METHOD_INVOCATION_RECEIVER [166227,166228]
            SimpleName: e [166227,166228]
        SimpleName: toString [166229,166237]
to
MethodInvocation [166140,166241]
at 1
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [206795,206816]
    MethodInvocation [206795,206816]
        METHOD_INVOCATION_RECEIVER [206795,206803]
            SimpleName: Controls [206795,206803]
        SimpleName: newBuilder [206804,206814]
to
MethodInvocation [206795,206874]
at 0
===
insert-node
---
SimpleName: addLatch [206825,206833]
to
MethodInvocation [206795,206874]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [206834,206873]
to
MethodInvocation [206795,206874]
at 2
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [213495,213516]
    MethodInvocation [213495,213516]
        METHOD_INVOCATION_RECEIVER [213495,213503]
            SimpleName: Controls [213495,213503]
        SimpleName: newBuilder [213504,213514]
to
MethodInvocation [199938,200019]
at 0
===
update-node
---
SimpleName: createException [199938,199953]
replace createException by addException
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [214487,214508]
    MethodInvocation [214487,214508]
        METHOD_INVOCATION_RECEIVER [214487,214495]
            SimpleName: Controls [214487,214495]
        SimpleName: newBuilder [214496,214506]
to
MethodInvocation [200869,200931]
at 0
===
update-node
---
SimpleName: createException [200869,200884]
replace createException by addException
===
insert-node
---
MethodInvocation [215065,215089]
to
METHOD_INVOCATION_ARGUMENTS [201374,201417]
at 1
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [216694,216715]
    MethodInvocation [216694,216715]
        METHOD_INVOCATION_RECEIVER [216694,216702]
            SimpleName: Controls [216694,216702]
        SimpleName: newBuilder [216703,216713]
to
MethodInvocation [202995,203101]
at 0
===
update-node
---
SimpleName: createExceptionOnBit [202995,203015]
replace createExceptionOnBit by addExceptionOnBit
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [222763,222784]
    MethodInvocation [222763,222784]
        METHOD_INVOCATION_RECEIVER [222763,222771]
            SimpleName: Controls [222763,222771]
        SimpleName: newBuilder [222772,222782]
to
MethodInvocation [222763,222838]
at 0
===
insert-node
---
SimpleName: addPause [222793,222801]
to
MethodInvocation [222763,222838]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [222802,222837]
to
MethodInvocation [222763,222838]
at 2
===
insert-node
---
METHOD_INVOCATION_RECEIVER [224807,224828]
to
MethodInvocation [224807,224906]
at 0
===
insert-node
---
SimpleName: addPauseOnBit [224837,224850]
to
MethodInvocation [224807,224906]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [224851,224905]
to
MethodInvocation [224807,224906]
at 2
===
update-node
---
StringLiteral: "Interrupted while awaiting in %s at %s." [35201,35242]
replace "Interrupted while awaiting in %s at %s." by "Interrupted while awaiting in {} at {}."
===
insert-node
---
MethodInvocation [160331,160357]
to
METHOD_INVOCATION_ARGUMENTS [158539,158596]
at 3
===
update-node
---
StringLiteral: "foreman-ready" [168278,168293]
replace "foreman-ready" by "fragment-running"
===
insert-node
---
MethodInvocation [179528,179701]
to
METHOD_INVOCATION_RECEIVER [179528,179701]
at 0
===
move-tree
---
MethodInvocation [179505,179565]
    SimpleName: createPauseInjection [179505,179525]
    METHOD_INVOCATION_ARGUMENTS [179526,179564]
        TypeLiteral [179526,179545]
            SimpleType [179526,179539]
                SimpleName: ScreenCreator [179526,179539]
        StringLiteral: "sending-data" [179547,179561]
        NumberLiteral: 1 [179563,179564]
to
METHOD_INVOCATION_RECEIVER [181258,181338]
at 0
===
update-node
---
SimpleName: assertFailsWithException [181162,181186]
replace assertFailsWithException by query
===
move-tree
---
SimpleName: assertFailsWithException [181162,181186]
to
Assignment [181471,181517]
at 0
===
insert-node
---
ASSIGNMENT_OPERATOR: = [181477,181478]
to
Assignment [181471,181517]
at 1
===
move-tree
---
MethodInvocation [181228,181266]
    METHOD_INVOCATION_RECEIVER [181228,181233]
        SimpleName: query [181228,181233]
    SimpleName: substring [181234,181243]
    METHOD_INVOCATION_ARGUMENTS [181244,181265]
        NumberLiteral: 0 [181244,181245]
        InfixExpression [181247,181265]
            MethodInvocation [181247,181261]
                METHOD_INVOCATION_RECEIVER [181247,181252]
                    SimpleName: query [181247,181252]
                SimpleName: length [181253,181259]
            INFIX_EXPRESSION_OPERATOR: - [181262,181263]
            NumberLiteral: 1 [181264,181265]
to
Assignment [181471,181517]
at 2
===
move-tree
---
MethodInvocation [180888,180964]
    SimpleName: createSingleException [180888,180909]
    METHOD_INVOCATION_ARGUMENTS [180910,180963]
        TypeLiteral [180910,180932]
            SimpleType [180910,180926]
                SimpleName: FragmentExecutor [180910,180926]
        SimpleName: exceptionDesc [180934,180947]
        SimpleName: exceptionClass [180949,180963]
to
METHOD_INVOCATION_RECEIVER [182873,182972]
at 0
===
update-node
---
SimpleName: assertCancelledWithoutException [180265,180296]
replace assertCancelledWithoutException by query
===
move-tree
---
SimpleName: assertCancelledWithoutException [180265,180296]
to
Assignment [183107,183153]
at 0
===
insert-node
---
ASSIGNMENT_OPERATOR: = [183113,183114]
to
Assignment [183107,183153]
at 1
===
move-tree
---
MethodInvocation [180317,180355]
    METHOD_INVOCATION_RECEIVER [180317,180322]
        SimpleName: query [180317,180322]
    SimpleName: substring [180323,180332]
    METHOD_INVOCATION_ARGUMENTS [180333,180354]
        NumberLiteral: 0 [180333,180334]
        InfixExpression [180336,180354]
            MethodInvocation [180336,180350]
                METHOD_INVOCATION_RECEIVER [180336,180341]
                    SimpleName: query [180336,180341]
                SimpleName: length [180342,180348]
            INFIX_EXPRESSION_OPERATOR: - [180351,180352]
            NumberLiteral: 1 [180353,180354]
to
Assignment [183107,183153]
at 2
===
update-node
---
QualifiedName: QueryType.SQL [165929,165942]
replace QueryType.SQL by UserBitShared.QueryType.SQL
===
move-tree
---
InfixExpression [185829,185878]
    StringLiteral: "Could not set controls options: " [185829,185863]
    INFIX_EXPRESSION_OPERATOR: + [185864,185865]
    MethodInvocation [185866,185878]
        METHOD_INVOCATION_RECEIVER [185866,185867]
            SimpleName: e [185866,185867]
        SimpleName: toString [185868,185876]
to
METHOD_INVOCATION_ARGUMENTS [166159,166239]
at 0
===
insert-tree
---
TypeLiteral [206834,206850]
    SimpleType [206834,206844]
        SimpleName: DummyClass [206834,206844]
to
METHOD_INVOCATION_ARGUMENTS [206834,206873]
at 0
===
move-tree
---
QualifiedName: DummyClass.LATCH_NAME [192018,192039]
to
METHOD_INVOCATION_ARGUMENTS [206834,206873]
at 1
===
insert-tree
---
TypeLiteral [213538,213554]
    SimpleType [213538,213548]
        SimpleName: DummyClass [213538,213548]
to
METHOD_INVOCATION_ARGUMENTS [199954,200018]
at 0
===
move-tree
---
TypeLiteral [199991,200008]
    SimpleType [199991,200002]
        SimpleName: IOException [199991,200002]
to
METHOD_INVOCATION_ARGUMENTS [199954,200018]
at 2
===
insert-tree
---
TypeLiteral [214530,214546]
    SimpleType [214530,214540]
        SimpleName: DummyClass [214530,214540]
to
METHOD_INVOCATION_ARGUMENTS [200885,200930]
at 0
===
insert-node
---
SimpleName: exceptionClass [214565,214579]
to
METHOD_INVOCATION_ARGUMENTS [200885,200930]
at 2
===
insert-node
---
METHOD_INVOCATION_RECEIVER [215065,215079]
to
MethodInvocation [215065,215089]
at 0
===
insert-node
---
SimpleName: getName [215080,215087]
to
MethodInvocation [215065,215089]
at 1
===
insert-tree
---
TypeLiteral [216740,216756]
    SimpleType [216740,216750]
        SimpleName: DummyClass [216740,216750]
to
METHOD_INVOCATION_ARGUMENTS [203016,203100]
at 0
===
insert-node
---
SimpleName: passthroughDesc [216758,216773]
to
METHOD_INVOCATION_ARGUMENTS [203016,203100]
at 1
===
insert-node
---
SimpleName: exceptionClass [216775,216789]
to
METHOD_INVOCATION_ARGUMENTS [203016,203100]
at 2
===
insert-node
---
MethodInvocation [217328,217352]
to
METHOD_INVOCATION_ARGUMENTS [203569,203608]
at 1
===
insert-tree
---
TypeLiteral [222802,222818]
    SimpleType [222802,222812]
        SimpleName: DummyClass [222802,222812]
to
METHOD_INVOCATION_ARGUMENTS [222802,222837]
at 0
===
move-tree
---
QualifiedName: DummyClass.PAUSES [209171,209188]
to
METHOD_INVOCATION_ARGUMENTS [222802,222837]
at 1
===
move-tree
---
MethodInvocation [211447,211477]
    METHOD_INVOCATION_RECEIVER [211447,211464]
        SimpleName: drillbitEndpoint1 [211447,211464]
    SimpleName: getAddress [211465,211475]
to
METHOD_INVOCATION_RECEIVER [224807,224828]
at 0
===
insert-tree
---
TypeLiteral [224851,224867]
    SimpleType [224851,224861]
        SimpleName: DummyClass [224851,224861]
to
METHOD_INVOCATION_ARGUMENTS [224851,224905]
at 0
===
insert-node
---
QualifiedName: DummyClass.PAUSES [224869,224886]
to
METHOD_INVOCATION_ARGUMENTS [224851,224905]
at 1
===
move-tree
---
SimpleName: drillbitEndpoint1 [211511,211528]
to
METHOD_INVOCATION_ARGUMENTS [224851,224905]
at 2
===
insert-node
---
SimpleName: getEndpoint [160331,160342]
to
MethodInvocation [160331,160357]
at 0
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [160343,160356]
to
MethodInvocation [160331,160357]
at 1
===
move-tree
---
METHOD_INVOCATION_RECEIVER [177735,177761]
    TypeLiteral [177735,177761]
        SimpleType [177735,177755]
            SimpleName: PartitionerDecorator [177735,177755]
to
MethodInvocation [179528,179701]
at 0
===
update-node
---
SimpleName: getName [177762,177769]
replace getName by addPause
===
move-tree
---
SimpleName: getName [177762,177769]
to
MethodInvocation [179528,179701]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [179640,179700]
to
MethodInvocation [179528,179701]
at 2
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [181258,181279]
    MethodInvocation [181258,181279]
        METHOD_INVOCATION_RECEIVER [181258,181266]
            SimpleName: Controls [181258,181266]
        SimpleName: newBuilder [181267,181277]
to
MethodInvocation [179505,179565]
at 0
===
update-node
---
SimpleName: createPauseInjection [179505,179525]
replace createPauseInjection by addPause
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [182873,182894]
    MethodInvocation [182873,182894]
        METHOD_INVOCATION_RECEIVER [182873,182881]
            SimpleName: Controls [182873,182881]
        SimpleName: newBuilder [182882,182892]
to
MethodInvocation [180888,180964]
at 0
===
update-node
---
SimpleName: createSingleException [180888,180909]
replace createSingleException by addException
===
update-node
---
StringLiteral: "Failed to set session option `%s` = %s, Error: %s" [166159,166210]
replace "Failed to set session option `%s` = %s, Error: %s" by "Could not set option: "
===
move-tree
---
StringLiteral: "Failed to set session option `%s` = %s, Error: %s" [166159,166210]
to
InfixExpression [185829,185878]
at 0
===
move-tree
---
SimpleName: exceptionClass [201386,201400]
to
METHOD_INVOCATION_RECEIVER [215065,215079]
at 0
===
insert-node
---
METHOD_INVOCATION_RECEIVER [217328,217342]
to
MethodInvocation [217328,217352]
at 0
===
insert-node
---
SimpleName: getName [217343,217350]
to
MethodInvocation [217328,217352]
at 1
===
update-node
---
SimpleName: getAddress [211465,211475]
replace getAddress by newBuilder
===
update-node
---
SimpleName: getFragmentId [54623,54636]
replace getFragmentId by getQueryIdentifier
===
update-node
---
SimpleName: getFragmentId [54695,54708]
replace getFragmentId by getQueryIdentifier
===
move-tree
---
SimpleName: DRILLBIT_BETA [158583,158596]
to
METHOD_INVOCATION_ARGUMENTS [160343,160356]
at 0
===
update-node
---
SimpleName: Foreman [168263,168270]
replace Foreman by FragmentExecutor
===
insert-node
---
MethodInvocation [179528,179622]
to
METHOD_INVOCATION_RECEIVER [177735,177761]
at 0
===
move-tree
---
TypeLiteral [177735,177761]
    SimpleType [177735,177755]
        SimpleName: PartitionerDecorator [177735,177755]
to
METHOD_INVOCATION_ARGUMENTS [179640,179700]
at 0
===
update-node
---
StringLiteral: "\"desc\" : \"wait-for-fragment-interrupt\"," [177989,178034]
replace "\"desc\" : \"wait-for-fragment-interrupt\"," by "wait-for-fragment-interrupt"
===
move-tree
---
StringLiteral: "\"desc\" : \"wait-for-fragment-interrupt\"," [177989,178034]
to
METHOD_INVOCATION_ARGUMENTS [179640,179700]
at 1
===
insert-node
---
NumberLiteral: 1 [179699,179700]
to
METHOD_INVOCATION_ARGUMENTS [179640,179700]
at 2
===
update-node
---
StringLiteral: "alter session set `%s` = %s" [165969,165998]
replace "alter session set `%s` = %s" by "ALTER session SET `%s` = %s"
===
move-tree
---
SimpleName: exceptionClass [203577,203591]
to
METHOD_INVOCATION_RECEIVER [217328,217342]
at 0
===
update-node
---
SimpleName: drillbitEndpoint1 [211447,211464]
replace drillbitEndpoint1 by Controls
===
insert-tree
---
METHOD_INVOCATION_RECEIVER [179528,179549]
    MethodInvocation [179528,179549]
        METHOD_INVOCATION_RECEIVER [179528,179536]
            SimpleName: Controls [179528,179536]
        SimpleName: newBuilder [179537,179547]
to
MethodInvocation [179528,179622]
at 0
===
insert-node
---
SimpleName: addLatch [179558,179566]
to
MethodInvocation [179528,179622]
at 1
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [179567,179621]
to
MethodInvocation [179528,179622]
at 2
===
move-tree
---
TypeLiteral [177933,177959]
    SimpleType [177933,177953]
        SimpleName: PartitionerDecorator [177933,177953]
to
METHOD_INVOCATION_ARGUMENTS [179567,179621]
at 0
===
insert-node
---
StringLiteral: "partitioner-sender-latch" [179595,179621]
to
METHOD_INVOCATION_ARGUMENTS [179567,179621]
at 1
===
delete-tree
---
ImportDeclaration [184238,184281]
    QualifiedName: org.apache.drill.exec.ExecConstants [184245,184280]
===
delete-tree
---
ImportDeclaration [184731,184795]
    QualifiedName: org.apache.drill.exec.testing.ExecutionControls.Controls [184738,184794]
===
delete-tree
---
FieldDeclaration [1099,1189]
    Modifier: static [1099,1105]
    Modifier: final [1106,1111]
    SimpleType [1112,1128]
        QualifiedName: org.slf4j.Logger [1112,1128]
    VariableDeclarationFragment [1129,1188]
        SimpleName: logger [1129,1135]
        MethodInvocation [1138,1188]
            METHOD_INVOCATION_RECEIVER [1138,1161]
                QualifiedName: org.slf4j.LoggerFactory [1138,1161]
            SimpleName: getLogger [1162,1171]
            METHOD_INVOCATION_ARGUMENTS [1172,1187]
                TypeLiteral [1172,1187]
                    SimpleType [1172,1181]
                        SimpleName: TestTools [1172,1181]
===
delete-tree
---
FieldDeclaration [3347,3427]
    Modifier: static [3347,3353]
    Modifier: final [3354,3359]
    SimpleType [3360,3366]
        SimpleName: Logger [3360,3366]
    VariableDeclarationFragment [3367,3426]
        SimpleName: logger [3367,3373]
        MethodInvocation [3376,3426]
            METHOD_INVOCATION_RECEIVER [3376,3399]
                QualifiedName: org.slf4j.LoggerFactory [3376,3399]
            SimpleName: getLogger [3400,3409]
            METHOD_INVOCATION_ARGUMENTS [3410,3425]
                TypeLiteral [3410,3425]
                    SimpleType [3410,3419]
                        SimpleName: DrillTest [3410,3419]
===
delete-node
---
Modifier: public [10731,10737]
===
delete-node
---
TYPE_DECLARATION_KIND: class [10738,10743]
===
delete-node
---
SimpleName: ScanBatch [10744,10753]
===
delete-node
---
Modifier: public [60113,60119]
===
delete-node
---
TYPE_DECLARATION_KIND: class [60120,60125]
===
delete-node
---
SimpleName: Foreman [60126,60133]
===
delete-node
---
SimpleName: injectPause [68233,68244]
===
delete-tree
---
METHOD_INVOCATION_ARGUMENTS [68245,68305]
    MethodInvocation [68245,68280]
        METHOD_INVOCATION_RECEIVER [68245,68257]
            SimpleName: queryContext [68245,68257]
        SimpleName: getExecutionControls [68258,68278]
    StringLiteral: "foreman-ready" [68282,68297]
    SimpleName: logger [68299,68305]
===
delete-node
---
MethodInvocation [68224,68306]
===
delete-node
---
ExpressionStatement [68224,68307]
===
delete-node
---
Modifier: public [106741,106747]
===
delete-node
---
TYPE_DECLARATION_KIND: class [106748,106753]
===
delete-node
---
SimpleName: QueryManager [106754,106766]
===
delete-node
---
Modifier: public [127586,127592]
===
delete-node
---
TYPE_DECLARATION_KIND: class [127593,127598]
===
delete-node
---
SimpleName: FragmentExecutor [127599,127615]
===
delete-tree
---
Javadoc [148174,148417]
    TagElement [148182,148412]
        TextElement: Test how resilient drillbits are to throwing exceptions during various phases of query [148182,148268]
        TextElement: execution by injecting exceptions at various points and to cancellations in various phases. [148273,148364]
        TextElement: The test cases are mentioned in DRILL-2383. [148369,148412]
===
delete-node
---
Modifier: public [148428,148434]
===
delete-node
---
TYPE_DECLARATION_KIND: class [148435,148440]
===
delete-node
---
SimpleName: TestDrillbitResilience [148441,148463]
===
delete-tree
---
Javadoc [155160,155445]
    TagElement [155170,155206]
        TextElement: Create a single exception injection. [155170,155206]
    TagElement [155219,155265]
        SimpleName: siteClass [155226,155235]
        TextElement:       the injection site class [155235,155265]
    TagElement [155272,155324]
        SimpleName: desc [155279,155283]
        TextElement:            the injection site description [155283,155324]
    TagElement [155331,155388]
        SimpleName: exceptionClass [155338,155352]
        TextElement:  the class of the exception to throw [155352,155388]
    TagElement [155395,155438]
        TextElement:  the created controls JSON as string [155402,155438]
===
delete-node
---
Modifier: private [155449,155456]
===
delete-node
---
Modifier: static [155457,155463]
===
delete-node
---
SimpleName: createSingleException [155471,155492]
===
delete-tree
---
ReturnStatement [155761,156038]
    InfixExpression [155768,156037]
        InfixExpression [155768,155851]
            StringLiteral: "{\"injections\":[{" [155768,155788]
            INFIX_EXPRESSION_OPERATOR: + [155796,155797]
            StringLiteral: "\"type\":\"exception\"," [155798,155823]
            StringLiteral: "\"siteClass\":\"" [155833,155851]
        INFIX_EXPRESSION_OPERATOR: + [155852,155853]
        SimpleName: siteClassName [155854,155867]
        StringLiteral: "\"," [155870,155875]
        StringLiteral: "\"desc\":\"" [155885,155898]
        SimpleName: desc [155901,155905]
        StringLiteral: "\"," [155908,155913]
        StringLiteral: "\"nSkip\":0," [155923,155937]
        StringLiteral: "\"nFire\":1," [155947,155961]
        StringLiteral: "\"exceptionClass\":\"" [155971,155994]
        SimpleName: exceptionClassName [155997,156015]
        StringLiteral: "\"" [156018,156022]
        StringLiteral: "}]}" [156032,156037]
===
delete-node
---
Block [155634,156043]
===
delete-node
---
MethodDeclaration [155160,156043]
===
delete-tree
---
Javadoc [156049,156410]
    TagElement [156059,156095]
        TextElement: Create a single exception injection. [156059,156095]
    TagElement [156108,156154]
        SimpleName: siteClass [156115,156124]
        TextElement:       the injection site class [156124,156154]
    TagElement [156161,156213]
        SimpleName: desc [156168,156172]
        TextElement:            the injection site description [156172,156213]
    TagElement [156220,156277]
        SimpleName: exceptionClass [156227,156241]
        TextElement:  the class of the exception to throw [156241,156277]
    TagElement [156284,156353]
        SimpleName: bitName [156291,156298]
        TextElement:         the drillbit name which should be injected into [156298,156353]
    TagElement [156360,156403]
        TextElement:  the created controls JSON as string [156367,156403]
===
delete-node
---
Modifier: private [156414,156421]
===
delete-node
---
Modifier: static [156422,156428]
===
delete-node
---
SimpleName: createSingleExceptionOnBit [156436,156462]
===
delete-tree
---
InfixExpression [156963,157008]
    StringLiteral: "No Drillbit named \"" [156963,156985]
    INFIX_EXPRESSION_OPERATOR: + [156986,156987]
    SimpleName: bitName [156988,156995]
    StringLiteral: "\" found" [156998,157008]
===
delete-node
---
ClassInstanceCreation [156937,157009]
===
delete-node
---
ThrowStatement [156931,157010]
===
delete-node
---
Block [156922,157017]
===
delete-node
---
IfStatement [156900,157017]
===
delete-node
---
Modifier: final [157025,157030]
===
delete-node
---
SimpleName: endpoint [157048,157056]
===
delete-node
---
VariableDeclarationFragment [157048,157094]
===
delete-node
---
VariableDeclarationStatement [157025,157095]
===
delete-tree
---
InfixExpression [157108,157154]
    StringLiteral: "{\"injections\":[{" [157108,157128]
    INFIX_EXPRESSION_OPERATOR: + [157136,157137]
    StringLiteral: "\"address\":\"" [157138,157154]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [157155,157156]
===
delete-node
---
StringLiteral: "\"," [157181,157186]
===
delete-node
---
StringLiteral: "\"port\":\"" [157196,157209]
===
delete-node
---
StringLiteral: "\"," [157237,157242]
===
delete-node
---
StringLiteral: "\"type\":\"exception\"," [157252,157277]
===
delete-node
---
StringLiteral: "\"siteClass\":\"" [157287,157305]
===
delete-node
---
SimpleName: siteClassName [157308,157321]
===
delete-node
---
StringLiteral: "\"," [157324,157329]
===
delete-node
---
StringLiteral: "\"desc\":\"" [157339,157352]
===
delete-node
---
SimpleName: desc [157355,157359]
===
delete-node
---
StringLiteral: "\"," [157362,157367]
===
delete-node
---
StringLiteral: "\"nSkip\":0," [157377,157391]
===
delete-node
---
StringLiteral: "\"nFire\":1," [157401,157415]
===
delete-node
---
StringLiteral: "\"exceptionClass\":\"" [157425,157448]
===
delete-node
---
SimpleName: exceptionClassName [157451,157469]
===
delete-node
---
StringLiteral: "\"" [157472,157476]
===
delete-node
---
StringLiteral: "}]}" [157486,157491]
===
delete-node
---
InfixExpression [157108,157491]
===
delete-node
---
ReturnStatement [157101,157492]
===
delete-node
---
Block [156683,157497]
===
delete-node
---
MethodDeclaration [156049,157497]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [158737,158738]
===
delete-node
---
SimpleName: getMessage [158739,158749]
===
delete-node
---
MethodInvocation [158737,158751]
===
delete-node
---
Block [158636,158696]
===
delete-node
---
Block [158723,158760]
===
delete-node
---
CatchClause [158697,158760]
===
delete-node
---
TryStatement [158632,158760]
===
delete-tree
---
ExpressionStatement [159234,159256]
    MethodInvocation [159234,159255]
        SimpleName: setControls [159234,159245]
        METHOD_INVOCATION_ARGUMENTS [159246,159254]
            SimpleName: controls [159246,159254]
===
delete-tree
---
Block [159266,159341]
    ExpressionStatement [159275,159319]
        MethodInvocation [159275,159318]
            METHOD_INVOCATION_RECEIVER [159275,159288]
                SimpleName: QueryTestUtil [159275,159288]
            SimpleName: test [159289,159293]
            METHOD_INVOCATION_ARGUMENTS [159294,159317]
                SimpleName: drillClient [159294,159305]
                SimpleName: TEST_QUERY [159307,159317]
    ExpressionStatement [159327,159334]
        MethodInvocation [159327,159333]
            SimpleName: fail [159327,159331]
===
delete-node
---
Block [159368,159441]
===
delete-node
---
CatchClause [159342,159441]
===
delete-node
---
TryStatement [159262,159441]
===
delete-node
---
Modifier: private [165063,165070]
===
delete-node
---
Modifier: static [165071,165077]
===
delete-node
---
PrimitiveType: void [165078,165082]
===
delete-node
---
SimpleName: assertCancelledWithoutException [165083,165114]
===
delete-tree
---
SingleVariableDeclaration [165115,165136]
    Modifier: final [165115,165120]
    SimpleType [165121,165127]
        SimpleName: String [165121,165127]
    SimpleName: controls [165128,165136]
===
delete-tree
---
SingleVariableDeclaration [165138,165178]
    Modifier: final [165138,165143]
    SimpleType [165144,165169]
        SimpleName: WaitUntilCompleteListener [165144,165169]
    SimpleName: listener [165170,165178]
===
delete-tree
---
Block [165200,165255]
    ExpressionStatement [165207,165250]
        MethodInvocation [165207,165249]
            SimpleName: assertCancelled [165207,165222]
            METHOD_INVOCATION_ARGUMENTS [165223,165248]
                SimpleName: controls [165223,165231]
                SimpleName: query [165233,165238]
                SimpleName: listener [165240,165248]
===
delete-node
---
MethodDeclaration [165063,165255]
===
delete-node
---
Modifier: private [166260,166267]
===
delete-node
---
Modifier: static [166268,166274]
===
delete-node
---
SimpleName: createPauseInjection [166282,166302]
===
delete-tree
---
InfixExpression [166380,166465]
    StringLiteral: "{\"injections\" : [{" [166380,166402]
    INFIX_EXPRESSION_OPERATOR: + [166410,166411]
    StringLiteral: "\"type\" : \"pause\"," [166412,166435]
    StringLiteral: "\"siteClass\" : \"" [166445,166465]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [166466,166467]
===
delete-node
---
StringLiteral: "\"," [166490,166495]
===
delete-node
---
StringLiteral: "\"desc\" : \"" [166505,166520]
===
delete-node
---
SimpleName: siteDesc [166523,166531]
===
delete-node
---
StringLiteral: "\"," [166534,166539]
===
delete-node
---
StringLiteral: "\"nSkip\" : " [166549,166563]
===
delete-node
---
SimpleName: nSkip [166566,166571]
===
delete-node
---
StringLiteral: "}]}" [166581,166586]
===
delete-node
---
InfixExpression [166380,166586]
===
delete-node
---
ReturnStatement [166373,166587]
===
delete-node
---
Block [166366,166592]
===
delete-node
---
MethodDeclaration [166260,166592]
===
delete-node
---
Modifier: private [166598,166605]
===
delete-node
---
Modifier: static [166606,166612]
===
delete-node
---
SimpleName: createPauseInjection [166620,166640]
===
delete-node
---
Modifier: final [166664,166669]
===
delete-node
---
SimpleName: siteDesc [166677,166685]
===
delete-node
---
SingleVariableDeclaration [166664,166685]
===
delete-tree
---
Block [166687,166751]
    ReturnStatement [166694,166746]
        MethodInvocation [166701,166745]
            SimpleName: createPauseInjection [166701,166721]
            METHOD_INVOCATION_ARGUMENTS [166722,166744]
                SimpleName: siteClass [166722,166731]
                SimpleName: siteDesc [166733,166741]
                NumberLiteral: 0 [166743,166744]
===
delete-node
---
MethodDeclaration [166598,166751]
===
delete-node
---
SimpleName: query [176764,176769]
===
delete-tree
---
InfixExpression [177629,177732]
    StringLiteral: "{\"injections\" : [" [177629,177650]
    INFIX_EXPRESSION_OPERATOR: + [177660,177661]
    StringLiteral: "{" [177662,177665]
    StringLiteral: "\"type\" : \"latch\"," [177677,177700]
    StringLiteral: "\"siteClass\" : \"" [177712,177732]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [177733,177734]
===
delete-node
---
MethodInvocation [177735,177771]
===
delete-node
---
StringLiteral: "\"," [177774,177779]
===
delete-node
---
StringLiteral: "\"desc\" : \"partitioner-sender-latch\"" [177791,177832]
===
delete-node
---
StringLiteral: "}," [177844,177848]
===
delete-node
---
StringLiteral: "{" [177860,177863]
===
delete-node
---
StringLiteral: "\"type\" : \"pause\"," [177875,177898]
===
delete-node
---
StringLiteral: "\"siteClass\" : \"" [177910,177930]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [177933,177959]
===
delete-node
---
SimpleName: getName [177960,177967]
===
delete-node
---
MethodInvocation [177933,177969]
===
delete-node
---
StringLiteral: "\"," [177972,177977]
===
delete-node
---
StringLiteral: "\"nSkip\" : 1" [178046,178061]
===
delete-node
---
StringLiteral: "}" [178073,178076]
===
delete-node
---
StringLiteral: "]}" [178088,178092]
===
delete-node
---
InfixExpression [177629,178092]
===
delete-node
---
SimpleName: query [178234,178239]
===
delete-node
---
SimpleName: TEST_QUERY [179112,179122]
===
delete-node
---
Modifier: public [179339,179345]
===
delete-node
---
PrimitiveType: void [179346,179350]
===
delete-node
---
SimpleName: memoryLeaksWhenCancelled [179351,179375]
===
delete-tree
---
VariableDeclarationStatement [179763,180257]
    Modifier: final [179763,179768]
    SimpleType [179769,179794]
        SimpleName: WaitUntilCompleteListener [179769,179794]
    VariableDeclarationFragment [179795,180256]
        SimpleName: listener [179795,179803]
        ClassInstanceCreation [179806,180256]
            SimpleType [179810,179835]
                SimpleName: WaitUntilCompleteListener [179810,179835]
            AnonymousClassDeclaration [179838,180256]
                FieldDeclaration [179847,179887]
                    Modifier: private [179847,179854]
                    PrimitiveType: boolean [179855,179862]
                    VariableDeclarationFragment [179863,179886]
                        SimpleName: cancelRequested [179863,179878]
                        BooleanLiteral: false [179881,179886]
                MethodDeclaration [179897,180249]
                    MarkerAnnotation [179897,179906]
                        SimpleName: Override [179898,179906]
                    Modifier: public [179914,179920]
                    PrimitiveType: void [179921,179925]
                    SimpleName: dataArrived [179926,179937]
                    SingleVariableDeclaration [179938,179965]
                        Modifier: final [179938,179943]
                        SimpleType [179944,179958]
                            SimpleName: QueryDataBatch [179944,179958]
                        SimpleName: result [179959,179965]
                    SingleVariableDeclaration [179967,180000]
                        Modifier: final [179967,179972]
                        SimpleType [179973,179991]
                            SimpleName: ConnectionThrottle [179973,179991]
                        SimpleName: throttle [179992,180000]
                    Block [180002,180249]
                        IfStatement [180013,180213]
                            PrefixExpression [180017,180033]
                                PREFIX_EXPRESSION_OPERATOR: ! [180017,180018]
                                SimpleName: cancelRequested [180018,180033]
                            Block [180035,180213]
                                ExpressionStatement [180048,180137]
                                    MethodInvocation [180048,180136]
                                        SimpleName: check [180048,180053]
                                        METHOD_INVOCATION_ARGUMENTS [180054,180135]
                                            InfixExpression [180054,180069]
                                                SimpleName: queryId [180054,180061]
                                                INFIX_EXPRESSION_OPERATOR: != [180062,180064]
                                                NullLiteral [180065,180069]
                                            StringLiteral: "Query id should not be null, since we have waited long enough." [180071,180135]
                                ExpressionStatement [180149,180167]
                                    MethodInvocation [180149,180166]
                                        SimpleName: cancelAndResume [180149,180164]
                                ExpressionStatement [180179,180202]
                                    Assignment [180179,180201]
                                        SimpleName: cancelRequested [180179,180194]
                                        ASSIGNMENT_OPERATOR: = [180195,180196]
                                        BooleanLiteral: true [180197,180201]
                        ExpressionStatement [180223,180240]
                            MethodInvocation [180223,180239]
                                METHOD_INVOCATION_RECEIVER [180223,180229]
                                    SimpleName: result [180223,180229]
                                SimpleName: release [180230,180237]
===
delete-node
---
Block [179378,180580]
===
delete-node
---
MethodDeclaration [179330,180580]
===
delete-tree
---
SimpleType [180870,180876]
    SimpleName: String [180870,180876]
===
delete-node
---
SimpleName: controls [180297,180305]
===
delete-node
---
SimpleName: listener [180307,180315]
===
delete-node
---
METHOD_INVOCATION_ARGUMENTS [180297,180355]
===
delete-node
---
MethodInvocation [180265,180356]
===
delete-node
---
StringLiteral: "Could not set controls options: " [185829,185863]
===
delete-node
---
SimpleName: option [166212,166218]
===
delete-node
---
SimpleName: value [166220,166225]
===
delete-tree
---
MethodInvocation [166227,166239]
    METHOD_INVOCATION_RECEIVER [166227,166228]
        SimpleName: e [166227,166228]
    SimpleName: toString [166229,166237]
===
delete-tree
---
METHOD_INVOCATION_RECEIVER [166145,166151]
    SimpleName: String [166145,166151]
===
delete-node
---
SimpleName: format [166152,166158]
===
delete-node
---
MethodInvocation [166145,166240]
===
delete-node
---
METHOD_INVOCATION_ARGUMENTS [166145,166240]
===
delete-node
---
QualifiedName: ExecConstants.DRILLBIT_CONTROL_INJECTIONS [186117,186158]
===
delete-tree
---
SingleVariableDeclaration [186335,186346]
    SimpleType [186335,186344]
        SimpleName: Exception [186335,186344]
    SimpleName: e [186345,186346]
===
delete-tree
---
SingleVariableDeclaration [186684,186695]
    SimpleType [186684,186693]
        SimpleName: Exception [186684,186693]
    SimpleName: e [186694,186695]
===
delete-node
---
Modifier: public [184964,184970]
===
delete-node
---
TYPE_DECLARATION_KIND: class [184971,184976]
===
delete-node
---
SimpleName: ControlsInjectionUtil [184977,184998]
===
delete-node
---
Modifier: public [185346,185352]
===
delete-node
---
Modifier: static [185353,185359]
===
delete-node
---
PrimitiveType: void [185360,185364]
===
delete-node
---
SimpleName: setControls [185365,185376]
===
delete-tree
---
Block [185481,185791]
    VariableDeclarationStatement [185490,185699]
        Modifier: final [185490,185495]
        ParameterizedType [185496,185516]
            SimpleType [185496,185500]
                SimpleName: List [185496,185500]
            SimpleType [185501,185515]
                SimpleName: QueryDataBatch [185501,185515]
        VariableDeclarationFragment [185517,185698]
            SimpleName: results [185517,185524]
            MethodInvocation [185527,185698]
                METHOD_INVOCATION_RECEIVER [185527,185538]
                    SimpleName: drillClient [185527,185538]
                SimpleName: runQuery [185539,185547]
                METHOD_INVOCATION_ARGUMENTS [185558,185697]
                    QualifiedName: UserBitShared.QueryType.SQL [185558,185585]
                    MethodInvocation [185587,185697]
                        METHOD_INVOCATION_RECEIVER [185587,185593]
                            SimpleName: String [185587,185593]
                        SimpleName: format [185594,185600]
                        METHOD_INVOCATION_ARGUMENTS [185601,185696]
                            StringLiteral: "alter session set `%s` = '%s'" [185601,185632]
                            QualifiedName: ExecConstants.DRILLBIT_CONTROL_INJECTIONS [185645,185686]
                            SimpleName: controls [185688,185696]
    EnhancedForStatement [185707,185784]
        SingleVariableDeclaration [185712,185737]
            Modifier: final [185712,185717]
            SimpleType [185718,185732]
                SimpleName: QueryDataBatch [185718,185732]
            SimpleName: data [185733,185737]
        SimpleName: results [185740,185747]
        Block [185749,185784]
            ExpressionStatement [185760,185775]
                MethodInvocation [185760,185774]
                    METHOD_INVOCATION_RECEIVER [185760,185764]
                        SimpleName: data [185760,185764]
                    SimpleName: release [185765,185772]
===
delete-tree
---
SingleVariableDeclaration [185799,185813]
    SimpleType [185799,185811]
        SimpleName: RpcException [185799,185811]
    SimpleName: e [185812,185813]
===
delete-node
---
SimpleName: fail [185824,185828]
===
delete-node
---
METHOD_INVOCATION_ARGUMENTS [185829,185878]
===
delete-node
---
MethodInvocation [185824,185879]
===
delete-node
---
ExpressionStatement [185824,185880]
===
delete-node
---
Block [185815,185887]
===
delete-node
---
CatchClause [185792,185887]
===
delete-node
---
TryStatement [185477,185887]
===
delete-node
---
Block [185431,185892]
===
delete-node
---
MethodDeclaration [185346,185892]
===
delete-node
---
Modifier: private [186508,186515]
===
delete-node
---
Modifier: static [186516,186522]
===
delete-node
---
PrimitiveType: void [186523,186527]
===
delete-node
---
SimpleName: validateControlsString [186528,186550]
===
delete-tree
---
Block [186585,186676]
    ExpressionStatement [186594,186669]
        MethodInvocation [186594,186668]
            METHOD_INVOCATION_RECEIVER [186594,186632]
                QualifiedName: ExecutionControls.controlsOptionMapper [186594,186632]
            SimpleName: readValue [186633,186642]
            METHOD_INVOCATION_ARGUMENTS [186643,186667]
                SimpleName: controls [186643,186651]
                TypeLiteral [186653,186667]
                    SimpleType [186653,186661]
                        SimpleName: Controls [186653,186661]
===
delete-node
---
TryStatement [186581,186773]
===
delete-node
---
Block [186574,186778]
===
delete-node
---
MethodDeclaration [186508,186778]
===
delete-node
---
TypeDeclaration [184865,186959]
===
delete-tree
---
InfixExpression [191842,192015]
    StringLiteral: "{\"injections\":[{" [191842,191862]
    INFIX_EXPRESSION_OPERATOR: + [191870,191871]
    StringLiteral: "\"type\":\"latch\"," [191872,191893]
    StringLiteral: "\"siteClass\":\"org.apache.drill.exec.testing.TestCountDownLatchInjection$DummyClass\"," [191903,191992]
    StringLiteral: "\"desc\":\"" [192002,192015]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [192016,192017]
===
delete-node
---
StringLiteral: "\"" [192042,192046]
===
delete-node
---
StringLiteral: "}]}" [192056,192061]
===
delete-node
---
InfixExpression [191842,192061]
===
delete-node
---
Modifier: public [194585,194591]
===
delete-node
---
TYPE_DECLARATION_KIND: class [194592,194597]
===
delete-node
---
SimpleName: TestExceptionInjection [194598,194620]
===
delete-node
---
Modifier: private [198584,198591]
===
delete-node
---
Modifier: static [198592,198598]
===
delete-node
---
SimpleName: createException [198606,198621]
===
delete-tree
---
SingleVariableDeclaration [198716,198743]
    Modifier: final [198716,198721]
    SimpleType [198722,198728]
        SimpleName: String [198722,198728]
    SimpleName: exceptionClass [198729,198743]
===
delete-tree
---
Block [198745,199098]
    ReturnStatement [198752,199093]
        InfixExpression [198759,199092]
            InfixExpression [198759,198931]
                StringLiteral: "{\"injections\":[{" [198759,198779]
                INFIX_EXPRESSION_OPERATOR: + [198787,198788]
                StringLiteral: "\"type\":\"exception\"," [198789,198814]
                StringLiteral: "\"siteClass\":\"org.apache.drill.exec.testing.TestExceptionInjection$DummyClass\"," [198824,198908]
                StringLiteral: "\"desc\":\"" [198918,198931]
            INFIX_EXPRESSION_OPERATOR: + [198932,198933]
            SimpleName: desc [198934,198938]
            StringLiteral: "\"," [198941,198946]
            StringLiteral: "\"nSkip\": " [198956,198969]
            SimpleName: nSkip [198972,198977]
            StringLiteral: "," [198980,198983]
            StringLiteral: "\"nFire\": " [198993,199006]
            SimpleName: nFire [199009,199014]
            StringLiteral: "," [199017,199020]
            StringLiteral: "\"exceptionClass\":\"" [199030,199053]
            SimpleName: exceptionClass [199056,199070]
            StringLiteral: "\"" [199073,199077]
            StringLiteral: "}]}" [199087,199092]
===
delete-node
---
MethodDeclaration [198584,199098]
===
delete-node
---
Modifier: private [199104,199111]
===
delete-node
---
Modifier: static [199112,199118]
===
delete-node
---
SimpleName: createExceptionOnBit [199126,199146]
===
delete-node
---
Modifier: final [199279,199284]
===
delete-node
---
SimpleName: exceptionClass [199292,199306]
===
delete-node
---
SingleVariableDeclaration [199279,199306]
===
delete-tree
---
InfixExpression [199322,199368]
    StringLiteral: "{\"injections\":[{" [199322,199342]
    INFIX_EXPRESSION_OPERATOR: + [199350,199351]
    StringLiteral: "\"address\":\"" [199352,199368]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [199369,199370]
===
delete-node
---
StringLiteral: "\"," [199395,199400]
===
delete-node
---
StringLiteral: "\"port\":\"" [199410,199423]
===
delete-node
---
StringLiteral: "\"," [199451,199456]
===
delete-node
---
StringLiteral: "\"type\":\"exception\"," [199466,199491]
===
delete-node
---
StringLiteral: "\"siteClass\":\"org.apache.drill.exec.testing.TestExceptionInjection$DummyClass\"," [199501,199585]
===
delete-node
---
StringLiteral: "\"desc\":\"" [199595,199608]
===
delete-node
---
SimpleName: desc [199611,199615]
===
delete-node
---
StringLiteral: "\"," [199618,199623]
===
delete-node
---
StringLiteral: "\"nSkip\": " [199633,199646]
===
delete-node
---
SimpleName: nSkip [199649,199654]
===
delete-node
---
StringLiteral: "," [199657,199660]
===
delete-node
---
StringLiteral: "\"nFire\": " [199670,199683]
===
delete-node
---
SimpleName: nFire [199686,199691]
===
delete-node
---
StringLiteral: "," [199694,199697]
===
delete-node
---
StringLiteral: "\"exceptionClass\":\"" [199707,199730]
===
delete-node
---
SimpleName: exceptionClass [199733,199747]
===
delete-node
---
StringLiteral: "\"" [199750,199754]
===
delete-node
---
StringLiteral: "}]}" [199764,199769]
===
delete-node
---
InfixExpression [199322,199769]
===
delete-node
---
ReturnStatement [199315,199770]
===
delete-node
---
Block [199308,199775]
===
delete-node
---
MethodDeclaration [199104,199775]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [199991,200008]
===
delete-node
---
SimpleName: getName [200009,200016]
===
delete-node
---
MethodInvocation [199991,200018]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [202891,202913]
===
delete-node
---
SimpleName: getName [202914,202921]
===
delete-node
---
MethodInvocation [202891,202923]
===
delete-node
---
SimpleName: exceptionClass [200916,200930]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [200806,200828]
===
delete-node
---
SimpleName: getName [200829,200836]
===
delete-node
---
MethodInvocation [200806,200838]
===
delete-node
---
SimpleName: passthroughDesc [203048,203063]
===
delete-node
---
SimpleName: exceptionClass [203086,203100]
===
delete-tree
---
InfixExpression [209004,209168]
    StringLiteral: "{\"injections\":[{" [209004,209024]
    INFIX_EXPRESSION_OPERATOR: + [209032,209033]
    StringLiteral: "\"type\":\"pause\"," [209034,209055]
    StringLiteral: "\"siteClass\":\"org.apache.drill.exec.testing.TestPauseInjection$DummyClass\"," [209065,209145]
    StringLiteral: "\"desc\":\"" [209155,209168]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [209169,209170]
===
delete-node
---
StringLiteral: "\"," [209191,209196]
===
delete-node
---
StringLiteral: "\"nSkip\":0" [209206,209219]
===
delete-node
---
StringLiteral: "}]}" [209229,209234]
===
delete-node
---
InfixExpression [209004,209234]
===
delete-tree
---
InfixExpression [211191,211361]
    StringLiteral: "{\"injections\":[{" [211191,211211]
    INFIX_EXPRESSION_OPERATOR: + [211219,211220]
    StringLiteral: "\"type\" : \"pause\"," [211221,211244]
    StringLiteral: "\"siteClass\" : \"org.apache.drill.exec.testing.TestPauseInjection$DummyClass\"," [211254,211336]
    StringLiteral: "\"desc\" : \"" [211346,211361]
===
delete-node
---
INFIX_EXPRESSION_OPERATOR: + [211362,211363]
===
delete-node
---
QualifiedName: DummyClass.PAUSES [211364,211381]
===
delete-node
---
StringLiteral: "\"," [211384,211389]
===
delete-node
---
StringLiteral: "\"nSkip\" : 0, " [211399,211416]
===
delete-node
---
StringLiteral: "\"address\" : \"" [211426,211444]
===
delete-node
---
StringLiteral: "\"," [211480,211485]
===
delete-node
---
StringLiteral: "\"port\" : " [211495,211508]
===
delete-node
---
METHOD_INVOCATION_RECEIVER [211511,211528]
===
delete-node
---
MethodInvocation [211511,211542]
===
delete-node
---
StringLiteral: "}]}" [211552,211557]
===
delete-node
---
InfixExpression [211191,211557]
