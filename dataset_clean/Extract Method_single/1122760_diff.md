===
insert-tree
---
ImportDeclaration [69821,69846]
    QualifiedName: java.util.HashMap [69828,69845]
to
CompilationUnit [0,85536]
at 72
===
insert-tree
---
ImportDeclaration [69848,69872]
    QualifiedName: java.util.Random [69855,69871]
to
CompilationUnit [0,85536]
at 73
===
insert-node
---
Modifier: public [4879,4885]
to
TypeDeclaration [2130,22596]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [4886,4891]
to
TypeDeclaration [2130,22596]
at 2
===
insert-node
---
SimpleName: InsteonPLMActiveBinding [4892,4915]
to
TypeDeclaration [2130,22596]
at 3
===
insert-node
---
MethodDeclaration [9534,10916]
to
TypeDeclaration [2130,22596]
at 29
===
insert-node
---
Modifier: public [24667,24673]
to
TypeDeclaration [24038,57449]
at 1
===
insert-node
---
Modifier: abstract [24674,24682]
to
TypeDeclaration [24038,57449]
at 2
===
insert-node
---
TYPE_DECLARATION_KIND: class [24683,24688]
to
TypeDeclaration [24038,57449]
at 3
===
insert-node
---
SimpleName: MessageHandler [24689,24703]
to
TypeDeclaration [24038,57449]
at 4
===
insert-tree
---
SimpleType [59489,59497]
    SimpleName: Runnable [59489,59497]
to
TypeDeclaration [58534,61966]
at 5
===
insert-tree
---
FieldDeclaration [59588,59626]
    Modifier: private [59588,59595]
    PrimitiveType: boolean [59596,59603]
    VariableDeclarationFragment [59604,59625]
        SimpleName: m_isComplete [59604,59616]
        BooleanLiteral: false [59620,59625]
to
TypeDeclaration [58534,61966]
at 7
===
insert-tree
---
FieldDeclaration [59662,59698]
    Modifier: private [59662,59669]
    SimpleType [59670,59676]
        SimpleName: Thread [59670,59676]
    VariableDeclarationFragment [59677,59697]
        SimpleName: m_writeThread [59677,59690]
        NullLiteral [59693,59697]
to
TypeDeclaration [58534,61966]
at 9
===
insert-tree
---
FieldDeclaration [59701,59738]
    Modifier: private [59701,59708]
    PrimitiveType: int [59709,59712]
    VariableDeclarationFragment [59714,59737]
        SimpleName: m_timeoutMillis [59714,59729]
        NumberLiteral: 30000 [59732,59737]
to
TypeDeclaration [58534,61966]
at 10
===
insert-tree
---
MethodDeclaration [59805,59881]
    Modifier: public [59805,59811]
    PrimitiveType: void [59812,59816]
    SimpleName: setRetryTimeout [59817,59832]
    SingleVariableDeclaration [59833,59844]
        PrimitiveType: int [59833,59836]
        SimpleName: timeout [59837,59844]
    Block [59846,59881]
        ExpressionStatement [59851,59877]
            Assignment [59851,59876]
                SimpleName: m_timeoutMillis [59851,59866]
                ASSIGNMENT_OPERATOR: = [59867,59868]
                SimpleName: timeout [59869,59876]
to
TypeDeclaration [58534,61966]
at 12
===
insert-node
---
MethodDeclaration [59886,60098]
to
TypeDeclaration [58534,61966]
at 13
===
insert-tree
---
MethodDeclaration [60103,60240]
    Modifier: public [60103,60109]
    PrimitiveType: void [60110,60114]
    SimpleName: startDownload [60115,60128]
    Block [60131,60240]
        ExpressionStatement [60136,60185]
            MethodInvocation [60136,60184]
                METHOD_INVOCATION_RECEIVER [60136,60142]
                    SimpleName: logger [60136,60142]
                SimpleName: trace [60143,60148]
                METHOD_INVOCATION_ARGUMENTS [60149,60183]
                    StringLiteral: "starting modem database download" [60149,60183]
        ExpressionStatement [60189,60211]
            MethodInvocation [60189,60210]
                METHOD_INVOCATION_RECEIVER [60189,60195]
                    SimpleName: m_port [60189,60195]
                SimpleName: clearModemDB [60196,60208]
        ExpressionStatement [60215,60236]
            MethodInvocation [60215,60235]
                SimpleName: getFirstLinkRecord [60215,60233]
to
TypeDeclaration [58534,61966]
at 14
===
insert-tree
---
MethodDeclaration [60246,60313]
    Modifier: public [60246,60252]
    Modifier: synchronized [60253,60265]
    PrimitiveType: boolean [60266,60273]
    SimpleName: isComplete [60274,60284]
    Block [60287,60313]
        ReturnStatement [60289,60311]
            ParenthesizedExpression [60296,60310]
                SimpleName: m_isComplete [60297,60309]
to
TypeDeclaration [58534,61966]
at 15
===
insert-node
---
MethodDeclaration [60320,60808]
to
TypeDeclaration [58534,61966]
at 16
===
insert-tree
---
FieldDeclaration [65545,65587]
    Modifier: private [65545,65552]
    PrimitiveType: int [65553,65556]
    VariableDeclarationFragment [65557,65586]
        SimpleName: m_modemDBRetryTimeout [65557,65578]
        NumberLiteral: 30000 [65581,65586]
to
TypeDeclaration [62841,67036]
at 9
===
insert-tree
---
MethodDeclaration [65702,65886]
    Modifier: public [65702,65708]
    PrimitiveType: void [65709,65713]
    SimpleName: setModemDBRetryTimeout [65714,65736]
    SingleVariableDeclaration [65737,65748]
        PrimitiveType: int [65737,65740]
        SimpleName: timeout [65741,65748]
    Block [65750,65886]
        ExpressionStatement [65755,65787]
            Assignment [65755,65786]
                SimpleName: m_modemDBRetryTimeout [65755,65776]
                ASSIGNMENT_OPERATOR: = [65777,65778]
                SimpleName: timeout [65779,65786]
        EnhancedForStatement [65791,65882]
            SingleVariableDeclaration [65796,65802]
                SimpleType [65796,65800]
                    SimpleName: Port [65796,65800]
                SimpleName: p [65801,65802]
            MethodInvocation [65805,65821]
                METHOD_INVOCATION_RECEIVER [65805,65812]
                    SimpleName: m_ports [65805,65812]
                SimpleName: values [65813,65819]
            Block [65823,65882]
                ExpressionStatement [65829,65877]
                    MethodInvocation [65829,65876]
                        METHOD_INVOCATION_RECEIVER [65829,65830]
                            SimpleName: p [65829,65830]
                        SimpleName: setModemDBRetryTimeout [65831,65853]
                        METHOD_INVOCATION_ARGUMENTS [65854,65875]
                            SimpleName: m_modemDBRetryTimeout [65854,65875]
to
TypeDeclaration [62841,67036]
at 11
===
insert-node
---
Modifier: public [71442,71448]
to
TypeDeclaration [68334,80359]
at 1
===
insert-node
---
TYPE_DECLARATION_KIND: class [71449,71454]
to
TypeDeclaration [68334,80359]
at 2
===
insert-node
---
SimpleName: Port [71455,71459]
to
TypeDeclaration [68334,80359]
at 3
===
insert-node
---
FieldDeclaration [72269,72309]
to
TypeDeclaration [68334,80359]
at 22
===
insert-tree
---
MethodDeclaration [73261,73350]
    Modifier: public [73261,73267]
    PrimitiveType: void [73268,73272]
    SimpleName: setModemDBRetryTimeout [73273,73295]
    SingleVariableDeclaration [73296,73307]
        PrimitiveType: int [73296,73299]
        SimpleName: timeout [73300,73307]
    Block [73309,73350]
        ExpressionStatement [73314,73346]
            MethodInvocation [73314,73345]
                METHOD_INVOCATION_RECEIVER [73314,73320]
                    SimpleName: m_mdbb [73314,73320]
                SimpleName: setRetryTimeout [73321,73336]
                METHOD_INVOCATION_ARGUMENTS [73337,73344]
                    SimpleName: timeout [73337,73344]
to
TypeDeclaration [68334,80359]
at 31
===
insert-tree
---
MethodDeclaration [73675,73952]
    Javadoc [73675,73740]
        TagElement [73684,73734]
            TextElement: Clear modem database that has been queried so far. [73684,73734]
    Modifier: public [73743,73749]
    PrimitiveType: void [73750,73754]
    SimpleName: clearModemDB [73755,73767]
    Block [73770,73952]
        ExpressionStatement [73775,73810]
            MethodInvocation [73775,73809]
                METHOD_INVOCATION_RECEIVER [73775,73781]
                    SimpleName: logger [73775,73781]
                SimpleName: debug [73782,73787]
                METHOD_INVOCATION_ARGUMENTS [73788,73808]
                    StringLiteral: "clearing modem db!" [73788,73808]
        VariableDeclarationStatement [73814,73892]
            ParameterizedType [73814,73851]
                SimpleType [73814,73821]
                    SimpleName: HashMap [73814,73821]
                SimpleType [73822,73836]
                    SimpleName: InsteonAddress [73822,73836]
                SimpleType [73838,73850]
                    SimpleName: ModemDBEntry [73838,73850]
            VariableDeclarationFragment [73852,73891]
                SimpleName: dbes [73852,73856]
                MethodInvocation [73859,73891]
                    METHOD_INVOCATION_RECEIVER [73859,73870]
                        MethodInvocation [73859,73870]
                            SimpleName: getDriver [73859,73868]
                    SimpleName: lockModemDBEntries [73871,73889]
        ExpressionStatement [73896,73909]
            MethodInvocation [73896,73908]
                METHOD_INVOCATION_RECEIVER [73896,73900]
                    SimpleName: dbes [73896,73900]
                SimpleName: clear [73901,73906]
        ExpressionStatement [73913,73948]
            MethodInvocation [73913,73947]
                METHOD_INVOCATION_RECEIVER [73913,73924]
                    MethodInvocation [73913,73924]
                        SimpleName: getDriver [73913,73922]
                SimpleName: unlockModemDBEntries [73925,73945]
to
TypeDeclaration [68334,80359]
at 34
===
insert-node
---
MethodDeclaration [89340,89519]
to
TypeDeclaration [81025,85534]
at 11
===
move-tree
---
Javadoc [9496,9700]
    TagElement [9505,9694]
        TextElement: Inherited from the ManagedService interface. This method is called whenever the configuration [9505,9598]
        TextElement: is updated. This could be signaling that e.g. the port has changed etc. [9604,9675]
        TagElement [9681,9694]
to
MethodDeclaration [9534,10916]
at 0
===
move-tree
---
MarkerAnnotation [9703,9712]
    SimpleName: Override [9704,9712]
to
MethodDeclaration [9534,10916]
at 1
===
insert-node
---
Modifier: public [9753,9759]
to
MethodDeclaration [9534,10916]
at 2
===
insert-node
---
PrimitiveType: void [9760,9764]
to
MethodDeclaration [9534,10916]
at 3
===
insert-node
---
SimpleName: updated [9765,9772]
to
MethodDeclaration [9534,10916]
at 4
===
move-tree
---
SingleVariableDeclaration [9735,9763]
    ParameterizedType [9735,9756]
        SimpleType [9735,9745]
            SimpleName: Dictionary [9735,9745]
        SimpleType [9746,9752]
            SimpleName: String [9746,9752]
        WildcardType [9754,9755]
    SimpleName: config [9757,9763]
to
MethodDeclaration [9534,10916]
at 5
===
move-tree
---
SimpleType [9772,9794]
    SimpleName: ConfigurationException [9772,9794]
to
MethodDeclaration [9534,10916]
at 6
===
insert-node
---
Block [9833,10916]
to
MethodDeclaration [9534,10916]
at 7
===
update-node
---
Modifier: public [9715,9721]
replace public by private
===
insert-node
---
SimpleName: processBindingConfiguration [10934,10961]
to
MethodDeclaration [9496,12250]
at 2
===
move-tree
---
VariableDeclarationStatement [10644,10670]
    PrimitiveType: long [10644,10648]
    VariableDeclarationFragment [10649,10669]
        SimpleName: deadDeviceCount [10649,10664]
        NumberLiteral: 10 [10667,10669]
to
Block [9795,12250]
at 6
===
insert-node
---
Modifier: private [59629,59636]
to
FieldDeclaration [58802,58821]
at 0
===
insert-node
---
Modifier: public [59886,59892]
to
MethodDeclaration [59886,60098]
at 0
===
insert-node
---
PrimitiveType: void [59893,59897]
to
MethodDeclaration [59886,60098]
at 1
===
insert-node
---
SimpleName: start [59898,59903]
to
MethodDeclaration [59886,60098]
at 2
===
insert-node
---
Block [59906,60098]
to
MethodDeclaration [59886,60098]
at 3
===
insert-tree
---
MarkerAnnotation [60320,60329]
    SimpleName: Override [60321,60329]
to
MethodDeclaration [60320,60808]
at 0
===
insert-node
---
Modifier: public [60332,60338]
to
MethodDeclaration [60320,60808]
at 1
===
insert-node
---
PrimitiveType: void [60339,60343]
to
MethodDeclaration [60320,60808]
at 2
===
insert-node
---
SimpleName: run [60344,60347]
to
MethodDeclaration [60320,60808]
at 3
===
insert-node
---
Block [60350,60808]
to
MethodDeclaration [60320,60808]
at 4
===
update-node
---
Modifier: public [58889,58895]
replace public by private
===
update-node
---
SimpleName: start [58901,58906]
replace start by getFirstLinkRecord
===
insert-node
---
Modifier: synchronized [62098,62110]
to
MethodDeclaration [60231,60334]
at 1
===
insert-node
---
Modifier: private [72269,72276]
to
FieldDeclaration [72269,72309]
at 0
===
move-tree
---
SimpleType [71820,71834]
    SimpleName: ModemDBBuilder [71820,71834]
to
FieldDeclaration [72269,72309]
at 1
===
insert-tree
---
VariableDeclarationFragment [72292,72308]
    SimpleName: m_mdbb [72292,72298]
    NullLiteral [72304,72308]
to
FieldDeclaration [72269,72309]
at 2
===
insert-tree
---
FieldDeclaration [77041,77084]
    Modifier: private [77041,77048]
    PrimitiveType: boolean [77049,77056]
    VariableDeclarationFragment [77058,77083]
        SimpleName: m_dropRandomBytes [77058,77075]
        BooleanLiteral: false [77078,77083]
to
TypeDeclaration [73825,77276]
at 6
===
insert-tree
---
MethodDeclaration [79102,79801]
    Javadoc [79102,79399]
        TagElement [79112,79218]
            TextElement: Drops bytes randomly from buffer to simulate errors seen [79112,79168]
            TextElement: from the InsteonHub using the raw interface [79175,79218]
        TagElement [79225,79275]
            SimpleName: buffer [79232,79238]
            TextElement:  byte buffer from which to drop bytes [79238,79275]
        TagElement [79282,79333]
            SimpleName: len [79289,79292]
            TextElement:  original number of valid bytes in buffer [79292,79333]
        TagElement [79340,79392]
            TextElement:  length of byte buffer after dropping from it [79347,79392]
    Modifier: private [79403,79410]
    PrimitiveType: int [79411,79414]
    SimpleName: dropBytes [79415,79424]
    SingleVariableDeclaration [79425,79439]
        ArrayType [79425,79432]
            PrimitiveType: byte [79425,79429]
            Dimension [79430,79432]
        SimpleName: buffer [79433,79439]
    SingleVariableDeclaration [79441,79448]
        PrimitiveType: int [79441,79444]
        SimpleName: len [79445,79448]
    Block [79450,79801]
        VariableDeclarationStatement [79456,79480]
            Modifier: final [79456,79461]
            PrimitiveType: int [79462,79465]
            VariableDeclarationFragment [79466,79479]
                SimpleName: DROP_RATE [79466,79475]
                NumberLiteral: 2 [79478,79479]
        VariableDeclarationStatement [79499,79527]
            SimpleType [79499,79505]
                SimpleName: Random [79499,79505]
            VariableDeclarationFragment [79506,79526]
                SimpleName: rng [79506,79509]
                ClassInstanceCreation [79514,79526]
                    SimpleType [79518,79524]
                        SimpleName: Random [79518,79524]
        VariableDeclarationStatement [79532,79574]
            ParameterizedType [79532,79547]
                SimpleType [79532,79541]
                    SimpleName: ArrayList [79532,79541]
                SimpleType [79542,79546]
                    SimpleName: Byte [79542,79546]
            VariableDeclarationFragment [79548,79573]
                SimpleName: l [79548,79549]
                ClassInstanceCreation [79552,79573]
                    ParameterizedType [79556,79571]
                        SimpleType [79556,79565]
                            SimpleName: ArrayList [79556,79565]
                        SimpleType [79566,79570]
                            SimpleName: Byte [79566,79570]
        ForStatement [79579,79699]
            VariableDeclarationExpression [79584,79593]
                PrimitiveType: int [79584,79587]
                VariableDeclarationFragment [79588,79593]
                    SimpleName: i [79588,79589]
                    NumberLiteral: 0 [79592,79593]
            InfixExpression [79595,79602]
                SimpleName: i [79595,79596]
                INFIX_EXPRESSION_OPERATOR: < [79597,79598]
                SimpleName: len [79599,79602]
            PostfixExpression [79604,79607]
                SimpleName: i [79604,79605]
                POSTFIX_EXPRESSION_OPERATOR: ++ [79605,79607]
            Block [79609,79699]
                IfStatement [79616,79693]
                    InfixExpression [79620,79649]
                        MethodInvocation [79620,79636]
                            METHOD_INVOCATION_RECEIVER [79620,79623]
                                SimpleName: rng [79620,79623]
                            SimpleName: nextInt [79624,79631]
                            METHOD_INVOCATION_ARGUMENTS [79632,79635]
                                NumberLiteral: 100 [79632,79635]
                        INFIX_EXPRESSION_OPERATOR: >= [79637,79639]
                        SimpleName: DROP_RATE [79640,79649]
                    Block [79651,79693]
                        ExpressionStatement [79659,79686]
                            MethodInvocation [79659,79685]
                                METHOD_INVOCATION_RECEIVER [79659,79660]
                                    SimpleName: l [79659,79660]
                                SimpleName: add [79661,79664]
                                METHOD_INVOCATION_ARGUMENTS [79665,79684]
                                    ClassInstanceCreation [79665,79684]
                                        SimpleType [79669,79673]
                                            SimpleName: Byte [79669,79673]
                                        ArrayAccess [79674,79683]
                                            SimpleName: buffer [79674,79680]
                                            SimpleName: i [79681,79682]
        ForStatement [79704,79773]
            VariableDeclarationExpression [79709,79718]
                PrimitiveType: int [79709,79712]
                VariableDeclarationFragment [79713,79718]
                    SimpleName: i [79713,79714]
                    NumberLiteral: 0 [79717,79718]
            InfixExpression [79720,79732]
                SimpleName: i [79720,79721]
                INFIX_EXPRESSION_OPERATOR: < [79722,79723]
                MethodInvocation [79724,79732]
                    METHOD_INVOCATION_RECEIVER [79724,79725]
                        SimpleName: l [79724,79725]
                    SimpleName: size [79726,79730]
            PostfixExpression [79734,79737]
                SimpleName: i [79734,79735]
                POSTFIX_EXPRESSION_OPERATOR: ++ [79735,79737]
            Block [79739,79773]
                ExpressionStatement [79746,79767]
                    Assignment [79746,79766]
                        ArrayAccess [79746,79755]
                            SimpleName: buffer [79746,79752]
                            SimpleName: i [79753,79754]
                        ASSIGNMENT_OPERATOR: = [79756,79757]
                        MethodInvocation [79758,79766]
                            METHOD_INVOCATION_RECEIVER [79758,79759]
                                SimpleName: l [79758,79759]
                            SimpleName: get [79760,79763]
                            METHOD_INVOCATION_ARGUMENTS [79764,79765]
                                SimpleName: i [79764,79765]
        ReturnStatement [79778,79796]
            ParenthesizedExpression [79785,79795]
                MethodInvocation [79786,79794]
                    METHOD_INVOCATION_RECEIVER [79786,79787]
                        SimpleName: l [79786,79787]
                    SimpleName: size [79788,79792]
to
TypeDeclaration [73825,77276]
at 11
===
insert-node
---
Modifier: private [89340,89347]
to
MethodDeclaration [89340,89519]
at 0
===
insert-node
---
PrimitiveType: void [89348,89352]
to
MethodDeclaration [89340,89519]
at 1
===
insert-node
---
SimpleName: bail [89353,89357]
to
MethodDeclaration [89340,89519]
at 2
===
insert-node
---
SingleVariableDeclaration [89358,89368]
to
MethodDeclaration [89340,89519]
at 3
===
move-tree
---
SimpleType [84552,84563]
    SimpleName: IOException [84552,84563]
to
MethodDeclaration [89340,89519]
at 4
===
insert-node
---
Block [89389,89519]
to
MethodDeclaration [89340,89519]
at 5
===
move-tree
---
VariableDeclarationStatement [9800,9866]
    ParameterizedType [9800,9823]
        SimpleType [9800,9807]
            SimpleName: HashMap [9800,9807]
        SimpleType [9808,9814]
            SimpleName: String [9808,9814]
        SimpleType [9816,9822]
            SimpleName: String [9816,9822]
    VariableDeclarationFragment [9824,9865]
        SimpleName: newConfig [9824,9833]
        ClassInstanceCreation [9836,9865]
            ParameterizedType [9840,9863]
                SimpleType [9840,9847]
                    SimpleName: HashMap [9840,9847]
                SimpleType [9848,9854]
                    SimpleName: String [9848,9854]
                SimpleType [9856,9862]
                    SimpleName: String [9856,9862]
to
Block [9833,10916]
at 0
===
move-tree
---
IfStatement [9870,10229]
    InfixExpression [9874,9888]
        SimpleName: config [9874,9880]
        INFIX_EXPRESSION_OPERATOR: == [9881,9883]
        NullLiteral [9884,9888]
    Block [9890,9986]
        ExpressionStatement [9896,9981]
            MethodInvocation [9896,9980]
                METHOD_INVOCATION_RECEIVER [9896,9902]
                    SimpleName: logger [9896,9902]
                SimpleName: debug [9903,9908]
                METHOD_INVOCATION_ARGUMENTS [9909,9979]
                    StringLiteral: "seems like our configuration has been erased, will reset everything!" [9909,9979]
    Block [9992,10229]
        ForStatement [10034,10224]
            VariableDeclarationExpression [10039,10076]
                ParameterizedType [10039,10058]
                    SimpleType [10039,10050]
                        SimpleName: Enumeration [10039,10050]
                    SimpleType [10051,10057]
                        SimpleName: String [10051,10057]
                VariableDeclarationFragment [10059,10076]
                    SimpleName: e [10059,10060]
                    MethodInvocation [10063,10076]
                        METHOD_INVOCATION_RECEIVER [10063,10069]
                            SimpleName: config [10063,10069]
                        SimpleName: keys [10070,10074]
            MethodInvocation [10078,10097]
                METHOD_INVOCATION_RECEIVER [10078,10079]
                    SimpleName: e [10078,10079]
                SimpleName: hasMoreElements [10080,10095]
            Block [10100,10224]
                VariableDeclarationStatement [10107,10138]
                    SimpleType [10107,10113]
                        SimpleName: String [10107,10113]
                    VariableDeclarationFragment [10114,10137]
                        SimpleName: key [10114,10117]
                        MethodInvocation [10122,10137]
                            METHOD_INVOCATION_RECEIVER [10122,10123]
                                SimpleName: e [10122,10123]
                            SimpleName: nextElement [10124,10135]
                VariableDeclarationStatement [10144,10186]
                    SimpleType [10144,10150]
                        SimpleName: String [10144,10150]
                    VariableDeclarationFragment [10151,10185]
                        SimpleName: value [10151,10156]
                        MethodInvocation [10159,10185]
                            METHOD_INVOCATION_RECEIVER [10159,10174]
                                MethodInvocation [10159,10174]
                                    METHOD_INVOCATION_RECEIVER [10159,10165]
                                        SimpleName: config [10159,10165]
                                    SimpleName: get [10166,10169]
                                    METHOD_INVOCATION_ARGUMENTS [10170,10173]
                                        SimpleName: key [10170,10173]
                            SimpleName: toString [10175,10183]
                ExpressionStatement [10192,10218]
                    MethodInvocation [10192,10217]
                        METHOD_INVOCATION_RECEIVER [10192,10201]
                            SimpleName: newConfig [10192,10201]
                        SimpleName: put [10202,10205]
                        METHOD_INVOCATION_ARGUMENTS [10206,10216]
                            SimpleName: key [10206,10209]
                            SimpleName: value [10211,10216]
to
Block [9833,10916]
at 1
===
move-tree
---
IfStatement [10237,10360]
    MethodInvocation [10241,10289]
        METHOD_INVOCATION_RECEIVER [10241,10261]
            MethodInvocation [10241,10261]
                METHOD_INVOCATION_RECEIVER [10241,10250]
                    SimpleName: newConfig [10241,10250]
                SimpleName: entrySet [10251,10259]
        SimpleName: equals [10262,10268]
        METHOD_INVOCATION_ARGUMENTS [10269,10288]
            MethodInvocation [10269,10288]
                METHOD_INVOCATION_RECEIVER [10269,10277]
                    SimpleName: m_config [10269,10277]
                SimpleName: entrySet [10278,10286]
    Block [10291,10360]
        ExpressionStatement [10297,10343]
            MethodInvocation [10297,10342]
                METHOD_INVOCATION_RECEIVER [10297,10303]
                    SimpleName: logger [10297,10303]
                SimpleName: debug [10304,10309]
                METHOD_INVOCATION_ARGUMENTS [10310,10341]
                    StringLiteral: "config has not changed, done." [10310,10341]
        ReturnStatement [10348,10355]
to
Block [9833,10916]
at 2
===
move-tree
---
ExpressionStatement [10364,10385]
    Assignment [10364,10384]
        SimpleName: m_config [10364,10372]
        ASSIGNMENT_OPERATOR: = [10373,10374]
        SimpleName: newConfig [10375,10384]
to
Block [9833,10916]
at 3
===
move-tree
---
IfStatement [10423,10640]
    SimpleName: m_isActive [10427,10437]
    Block [10439,10640]
        IfStatement [10445,10635]
            MethodInvocation [10449,10471]
                SimpleName: isProperlyConfigured [10449,10469]
            Block [10473,10565]
                ExpressionStatement [10480,10542]
                    MethodInvocation [10480,10541]
                        METHOD_INVOCATION_RECEIVER [10480,10486]
                            SimpleName: logger [10480,10486]
                        SimpleName: debug [10487,10492]
                        METHOD_INVOCATION_ARGUMENTS [10493,10540]
                            StringLiteral: "global binding config has changed, resetting." [10493,10540]
                ExpressionStatement [10548,10559]
                    MethodInvocation [10548,10558]
                        SimpleName: shutdown [10548,10556]
            Block [10571,10635]
                ExpressionStatement [10578,10629]
                    MethodInvocation [10578,10628]
                        METHOD_INVOCATION_RECEIVER [10578,10584]
                            SimpleName: logger [10578,10584]
                        SimpleName: debug [10585,10590]
                        METHOD_INVOCATION_ARGUMENTS [10591,10627]
                            StringLiteral: "global binding config has arrived." [10591,10627]
to
Block [9833,10916]
at 4
===
insert-tree
---
ExpressionStatement [10682,10712]
    MethodInvocation [10682,10711]
        SimpleName: processBindingConfiguration [10682,10709]
to
Block [9833,10916]
at 5
===
move-tree
---
ExpressionStatement [12050,12097]
    MethodInvocation [12050,12096]
        METHOD_INVOCATION_RECEIVER [12050,12056]
            SimpleName: logger [12050,12056]
        SimpleName: debug [12057,12062]
        METHOD_INVOCATION_ARGUMENTS [12063,12095]
            StringLiteral: "configuration update complete!" [12063,12095]
to
Block [9833,10916]
at 6
===
move-tree
---
ExpressionStatement [12101,12129]
    MethodInvocation [12101,12128]
        SimpleName: setProperlyConfigured [12101,12122]
        METHOD_INVOCATION_ARGUMENTS [12123,12127]
            BooleanLiteral: true [12123,12127]
to
Block [9833,10916]
at 7
===
move-tree
---
IfStatement [12133,12173]
    SimpleName: m_isActive [12137,12147]
    Block [12149,12173]
        ExpressionStatement [12155,12168]
            MethodInvocation [12155,12167]
                SimpleName: initialize [12155,12165]
to
Block [9833,10916]
at 8
===
move-tree
---
IfStatement [12177,12235]
    PrefixExpression [12181,12204]
        PREFIX_EXPRESSION_OPERATOR: ! [12181,12182]
        SimpleName: m_hasInitialItemConfig [12182,12204]
    ExpressionStatement [12206,12235]
        MethodInvocation [12206,12234]
            SimpleName: triggerBindingChangedCalls [12206,12232]
to
Block [9833,10916]
at 9
===
insert-node
---
ReturnStatement [10905,10912]
to
Block [9833,10916]
at 10
===
insert-node
---
IfStatement [11994,12248]
to
Block [9795,12250]
at 5
===
move-tree
---
ExpressionStatement [58914,58939]
    MethodInvocation [58914,58938]
        METHOD_INVOCATION_RECEIVER [58914,58920]
            SimpleName: m_port [58914,58920]
        SimpleName: addListener [58921,58932]
        METHOD_INVOCATION_ARGUMENTS [58933,58937]
            ThisExpression [58933,58937]
to
Block [59906,60098]
at 0
===
insert-tree
---
ExpressionStatement [59940,59973]
    Assignment [59940,59972]
        SimpleName: m_writeThread [59940,59953]
        ASSIGNMENT_OPERATOR: = [59954,59955]
        ClassInstanceCreation [59956,59972]
            SimpleType [59960,59966]
                SimpleName: Thread [59960,59966]
            ThisExpression [59967,59971]
to
Block [59906,60098]
at 1
===
insert-tree
---
ExpressionStatement [59977,60012]
    MethodInvocation [59977,60011]
        METHOD_INVOCATION_RECEIVER [59977,59990]
            SimpleName: m_writeThread [59977,59990]
        SimpleName: setName [59991,59998]
        METHOD_INVOCATION_ARGUMENTS [59999,60010]
            StringLiteral: "DBBuilder" [59999,60010]
to
Block [59906,60098]
at 2
===
insert-tree
---
ExpressionStatement [60016,60038]
    MethodInvocation [60016,60037]
        METHOD_INVOCATION_RECEIVER [60016,60029]
            SimpleName: m_writeThread [60016,60029]
        SimpleName: start [60030,60035]
to
Block [59906,60098]
at 3
===
move-tree
---
ExpressionStatement [58943,58995]
    MethodInvocation [58943,58994]
        METHOD_INVOCATION_RECEIVER [58943,58949]
            SimpleName: logger [58943,58949]
        SimpleName: debug [58950,58955]
        METHOD_INVOCATION_ARGUMENTS [58956,58993]
            StringLiteral: "querying port for first link record" [58956,58993]
to
Block [59906,60098]
at 4
===
insert-tree
---
ExpressionStatement [60355,60404]
    MethodInvocation [60355,60403]
        METHOD_INVOCATION_RECEIVER [60355,60361]
            SimpleName: logger [60355,60361]
        SimpleName: trace [60362,60367]
        METHOD_INVOCATION_ARGUMENTS [60368,60402]
            StringLiteral: "starting modem db builder thread" [60368,60402]
to
Block [60350,60808]
at 0
===
insert-node
---
WhileStatement [60408,60752]
to
Block [60350,60808]
at 1
===
insert-tree
---
ExpressionStatement [60756,60804]
    MethodInvocation [60756,60803]
        METHOD_INVOCATION_RECEIVER [60756,60762]
            SimpleName: logger [60756,60762]
        SimpleName: trace [60763,60768]
        METHOD_INVOCATION_ARGUMENTS [60769,60802]
            StringLiteral: "exiting modem db builder thread" [60769,60802]
to
Block [60350,60808]
at 2
===
insert-tree
---
ExpressionStatement [62128,62148]
    Assignment [62128,62147]
        SimpleName: m_isComplete [62128,62140]
        ASSIGNMENT_OPERATOR: = [62141,62142]
        BooleanLiteral: true [62143,62147]
to
Block [60251,60334]
at 0
===
insert-node
---
ExpressionStatement [72897,72933]
to
Block [70342,70581]
at 8
===
insert-tree
---
IfStatement [74803,74848]
    InfixExpression [74807,74821]
        SimpleName: m_mdbb [74807,74813]
        INFIX_EXPRESSION_OPERATOR: != [74814,74816]
        NullLiteral [74817,74821]
    Block [74823,74848]
        ExpressionStatement [74829,74843]
            Assignment [74829,74842]
                SimpleName: m_mdbb [74829,74835]
                ASSIGNMENT_OPERATOR: = [74836,74837]
                NullLiteral [74838,74842]
to
Block [72005,72913]
at 1
===
move-tree
---
SimpleType [84159,84165]
    SimpleName: String [84159,84165]
to
SingleVariableDeclaration [89358,89368]
at 0
===
insert-node
---
SimpleName: txt [89365,89368]
to
SingleVariableDeclaration [89358,89368]
at 1
===
move-tree
---
ExpressionStatement [83522,83536]
    MethodInvocation [83522,83535]
        SimpleName: drainBuffer [83522,83533]
to
Block [89389,89519]
at 0
===
insert-tree
---
ExpressionStatement [89467,89484]
    MethodInvocation [89467,89483]
        METHOD_INVOCATION_RECEIVER [89467,89473]
            SimpleName: logger [89467,89473]
        SimpleName: warn [89474,89478]
        METHOD_INVOCATION_ARGUMENTS [89479,89482]
            SimpleName: txt [89479,89482]
to
Block [89389,89519]
at 1
===
move-tree
---
ThrowStatement [83541,83600]
    ClassInstanceCreation [83547,83599]
        SimpleType [83551,83562]
            SimpleName: IOException [83551,83562]
        StringLiteral: "message does not start with 0x02!" [83563,83598]
to
Block [89389,89519]
at 2
===
insert-tree
---
MethodInvocation [11998,12044]
    METHOD_INVOCATION_RECEIVER [11998,12006]
        SimpleName: m_config [11998,12006]
    SimpleName: containsKey [12007,12018]
    METHOD_INVOCATION_ARGUMENTS [12019,12043]
        StringLiteral: "modem_db_retry_timeout" [12019,12043]
to
IfStatement [11994,12248]
at 0
===
insert-node
---
Block [12046,12248]
to
IfStatement [11994,12248]
at 1
===
insert-tree
---
PrefixExpression [60415,60428]
    PREFIX_EXPRESSION_OPERATOR: ! [60415,60416]
    MethodInvocation [60416,60428]
        SimpleName: isComplete [60416,60426]
to
WhileStatement [60408,60752]
at 0
===
insert-node
---
Block [60430,60752]
to
WhileStatement [60408,60752]
at 1
===
insert-node
---
Assignment [72897,72932]
to
ExpressionStatement [72897,72933]
at 0
===
insert-tree
---
VariableDeclarationStatement [77453,77481]
    SimpleType [77453,77459]
        SimpleName: Random [77453,77459]
    VariableDeclarationFragment [77460,77480]
        SimpleName: rng [77460,77463]
        ClassInstanceCreation [77468,77480]
            SimpleType [77472,77478]
                SimpleName: Random [77472,77478]
to
Block [74547,74787]
at 2
===
insert-tree
---
ExpressionStatement [77732,77771]
    MethodInvocation [77732,77770]
        METHOD_INVOCATION_RECEIVER [77732,77738]
            SimpleName: logger [77732,77738]
        SimpleName: error [77739,77744]
        METHOD_INVOCATION_ARGUMENTS [77745,77769]
            StringLiteral: "reader thread exiting!" [77745,77769]
to
Block [74547,74787]
at 4
===
insert-tree
---
VariableDeclarationStatement [12052,12123]
    PrimitiveType: int [12052,12055]
    VariableDeclarationFragment [12056,12122]
        SimpleName: timeout [12056,12063]
        MethodInvocation [12066,12122]
            METHOD_INVOCATION_RECEIVER [12066,12073]
                SimpleName: Integer [12066,12073]
            SimpleName: parseInt [12074,12082]
            METHOD_INVOCATION_ARGUMENTS [12083,12121]
                MethodInvocation [12083,12121]
                    METHOD_INVOCATION_RECEIVER [12083,12091]
                        SimpleName: m_config [12083,12091]
                    SimpleName: get [12092,12095]
                    METHOD_INVOCATION_ARGUMENTS [12096,12120]
                        StringLiteral: "modem_db_retry_timeout" [12096,12120]
to
Block [12046,12248]
at 0
===
insert-tree
---
ExpressionStatement [12128,12169]
    MethodInvocation [12128,12168]
        METHOD_INVOCATION_RECEIVER [12128,12136]
            SimpleName: m_driver [12128,12136]
        SimpleName: setModemDBRetryTimeout [12137,12159]
        METHOD_INVOCATION_ARGUMENTS [12160,12167]
            SimpleName: timeout [12160,12167]
to
Block [12046,12248]
at 1
===
insert-node
---
ExpressionStatement [12174,12243]
to
Block [12046,12248]
at 2
===
insert-tree
---
ExpressionStatement [60436,60452]
    MethodInvocation [60436,60451]
        SimpleName: startDownload [60436,60449]
to
Block [60430,60752]
at 0
===
insert-tree
---
TryStatement [60457,60645]
    Block [60461,60537]
        ExpressionStatement [60468,60498]
            MethodInvocation [60468,60497]
                METHOD_INVOCATION_RECEIVER [60468,60474]
                    SimpleName: Thread [60468,60474]
                SimpleName: sleep [60475,60480]
                METHOD_INVOCATION_ARGUMENTS [60481,60496]
                    SimpleName: m_timeoutMillis [60481,60496]
    CatchClause [60538,60645]
        SingleVariableDeclaration [60545,60567]
            SimpleType [60545,60565]
                SimpleName: InterruptedException [60545,60565]
            SimpleName: e [60566,60567]
        Block [60569,60645]
            ExpressionStatement [60576,60627]
                MethodInvocation [60576,60626]
                    METHOD_INVOCATION_RECEIVER [60576,60582]
                        SimpleName: logger [60576,60582]
                    SimpleName: warn [60583,60587]
                    METHOD_INVOCATION_ARGUMENTS [60588,60625]
                        StringLiteral: "modem db builder thread interrupted" [60588,60625]
            BreakStatement [60633,60639]
to
Block [60430,60752]
at 1
===
insert-node
---
IfStatement [60650,60747]
to
Block [60430,60752]
at 2
===
insert-node
---
VariableDeclarationStatement [66622,66652]
to
Block [64465,64571]
at 0
===
insert-tree
---
ExpressionStatement [66657,66705]
    MethodInvocation [66657,66704]
        METHOD_INVOCATION_RECEIVER [66657,66658]
            SimpleName: p [66657,66658]
        SimpleName: setModemDBRetryTimeout [66659,66681]
        METHOD_INVOCATION_ARGUMENTS [66682,66703]
            SimpleName: m_modemDBRetryTimeout [66682,66703]
to
Block [64465,64571]
at 1
===
insert-node
---
SimpleName: m_mdbb [72897,72903]
to
Assignment [72897,72932]
at 0
===
insert-node
---
ASSIGNMENT_OPERATOR: = [72906,72907]
to
Assignment [72897,72932]
at 1
===
move-tree
---
ClassInstanceCreation [71842,71866]
    SimpleType [71846,71860]
        SimpleName: ModemDBBuilder [71846,71860]
    ThisExpression [71861,71865]
to
Assignment [72897,72932]
at 2
===
insert-node
---
SimpleName: txt [89510,89513]
to
ClassInstanceCreation [83547,83599]
at 1
===
insert-node
---
MethodInvocation [12174,12242]
to
ExpressionStatement [12174,12243]
at 0
===
insert-tree
---
VariableDeclarationStatement [51801,51854]
    PrimitiveType: int [51801,51804]
    VariableDeclarationFragment [51805,51853]
        SimpleName: cmd1Msg [51805,51812]
        CastExpression [51815,51853]
            PrimitiveType: int [51816,51819]
            ParenthesizedExpression [51821,51853]
                InfixExpression [51822,51852]
                    MethodInvocation [51822,51845]
                        METHOD_INVOCATION_RECEIVER [51822,51825]
                            SimpleName: msg [51822,51825]
                        SimpleName: getByte [51826,51833]
                        METHOD_INVOCATION_ARGUMENTS [51834,51844]
                            StringLiteral: "command1" [51834,51844]
                    INFIX_EXPRESSION_OPERATOR: & [51846,51847]
                    NumberLiteral: 0xff [51848,51852]
to
Block [51406,51734]
at 0
===
insert-tree
---
IfStatement [51860,51992]
    InfixExpression [51864,51879]
        SimpleName: cmd1Msg [51864,51871]
        INFIX_EXPRESSION_OPERATOR: != [51872,51874]
        NumberLiteral: 0x6a [51875,51879]
    Block [51881,51992]
        ExpressionStatement [51889,51971]
            MethodInvocation [51889,51970]
                METHOD_INVOCATION_RECEIVER [51889,51895]
                    SimpleName: logger [51889,51895]
                SimpleName: warn [51896,51900]
                METHOD_INVOCATION_ARGUMENTS [51901,51969]
                    StringLiteral: "{}: ignoring bad TEMPERATURE reply from {}" [51901,51945]
                    MethodInvocation [51947,51951]
                        SimpleName: nm [51947,51949]
                    MethodInvocation [51953,51969]
                        METHOD_INVOCATION_RECEIVER [51953,51956]
                            SimpleName: dev [51953,51956]
                        SimpleName: getAddress [51957,51967]
        ReturnStatement [51978,51985]
to
Block [51406,51734]
at 1
===
insert-tree
---
VariableDeclarationStatement [52839,52892]
    PrimitiveType: int [52839,52842]
    VariableDeclarationFragment [52843,52891]
        SimpleName: cmd1Msg [52843,52850]
        CastExpression [52853,52891]
            PrimitiveType: int [52854,52857]
            ParenthesizedExpression [52859,52891]
                InfixExpression [52860,52890]
                    MethodInvocation [52860,52883]
                        METHOD_INVOCATION_RECEIVER [52860,52863]
                            SimpleName: msg [52860,52863]
                        SimpleName: getByte [52864,52871]
                        METHOD_INVOCATION_ARGUMENTS [52872,52882]
                            StringLiteral: "command1" [52872,52882]
                    INFIX_EXPRESSION_OPERATOR: & [52884,52885]
                    NumberLiteral: 0xff [52886,52890]
to
Block [52247,52535]
at 0
===
insert-tree
---
IfStatement [52898,53027]
    InfixExpression [52902,52917]
        SimpleName: cmd1Msg [52902,52909]
        INFIX_EXPRESSION_OPERATOR: != [52910,52912]
        NumberLiteral: 0x6a [52913,52917]
    Block [52919,53027]
        ExpressionStatement [52927,53006]
            MethodInvocation [52927,53005]
                METHOD_INVOCATION_RECEIVER [52927,52933]
                    SimpleName: logger [52927,52933]
                SimpleName: warn [52934,52938]
                METHOD_INVOCATION_ARGUMENTS [52939,53004]
                    StringLiteral: "{}: ignoring bad HUMIDITY reply from {}" [52939,52980]
                    MethodInvocation [52982,52986]
                        SimpleName: nm [52982,52984]
                    MethodInvocation [52988,53004]
                        METHOD_INVOCATION_RECEIVER [52988,52991]
                            SimpleName: dev [52988,52991]
                        SimpleName: getAddress [52992,53002]
        ReturnStatement [53013,53020]
to
Block [52247,52535]
at 1
===
insert-tree
---
PrefixExpression [60654,60667]
    PREFIX_EXPRESSION_OPERATOR: ! [60654,60655]
    MethodInvocation [60655,60667]
        SimpleName: isComplete [60655,60665]
to
IfStatement [60650,60747]
at 0
===
insert-node
---
Block [60669,60747]
to
IfStatement [60650,60747]
at 1
===
insert-tree
---
SimpleType [66622,66626]
    SimpleName: Port [66622,66626]
to
VariableDeclarationStatement [66622,66652]
at 0
===
insert-node
---
VariableDeclarationFragment [66627,66651]
to
VariableDeclarationStatement [66622,66652]
at 1
===
update-node
---
SimpleName: mdbb [71871,71875]
replace mdbb by m_mdbb
===
insert-tree
---
IfStatement [77565,77657]
    InfixExpression [77569,77611]
        SimpleName: m_dropRandomBytes [77569,77586]
        INFIX_EXPRESSION_OPERATOR: && [77587,77589]
        InfixExpression [77590,77611]
            MethodInvocation [77590,77606]
                METHOD_INVOCATION_RECEIVER [77590,77593]
                    SimpleName: rng [77590,77593]
                SimpleName: nextInt [77594,77601]
                METHOD_INVOCATION_ARGUMENTS [77602,77605]
                    NumberLiteral: 100 [77602,77605]
            INFIX_EXPRESSION_OPERATOR: < [77607,77608]
            NumberLiteral: 20 [77609,77611]
    Block [77613,77657]
        ExpressionStatement [77621,77650]
            Assignment [77621,77649]
                SimpleName: len [77621,77624]
                ASSIGNMENT_OPERATOR: = [77625,77626]
                MethodInvocation [77627,77649]
                    SimpleName: dropBytes [77627,77636]
                    METHOD_INVOCATION_ARGUMENTS [77637,77648]
                        SimpleName: buffer [77637,77643]
                        SimpleName: len [77645,77648]
to
Block [74711,74782]
at 0
===
move-tree
---
METHOD_INVOCATION_RECEIVER [83438,83444]
    SimpleName: logger [83438,83444]
to
MethodInvocation [12174,12242]
at 0
===
insert-node
---
SimpleName: info [12181,12185]
to
MethodInvocation [12174,12242]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [12186,12241]
    StringLiteral: "setting modem db retry timeout to {}s" [12186,12225]
    InfixExpression [12227,12241]
        SimpleName: timeout [12227,12234]
        INFIX_EXPRESSION_OPERATOR: / [12235,12236]
        NumberLiteral: 1000 [12237,12241]
to
MethodInvocation [12174,12242]
at 2
===
insert-node
---
ExpressionStatement [60676,60741]
to
Block [60669,60747]
at 0
===
insert-node
---
SimpleName: p [66627,66628]
to
VariableDeclarationFragment [66627,66651]
at 0
===
move-tree
---
ClassInstanceCreation [64489,64509]
    SimpleType [64493,64497]
        SimpleName: Port [64493,64497]
    SimpleName: port [64498,64502]
    ThisExpression [64504,64508]
to
VariableDeclarationFragment [66627,66651]
at 1
===
insert-node
---
SimpleName: bail [87714,87718]
to
MethodInvocation [83438,83516]
at 0
===
insert-node
---
ExpressionStatement [88398,88461]
to
Block [84152,84610]
at 3
===
insert-node
---
MethodInvocation [60676,60740]
to
ExpressionStatement [60676,60741]
at 0
===
insert-node
---
SimpleName: p [66728,66729]
to
METHOD_INVOCATION_ARGUMENTS [64483,64509]
at 1
===
insert-node
---
IfStatement [81116,81426]
to
Block [76992,77157]
at 2
===
update-node
---
StringLiteral: "incoming message does not start with 0x02, searching for start" [83451,83515]
replace "incoming message does not start with 0x02, searching for start" by "incoming message does not start with 0x02"
===
insert-node
---
MethodInvocation [88398,88460]
to
ExpressionStatement [88398,88461]
at 0
===
move-tree
---
METHOD_INVOCATION_RECEIVER [84209,84215]
    SimpleName: logger [84209,84215]
to
MethodInvocation [60676,60740]
at 0
===
insert-node
---
SimpleName: warn [60683,60687]
to
MethodInvocation [60676,60740]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [60688,60739]
    StringLiteral: "modem database download unsuccessful, restarting!" [60688,60739]
to
MethodInvocation [60676,60740]
at 2
===
update-node
---
StringLiteral: "cannot query for link messages" [59120,59152]
replace "cannot query for link messages" by "error sending link record query "
===
insert-tree
---
InfixExpression [81120,81156]
    SimpleName: m_reply [81120,81127]
    INFIX_EXPRESSION_OPERATOR: == [81128,81130]
    QualifiedName: ReplyType.WAITING_FOR_ACK [81131,81156]
to
IfStatement [81116,81426]
at 0
===
insert-tree
---
Block [81158,81336]
    ExpressionStatement [81214,81277]
        MethodInvocation [81214,81276]
            METHOD_INVOCATION_RECEIVER [81214,81220]
                SimpleName: logger [81214,81220]
            SimpleName: trace [81221,81226]
            METHOD_INVOCATION_ARGUMENTS [81227,81275]
                StringLiteral: "writer timeout expired, asking for retransmit!" [81227,81275]
    ExpressionStatement [81285,81314]
        Assignment [81285,81313]
            SimpleName: m_reply [81285,81292]
            ASSIGNMENT_OPERATOR: = [81293,81294]
            QualifiedName: ReplyType.GOT_NACK [81295,81313]
    BreakStatement [81322,81328]
to
IfStatement [81116,81426]
at 1
===
insert-node
---
Block [81342,81426]
to
IfStatement [81116,81426]
at 2
===
update-node
---
SimpleName: drainBuffer [84410,84421]
replace drainBuffer by bail
===
move-tree
---
SimpleName: drainBuffer [84410,84421]
to
MethodInvocation [88398,88460]
at 0
===
insert-node
---
METHOD_INVOCATION_ARGUMENTS [88403,88459]
to
MethodInvocation [88398,88460]
at 1
===
insert-tree
---
METHOD_INVOCATION_ARGUMENTS [81076,81081]
    NumberLiteral: 30000 [81076,81081]
to
MethodInvocation [77047,77075]
at 2
===
move-tree
---
ExpressionStatement [77083,77150]
    MethodInvocation [77083,77149]
        METHOD_INVOCATION_RECEIVER [77083,77089]
            SimpleName: logger [77083,77089]
        SimpleName: trace [77090,77095]
        METHOD_INVOCATION_ARGUMENTS [77096,77148]
            StringLiteral: "writer got ack: {}" [77096,77116]
            ParenthesizedExpression [77118,77148]
                InfixExpression [77119,77147]
                    SimpleName: m_reply [77119,77126]
                    INFIX_EXPRESSION_OPERATOR: == [77127,77129]
                    QualifiedName: ReplyType.GOT_ACK [77130,77147]
to
Block [81342,81426]
at 0
===
move-tree
---
InfixExpression [84564,84602]
    StringLiteral: "got unknown command code: " [84564,84592]
    INFIX_EXPRESSION_OPERATOR: + [84593,84594]
    SimpleName: cmdCode [84595,84602]
to
METHOD_INVOCATION_ARGUMENTS [88403,88459]
at 0
===
insert-tree
---
IfStatement [88680,88890]
    InfixExpression [88684,88694]
        SimpleName: msgLen [88684,88690]
        INFIX_EXPRESSION_OPERATOR: < [88691,88692]
        NumberLiteral: 0 [88693,88694]
    Block [88696,88890]
        ExpressionStatement [88785,88805]
            MethodInvocation [88785,88804]
                SimpleName: removeFromBuffer [88785,88801]
                METHOD_INVOCATION_ARGUMENTS [88802,88803]
                    NumberLiteral: 1 [88802,88803]
        ExpressionStatement [88813,88882]
            MethodInvocation [88813,88881]
                SimpleName: bail [88813,88817]
                METHOD_INVOCATION_ARGUMENTS [88818,88880]
                    InfixExpression [88818,88880]
                        StringLiteral: "unknown command code/ext flag: " [88818,88851]
                        INFIX_EXPRESSION_OPERATOR: + [88852,88853]
                        MethodInvocation [88854,88880]
                            METHOD_INVOCATION_RECEIVER [88854,88859]
                                SimpleName: Utils [88854,88859]
                            SimpleName: getHexByte [88860,88870]
                            METHOD_INVOCATION_ARGUMENTS [88871,88879]
                                ArrayAccess [88871,88879]
                                    SimpleName: m_buf [88871,88876]
                                    NumberLiteral: 1 [88877,88878]
to
Block [84673,84823]
at 1
===
update-node
---
SimpleName: toString [75203,75211]
replace toString by getMessage
===
update-node
---
StringLiteral: "got unknown command code: " [84564,84592]
replace "got unknown command code: " by "got unknown command code "
===
move-tree
---
MethodInvocation [84176,84202]
    METHOD_INVOCATION_RECEIVER [84176,84181]
        SimpleName: Utils [84176,84181]
    SimpleName: getHexByte [84182,84192]
    METHOD_INVOCATION_ARGUMENTS [84193,84201]
        ArrayAccess [84193,84201]
            SimpleName: m_buf [84193,84198]
            NumberLiteral: 1 [84199,84200]
to
InfixExpression [84564,84602]
at 2
===
delete-node
---
Modifier: public [4879,4885]
===
delete-node
---
TYPE_DECLARATION_KIND: class [4886,4891]
===
delete-node
---
SimpleName: InsteonPLMActiveBinding [4892,4915]
===
delete-node
---
SimpleName: updated [9727,9734]
===
delete-node
---
ReturnStatement [12239,12246]
===
delete-node
---
Modifier: public [24279,24285]
===
delete-node
---
Modifier: abstract [24286,24294]
===
delete-node
---
TYPE_DECLARATION_KIND: class [24295,24300]
===
delete-node
---
SimpleName: MessageHandler [24301,24315]
===
delete-node
---
Modifier: public [69169,69175]
===
delete-node
---
TYPE_DECLARATION_KIND: class [69176,69181]
===
delete-node
---
SimpleName: Port [69182,69186]
===
delete-node
---
SimpleName: mdbb [71835,71839]
===
delete-node
---
VariableDeclarationFragment [71835,71866]
===
delete-node
---
VariableDeclarationStatement [71820,71867]
===
delete-node
---
SimpleName: error [83445,83450]
===
delete-node
---
SimpleName: cmdCode [84166,84173]
===
delete-node
---
VariableDeclarationFragment [84166,84202]
===
delete-node
---
VariableDeclarationStatement [84159,84203]
===
delete-node
---
SimpleName: debug [84216,84221]
===
delete-tree
---
METHOD_INVOCATION_ARGUMENTS [84222,84271]
    StringLiteral: "got unknown command code {}, draining!" [84222,84262]
    SimpleName: cmdCode [84264,84271]
===
delete-node
---
MethodInvocation [84209,84272]
===
delete-node
---
ExpressionStatement [84209,84273]
===
delete-node
---
SimpleName: cmdCode [84595,84602]
===
delete-node
---
MethodInvocation [84410,84423]
===
delete-node
---
ExpressionStatement [84410,84424]
===
delete-tree
---
ExpressionStatement [84485,84497]
    Assignment [84485,84496]
        SimpleName: msgLen [84485,84491]
        ASSIGNMENT_OPERATOR: = [84492,84493]
        PrefixExpression [84494,84496]
            PREFIX_EXPRESSION_OPERATOR: - [84494,84495]
            NumberLiteral: 1 [84495,84496]
===
delete-node
---
ClassInstanceCreation [84548,84603]
===
delete-node
---
ThrowStatement [84542,84604]
===
delete-node
---
StringLiteral: "message does not start with 0x02!" [83563,83598]
